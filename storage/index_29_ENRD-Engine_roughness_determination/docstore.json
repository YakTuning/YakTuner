{"docstore/metadata": {"acdfc92d-30db-43d6-a8a4-b9e1936201e7": {"doc_hash": "185a5e15550a1ebe1e9396890e0889867ffbb95a8096b73ed69f17d11d059248"}, "f7155f16-fdab-415b-abcf-07a0e3b00077": {"doc_hash": "c90276b2300838c9b91b819200893a12cf519d628b864f5c599250456b392d19"}, "81964646-c566-45bf-91e9-476b8e8baf88": {"doc_hash": "08bf8d824d7ae46f20d88c78d41c484a3c3b518695f51580e34b4e9a76f966d6"}, "059d7b2c-6f3f-4db1-8a65-4e380c835c67": {"doc_hash": "38cfab84adca36c7960ca0b883b8bfd75d313ec0b849eec86c04888fe807a00a"}, "f3ce6cdd-c701-402a-bfa8-645386bf0927": {"doc_hash": "95dc6ac06f450672d25e84e881ef9ac235f3dbf9a6a35c079f4074dbdac4f320"}, "934ecba9-d340-4aea-a699-1a5ca898c750": {"doc_hash": "926078a9e0d79a909de92047228f3c11135f8c8a98375c10c2f81ce89582f919"}, "89c1ea40-8357-4357-88ee-5fb35ef5949d": {"doc_hash": "81dbf361ed313362767cbd8d326ddcd4fdf28deba65c3251c64b52b2be03ae74"}, "97b29c00-9723-4b5c-ab79-ef806442f496": {"doc_hash": "d265533b316cbeff5cd458d6321e9c836f1f70dde7075a0251c40fb999641526"}, "458aa599-4e55-4ffb-9fc4-7f062256a552": {"doc_hash": "c24d782f347e307ecf0e569e6d9b56dc0bb096aecb8c83b200555ff21c3f8dd3"}, "03cdea24-7cdb-4f7e-a10b-cae48257e4b5": {"doc_hash": "cbd5547406d493bd1e923ce8d07e505358f9b4ab272479b38ba2034440cd1f14"}, "5835b3b9-e285-48c2-9d22-9041c03f72ca": {"doc_hash": "dac739f381cf712649d0960a421e5dfd572e4fe5ca9ba76b4655f5d812ff5321"}, "fef75ae2-c0ba-47c4-9219-8c829070e774": {"doc_hash": "7b8dbd06877fc2852c279ae7185ee001cbdd63efca8250116e126712ae1aee26"}, "8e7b9414-c868-423f-9289-d0463ba1564c": {"doc_hash": "fe14d2d66585bd663f63a19d224320ed95b747de7bd43d9db6e3f44703aed7e6"}, "a19158ae-85ec-4eff-8578-8e82b360b022": {"doc_hash": "7e4240af42a80ffb1b2eeaaf25fb6f6c632cf3bfb2c029ccc1fef42e66006b1c"}, "07b00654-995b-42f6-848c-edb79df0ba66": {"doc_hash": "c4a19601675c30edf757898d7a337da06a7c104a75ff4cf5a072489672b84730"}, "bd79e8c5-c275-43ef-8124-e7689fbc126d": {"doc_hash": "a6da0e1f83b1ab560fd212b284f3b8294c357fcdff9926e49ce04dc8a8853529"}, "1e9371ee-67e0-4486-a71f-57493b888bf3": {"doc_hash": "cfd7679c35eb967e6fc81c39fd0dc6f0ed62f5ca905fb45ff82de04004e4ed58"}, "b86ee188-536d-4e73-bac3-f0f5e1158fa8": {"doc_hash": "90c6ed82b1181ca243cdae5bb540d30b7ac4ebac634b0bcda5c9e73e8b2dcacc"}, "53d7558b-a5a9-461d-a728-a12d81722f2d": {"doc_hash": "cdaf5dc5e46a03bb09b8088ec73930743e190561c842b3e5d9988cfa86757ccc"}, "955fd6c1-ddd7-4903-8d6c-356ff9634780": {"doc_hash": "cb637861288e11a11ab734dffe9d1b24fb4d4d1ad1e92da4b473b8f122d8eb94"}, "c3f0dce9-f950-43ad-9227-6f67ecafafcf": {"doc_hash": "48f535aa629a9cc51e4c1a6e2446d5b1330c4ea8403908b879bd1c0238b43546"}, "c64577a0-0644-4135-88d7-0706e0c6c57e": {"doc_hash": "027144df1ed52b6d5fb3a40ea54912b72b7efc6b0f1629c3128eda58416a375f"}, "0fec187c-836f-4762-a4f5-a9db585af4ad": {"doc_hash": "e79f1eb5010ae2cb04435a62b0de037ad644970dbe930f05833fdf1ca9f161f9"}, "3a76b861-8f41-4dd8-ac1e-b25e41676199": {"doc_hash": "8b5441ba3a74ef160369083f02f1ac3cb2f7b6e07f38f7f67a7c06b94f109ba2"}, "7c19f23e-90c3-4a58-840a-9a53bf2ff4dd": {"doc_hash": "1ba6c16fcc8e1dc931f402ca92cd34e015342a13d1c024493d691a120102f2fa"}, "8cf5f97b-4cad-413e-83b5-2e1c9379da5b": {"doc_hash": "8de83d5d660c38e23b0e7002e59180186fb018ca78b3772fe4645a0acf86607c"}, "6e0b4d3c-c287-45e0-8dc7-6cd7a46e6f3f": {"doc_hash": "0f2bc54c12f155dd2e2a7ae0edf054340779f70f97adb8d260a69f49318d9319"}, "1806f123-60ee-4652-abf7-dc7a5b166254": {"doc_hash": "144fcd243893f545168469ab486d69d49c5a6cac4223399688f00c524ae708e9"}, "515770dc-b7bb-4264-9359-b17b290f9772": {"doc_hash": "bc317cbafc1ced594f9a54244d0e5bec3638d411035c8eda75db569ff6aadfb9"}, "12e785a0-fc73-4488-9109-f658dc260db4": {"doc_hash": "b53930d603dc98a6f6c84375bbb92447fdb5c559628a383c8ec50a8cbf49cb9c"}, "71a21f70-1c85-407c-bdde-9e9520159a4f": {"doc_hash": "207b8a58dc30ec701790d5b2da5714fe1ea991518663348ad93338288d9deb89"}, "3e683791-5926-462e-a64e-330f8dd04805": {"doc_hash": "40aa3bfac2be134e4463eb49a71d7fb4ba68d123ae71edcfe324cca089e4eded"}, "1f0d1b20-fe49-456c-aeb4-243aff40914f": {"doc_hash": "40e64af09cfd3404157486257d841fe645a4f3a5a2d247fd0230f55c161a871b"}, "5c88b4be-7cf3-4c72-82d7-7c3040ecbea9": {"doc_hash": "1639a434b655a4e667becf0222992a08832066ab375ca882fe0e87288e7bacc3"}, "eeecc0b6-59ec-4e37-825d-fbe64111afd4": {"doc_hash": "1e46d6ced90e99c86b5f4b6f81491d7b541ccaec3fe760795e8960abbfe4f898"}, "d685f8c9-73cd-4d91-9209-87a8873daf9d": {"doc_hash": "7705e1ac0f21580e360fce0faa82a396c9299c1e57dd999ab3dfe16e463ef93b"}, "495989f7-abe6-4514-acda-b41be6a9e051": {"doc_hash": "22c5a4ceb58ada4f6fd1d20c03e79136fec7ef143443db38c0b73776e09212c1"}, "9d13dc56-43d0-43c1-ae4d-484687f97f7b": {"doc_hash": "6769ab645c6dc38b2bc5bc8c1b4b4d76a1c463aee5677bb0bc8a797350bfe254"}, "702e846f-1f65-4de5-af36-168f57d8e0f9": {"doc_hash": "0ef80f81d91080b1caa790b6c257b681c7a74506ca62d5a3800d0a111faee5b0"}, "93149ad2-e7ed-47e5-9481-f81f1d65c942": {"doc_hash": "9ea4e7302261296e23e24af38b0001bb7eda0d7ad7050da64d0d670c5b4cabdf"}, "12bf57b9-6f9b-4e66-9e4b-85019e66dcf6": {"doc_hash": "ad57854623c2ee4333e081a0e0ba6d84b5e2078f076e7a87e0e3b7242d863e0e"}, "17693813-9b64-49ad-82c2-7c4706d6aedb": {"doc_hash": "57853e58eacdb09d51982566dc1410860a12f4ca6dfc86b3ed6dc9830fab4727"}, "4af15a97-023b-408a-9fa4-f594e9d345f4": {"doc_hash": "5c9bbcb52b9ff2f4ec5af49b26b321ada80bbb99f8dfcea843722a3b4ae8b518"}, "a64edc0e-6edd-4f22-85a6-636627d86a4c": {"doc_hash": "615b0fa0f5df6e966c15b35b2500b95bbce1b399f170195c111efca72391a2b9"}, "83292c4a-236d-4ed0-9966-84cc10e8ed11": {"doc_hash": "d227e19d13a1577c3f95361d382ce6eebb6fc19df4e8825f4a5a59e5c977fa53"}, "fb56dfc6-7b1d-4247-b9e7-e6af341aca39": {"doc_hash": "2461f11b543a503e6a15ae569d3ac8d74701d01dc55f7e696b6255b5d3ea2545"}, "0d095b51-a22d-45ad-bb73-f772911ddd3b": {"doc_hash": "7bcaa12b2fcc90568520aac6c151b7dfe809718fd01b29e1222132c962a91e8a"}, "3ab1c5d3-b696-4a30-8540-a2c17385781f": {"doc_hash": "96744c0f1bbd50edb1d81d22038da468dd2ec797c4a1f3a1c257f091c8c291bb"}, "66cc9243-62fa-4dce-904b-0d4ce66a5c1c": {"doc_hash": "e6567534d9bf2fc645f93210ff72f46f97971ef62523e98b95ec2a0cf843b748"}, "3f8f4648-6508-49a1-a11e-3f44b86b1d98": {"doc_hash": "20ac443ecdd317735a202641b595b7c28f0a0f76324c4c1cfa3b7bb95075a8d6"}, "b17c53a0-c3a3-4c99-ad2d-655b50d47f87": {"doc_hash": "cf7c6d517781540130880e3840177fbff58889af3dfd5456771e4b20d8b7cc0c"}, "10f0da7c-86d1-4c19-adbb-cbd02fea988e": {"doc_hash": "04fe4d2b5ba725dbb48c27793d05fcdcc1e8280c225ff1eeeb7c5b7644539f85"}, "7d10adfc-2fc5-4578-a14e-8f3fb7fc9d91": {"doc_hash": "41a74ea8b04de37ca0ff627f9e13a6e1b3c225131a6c959e4ee1c5ad0da3af19"}, "4c5033f2-8ca4-43a2-a6a3-202b69db3b15": {"doc_hash": "6d9a6fe1daecf0048bcbf1a8c3adc54801069ababa28c8ce5bc763689ceffb85"}, "4bb1d9cc-d0b7-4d3d-b51f-8198de40d147": {"doc_hash": "7c544960e6e0465f8e88756544e9587cb5772aa6185b4c76ddf8f2277fe80d7a"}, "302aad4d-30f9-41b8-9bf0-642df4e518f6": {"doc_hash": "8dde8ca91f8b1f824544ad63efc455b6364c1edb7ea47b63a56106ebe5e26f90"}, "1319ae71-b189-48e5-be92-0ecfe4bf6482": {"doc_hash": "90ba6d3724309ea9f9b8782e132b8e1fb125131960a481d3ac8fcb671215a2da"}, "5a16da3d-48fd-41f5-bcea-14cb5cf94e77": {"doc_hash": "bda75688b2df7678c5a08a96b6715722716c97480b4842edd579a92c58746a7b"}, "4b07f9bb-f390-49ca-9227-f65a707c9355": {"doc_hash": "64b42bd4c7ab76bb31d2d23f90a76d0441404de9f3156d636cc8d09c872f2157"}, "77365a05-6a62-4fba-a252-19ca8bad91ab": {"doc_hash": "b1558a661dfdf450d100419db93b7b7998ea362f7eb38aa309a57b2005a53831"}, "89aab658-e625-4a86-9065-43e0cd9a3571": {"doc_hash": "aef1c31612d39c613e2ef8f9b37f79fb1c34072c6094ea67b3b7fd6a918d3d88"}, "19c581b2-1cef-4cbf-9dda-926199afeb44": {"doc_hash": "333b7b99c060a655e0727a2a114392c83821a544c4b9293498118372dbae1635"}, "239111bc-8377-495e-856e-c2f5a97093aa": {"doc_hash": "06199cda688043205de810ef1fc2e0c50cb910b4af089356eb502ab58af8d1d8"}, "bead80e7-b897-4ba9-bc17-db02df9829a8": {"doc_hash": "7a32e532a6c3e3563275c0771e9770c6e527642c29d00ec3e878a43406230600"}, "d7957a69-d01d-4c4b-b11e-af603b9559a7": {"doc_hash": "d1cb583fc77a89f8e0250c4bb0adf292c3381c8e9e411c4ae72176c2482138b3"}, "f2645967-7ec9-4745-89bb-ef48ee93169b": {"doc_hash": "52439b41ee00c9c880ba7dd9bc5f2c84c74592284c4ef22e85014cabefdb1d93"}, "564691fc-f5cd-4fd6-b003-8a07a424ebc0": {"doc_hash": "21ca2387dfd0b6a818b97b0e2dcdab9f77badb3f5ce722154737d76ada93ba7a"}, "199ca2f8-a253-48cf-9819-c38d40fdc952": {"doc_hash": "c2ecf70f40b6d38f692add6a4b69cd890c97eb156711365728c40e4e1bf384bf"}, "c4b8669f-25b0-4f0d-b6b0-c6193a056517": {"doc_hash": "2084b15c458c0f2abbfc0db1ff9493245802ae5dddf1a1e3873688c1baabacca"}, "12a26a80-eb16-46a4-a1fe-e12c6baf24dd": {"doc_hash": "d8b5d32c0915c5bb393aed73cd200dd63ed37653baff81654c81f255fb6cdc4d"}, "a362312d-c09a-4ad0-a461-36a34449d355": {"doc_hash": "615c61e331b8be7857607adc45cbd02e8cd2abd4fe913010070351454a93b889"}, "d5ee9141-f880-4b31-aae5-21cfccc51295": {"doc_hash": "0f35c3d91befb76aa6607ea62ab9bcc3ef0a62440d661675b5448e16f91ebe2c"}, "33ebf73f-8bf5-491b-a11a-9c8abf6972c9": {"doc_hash": "8a7b12f1e3434149e8aaad35b518d5f8f8159261073b7ad1011184068ba452d9"}, "a87ebe3a-d289-405c-b3cc-4e6766c907bb": {"doc_hash": "f45fdddcfee8817f0f8aa2d541d69bf70c41d0ec94cfcb3455707c701619df93"}, "798f9764-7e66-4260-aa56-f85383049c52": {"doc_hash": "2dab1fa2b95e3fa6f2706768fe61e1009166e9d0be57813108d081ec563f5bc9"}, "9581ecb3-b52d-4a2b-b964-d995300a3dda": {"doc_hash": "95b89357be820f5c949a046eb5cf633b017dded2008914cdecaec9fb326c99e0"}, "a4d3c8ad-b6e5-46d1-bfea-0bc773e54ae6": {"doc_hash": "ed8fc65bf7e266380a26ab1324d67e1e88ea64d106cba6ee6f4f8115e4bf72f1"}, "7ae57879-2855-41fd-bade-5d2d104fbe81": {"doc_hash": "3716b7ed7aad2e7d55bb94d65511f1514820e509c521229e6ce54d32b7167bcb"}, "f78dd0e1-ddfd-4963-a191-1ad909bf03a9": {"doc_hash": "1b41f80a9aa644f786e28282a810f02ba2d8e10c91039862e9ed05121926fdf7"}, "d9471389-d12e-489d-a1e8-cb201d62ea58": {"doc_hash": "47e51e46b6b60398c1c14936d4c5209c68fd093d68344834ecac15650be04a5f"}, "3b8bd1f2-8e28-4cf1-9079-533b411929ef": {"doc_hash": "4cefc7998b77f126e5d62f5af3f6323dbe039445fae983f8b8006ee4503dff89"}, "b05cd43f-3342-4b65-bfdc-51fc14bfad80": {"doc_hash": "c9242056782dc40a59394da2fba8237c8705090905db633ae4d9b9c3c3b7d261"}, "c6d2966a-f444-44ce-9a1a-a524cb7e64e1": {"doc_hash": "99c3bc9c850c5578bcc1831b358deffa3faa49e4f990c8f44b54ad6b65d273be"}, "da252093-23e1-461e-8612-25aac4cf58b4": {"doc_hash": "08c9e2ebfabb0421586dda95be6568d4dffb742da73e4054f9a8a9fe06619b2f"}, "245d8596-9362-407d-a46f-d4e40e189611": {"doc_hash": "ade4359e5e4315932902f780bfe6be72a3987b067401d10ef9284bbe1b684e3d"}, "3854e337-c694-4760-ad68-cf01554cac9a": {"doc_hash": "c682ef6bcef20188d53d924a8200bf25ef5cf02188d9a4c761cb0ef2c08515df"}, "eb764286-0f4d-47b4-b1ca-f00e657e6c4c": {"doc_hash": "51eda13841f5dd886be3b7fe3fcad5ad8fe3ddbc7583364a2954d9a6435bc51c"}, "7001e929-7583-4660-8249-f6a801d02441": {"doc_hash": "16a50be6c6933016b2a7ccefa70833c75a8d93610b300130d1a9d4a9fff3a178"}, "8bbdb5c9-e2fd-4843-9cbd-db32c9d9571c": {"doc_hash": "655696bded389027491c4988c765a2baeb0b9e8177d0fa278ff29d3b66baf7ad"}, "33d70bfe-3f7f-4878-9cfc-2f893a4095b8": {"doc_hash": "94eaf08355e9dbf001c116e1f45d79eb1afae5c0c59cab390b68a3aed110d714"}, "c8994bec-0ba5-4304-b447-fd2c25ec4e3b": {"doc_hash": "2f225093d1e7dbb6c9f32707f3ec24c80118207c097f29eaf81f4a03dd47079f"}, "78d8c5e0-136b-4f13-a3d4-afef17562cc4": {"doc_hash": "af79affd7100bc5f594e262ce9bd8f7ad9d9063aebe675eb8ba936850786e8b6"}, "6c417a64-53bf-4f57-829f-33f3d82d21d8": {"doc_hash": "4c379daeda9d1d2fd74d4869285694485e48ea6aba354f010e311dd71afd4603"}, "5448fe54-8789-4cf9-871c-491908dfc3f8": {"doc_hash": "a2f367c678ee50b6e23c6032dc1828c37589430ac9f74ad23fca112267c831ad"}, "3f58e29f-9d5c-4c7f-a37d-129427dfff4f": {"doc_hash": "f80ad5e6916e7e29f1e44e9fde450527a99fc109c60588c0af3a40563897d660"}, "3230e42a-9a60-4283-9f42-32450e3b1485": {"doc_hash": "bb6a30f592804a22dff39e61edc68e19393ad651e1259bf0f2fca68709b5ebba"}, "913458f3-ab36-4b6f-9b47-132b774ba14d": {"doc_hash": "f5daa63df8083218773dc527d4c759de21f72090e56baabf13e7ec862f6c5f46"}, "bbc30a03-9f35-449f-85c9-d7c526507d57": {"doc_hash": "8c4275e0b49701d46aa213a7efdc388dc85a370a9843cb7b25e203f122ee66ca"}, "f1eb1176-c792-4fb1-a6b8-71a79885b3e3": {"doc_hash": "142857e4f01eee895194172b18b4c88e9f677d26e9faa0bcd50254320a79467c"}, "c46f515e-905a-4806-a946-8a5a939c8878": {"doc_hash": "a1c6d5b02d0fc1e123233701b77f1a420e730379284afde9e1bb3aae1dd1317b"}, "b91489bb-db66-4f86-a054-672ef66a3396": {"doc_hash": "29b062b94c28bbe7aa08a35b135d60de0f00a547a8550616bd0d7e462f14567b"}, "8bba2347-c956-4e2f-be6c-3b936fb34b0f": {"doc_hash": "b068a3f497c2b17c102ed2539972159010559f4395be50c91fcc983f38d887c6"}, "da554e5c-d2c8-4b27-9c58-bcaacbf86278": {"doc_hash": "83d7b54e09efe4d8efcc7d7753ec7d3669ec1fd85236b74ff2b52a36f3347167"}, "686875b9-9c5d-4b75-877a-b4bbe2acd9fa": {"doc_hash": "9c177311aea86120525b0f7086474bab7cf61183cafebf345ed1f7b5f48424aa"}, "689bfc22-fe8a-4f4a-91cb-e8eda39a505f": {"doc_hash": "73ea2607509642fd0dbdf8ca6a2cfe9cdc04776a392e68f7facdd9882902c28b"}, "1d65ae82-c45b-446a-a1e0-b6ec3daab47f": {"doc_hash": "6da531dcef71a2330533164bb6cc02f36051eafbd9d5a1018ee42a71265b852f"}, "a5f0318d-b1f0-40e7-bada-53289ef31d08": {"doc_hash": "e6d2a1772d58fa165a38c78067aa23bf8e6c6ce8f54d2767512c503965c76df1"}, "be2329a3-d8c4-4834-b373-4b8e0dec2bce": {"doc_hash": "639f9c37c67e005f85ab12d01071a37837474582035ad9fee80c058576cd79d0"}, "27b08ed8-e6c4-421a-a3c4-d9e6bf397424": {"doc_hash": "c22b008330dd16c2303a3d7716da0f6369e8d2e52a639b0c116587572d9bad80"}, "e635832b-06cb-442f-bd95-688e5f2e4138": {"doc_hash": "93a769a2b8abf261270aee5fe0aa42ff9e8cf5310820dffe00aef1958747b12e"}, "2c0282b7-9371-46f0-9935-ce54813c9593": {"doc_hash": "008687bf5fbb3b35a0f9cc291242c246e0df57f6e74ac7c4953732c11b7a63a8"}, "b271ef55-4580-49e4-90cc-e2d832e9c32a": {"doc_hash": "56d65c6720815a3e9af7f93c79ad1f91fc9e992dff19317fb4dcddf0a8737052"}, "a4ed7f99-738c-4809-b71c-44bb220b0ce6": {"doc_hash": "94a6fcfa8d1fd8bf2e0ac72adbd4168f24fc2052afd3020b7b780acfee4e7a75"}, "9e6178fa-3222-4e2d-a109-ecb40dc89700": {"doc_hash": "52c5f2f55140ef5f1bcad4956b53bfcded03a20f13b320be335239be1b1f5059"}, "edd3a9d0-669b-4a98-a54c-564d94ee72ca": {"doc_hash": "a57c0a1c52ff9fb94f8257b5d6a4cfb4ebdc6df52417ecd61f22e23f4dd0b243"}, "196ffd7f-9e90-4dfc-b9e7-ca6104a659d4": {"doc_hash": "69110cbd520c647d786381790cce47055e162f06e31c0a40223e0153a8f9e25a"}, "16b6b3f6-3a98-4f4e-bcce-c2c4f41a496e": {"doc_hash": "69e536f11c57b561d5b0b7aefb0c206de566b46c26b15d3721a12f22e1f381f6"}, "d1728628-7e5e-4e05-8f32-6d630e271164": {"doc_hash": "f733b2c5ac22af89c61434ac343cfc82130ba0e9bce85d32d66d6038bf59aa70"}, "fa325983-8d1d-4608-a56f-069288742534": {"doc_hash": "1182ce1e5303031cac7d92f6e8a66e8f396a3278cc87679d07d3acb16c4f2582"}, "4630cbcb-6c69-4b64-81a7-2695b9342670": {"doc_hash": "536c1bb7e1436902154763d919f2332ed0263eff123f6cec81f2695968b7b7c6"}, "f35768dd-f77a-4079-ace9-8e44946c3a26": {"doc_hash": "fb17b82ea7cc31a85c5008576d1cc83ccf3741868a2bb7cdf8cd774c5f09cc4e"}, "d8d26a01-ce44-4d7b-af18-baf9996c7015": {"doc_hash": "172b56accbf57674fd8c911594fced0d54d51d833c38c2d0e1b446e3df850b38"}, "7fb24520-1650-4ae8-bf5f-d65663a7d362": {"doc_hash": "50d1e9edcc28964229ddd38154fc6fb17c69dc76f812b9bc1bf7d312123e6001"}, "db6d4afb-0b43-4d8d-878d-3be5d680ab71": {"doc_hash": "be8528f913f3e6a56629769f5649c7daddee303183d20c9a99af62df973a2070"}, "af59b468-48c3-4fda-839a-b76586efa0bd": {"doc_hash": "81461f6a4cf032e64cab6106514231db20d325890747c4a7c06ba64530ad0315"}, "c3568d70-886c-49c7-bc0a-0b550cf7b6b2": {"doc_hash": "e5da4e83ff5d21137c1047ce7f31b4832b0703577c7282d2e42146bbc9c487bb"}, "e0699114-2d40-4b22-aff6-d69b3dce47ec": {"doc_hash": "507a41285c77b2c4330e19a7850c66a6cb3addd6788e829666cf6003dd1217c4"}, "848a49ac-e352-4fd8-89aa-e5f581070aed": {"doc_hash": "976e88f423c3e1f36621eea8c6caf84d667055eca8c5550e67311e6bb4c15616"}, "edff8ffb-372a-46f2-b41b-6f0407724f6a": {"doc_hash": "f66bfaf3b2677c12d994aebce96e373bf7c26657b57201b6854d7457a734957b"}, "65aeeb1f-3b76-428d-8e54-85b5c4625666": {"doc_hash": "f5a54a9ef1bbba9a5ff51fbdc08791e42182a8a103aed45fdbaa1329b2870191"}, "1518a612-9ff1-4e21-905c-6a3992a5eec1": {"doc_hash": "dca67a14baaa235d979d03d2f44ff0e67a51360525d5ef414b4615d9291a1c59"}, "a03602a1-b82a-4ffe-8969-cb71ad917422": {"doc_hash": "ecb218d68401523d8aef0cfe2495eaf1deca11903afa5f873790ef690dddfde4"}, "9c626e3f-2492-47d0-9f60-d87b38f034bf": {"doc_hash": "5635f8dc899f3e3b474bd8dce6dee3e31282d156097eac3af225e45b50817bd2"}, "6a75d59d-e2fb-46a8-86ff-57122ca569d0": {"doc_hash": "1b970705434bb46b9dc71411a01d2879533b6e7ad0613d2fb69fdc3ac2142599"}, "a9bef263-56e9-4494-ab70-7b349d0fb2ff": {"doc_hash": "fca300d06081369412dc49976ae92718cbdfca96acfa2a5f60e13ba7c4064af8"}, "c73d065f-ffca-4dbb-b4a7-c8b941731f76": {"doc_hash": "147957aac35c11a734883b330aa2d54f35713c26add12a33cb964b2e8f657941"}, "e16f1828-6698-4c89-99df-357f23d1b4c2": {"doc_hash": "37634814fb0ae8815861f5ff7ad0c5062cdd52c5b95d0edc2bb8afda352517fc"}, "c8ee354b-8e95-4dde-92c1-4f79498bf65b": {"doc_hash": "f40aa0e6c7cecf588c76e77001babaa82a8829cbbde77c56e87bd1a7c3ebfa29"}, "a81e9e80-ba6b-43e8-b469-b8fbeb835b0e": {"doc_hash": "d1b3ffb4686ff0ce535667c702eed46963200d3e577e7849d03417d2edb3230a"}, "ad97d2b7-4cce-4061-82fc-41d42f79a1aa": {"doc_hash": "1e9b3bac4dd2d2e9220717deb4fa5af50e028282c89b2db2ae69aa06bc57ca39"}, "2181cf25-461d-46f1-af72-bb712c1a01b7": {"doc_hash": "d1d8051ea0b656b561401a0e0abdbe3efeda54bbb9d08bfc26ff5cd6120592e1"}, "f640cdf1-5a51-4506-a709-819e386b5a2f": {"doc_hash": "2eccf3bcf350b40648b50d500a67c85353ab12da77f87cac267b588a0582041b"}, "8686cfb0-9ff8-4cbf-976b-d3c1dd355502": {"doc_hash": "801cb30cbd55cf24c0576501cd88771f9e0d31582f5823e0d13f510d01444b7f"}, "0f63af28-6f3f-4d5a-a027-83b341b34ec4": {"doc_hash": "a99722380ec0a765e1893ce80f030291e24a40543b9f7877f4e12073cb513e6d"}, "889fd521-fd67-4ea6-84c6-335d89c18c76": {"doc_hash": "713a9d761a1d5a9a0fd87b924ec06505db189efebbd59a344b87f1b32ec7445a"}, "5911e3d8-a481-4862-b8ce-4081004cb127": {"doc_hash": "81ceb74c2e599d3c9196797879e36dfb231a8c94a36ecd72bd7c1db804b9154f"}, "0dcae390-98da-453e-ad14-629ef33537c9": {"doc_hash": "349d6809ffeaa05043562ec71b9d378b070e171d15424dece18621f096b72542"}, "2048ac3f-af0e-4a57-b8bd-86f6b5537db3": {"doc_hash": "a5376ce44d61d7000f0b9a95981d169957aa4a3cd292d425485bfa5b3da644b6"}, "66a82d18-8118-40f2-82e1-8489b89f7da6": {"doc_hash": "e43a1917cebaaf0b104312bb5ed9d0ab744a1b96522b9533d7940506714fed84"}, "1e35bcbf-c6d7-45d4-824e-f3ea1e359a5c": {"doc_hash": "9e90c812b20e350048644a688a09c2f84a05b5732f6e7cca668e5881ec6abb8f"}, "19b691f0-a704-43d8-83d2-48c7b03d72a9": {"doc_hash": "d8ed33398d6394535405e9aa0d41d6c8c78f7b3e2c992a2380818e44bdfa4041"}, "54f4319a-3032-409d-995b-3d2d95e3a1f0": {"doc_hash": "a2c37d632ee7e86abb877617862e6adce7a5ee17d82ff8765da339778122b704"}, "b71773b0-a5bf-4f84-933d-a164ab84317a": {"doc_hash": "138b85717319e8507645f945cecf685d6a94e6510668accceaa17b09a083e335"}, "47a6ee7e-16f4-491a-ae3e-66d007d8cbc0": {"doc_hash": "bcb9339c6c52e5e431b5b6b7638a7cefdcf51842a8e79f0e53cd1cbb8f743d14"}, "03595f6f-9fde-460f-b8f2-e913cadc8410": {"doc_hash": "2ddff3d490fd0bf505b65100670116f37b4c4e8a2051d79b2af9c0f42a483ca3"}, "942ae279-2f82-4b58-9db6-be312879c860": {"doc_hash": "f90f2e976b554f132995cfd4c31ecaddd83aadc510da531b36894422e4c9f2fd"}, "0390a07f-ec4a-4aa7-a0bb-d693c22fd03c": {"doc_hash": "7b6bc02573297db5b8d4018e2528eefde3f0fc556f65bd428b645445a415efcd"}, "c8eebf23-565b-48b4-9e1b-5d349bcde4df": {"doc_hash": "b506be119faabd3a222d6b22f1101989193e7a9b84007a3c1ba1d01509bdb035"}, "b6ada496-94d6-4fc4-bddc-409e81f74b25": {"doc_hash": "1c0b019faa32ef84faac376e6c01d1fbde000c91352f24390211d82f3278f3db"}, "d4fd3e4f-a00e-43b9-8a76-630fb2a1ca10": {"doc_hash": "fa6497ad137fc47af959e14379041fb76f453ee664749faa3eccf88030052593"}, "acf9ce02-98a3-48ce-9e26-a9851befeabf": {"doc_hash": "39dd3f296805276957f2e705ac198df13cb08860571c6101af47bacc4e617451"}, "aed51a8d-03ab-4718-a526-911a14b71699": {"doc_hash": "9227f68b9a530e251318fd0748ebf4a67efa02bf2524ad6623912ec457fc23c3"}, "6d74e5dc-6e3b-4b00-ad90-d38fd29392a5": {"doc_hash": "003888f469ea0bca5428a99a21d1b7a84928aaa7002c4df57de60945811111e1"}, "f5f689c3-0bcd-4b92-aa36-51a416b76073": {"doc_hash": "59243c2f8e7cd90c1031352210d40c868f9cad4f10a862b410a9b0bddb9d5cc7"}, "d792d09c-03d4-4883-8dd2-7e51d50f2d63": {"doc_hash": "b6ae47790ee23a419d7f0bfb611ae34d016f659914549e19935036678181127c"}, "1a0d0a94-1992-4a21-8c4a-a9408a95d4f7": {"doc_hash": "a310daf67e8c0992683f50d7b13051f2e8aee153d8401d27f49c53e6d3e710f4"}, "a0d75184-4272-4052-9728-5b64e064026d": {"doc_hash": "ddb4a212ac8cfffc08847bc8068fc72df4199e95faa17e097302ae5080ff6d5c"}, "50170ea8-c885-4cd8-b3ed-829cb75e44ac": {"doc_hash": "9be189439fec591e23b135d9cdf2226206cf11c1b7d9a8c847cc0465ee2350e5"}, "0f531bdd-620a-4a90-ba68-02ccf02aa1c0": {"doc_hash": "ac534ca80f206edc5c413748ed84d27173ccefd6d3e23424756e10efd35535f1"}, "d6d0c991-8ab1-4e61-84db-4e1aff629103": {"doc_hash": "1aa69fae248a3e24ad19b3382d67d9910a4648a44a25da3f6e7d75ffecfbbccf"}, "aab56e0b-7a3f-4409-85e5-d8d23a846069": {"doc_hash": "9cfa42e8ea2a981ebb9c6432230b771a557a34364a4d4074620deba1c1d45d11"}, "4237ac70-a787-4f8c-87fe-07fe87fd1cbd": {"doc_hash": "ec47598e195608e39db695b225906ff5c6a9000f8cdd35d36912c33ab7828508"}, "a6a73d1c-f854-40ea-8ff2-68f097a21b74": {"doc_hash": "9b13a42de96bf2d46c188ff2066e0628697d543ce2c459892b09eee3a13993bd"}, "e29278f5-f97b-48e5-a9c4-64103089c05f": {"doc_hash": "818cef20355cd0851afcfa60054e4c3341d0c34d0f3dd0781694274fec82ec55"}, "947ba91c-7a2d-4662-9e2f-ee95a61cc89e": {"doc_hash": "328bece800d0883cf4500c5628f131872e316fdb85118217d60e37bdaaeda09a"}, "7fccf2cd-1e42-40d8-b72f-91925f053bc3": {"doc_hash": "c430c47871329ef985432cff45d710d9057e5a629a9e79242baf085336f5c1b7"}, "9804ab44-e921-4eba-a712-f0d7633dcd0f": {"doc_hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c"}, "e8945026-79f5-46bf-a487-05d42fbb24f5": {"doc_hash": "308743e6889667fb9b974acb8ffb5a6706be05f3ee189c18a33f03f949338281", "ref_doc_id": "acdfc92d-30db-43d6-a8a4-b9e1936201e7"}, "df182ebd-703c-45bd-b558-8fda7051ed99": {"doc_hash": "0dc999b45c3964750167aa3ee490c68fd794846ac9ce8680b6ad2591f3eaa266", "ref_doc_id": "f7155f16-fdab-415b-abcf-07a0e3b00077"}, "ca5bf3c5-1f2a-4b97-a884-b624b11c772b": {"doc_hash": "6ddef94545e58822c4e9742b1b09836d920e0d6606e46d207f634b016948c1eb", "ref_doc_id": "81964646-c566-45bf-91e9-476b8e8baf88"}, "efb30801-bf0a-4fbf-ae63-dca944bdc498": {"doc_hash": "08ed328e6b8198d9c2b62469c66366a5f37fa66eb1253dda23e5cec1bd39574a", "ref_doc_id": "059d7b2c-6f3f-4db1-8a65-4e380c835c67"}, "a6804783-573a-46b9-bb31-264f1c6cd160": {"doc_hash": "dee8def456bd85c8e045b1b4c3760dc86fede877d12bd387b0107f76ba0f00f2", "ref_doc_id": "f3ce6cdd-c701-402a-bfa8-645386bf0927"}, "705672ca-d1de-4922-b6c0-c79bffd305a7": {"doc_hash": "64d37cef8f1fd2eff6fc375a75206ad6ec28665f7dbef5ff39319c5747276b8f", "ref_doc_id": "934ecba9-d340-4aea-a699-1a5ca898c750"}, "1d41f55e-6656-431a-9a6a-3a4424b1d0cf": {"doc_hash": "1f16125c041c03d3ca4e1228faf401da730114a7d94dc9c8b75787a5b87112d8", "ref_doc_id": "89c1ea40-8357-4357-88ee-5fb35ef5949d"}, "43b2209b-daca-431a-b4cd-11bdc73d23f1": {"doc_hash": "59bc2d1f48c56b7d1a6151df85b5888b947110a62d14bc0db284a3d41b5fdacb", "ref_doc_id": "97b29c00-9723-4b5c-ab79-ef806442f496"}, "1597a7a5-b50b-4d9e-a4fe-4df14abceb7c": {"doc_hash": "7ac0a201673cbf206851ce06abce3acd23d81cfee772c94be0571e3f1d7d7421", "ref_doc_id": "458aa599-4e55-4ffb-9fc4-7f062256a552"}, "c3ea13ca-84b2-4046-80ba-26b91b2e004d": {"doc_hash": "b9785c27e6b5647454990cf79d6e8124b64089605d13175ec241cf80c697c886", "ref_doc_id": "03cdea24-7cdb-4f7e-a10b-cae48257e4b5"}, "ee0dff69-79e6-459b-8818-c97a3368ff99": {"doc_hash": "36a73088833ba777a1a0f316d9d4fefaae320b2d2a272b09d56d99516f44f0f0", "ref_doc_id": "5835b3b9-e285-48c2-9d22-9041c03f72ca"}, "fa00efd0-ebe9-4886-8735-03d3e3aaaaef": {"doc_hash": "124e7a593aa7c8c406450e82aeb7ba848be1064d2e9557a4104ae97e117a921b", "ref_doc_id": "fef75ae2-c0ba-47c4-9219-8c829070e774"}, "b6ac072f-b415-474f-9d80-19b065affb4a": {"doc_hash": "073b779bb2ce2c5fe4ff28ae8279d5797684b1c45032b3f7ddc5fc8656318468", "ref_doc_id": "8e7b9414-c868-423f-9289-d0463ba1564c"}, "76ade6fa-9e1d-4bfc-9368-ed50cf81dfb3": {"doc_hash": "023bbdc6a3572aa2cdabd96b372b87a754ad67fb8a3aa6a80144b0da471b1e82", "ref_doc_id": "a19158ae-85ec-4eff-8578-8e82b360b022"}, "5d0fff30-4168-4429-b6f7-11c8fdae26ec": {"doc_hash": "cf71aaa293fd9f50506e02233417a5451f5d3c04da602ab4610ef94b6637ed00", "ref_doc_id": "07b00654-995b-42f6-848c-edb79df0ba66"}, "8315ad36-b25c-4a84-8f19-db2707fc1fd2": {"doc_hash": "b6b9bb3428b9b553b86dfbb0d22d2beace98db81affdef80795bb251c15109d3", "ref_doc_id": "bd79e8c5-c275-43ef-8124-e7689fbc126d"}, "5bdcc80e-f559-4aad-8d87-ba8fa3db94bd": {"doc_hash": "c2a1ab513e31f968815b694648334038e2b7d4a0bbeeaba512cf319839777d2d", "ref_doc_id": "bd79e8c5-c275-43ef-8124-e7689fbc126d"}, "6a553fb1-271c-4939-bbbf-70229bae97f3": {"doc_hash": "f6e4fd7867f77bd74df6c0e6b279430ee994a6e39c41a7322d239d5bb2496882", "ref_doc_id": "1e9371ee-67e0-4486-a71f-57493b888bf3"}, "efd5af06-6eed-4c1b-a671-7e2443a9ce79": {"doc_hash": "681df833e6936a1b68f253f89f0f5772365107b3e4e6519c241a5e9619d2e2ec", "ref_doc_id": "b86ee188-536d-4e73-bac3-f0f5e1158fa8"}, "b98f4d9a-f1fa-4fda-8042-378246586c52": {"doc_hash": "2efb84ab8fa4f4f86bff9754c00c1b823313a28c5b953b5ccb383870cfd976fb", "ref_doc_id": "53d7558b-a5a9-461d-a728-a12d81722f2d"}, "305b8433-8dd3-4dde-b4d4-e3a6e3220c5a": {"doc_hash": "5b6dd70402ce5770e25923aefb940cba058c694928867a5127f50091f0f31334", "ref_doc_id": "955fd6c1-ddd7-4903-8d6c-356ff9634780"}, "ac0372a8-80c6-4b0b-abf1-b8a0b06e84db": {"doc_hash": "206b102fe07e1ce8e33cb9ddabf25ed7656a5ff6198fbd5a41c65a53a12ae22d", "ref_doc_id": "c3f0dce9-f950-43ad-9227-6f67ecafafcf"}, "17f0598e-487a-4a42-b429-a35404a68b92": {"doc_hash": "13ce7a9dbdea3579611a12e7398f9f4611a30ffd829c931fbb21bbddc24f5a99", "ref_doc_id": "c64577a0-0644-4135-88d7-0706e0c6c57e"}, "ce02c92c-6bf8-4922-8c03-69370896af33": {"doc_hash": "03d9f5eb0c3f24d8160dd3360fd9194607549d355078c5702d26ab603e6b7b7c", "ref_doc_id": "0fec187c-836f-4762-a4f5-a9db585af4ad"}, "99be60bd-59b2-4da1-8e1d-d2070740a75f": {"doc_hash": "9450ed8b8d92afc803ad2dcc0b65e1549a5adb4c0983360edb53f55d6b4ef5b3", "ref_doc_id": "3a76b861-8f41-4dd8-ac1e-b25e41676199"}, "fdb3f0e0-f781-40b0-860e-1c7cb550f545": {"doc_hash": "325c62cde03ebb108c56708419c858799fbc12bc8afb53630359b28a537a5dca", "ref_doc_id": "7c19f23e-90c3-4a58-840a-9a53bf2ff4dd"}, "47ccb464-15ed-4f12-be0c-da067f3d5c7c": {"doc_hash": "5202621e047f91455051e6516ff8922d92d96bf59deab51133cbda6c981706eb", "ref_doc_id": "8cf5f97b-4cad-413e-83b5-2e1c9379da5b"}, "77c1e124-187c-4d0c-b6d1-b563308fc2d4": {"doc_hash": "bd3dfbe6dc4405096678c5769ae2174faa69805d6c0f32058dfe757dc53cf4e7", "ref_doc_id": "6e0b4d3c-c287-45e0-8dc7-6cd7a46e6f3f"}, "b30d14cb-70fa-4e86-89a5-91d5aba69f25": {"doc_hash": "c3a1fbe1eb4dd5ba4f91f9c09a1458fe60c10d832442211734cfc01e6746b0b9", "ref_doc_id": "1806f123-60ee-4652-abf7-dc7a5b166254"}, "0ed974fe-ab5b-4f56-8400-2aea3f0081d0": {"doc_hash": "35c37a59153e14f33cacd82cb51b3b4f8696b55d7cae2e474553b55e3673f040", "ref_doc_id": "515770dc-b7bb-4264-9359-b17b290f9772"}, "b8377e1e-f9e5-4c05-8382-9e0614ff27a5": {"doc_hash": "62191c88851d359a83ddc547c9e191295c14cd22c34c0c0d64ad47ede912a898", "ref_doc_id": "12e785a0-fc73-4488-9109-f658dc260db4"}, "888cdca2-3d2f-43f2-9c28-12a91114441c": {"doc_hash": "f4c40d07e6406dc310225d2ef8bf591e74040883004a1d3cd69dd92bc3067f5a", "ref_doc_id": "71a21f70-1c85-407c-bdde-9e9520159a4f"}, "8b27f928-f64d-448d-895a-970008dafa26": {"doc_hash": "8fd7cfb85d50565275d5337b3bb9ec78ff259c5c8fde5f620e6e31f99b789905", "ref_doc_id": "3e683791-5926-462e-a64e-330f8dd04805"}, "2e55768f-295a-47d6-a259-ce8c0edd149d": {"doc_hash": "f4f52b44e70d44a1b800ceefb015f986c0e8ab579a6beb176b36226fb2241640", "ref_doc_id": "1f0d1b20-fe49-456c-aeb4-243aff40914f"}, "7ff62bda-198b-49c1-8049-cc1189965934": {"doc_hash": "ebd3006d775c3b90a8689950ac6ddbc1d9e938068925a82e58179f4c38409f60", "ref_doc_id": "5c88b4be-7cf3-4c72-82d7-7c3040ecbea9"}, "6938dc40-cf34-4e64-a862-65e54c1a502c": {"doc_hash": "7c7115407211f064ec57f05ad8e29d17b2340e2cbf5f665228103abcf5d9a196", "ref_doc_id": "eeecc0b6-59ec-4e37-825d-fbe64111afd4"}, "57fd3b5a-1d2d-487d-953a-354dce8b06e0": {"doc_hash": "20c3f0d42bcc4a7998d53fcfd764d6c549e775837e0c7bf1f700f0612baec3f0", "ref_doc_id": "d685f8c9-73cd-4d91-9209-87a8873daf9d"}, "eba558e7-30ab-4950-805b-622fd8364646": {"doc_hash": "33ba6bfd4aa6db6221c2be09710a9fe3cab4b9168664b70e1c1d5b0138ccc2c5", "ref_doc_id": "495989f7-abe6-4514-acda-b41be6a9e051"}, "a6b12244-b74c-4d8c-a989-ffd1b226289e": {"doc_hash": "a471aaba1618fd17f4d101c593f7785b83c5772a1257991198c65a60526cbe3c", "ref_doc_id": "9d13dc56-43d0-43c1-ae4d-484687f97f7b"}, "af424cb9-4cff-440c-a391-f47fd6e44729": {"doc_hash": "e78d07891840b79dd830c4a3411ecee729e7d2ccfd2e806297e091dcd221ef27", "ref_doc_id": "702e846f-1f65-4de5-af36-168f57d8e0f9"}, "bb4f56ed-dcdf-44c3-acbd-35f407cda6b3": {"doc_hash": "64e7d4a27200cd5ba94fbed645ee2ac2922703a038f38d3f1f6ce23b90848a05", "ref_doc_id": "93149ad2-e7ed-47e5-9481-f81f1d65c942"}, "63f3599d-b4e6-4447-b7c1-f6629392be3c": {"doc_hash": "4d6907f7aa91a328f47c60a530caf9caebd01935f49c318e9c2a93ff28888b1c", "ref_doc_id": "12bf57b9-6f9b-4e66-9e4b-85019e66dcf6"}, "0975880a-ad12-44ba-8f18-8c1c0e78ba15": {"doc_hash": "07412fff185e15160cda4204b28e26139f232aa43ffe535bb18d8796a4050a33", "ref_doc_id": "17693813-9b64-49ad-82c2-7c4706d6aedb"}, "b2a251eb-e730-420d-8f23-59179a504723": {"doc_hash": "fd9668b80954d46e45d4e25e5cd862d30bd02a34d308e9db57c6d828f38d55d6", "ref_doc_id": "4af15a97-023b-408a-9fa4-f594e9d345f4"}, "f7d900e3-bafa-4722-8beb-2949d22761ce": {"doc_hash": "6ea0320890414270fd48607e32997ae0d5e186c966a54d063145aeb84b8d2aba", "ref_doc_id": "a64edc0e-6edd-4f22-85a6-636627d86a4c"}, "89206656-6115-40f2-8a89-4e127f8a8056": {"doc_hash": "726c6158d1cbcc6ce3f23e0c2c2150e741f95be43671d979b1adb0657aa6074a", "ref_doc_id": "83292c4a-236d-4ed0-9966-84cc10e8ed11"}, "e5dcb086-7908-4e55-be0f-8fa9e55ddebe": {"doc_hash": "00335e526d24453b600adada0ee566ec3fa0af71c8cfd95b7796256c2055ea9b", "ref_doc_id": "fb56dfc6-7b1d-4247-b9e7-e6af341aca39"}, "6643578e-7daa-4a13-bab0-fc488b3a274a": {"doc_hash": "67d0f810e759e37807adeb29b34878fd853a4db3380a0f2d62abd2e5fc0c52b8", "ref_doc_id": "0d095b51-a22d-45ad-bb73-f772911ddd3b"}, "42bc2394-ca5d-47a8-be87-c265273f1c86": {"doc_hash": "00081110df30d009501db1ac5d99dadeefe07624e4630eb71953600b3a4d79c0", "ref_doc_id": "3ab1c5d3-b696-4a30-8540-a2c17385781f"}, "91de39aa-719c-4e88-957f-9a6df9b6ae7e": {"doc_hash": "5da53d7c0beae2849ae38060441a1274a182e568a71c492c9723cad49601aaf7", "ref_doc_id": "66cc9243-62fa-4dce-904b-0d4ce66a5c1c"}, "8388ad27-ffaa-42fa-8adc-9aef3ea37b64": {"doc_hash": "bd34510bfa5b6f1ffd9108d29d354ecb7b437983514f7657c601eecfb4ef8ffe", "ref_doc_id": "3f8f4648-6508-49a1-a11e-3f44b86b1d98"}, "567d967c-1b0b-4695-b4eb-06d4d296c37d": {"doc_hash": "41ce1a9262bdc4d02cea0c06108cdc7145dc9b98c4761bd6a76ebb1006183aca", "ref_doc_id": "b17c53a0-c3a3-4c99-ad2d-655b50d47f87"}, "030e3902-e404-414c-a655-858611a0a7e8": {"doc_hash": "2ad96ba189bc0376b9383df30f06f8d69c26eb2da93c070ea67ae9cee30d356c", "ref_doc_id": "10f0da7c-86d1-4c19-adbb-cbd02fea988e"}, "b09ebec9-87be-48fe-915d-87b422ba93e9": {"doc_hash": "937ed8040a365475a279ba16a347d6a61fd92acd6398fd2d1d0bdfcf66524c35", "ref_doc_id": "7d10adfc-2fc5-4578-a14e-8f3fb7fc9d91"}, "8a6f9f0c-adb1-462b-af76-1d1f8e31f983": {"doc_hash": "28ec74aa39e79bc3c8845370cc97440f0347061c7fa343df5a1a856e5166f33a", "ref_doc_id": "4c5033f2-8ca4-43a2-a6a3-202b69db3b15"}, "f78b1398-594d-4dd5-933f-fd059fd9ee59": {"doc_hash": "8b6e33306bac3adf001ebddbb5980430ae60988783f3641f7dab7b6158027583", "ref_doc_id": "4bb1d9cc-d0b7-4d3d-b51f-8198de40d147"}, "0de098b8-a1f1-4bf8-9de1-6f343c2f6774": {"doc_hash": "e137e75a7f6b3a92b2d6ffab76fb4e8163c6baba76626ea074882ff03a1a2e2f", "ref_doc_id": "302aad4d-30f9-41b8-9bf0-642df4e518f6"}, "da0050aa-0c60-4db1-83d0-5286cada6340": {"doc_hash": "d4ac24ffee2d320800956a96f58266c5ade9a34e13f717eeb4c70da8b2fdde6c", "ref_doc_id": "1319ae71-b189-48e5-be92-0ecfe4bf6482"}, "c0f01f51-786e-4e55-8145-fd67480d4928": {"doc_hash": "7f9654e3367920a94017e92c12c30bb131976d85f3bdbb1ea7c581aae1cea848", "ref_doc_id": "5a16da3d-48fd-41f5-bcea-14cb5cf94e77"}, "f57c636e-ee00-4ed9-8c90-e7e8b9cb2d0c": {"doc_hash": "07d1f6f26c8123e0a200a6507dfa34fa8619c39cfd104bf5563d28af3200b33f", "ref_doc_id": "4b07f9bb-f390-49ca-9227-f65a707c9355"}, "3f0ceb34-c426-495c-a2a9-efe624fdccea": {"doc_hash": "0fb24d9a76573291fe24bc76a39c5e4b4f5e270973d3a0895f89f1dd03bcfa61", "ref_doc_id": "77365a05-6a62-4fba-a252-19ca8bad91ab"}, "ba6d5782-3a04-4c6b-8ee9-cb68a95ba671": {"doc_hash": "9b3a56737f5e46f0769354b65c735df73ec1186ee0bd9943c215682571e88466", "ref_doc_id": "89aab658-e625-4a86-9065-43e0cd9a3571"}, "e56aab8e-3389-42bf-9d78-1d497a5a0eac": {"doc_hash": "606ab8f719004ba4a48aa26782b700da1be31879d613c2cc230f278bb2b00bec", "ref_doc_id": "19c581b2-1cef-4cbf-9dda-926199afeb44"}, "5b0d7c08-19f4-49bb-9b50-0d9f331db711": {"doc_hash": "b32e272dfa31d293e31abe0f174733ab41e1709e63b92ed70cce9d65d7dcb9b6", "ref_doc_id": "239111bc-8377-495e-856e-c2f5a97093aa"}, "bbd3612b-098b-47e4-89b1-f5606718081d": {"doc_hash": "ffa47e0798a1aa4178ca0b03a8b9467576eefcaef88c9fe54827137b9701f75d", "ref_doc_id": "bead80e7-b897-4ba9-bc17-db02df9829a8"}, "7e5b877c-adee-4fed-9868-dd5e06e44c5e": {"doc_hash": "c385b2cf91fcc970f9e2f9429738437b2e30ed2adfb257402b091b42ae0c78c8", "ref_doc_id": "d7957a69-d01d-4c4b-b11e-af603b9559a7"}, "44bd721e-d0d4-4a5d-be27-aadeb0ab935d": {"doc_hash": "fcdb5f9f26c84ad60e9bfc581bd888bf99e019ee692032920945ae3bfaca1b45", "ref_doc_id": "f2645967-7ec9-4745-89bb-ef48ee93169b"}, "cc5bde86-d181-48c8-a37e-15aaa7f908a3": {"doc_hash": "e9358a28fb8e6e3b6daf04ab1f6de72d7e0bfca4198624359f3e6af5b9f88ade", "ref_doc_id": "f2645967-7ec9-4745-89bb-ef48ee93169b"}, "e129860b-7935-46ba-afdf-9fedd3b750a6": {"doc_hash": "ceace6488ea27a8b8325400d37770327f58e02d16502a97b70061e8ea4c71ff9", "ref_doc_id": "564691fc-f5cd-4fd6-b003-8a07a424ebc0"}, "8c8cdf3d-0668-4416-ba1e-3ee63ef2f87d": {"doc_hash": "2672cc9e2900e1e3d7d7605d08f48e57e44944207cb7358cb0d39d44111d6162", "ref_doc_id": "564691fc-f5cd-4fd6-b003-8a07a424ebc0"}, "54bf89ec-7200-4774-b563-4c20559330b1": {"doc_hash": "beb75040c733b78df959cb7136e83c1712a180e8c63bc0bd3d29b059252f682b", "ref_doc_id": "199ca2f8-a253-48cf-9819-c38d40fdc952"}, "faa39988-3b7e-44b9-9091-19bd591bd2f7": {"doc_hash": "d41ba48d6e3fb28aca934134421f34ed40a16d63a5a2dfceb3c3e607653aed60", "ref_doc_id": "199ca2f8-a253-48cf-9819-c38d40fdc952"}, "3773d76d-4281-4b86-b545-d243a4e4f9c9": {"doc_hash": "3dd2f57d1654e4a0d352d49b1cc2d85aa3e0384bc8fc5f6b2d0d924ab0fc8938", "ref_doc_id": "c4b8669f-25b0-4f0d-b6b0-c6193a056517"}, "c7a78489-82d2-45e5-b8de-01a4b023671b": {"doc_hash": "413e0b36356bae43380f968441abba9598a32da3fa4710b1e04950ecebab53fc", "ref_doc_id": "c4b8669f-25b0-4f0d-b6b0-c6193a056517"}, "1280b3c6-58b2-4efc-829d-0cb6ef32c73d": {"doc_hash": "128523e07eb80709667bf7fea0021ebd6f868f0c29b746988b4b87f8310b6352", "ref_doc_id": "12a26a80-eb16-46a4-a1fe-e12c6baf24dd"}, "9073b445-39e9-471f-a47b-3812c98cea55": {"doc_hash": "75ea456586414b965548752da609cb8f339c2ea612da6f6f8e96927e7e77f91a", "ref_doc_id": "12a26a80-eb16-46a4-a1fe-e12c6baf24dd"}, "3b87e4cc-dc9b-4daf-baa1-3b71337372a2": {"doc_hash": "6843b9f15c09bdedc60ab218fd269062af2a3d8e5211cea503f01be1e9534d12", "ref_doc_id": "a362312d-c09a-4ad0-a461-36a34449d355"}, "ae25d45b-ca98-418f-8102-aaff78e33191": {"doc_hash": "ea6319d1bfc0dc6fbd8c44468f3515d5b83b3a4f2b322862f79229c488fb76c4", "ref_doc_id": "d5ee9141-f880-4b31-aae5-21cfccc51295"}, "2ea7e460-c129-40b2-9e45-965b10954859": {"doc_hash": "2a5851f400f15607afa84d391a13e639100ee2497341433579b7789e230893f7", "ref_doc_id": "33ebf73f-8bf5-491b-a11a-9c8abf6972c9"}, "f79afc96-fc25-42d0-a54a-a0555f0f865d": {"doc_hash": "84cb268efa149cf5bb8c6def4c73c5f947ea551a92a08ba365ec33fdbfe9bea9", "ref_doc_id": "a87ebe3a-d289-405c-b3cc-4e6766c907bb"}, "4090b8fe-d3d9-4426-bc8b-348ff5698c63": {"doc_hash": "ed93d756bf04cb1aa8d6d6004fab0e09f19444749905cdcc3d15c069ba9c5070", "ref_doc_id": "798f9764-7e66-4260-aa56-f85383049c52"}, "5de6e2b1-c2dd-4ca4-832f-5e74f17ad1d3": {"doc_hash": "7dbca134374e3ea7d596c06daaf943f2b7fe9f52a97140f217f1ef3984c6a7c5", "ref_doc_id": "9581ecb3-b52d-4a2b-b964-d995300a3dda"}, "55eb4a68-3998-426e-990c-57054d99c9c9": {"doc_hash": "df9e81c35c496e87bc53a1de1999951f61aa50c914886b876da973b6899f543f", "ref_doc_id": "9581ecb3-b52d-4a2b-b964-d995300a3dda"}, "8e624e27-b3e1-44c3-b867-eb1bdd7e8a2c": {"doc_hash": "3d15b24103c9780f951a778377aa8cf81cac114eb96ba306468c08e7b1eacf36", "ref_doc_id": "a4d3c8ad-b6e5-46d1-bfea-0bc773e54ae6"}, "12f38d2d-1d5e-4e32-9695-e08bd9716bcd": {"doc_hash": "067abf8dd4576bfce2418d1d455521a43a291abb9196fec352e87cc56089ee2b", "ref_doc_id": "7ae57879-2855-41fd-bade-5d2d104fbe81"}, "76e1ed6f-af54-4e8e-8268-6464df53a2dc": {"doc_hash": "b752d6d8e97369d35f471afef5655fbc08aebe1b3918fbafa471e7b22611f6c3", "ref_doc_id": "7ae57879-2855-41fd-bade-5d2d104fbe81"}, "faf3e448-3252-499c-bf5d-a229b3dd4028": {"doc_hash": "c838dc9a1979610726ff8826518c22d682376ccbb729890b00fa641fedd3e8e0", "ref_doc_id": "f78dd0e1-ddfd-4963-a191-1ad909bf03a9"}, "92808096-69a7-4fa4-abb0-006ff3e5d09d": {"doc_hash": "eb7405602cd4d2e24b202ad03d54b0941a6f432a004e2cf98508e7e1f083419d", "ref_doc_id": "f78dd0e1-ddfd-4963-a191-1ad909bf03a9"}, "0e8adb49-9529-4e6e-b107-a58890e940a8": {"doc_hash": "d8957f7099136cca84670ad8d22a464e742ce2104f0fc29e2f603a381cb4b917", "ref_doc_id": "d9471389-d12e-489d-a1e8-cb201d62ea58"}, "b4a49ac8-c6b5-441f-bd39-1fb8d0668b88": {"doc_hash": "7deef50a9f5a3f3c0f47c2d0ed469e080c994da0d25cd8f0edc7bf17d4e250a4", "ref_doc_id": "3b8bd1f2-8e28-4cf1-9079-533b411929ef"}, "247b9df5-b46e-4eb6-a4bc-8c02f7423306": {"doc_hash": "4f3fe4c115c5acf6202c6dda86b7cb3d30a86a0d328a6bacb41d673c20a12c8c", "ref_doc_id": "b05cd43f-3342-4b65-bfdc-51fc14bfad80"}, "f2ebd855-e62c-4aa8-9a17-ffc3d7342dff": {"doc_hash": "a37e5514a546f3251b69d8d3ae2058af45aa97645761444bfe6f8e7576f09d00", "ref_doc_id": "b05cd43f-3342-4b65-bfdc-51fc14bfad80"}, "5d3605d5-09a1-43c1-a3a0-743e82a5c224": {"doc_hash": "8657f91d59ebafe7d2873f9203f674b6212049a1c4cf6ce2caaaecfce0b71644", "ref_doc_id": "c6d2966a-f444-44ce-9a1a-a524cb7e64e1"}, "6dcb8ea7-993d-4590-bd96-7b405b37f5c3": {"doc_hash": "431f427053cb1ab47b94448cd472829174e31d57f230017172a053819f001dde", "ref_doc_id": "da252093-23e1-461e-8612-25aac4cf58b4"}, "832b03fd-f7a2-4df0-9fb4-5b754751402c": {"doc_hash": "ba0eed9c0e862736ab13053baf4092094532e2adaf41e6d3a3f98a1b23369a54", "ref_doc_id": "245d8596-9362-407d-a46f-d4e40e189611"}, "7b3be953-3495-4e39-a0ef-00d7ed92878f": {"doc_hash": "a0da75d12d6a7c9957024275f52cfc3fe5fc834d3e53c3237df19f637c982a2c", "ref_doc_id": "3854e337-c694-4760-ad68-cf01554cac9a"}, "73b79098-1c7b-42d6-bcf3-71ba295129da": {"doc_hash": "6523054829eaec6e716d66f8c00547a235e079a5973de3db3b9e4844e250f58a", "ref_doc_id": "eb764286-0f4d-47b4-b1ca-f00e657e6c4c"}, "ddff7ab9-4e7b-4af9-a19a-c0faba5dac25": {"doc_hash": "ade84e6c3b36c0df5d7b089d9ddf3a1eb845aabf786c8a6debf3c33ca10242f3", "ref_doc_id": "7001e929-7583-4660-8249-f6a801d02441"}, "75913253-425b-41dd-b7d2-05a71d33bfe5": {"doc_hash": "1d631d49a79bffe9ccca7534ed6ae649d49a2256ba4abf7bcaed43148bbf7399", "ref_doc_id": "8bbdb5c9-e2fd-4843-9cbd-db32c9d9571c"}, "3a9f0dd3-4141-4d00-ad7c-9636a1d42b6f": {"doc_hash": "088a56da4762e37eb3d673ce5d7acb529b55358be69c425c11d0d1f47c5ad33b", "ref_doc_id": "33d70bfe-3f7f-4878-9cfc-2f893a4095b8"}, "168ae0d3-2758-415c-a05f-b28cbfd5e7b9": {"doc_hash": "2c2c0eaed4474915bb966ef9155f1db509d6ca60f1cf213d0934db47cd2ac18c", "ref_doc_id": "c8994bec-0ba5-4304-b447-fd2c25ec4e3b"}, "0285e937-e09f-49dc-ace1-792fdefe7daa": {"doc_hash": "059214d6320cb5e60650dc4759ea21944b77c107f7149193b9003766ff2b2070", "ref_doc_id": "78d8c5e0-136b-4f13-a3d4-afef17562cc4"}, "4809d07b-1d59-4f52-8900-367fd9d37637": {"doc_hash": "fe43e3b0120093068e584cbdc2a3e01d8229f1ae62e9110bbdd315cf71a4d0d9", "ref_doc_id": "6c417a64-53bf-4f57-829f-33f3d82d21d8"}, "1e7179f6-b72c-4250-8fd1-c0c3f821dd6b": {"doc_hash": "87170535f58932e54a55139ec261eda302ef226ff786416c148a844ed00519e5", "ref_doc_id": "5448fe54-8789-4cf9-871c-491908dfc3f8"}, "926c9f8f-8e48-4e5f-b57b-98b04de1e871": {"doc_hash": "b3079951086bc62eec756a4aea802808555ad230b72adacd28a5ee38eb468739", "ref_doc_id": "3f58e29f-9d5c-4c7f-a37d-129427dfff4f"}, "d2613c7b-4353-4079-ba06-00313433c0ee": {"doc_hash": "4eeecf1c7b0eac56f0c97a59ff566ffe51d3ab290f1106d3e8982daca96d8b29", "ref_doc_id": "3230e42a-9a60-4283-9f42-32450e3b1485"}, "70edd04f-424c-41e3-8e95-307b10ad4348": {"doc_hash": "ebe81f49072fec96962d10d618e2be309eaea7bb4b800879f39c2bb2bd3cd6fe", "ref_doc_id": "913458f3-ab36-4b6f-9b47-132b774ba14d"}, "80c33b40-39e3-4fce-8101-72363f3977cb": {"doc_hash": "fd812436786ee96429553eff2fb84757ac63f975c8b4df6ee3d7b30bc7cd9585", "ref_doc_id": "bbc30a03-9f35-449f-85c9-d7c526507d57"}, "4709ab52-9666-4037-a98a-872274c79c08": {"doc_hash": "e40fd52f1a96c6a2c70dfb997d82e2efc1ed6d92c055590d7583add628205e11", "ref_doc_id": "f1eb1176-c792-4fb1-a6b8-71a79885b3e3"}, "582ba003-4c78-42ef-aab9-0ee1080bac43": {"doc_hash": "803aae60ec6ecc4abbd38b340a60e0deaefd090fd37e795dfe896a3429b0c5ac", "ref_doc_id": "c46f515e-905a-4806-a946-8a5a939c8878"}, "2e3da65c-007a-42cb-a64f-2c6a4695ee24": {"doc_hash": "f67771315d33f3527d03ef020a08b5a42c61d39362dccbc858bf6ed8777d8737", "ref_doc_id": "b91489bb-db66-4f86-a054-672ef66a3396"}, "c24a885a-c8f7-4155-bbdd-e215f7bb4b54": {"doc_hash": "213f39a4d5d0a13f7d0a529c9d1efaa68d9648ee65df77d3aa31df74f5962764", "ref_doc_id": "8bba2347-c956-4e2f-be6c-3b936fb34b0f"}, "616f3e36-50c2-4ffe-ac1f-d274ad9cb2dc": {"doc_hash": "914a14199366587ff6720c39d2b1ab10a7e9851d5f7ddf53c953447cbd77560f", "ref_doc_id": "da554e5c-d2c8-4b27-9c58-bcaacbf86278"}, "2b1ed378-5cea-4839-8505-93ee2d309c1c": {"doc_hash": "e60eb9bad709b5a174f39e09083c441533b52df653f58beb96403129970c1db3", "ref_doc_id": "686875b9-9c5d-4b75-877a-b4bbe2acd9fa"}, "46003b2e-dce0-4323-97e5-b176217f8ecf": {"doc_hash": "690ce8971bb4a1f367ff4dabb802b0247cf41dec96aab917ada45ae74b1e44c0", "ref_doc_id": "689bfc22-fe8a-4f4a-91cb-e8eda39a505f"}, "0c95da02-eb3e-4b99-9db6-37a85902b832": {"doc_hash": "f35b9d1878367df2e2f159eac408f6c78e0cef53d5276970a7a4aea33be39b79", "ref_doc_id": "1d65ae82-c45b-446a-a1e0-b6ec3daab47f"}, "c63ef787-edc0-42fc-af05-36a44a318d52": {"doc_hash": "20e473198aadc934f92a7c63cd958fd0f250b4617963ab4f9bc95b756e52024c", "ref_doc_id": "a5f0318d-b1f0-40e7-bada-53289ef31d08"}, "3e8c01db-551d-40c9-82f9-bb7d4d37947c": {"doc_hash": "a415bababed412f05adc2e582993ce5be80fd4318209c56f6e299e0fffb8df5e", "ref_doc_id": "be2329a3-d8c4-4834-b373-4b8e0dec2bce"}, "e8aeee7c-1aa7-45f1-99c8-ebac68ff9f73": {"doc_hash": "ef50cb7eca3edf75c398682356d56bcb21ae7e26c32f7cf42824d757e4582949", "ref_doc_id": "27b08ed8-e6c4-421a-a3c4-d9e6bf397424"}, "4358e52c-d9ef-453d-b6fd-dff3d2669a35": {"doc_hash": "a28586247696a350649f6e5d19aa962186a132e28271e23225ca4b72a5529984", "ref_doc_id": "e635832b-06cb-442f-bd95-688e5f2e4138"}, "b48a91d4-d3d3-4540-8223-2f1e7a093d6e": {"doc_hash": "5f6809e65fefe5ef56934862309d62cde76e7744ae8f5ba2eb4a30aa7b5afdca", "ref_doc_id": "2c0282b7-9371-46f0-9935-ce54813c9593"}, "50d1de39-5639-462c-8b5b-95520b5976ae": {"doc_hash": "1454ebf7551ac5c121735e8c9ddc1dc56bc86d5b5de43e98820b10fdcacd356e", "ref_doc_id": "b271ef55-4580-49e4-90cc-e2d832e9c32a"}, "7edfca19-32bf-4d1a-8d46-f25d1168d6c1": {"doc_hash": "16d2da82ef806329cb6eb951aeba8bf81509ff4a592e432d0d08b03b6c161089", "ref_doc_id": "a4ed7f99-738c-4809-b71c-44bb220b0ce6"}, "a625b94b-457a-4750-b86c-1c8f35e34fbd": {"doc_hash": "d3ee438f21eb6ced2c27eb7eb834cc39c3ffd73792e7f81edd7010e6c3c5b0b2", "ref_doc_id": "9e6178fa-3222-4e2d-a109-ecb40dc89700"}, "589206b2-ab1d-4c78-9e81-98367a791e7c": {"doc_hash": "2a6a1abcc2289795cf45dd132e7dadd585a6792c0323270dc58adf2905b8a90c", "ref_doc_id": "edd3a9d0-669b-4a98-a54c-564d94ee72ca"}, "aee7517a-1432-4db6-bd17-bd8ac2077a81": {"doc_hash": "7e9a1204e2689c5834a791fc6b5788a879e80733608c1109a51e4a8934efc503", "ref_doc_id": "196ffd7f-9e90-4dfc-b9e7-ca6104a659d4"}, "491a779c-62e3-4984-b358-13ae36b6a621": {"doc_hash": "d2e311c46a3ae7a33314b22acfb7ea962aad2dc3422f53ee72b8f266f9f38e82", "ref_doc_id": "16b6b3f6-3a98-4f4e-bcce-c2c4f41a496e"}, "69f6dc45-6954-4e5b-b417-f2f46c3bffc0": {"doc_hash": "12766cb0d30a9351314d18c94136e7b64f7e560c5274b8240acd16c7955e6606", "ref_doc_id": "d1728628-7e5e-4e05-8f32-6d630e271164"}, "069743e6-f730-400e-917e-e19606b89518": {"doc_hash": "aa18dbec373b7f77c02ed1fac908299681b45df8ed8cf6fab1d927c03ae9b73d", "ref_doc_id": "fa325983-8d1d-4608-a56f-069288742534"}, "a1e3ae70-f3ff-4488-b88b-10e678341cb9": {"doc_hash": "b6d071e7f2e2dc523f05c5510146b3e4961344421e94cc0a47ba227df4672750", "ref_doc_id": "4630cbcb-6c69-4b64-81a7-2695b9342670"}, "333cc688-560d-43ea-ac8c-5b5f474274dd": {"doc_hash": "1452565c3e83a1a2e2725f4deca19f3c373bbc40d54e545281b9d861c6bf85b9", "ref_doc_id": "f35768dd-f77a-4079-ace9-8e44946c3a26"}, "b667b761-1a9b-494b-bd6d-a04a30b7165b": {"doc_hash": "9a546751566835ff2e9cd0660404d63f5fb1d6998d1e7d3cfd50f2f6d165f6d7", "ref_doc_id": "d8d26a01-ce44-4d7b-af18-baf9996c7015"}, "e1b501e9-d37b-4189-aa96-e603a646138d": {"doc_hash": "cb02b0e143b40b095339350c35b31c52571dbf916becec1eaa29ca053a5ad7a2", "ref_doc_id": "d8d26a01-ce44-4d7b-af18-baf9996c7015"}, "85024c42-29bb-4304-8182-62a5a4abd05d": {"doc_hash": "84e194cce1549d841d67959d489c1e1da08e840d46f3eac20ebaef00035339f6", "ref_doc_id": "7fb24520-1650-4ae8-bf5f-d65663a7d362"}, "b2f10628-8b63-446b-beb1-73511e8c6f73": {"doc_hash": "d632d2e25ae301cfede1981a8f187de03fbff789f2f4ffbfbc6202d69e278423", "ref_doc_id": "db6d4afb-0b43-4d8d-878d-3be5d680ab71"}, "562b7ae4-2fad-4fc1-a7a6-b56d3573f215": {"doc_hash": "7f90804b8be553fc9e80b56b2c59d6fdf7dabb8d609b9bea2cc0000e5f3011b1", "ref_doc_id": "af59b468-48c3-4fda-839a-b76586efa0bd"}, "d66be891-bce2-452f-9867-9f5bafa62af6": {"doc_hash": "1464cc32a554b404b592cadc72af8148f372da42a28d58a9ad9e75f18fa9b823", "ref_doc_id": "c3568d70-886c-49c7-bc0a-0b550cf7b6b2"}, "99ffa918-c677-4641-be73-483a5cf6dcf5": {"doc_hash": "eccc31520c37eed208f677dab02f3e9a231eb5a6e06457b84afa8f3e297f14e4", "ref_doc_id": "e0699114-2d40-4b22-aff6-d69b3dce47ec"}, "b19bc4ab-76ea-4478-b736-4e1ccef1eb59": {"doc_hash": "20e2ab9baac75f9c5f1d3f12f6a8d31045c9b5d16649c48a808de6200c6957fd", "ref_doc_id": "848a49ac-e352-4fd8-89aa-e5f581070aed"}, "67163c3a-d541-4261-8418-ea40d600d465": {"doc_hash": "cf7ccfc186c981346d566f80fa4822e083da26b42cdcabe648c49d6b4b02316e", "ref_doc_id": "edff8ffb-372a-46f2-b41b-6f0407724f6a"}, "d3167c64-f2eb-40c8-9e87-529f4ebfc157": {"doc_hash": "897ffc8cc973cfa0c8105c4a59c1cddd8a7db01febfaffbdedd4206564809a5f", "ref_doc_id": "65aeeb1f-3b76-428d-8e54-85b5c4625666"}, "0cdf0708-5794-4841-bb70-e8927811c44c": {"doc_hash": "fa0a86aff971ec3f1ef8adc7d69cbfa9d11b7553de583a2a9814932458dd629e", "ref_doc_id": "1518a612-9ff1-4e21-905c-6a3992a5eec1"}, "7d153b61-2fb1-42a6-998b-9c3ad05c9a60": {"doc_hash": "d5df8197c87f8ee06a2093be270bad55aa9d8d9ddcce55d3a806c32c1135db48", "ref_doc_id": "a03602a1-b82a-4ffe-8969-cb71ad917422"}, "3ea8c8de-f63d-485c-9ba8-2b7a810b4f94": {"doc_hash": "27576e1134562943cf8148ffdbd20a29344fe0736d1a6771c1e96feb479df6a2", "ref_doc_id": "9c626e3f-2492-47d0-9f60-d87b38f034bf"}, "eac2c002-f5cd-4b7c-ba65-592c5094175e": {"doc_hash": "a2bbf01e6b31dd76ddd546b0fa6afd10fac2d45b39f306951f9a63a7e71f4b37", "ref_doc_id": "6a75d59d-e2fb-46a8-86ff-57122ca569d0"}, "19225deb-5dab-4fda-bfd3-edb6479453da": {"doc_hash": "8657577b7977af60c3b37450bc2c20dc9a551ad4f335e979eedb0b8d8c3da37c", "ref_doc_id": "a9bef263-56e9-4494-ab70-7b349d0fb2ff"}, "b155397a-4b80-4352-b2b2-0ea535b49687": {"doc_hash": "d45631c3499d84200b4b019bf31f7176a4863038e56eb06320915de4a009eebe", "ref_doc_id": "c73d065f-ffca-4dbb-b4a7-c8b941731f76"}, "6950b454-4f41-44c1-8c99-8fb96153b3e7": {"doc_hash": "986b9016745c0af44ab44ab378f0710b45666e4882f971bee4937d55bed383e1", "ref_doc_id": "e16f1828-6698-4c89-99df-357f23d1b4c2"}, "f92f9478-251e-4ca4-bb3d-1755bd220d82": {"doc_hash": "6f9a0365fd5db0a29911c0ef14c0141a943f8a3c4043ef63c99b8b53df0b8177", "ref_doc_id": "c8ee354b-8e95-4dde-92c1-4f79498bf65b"}, "b7a92e1a-6555-4104-9567-7f4c830d9aee": {"doc_hash": "e520783eb9182869f80fb69a24b57c9d1c7c5a68aead4e9d86e8271f0fe5bd8d", "ref_doc_id": "a81e9e80-ba6b-43e8-b469-b8fbeb835b0e"}, "2cff95ae-d44e-4906-9ca0-7248a051cf4e": {"doc_hash": "7734b892b328d782030b74173c310bf5ec3c3ad9df7df53333cd1940a5767ee0", "ref_doc_id": "ad97d2b7-4cce-4061-82fc-41d42f79a1aa"}, "ae12fa68-140d-4466-9434-ba945f1f1dfb": {"doc_hash": "aeef8a9336f0fe922dcfc15c764669fd2569984672520902841b5fa71107d306", "ref_doc_id": "2181cf25-461d-46f1-af72-bb712c1a01b7"}, "b5135c90-65f8-40a5-8403-bf68c1686fc7": {"doc_hash": "e97b190b768e202d1415b0ecc9f7e474208981ca310f1c8c3e6f5d14921d12da", "ref_doc_id": "f640cdf1-5a51-4506-a709-819e386b5a2f"}, "ff332714-02ea-444d-8621-93ca841bb159": {"doc_hash": "251ab2c0ac5d1f0e6878753cdd6a09175542e9ea5157492a3059473ec643fb80", "ref_doc_id": "8686cfb0-9ff8-4cbf-976b-d3c1dd355502"}, "55a39423-b8ea-415b-8b9e-83e6d69a186e": {"doc_hash": "4a276eae896a096b20561dcf031077d91308bc0006c1054ba4d346f517c0c703", "ref_doc_id": "0f63af28-6f3f-4d5a-a027-83b341b34ec4"}, "556e731d-7dbd-41a1-956e-9dc81c31107b": {"doc_hash": "b52c3980902517b38162de58a22f340562a22976e67c3a13eda633765cc37240", "ref_doc_id": "889fd521-fd67-4ea6-84c6-335d89c18c76"}, "12d3ce95-3078-457a-8dcc-29d229ebc3f2": {"doc_hash": "fd02a1ce26bdf7fe9a3c6e8256bb0b8c79c91a2da4788ce22266507b33a1ec38", "ref_doc_id": "5911e3d8-a481-4862-b8ce-4081004cb127"}, "09809169-b35e-43c9-bbdb-4eef2ffebee5": {"doc_hash": "af240eedf850f6ded638ed7001b10821f77e6fd348783096fb4307dc7b38d10e", "ref_doc_id": "0dcae390-98da-453e-ad14-629ef33537c9"}, "1dca569c-f3c9-452b-b322-d4d00c3044d1": {"doc_hash": "9f80c2a0a27607055e0fc05eee3271000595d22c8405300404b44578ddde7bb4", "ref_doc_id": "2048ac3f-af0e-4a57-b8bd-86f6b5537db3"}, "24520e0e-5e30-47df-a21d-8f7e0f616186": {"doc_hash": "9c5d86289fb85e99ba6ef197fbf8542556cd9bf542531103e9bff4fca3f6ddce", "ref_doc_id": "66a82d18-8118-40f2-82e1-8489b89f7da6"}, "19d81811-4819-4175-88c4-ff06f5977610": {"doc_hash": "9d701c953b93a3aacdff9d4b719d89910472ca118b0971ae8d2b764320daf49a", "ref_doc_id": "1e35bcbf-c6d7-45d4-824e-f3ea1e359a5c"}, "70fe4429-111c-4159-8824-93bb06c67e15": {"doc_hash": "2e000312e87daf0b9737616b77b6f0e3bd634f0b921181f12971f30be2f14afc", "ref_doc_id": "19b691f0-a704-43d8-83d2-48c7b03d72a9"}, "02b9b282-dc33-45c5-93de-0098613328ba": {"doc_hash": "cb0e4c1382e74cf1d9d095c19319f9898af27276d277650430e5208db412d1b9", "ref_doc_id": "54f4319a-3032-409d-995b-3d2d95e3a1f0"}, "e876ef53-2891-4856-8f42-11fa38eb5c1a": {"doc_hash": "cea311e0d5cad9cddca89750a8021679f9093271fa2c7e5d8bc7e39eebfa2a5e", "ref_doc_id": "b71773b0-a5bf-4f84-933d-a164ab84317a"}, "01239710-3adf-4b51-bd9a-e14a927d0c9d": {"doc_hash": "3ae2842fa9bc452850e182312910fb3614b7df27cf19d7c32d0493038cb81a5a", "ref_doc_id": "47a6ee7e-16f4-491a-ae3e-66d007d8cbc0"}, "a577c407-f260-4b4e-b686-bc8790416f4a": {"doc_hash": "6dbadc103c7210f75d76eeb5a31b0b4316316cb7dab005ccf5404c08a8fa994f", "ref_doc_id": "03595f6f-9fde-460f-b8f2-e913cadc8410"}, "83192149-bad9-4c14-a8e7-d54d06e2a413": {"doc_hash": "243999ca8c41ec7a4742f5dcc5adcc5c639cbe4dec31b3511d155d4d544fb06f", "ref_doc_id": "03595f6f-9fde-460f-b8f2-e913cadc8410"}, "124f0f27-145c-44a6-9c0f-e71eb75c6b2f": {"doc_hash": "00b9372947c8817892bd78d66d76661e8c5292e8ddfa31a5a9fef6761a5866d1", "ref_doc_id": "942ae279-2f82-4b58-9db6-be312879c860"}, "43088a27-845b-476e-82ea-8b6ddca7f32e": {"doc_hash": "3b79119516f72efcfb28a79292e14dfd3b4b7bdf61e482fb98359180a4f31ef3", "ref_doc_id": "0390a07f-ec4a-4aa7-a0bb-d693c22fd03c"}, "26e5d790-d92d-4c48-8c16-520ef5507f7b": {"doc_hash": "75e245c8e6111f0491e64e4064a5b5c38c486616840225e477eba17aee8a7c22", "ref_doc_id": "c8eebf23-565b-48b4-9e1b-5d349bcde4df"}, "8e4b7967-eeff-4ea6-86c7-d6d7727def67": {"doc_hash": "320d42e796ca73a8cbca4ded7d243cb834aae81f842f8c74191ff48a84e24ca0", "ref_doc_id": "b6ada496-94d6-4fc4-bddc-409e81f74b25"}, "6c4f05f6-40b3-489b-b189-0926939df11c": {"doc_hash": "a19142843079eb44d73a8330cd9727d986af7ce79070059a1ce2f0e3661faa54", "ref_doc_id": "d4fd3e4f-a00e-43b9-8a76-630fb2a1ca10"}, "f599da98-f255-4e2d-bee0-4f645710372c": {"doc_hash": "315869b6870e0d4fae66371bc7aaf91ab2e1158e8c9b3a0b27c686209d0f3de2", "ref_doc_id": "d4fd3e4f-a00e-43b9-8a76-630fb2a1ca10"}, "66328054-c1db-4dc3-bcab-c6613af9ef77": {"doc_hash": "4c824209dda8ce137a761e48576cbc4e8deda72a5ee6de98ed3b1f6b500abcf2", "ref_doc_id": "acf9ce02-98a3-48ce-9e26-a9851befeabf"}, "56d118df-59ff-4bf3-9ad4-5d7f7188da13": {"doc_hash": "fcb92d8b94b8ff9991c949119550e0536cb6da3aaa3192d4ee4767649569f0e7", "ref_doc_id": "aed51a8d-03ab-4718-a526-911a14b71699"}, "f9167514-cbbd-4be4-b271-f48ff39ef6ca": {"doc_hash": "82a5e00706450e6942ab62e04a4d7a1cb8076c1724e5bf7ebaf66a237166877c", "ref_doc_id": "6d74e5dc-6e3b-4b00-ad90-d38fd29392a5"}, "e8c209be-a525-4aa3-9c46-7461be6e86c9": {"doc_hash": "ed55fddd0279d61edf43a869c0f1919cbafb4ffdedd6b56eeca5b8b50eb6457c", "ref_doc_id": "6d74e5dc-6e3b-4b00-ad90-d38fd29392a5"}, "e974899b-9233-459e-b21a-0bbe1e0c826e": {"doc_hash": "a9ed32a4e3996c23bffefbed54928c90d398653d7207e51cd385dcc6983c2dc4", "ref_doc_id": "f5f689c3-0bcd-4b92-aa36-51a416b76073"}, "c0642c1c-d2ae-4d2c-b823-b91632698237": {"doc_hash": "e63525785870952f48ffd4f897344babdf11c4039ec28c300d2e3868fa2200e8", "ref_doc_id": "d792d09c-03d4-4883-8dd2-7e51d50f2d63"}, "afdb0c12-e26e-49e7-8d4b-aa6c9d857969": {"doc_hash": "8e4ef39066d7642ad1c722a6886ea16ce6d8f65b6f397fb468ee62556772c2db", "ref_doc_id": "1a0d0a94-1992-4a21-8c4a-a9408a95d4f7"}, "7f114dcb-17f6-46ec-a602-6d17788c9b67": {"doc_hash": "b93a7d9e0e1d135070e2d16ce79b4d477b69952c72b5ba9f9845abd9dbf79fe4", "ref_doc_id": "a0d75184-4272-4052-9728-5b64e064026d"}, "7fd508ce-4006-433a-89e8-5fd15b89a47e": {"doc_hash": "a5045e92fabaf5ce6949f6777f6f7994a6b58d969580442b56b738e74a92a56f", "ref_doc_id": "50170ea8-c885-4cd8-b3ed-829cb75e44ac"}, "4fa13af6-190c-498e-bc4d-9faff157a54d": {"doc_hash": "817f4e3df983d63d98c598808e358c4fc4f6702253042a5bc2edb8f73eb7ea64", "ref_doc_id": "0f531bdd-620a-4a90-ba68-02ccf02aa1c0"}, "948ace53-ebf4-4bbc-bf73-986766c525d3": {"doc_hash": "8edf6f6dc5fd67db1daa252def23b3308b6a431eead3d3394a8269d62b912cec", "ref_doc_id": "0f531bdd-620a-4a90-ba68-02ccf02aa1c0"}, "436f8e17-1746-45ad-af13-8b348221ad01": {"doc_hash": "b1209a6d400696aa419b2fa0f830fe464b4de9089d0423e0b7467d180441c736", "ref_doc_id": "d6d0c991-8ab1-4e61-84db-4e1aff629103"}, "25cf6996-df05-464d-8634-52f0db5cdc57": {"doc_hash": "c42f9de36af8d13e3ebaa0f58b383bec1c5bb5c6eaca0fb8f17ddf0ceb9c3b87", "ref_doc_id": "aab56e0b-7a3f-4409-85e5-d8d23a846069"}, "d22b2f0e-948f-40e9-b6df-803c72c7425f": {"doc_hash": "50bd49466685f24bdbdcd17ce7c096886cd3061f3c9c5a90d67d6a2572f1200a", "ref_doc_id": "4237ac70-a787-4f8c-87fe-07fe87fd1cbd"}, "6f9651db-c22c-4594-8886-851686c595b8": {"doc_hash": "6f4542128ddba49ae4fe0fdda5ea64d190935b6cb20fc9dbe01914dcb5b4769f", "ref_doc_id": "a6a73d1c-f854-40ea-8ff2-68f097a21b74"}, "47d5afb1-b8a3-4f4d-8388-a819529cb09d": {"doc_hash": "1fbb1f93809312117edad0de3934546ad77ec4f59c4d655de63dfc1e76ef074e", "ref_doc_id": "e29278f5-f97b-48e5-a9c4-64103089c05f"}, "a43d7678-5c5d-485f-b834-b1fd5a417924": {"doc_hash": "b6ba7380b260cf2eb91f9ab5eae90bd4e645b373a12c20c3f86029625fda3606", "ref_doc_id": "947ba91c-7a2d-4662-9e2f-ee95a61cc89e"}, "7479661e-6ae2-417e-bafc-ef16a9942d46": {"doc_hash": "a4064578302ca916470a6117c4a063f0b66fa6172115f85d5aff71df634ae4c3", "ref_doc_id": "7fccf2cd-1e42-40d8-b72f-91925f053bc3"}, "856cbecf-1e1d-43d5-9568-c927a22baf18": {"doc_hash": "c46b2ae878de7dc7ae4acbb95cbba68fb3f9c86712ee839a7d8860d202c28609", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "8f68d377-876f-45e8-b32d-4b7696e7d2ad": {"doc_hash": "a8e04904de73d385e36bad1761355c07d1ed8096e8613b554dd6ad9c26649fb9", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "bd54b312-6ca5-4e5d-a0ec-63b669024a23": {"doc_hash": "07c34bf577254b65252b279384b41a31110a17c290fe6ce8a3eafc196eba6d7b", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "0aacf498-7293-4b4f-a4ee-13397b9806bb": {"doc_hash": "ef9d202b7ecbf8de1c877819f0a0590add8d6494da0b14d4a6441b74e9afa9cb", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "c6a7f714-73d3-4be1-8697-1536e1310092": {"doc_hash": "fcbcc4aa4e5e5ef9fd32adcaa98c1a31e3031fb238e1ca0c962a2fd3b2057080", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "101c7e1b-3085-4d40-babd-e564664f2ff6": {"doc_hash": "3c5c00c5262e1af2efeb9857c3af74c43a2b38448b46762ddd14ea6ff8c494e4", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "c236e39a-4d88-4c7c-ad2e-de775d31bc5b": {"doc_hash": "26da5465d03d6d0f02f727937fbcd6c82ab19d6a1ce9e3ca0f1778c8dfc5339a", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "bc39f453-6b5a-423c-8371-f743fe26a015": {"doc_hash": "e23daaf8085df4fcbf0fdcabfc0207608a784ec9e0a70dfe27766a061dc6802f", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "f875ab58-950a-4881-a90a-95e9976e4f91": {"doc_hash": "e4f73ce061c4522f58780243f74af4cc776df3c3addad7cbb14caa54ac3df52c", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "89dd6d41-37b6-4675-8b1e-e49b27c3de95": {"doc_hash": "6f3815b90631536988ff341a5a07905dd18848854fee9a080437d03b1b9f1ce5", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "0b7fb695-fdf6-4779-b627-949214d737b4": {"doc_hash": "098454bbaee7aa34985861953c4b37cf2a70d8a52343db8782d78cd90a1cefad", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "28a582fe-93eb-4c34-81b9-b88b95e9029c": {"doc_hash": "d667a0c8c19e0f8363dec8dfa0e4d8e6fdd2454e9d970b674cc5c06b5c57a251", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "981a6e8b-866d-4c2f-92c7-27a93f1f4287": {"doc_hash": "12fd585c8192a06567a4791b9103f61f3514b363eca228bd23b981d4c6ec92b1", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "48abbcff-602d-4cf4-b760-a8a2a7895280": {"doc_hash": "f8a26d82fa0fa6ffe622ec653c90a478d368db40004ac9a9e0412f7336ced015", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "edbbc3fe-1ce8-4f53-8122-c1518c902ad2": {"doc_hash": "aa2939935901eeaa469a999a1706bc4719f6311703cb3ae8aadfdeb54339a05d", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "46faadab-5d39-474c-ab8c-34b0aaecbcf0": {"doc_hash": "1a779cbf5d2d6f97cb78ae6bdccd64aa4c4fbe35ad75a8db010a7a67f31dd012", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "1e0b7567-5d32-423a-83d8-3f307d6b700e": {"doc_hash": "07ca3646a7b1b7279f6711ddb3dcbdfcbaa5b720fefb72846fa912ad90196885", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "cfd560ca-53d6-4590-b12a-5745db897f4b": {"doc_hash": "ca682f0437c84c23cb095e00c3a84d2edab46f47ee217a7176f79f57b5109617", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "d2fe64bd-d84e-4d88-8d58-749ffc41d672": {"doc_hash": "dcf403a85063944ca3251a9b89a03d11188b5cedb7fb7091bd3b9f9b71380f9b", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "fa42da1a-5492-4a12-9647-de4b5fd45173": {"doc_hash": "b5f80aa23e03a0aae9561b082e65dee5e10c92480298e9cfb2372d26ec80325e", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "5fe635f2-bfe2-4988-90a6-a359b58fea3c": {"doc_hash": "7fa6fd0a7f9916bef83e4e9c118ce44f24d3d1f5bb25deb0b9a459e77dba4984", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "fb57c07d-9340-4f0c-a0ab-8abb2d3f561e": {"doc_hash": "2a9d12e3520f078f5414381d0bbda584857bb083e6fcd0e71eced42f1f70a11b", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "567fcbce-6811-4970-b9c3-9ee0cf05326d": {"doc_hash": "95c894a4f713e4bc8122e3e19177a6693d625c3be4512d35e96847b3799505a6", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "9258dab1-738f-4838-9032-291e091f0c24": {"doc_hash": "8768972c4dd010048226394230f543f4c8548313e1792610c7168734be87d781", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "3ae22abf-1746-4a6d-abd0-7b732b5b2c0c": {"doc_hash": "1d43a45d4412f9c5adf400700cca828cb22e26732769d601064f0b8cfba2b351", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "61bfe36a-c381-4fc2-a46a-1787b984d59a": {"doc_hash": "b4a44d8d365e86c3a211be7ddbba2f352dd0b4c4d2523c84797da08d316211d7", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "33a64dab-3338-4a73-9717-591002912636": {"doc_hash": "21479cc68c527cdcdb852247e9b675771c5e1f27bd9a7caf162ee0766140beae", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "7a95d468-2151-41fe-bdfc-c5fe66613596": {"doc_hash": "bcf9ba93b7e7facf085fc20cd0d7d93c0ed7181b080ef17e5c50cdfc8f76d498", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "f9f52a5c-8b64-4887-88a3-874dfb11496c": {"doc_hash": "ab95a0aa5435639167cbc7fce1046a6ea3cabda1bb9f7c56a4b75cd3a90830e7", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "1ea0a4f6-6217-4668-85ab-a79ce88b02d6": {"doc_hash": "4e6fd6252eb0915748b0dd89e76b030344a56925187f299c1c21ce1f2aadbe9d", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "cca53680-cfec-4acb-8714-8440d37f7148": {"doc_hash": "db310d8aa449f556a8577cdb70a4db3ca1e76e68cb3aaae071eff0fe8ecc5553", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "f7039c13-d610-4bd2-ab0d-607724b2b0f3": {"doc_hash": "ef47cce09c15b30cfc14dce7814177bfcc6dd5d099fd65eb197d529c3dcdc018", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "928db243-b639-4757-8066-1b4e0235777e": {"doc_hash": "ebe0e3869d259b746ca8ef91d523f0bc448762d77aa2a767f52b85418f7ac3de", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "c161568b-acd1-4788-ade8-0ce062150395": {"doc_hash": "a8b14c7fbc9db0b1398f2c47e58678ddd7e3e710a24b9eca96f16cc8851593b6", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "724ed2ed-5eeb-4340-a82d-1b487d3db38b": {"doc_hash": "ecc087608c77f843a25eb31008a7f28d6cd8920a196b6d4c009dc3aa73e59359", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "f60aa2b1-7b7b-4d48-9d49-42a726d5ff18": {"doc_hash": "3a24e3b289c355e31f6e01c032385e9a093a8d0a4b6db687c3f766d5ab907c92", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "c10561f7-194a-4cb7-a7de-1782473e7380": {"doc_hash": "ae52733b9e8c13fe18ecaafa7d3620e2910585cdcb6e5906eb94c04f48728112", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "523d09d5-a899-4b6f-88a9-32e5d0f2cfb3": {"doc_hash": "4c326a0d4108d125637e2c35c2e532aa5fa477f7bf03add9c78f1b0c58495500", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "e08752e4-b7a5-4f9f-ae49-eb3dcf0ad139": {"doc_hash": "c354eb6b822e4b0d4e26f66676ca885e026a8c9f62f632a7a87e2eb5ac6a38a8", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "7d860fac-79e5-4ba9-95d4-ee948a8df153": {"doc_hash": "011b224d940a114137f7e198f8473cccdfecc1785602e28268a6bf20a17f35da", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "0c59de60-c7a7-40cc-abc7-78933cde7b5a": {"doc_hash": "1b11647f0428e9ae828ca777681bae63d4f0b15d0637e2e1830dae7a15ce60de", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "8517f1e0-6727-4c48-9076-2631130e8265": {"doc_hash": "afe3a02f659d16a0b8eefe5dee6efdef615b15bb6f093184f6af2b47a91611ed", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "eeaded11-5844-4ec9-b7cb-04261b1425eb": {"doc_hash": "d9e2513e14e634337e032333ec894842b637636038f161508d02ab2d64b7f712", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "92e8b267-4bc7-451d-a994-58a5c7a93aba": {"doc_hash": "6e0b8683661d5688abfab14521edaf4d757ff45d2b2353950e713c8b4ea720a4", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "cf27dddc-c391-4c84-a304-d88a783784a0": {"doc_hash": "a786181f7250dcdde5abca16fa5969154c633a7ab0236937035d23efc79091a6", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "6709d9cb-d44e-46e7-bae1-98d098d6f63b": {"doc_hash": "0e9f5ec12df4f7370961e189c24a36a4913c7cfa44a695c2099778c6a8874116", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "6a3a2062-d539-429d-a000-e2a6b6f823e0": {"doc_hash": "de22fe704fd6333fce66d91a75d108df55a221ea3287407866062128ede6b26d", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "d0a83d03-801e-4b71-8679-308b71147019": {"doc_hash": "d359a41717ae05b62f6fbbb57d4657fe8f88f59fc2d24b2f25c61a45358d6912", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "c5efcc04-aec1-4600-82a6-295c6d526886": {"doc_hash": "b8b29ad2fae902bcc0b350e72bff3e7ef4e42c314e20960acb54692715d9f418", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "2d6fc852-8889-47fa-bee7-05cecbd18417": {"doc_hash": "13da35404b3a288784d66820a18c2d9fa65ba109ecdd1b1512a414609eec31e9", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "a2adbbac-a774-4251-9dd8-1a6437f2c70d": {"doc_hash": "9314819b8f099f6762526bdc4beacaee7556eea8eabff8e1da6f689bbf4e2a4e", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "6fb1f793-3383-4da2-b9ca-7813278bb05c": {"doc_hash": "6781d361f51f18e484d1b08353d13d408c59b3bee8bd199556dbe45d8a8b5f5d", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "622bcfb3-efde-4b27-bea9-a10362e7aa86": {"doc_hash": "47aa805a7bb0430533b033fc1755b3edb94458351de6c886ff20ba6a16d1b7e0", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "1b973b69-6366-4bd8-a08f-c9a7498c7e8e": {"doc_hash": "750f0fb67584ad91bb713b238da28cca615e2b5ec3e025818604a9d23f93a7df", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "7320a70f-6302-4410-a42b-ddd1b52d88f4": {"doc_hash": "95dcfb6b631f949fce1867ce863eb6bc2b39f9def4ee6793355d89681f1ac628", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "36146979-cba8-43a8-b519-29384461f057": {"doc_hash": "277c7fc9e78f7df09758b16e33cee7fa3828e7d995f18ae9fde65925ae0f3292", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "99a93c22-71cf-4b4d-8b5c-56ec4f939783": {"doc_hash": "7e53680806803ecf0519229ded30dddab5e4d455733324ecc864fdd304fb832d", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "d8d2e934-48a7-4dd7-b89f-79eabd685e61": {"doc_hash": "6dda917ca343bb695cce437c5a36e7d13b8a3d7fb35789b7b782c5a31dce4703", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "76b7eedc-9adb-4dd0-8219-2e867e9a4e5e": {"doc_hash": "b17dbe4058e2b905b17c350ad148465c8aad0db9593c3bdef64c9f556aa2ed29", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "4c435522-b6c0-4a13-a42e-0aff9ec25740": {"doc_hash": "061c76b27e42355b4d8c229df3a917e2f36c61d2e47a66a6625112b199e49d51", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "c929021c-83ad-4622-907a-382b93558374": {"doc_hash": "ab6d77c4c21a59b0984f348aa80f6702437ac70924888a5c457760cb82b4d9ff", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "eabaf2d3-952f-4191-bfb3-acd9f922bc7b": {"doc_hash": "f1015471d52a9df0b967f0f708d25038ca9348c1c9e41d03c25a3dfd6b48558a", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "1e15d0c1-68cf-4013-b748-df6a3c034a47": {"doc_hash": "c6a4c64e2d3be645d72b4b414b06109b6deb1d0cebd9c454269c007fed0eda22", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "4284a2ab-ee83-4efc-b537-640c4b02bca9": {"doc_hash": "d6d1cf080599ca95ade414461d97c7f886ef9d210dfc0f528370eeb94c599cdc", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "188ccd05-80e1-4a91-8bf7-650c76449324": {"doc_hash": "0d3c728dbeaa9d5aae77a600295d7ad111b1f2fb215a2f8d5713792fed3d4d54", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "b67226ed-f7fb-4626-8622-c5d1fc9e79b0": {"doc_hash": "94460396bf420bdabf23be183d7bddeb78f77488fda65a293ec640c7b821197d", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "ec0b900a-d7a9-4b03-b90e-9a6db0512839": {"doc_hash": "6c27701579cf441faef71023537a5ee05620c7a6232b3a1499af354270fbc69d", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "d6de6838-02aa-4d66-aa11-e437096e6c7b": {"doc_hash": "46b360a83354d76864423092ee963fddbd7e77d226d2899128ba523699dba0b8", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "d7d60140-b7a0-4f98-b059-4a3af29bb45a": {"doc_hash": "9f7303753061fdc15c5ca79374d4971dda317d14f5d75c22aa9f9c2b0d5e1dad", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "0892871a-b3f6-4577-9620-b2528d1c32eb": {"doc_hash": "b3c0bafc9c2f36b5b0d10dda8673aab065cc765c986ac4c2e943df3041c2b7f2", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "f7d84e44-5e97-436d-98fc-7ca0cbc961e0": {"doc_hash": "bc7246e7d818b46048c7392fa49c7548b7e26c21d70e1542082d073aa3ea103b", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "6618cbed-4fda-4c6e-8fca-a8b200c9fd36": {"doc_hash": "effd8d774e83f3be040654929313a61c4d35d3e7a22dd377d4a702f43754dee6", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "e105af27-e8c4-4970-9523-0d7961ae7fe3": {"doc_hash": "c167277546c47826cea5bf4546f409a7e1823fddd7e11b3838a1614e3f49c106", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "152ff3c7-88f3-4427-9dc0-56e7ff946912": {"doc_hash": "c5e1faa4faa600f3c1e05379b9b61f1363d2e1d89d1d010bc7e4a1091ed1e29c", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "51ca1d1a-30ce-45f5-a56e-cfe2764d12ca": {"doc_hash": "509c1192c2fe0508f80e61af84977496ec2519b044f4ac8f0edc012cc1a79d17", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "4a57717b-df45-4e6a-ba93-fc344c09bed1": {"doc_hash": "f7c6986a1f9aeba5295ffbdffe8c12cfb6799527f98cacc4908312f09dcba858", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "e22063af-a49f-43a9-a7b6-460c4067a22c": {"doc_hash": "76dc909540c55de036e43c91fb860d6adf600699fa63b1e0022404c014ac3510", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "2239f6ba-d974-4b8b-8e9e-d9356a5fd956": {"doc_hash": "4c328130cbd480c0a320b15b5bae6bc22312327cdbbf6bc279ce0381f84effd0", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "75144d2f-3213-4f47-a66a-e41226f5487d": {"doc_hash": "7296d875011025e5c34b6628738da4e322aa4037dce7a96839a862018e8eb5cd", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "83a8ebd6-7621-4ac1-abd2-fdc73cc1bef8": {"doc_hash": "038fb0e8e90c659898d279616b71355ae183e0fec0163a0c899bd257df393f27", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "8cc89621-52d3-48de-b26a-8dc631fa4883": {"doc_hash": "00a477b1c2c9e8c7c835142bb5362759f8838425f8a5d7048164013bb17cde3d", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "bbf66f6c-b36b-4726-a0d0-581be15103ad": {"doc_hash": "208e69107d570ca810164672fa78af0cda73d3f3b29d5f27d030426bff3ef5ee", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "25800da9-bd86-4837-8282-55a956ad73c8": {"doc_hash": "edaee45f7647a00a40cbb778e1ed27abd7d2f6b6eb1538b8b908bb4e98442d93", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "632cd92e-05d3-474f-80ab-4a67ad506c35": {"doc_hash": "4b5aaa15be7a2886b9a46f20e040bcb68f59550b27f965df16bd54c068a309d0", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "91e9f5c2-21a9-4de8-945a-64223437f2c6": {"doc_hash": "dc8bffc6b10e30451c01c943ea7eb141f7a46aecf51c32cac345f2a6e44f9921", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "c2c56bd8-d55d-4703-b8a9-54fd0b17186b": {"doc_hash": "a589a4d18d7c91b678853d31becc9b63c6cd2387ddf269ef78ec1292cd322d71", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "c0ec9d75-59e2-43f4-83d7-d9fdd1eebacc": {"doc_hash": "de18fbf1af46c8647c7ccdb3d32c73fafbf1e8a5db87f21e44681f51dd2fa019", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "198e26d2-cd8f-4c0a-9802-b571eef9cb78": {"doc_hash": "1fd03418ea38edfd8ac7a8fbca6d140fdce2fc6930d727b5fc7d48b9a9828e7f", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "77717870-ea5a-4854-a78d-52359879f1ce": {"doc_hash": "401f8e825b2a83c9e3f979258b5a1812244f55ffcaa43b488ddd3837c08f8303", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "883000bd-ea4d-4686-9288-266baec73020": {"doc_hash": "e70c31b99f3a3ec41b08ff0f4690bb5d5b0c6a33de535b2f653f11e28b76564a", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "d2e6bfcb-3821-49fc-8dac-996c7b626b1a": {"doc_hash": "6a665fafe372e1d5ca44403aadc461460e74470315c3cf6481981b8b0cb5e251", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "74b33dc7-4644-4f21-b58d-ff790f253f8b": {"doc_hash": "0ee965760ffbe9a5e9adcb03f0dd97854ba43fe5541578aa1fa64c96435235b6", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "258f3a19-58da-429b-abb9-3e02c6b915e7": {"doc_hash": "2725377758e8065ff44796dd0f36d3682711bdf04e2d2a932014d47b07d9af77", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "c34cc251-bd83-4ef4-b01a-7f43dd20b845": {"doc_hash": "5901e6ffd943f8398cdce2914b6f0e6da0d9495602d459198eae813c358aafd1", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "413d3227-fccd-4513-8ef7-6bb75f93d88c": {"doc_hash": "272831b69786c1a46da6bea305f596ed6984d851e7bddcd614e4d760d96689f5", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "b4e187b7-cd1d-4a9e-9f59-a7b66c254439": {"doc_hash": "f3719798d7218d769538ac8676f777e99923156f70a1eef4216f60a048d3f231", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "b26a782a-a359-4641-84a1-ba18f2b21da7": {"doc_hash": "c79dfc6920cdc0832935f150f40f32d5ac424af3c75e8cc2e5e5ce196ebeb962", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "bbed7afd-e2cd-4aee-82b8-ebffa14bbbda": {"doc_hash": "6230276cff3cbe25a6cdd44d80b29b44dcc991d0c8d354084082022a0b943193", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "1db0f89f-a273-42bb-8d62-4f03dab7ebf6": {"doc_hash": "e5db8aca981de7944f14f7dbf90536d588acb447abaf3fa0baa779758dd03cbd", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "fc6cebda-e8e4-4efc-903f-6b1733f75f9e": {"doc_hash": "76a728a75122ed41f6c603cbb17bc22f73943ead8f1087c96120df5d7b029a04", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "6bc7f551-c531-4fa2-9572-93e07ae5e33a": {"doc_hash": "2469f74beb0a3258365060847d89970997e736cff175b11105761faf4380e2ca", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "08fdbc9a-1098-458b-8267-0e82ccadf5c6": {"doc_hash": "8b341efa9bd48110d697ac0118577c5046dc2b3f71ef7e6122e19e8f19a8345b", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "36ec631c-2df5-44f9-9264-7236ead028cf": {"doc_hash": "023233fb7790c5e3e5affe3dee6226ba16fafd50e33cbab3a14b17fe104c99ba", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "3c9dc894-3720-4819-8379-bddac6d5c527": {"doc_hash": "071c4b1f91d33462d8d61cdd9a5b94c5c117aae27fbb2ace85b560d4e5f024e6", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "5aed9c36-426f-4e1e-9c78-606c9843711f": {"doc_hash": "3101c36a6408de1bffde9b94078d4f1d28c41b4aec9f747a33938d1aff31b4a3", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "af61c6e7-6507-4131-8737-ad8e0ddde832": {"doc_hash": "1976aa53c5a9342f11946f6aae5bf21ffb27986bfae8fe20b93f104dcc5254fc", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "4a979055-e0e9-4019-9c99-0ee296307da2": {"doc_hash": "8bd40b84ce572eb3783c9288216dcb65c132a6c7fff9eccf5bad96c8dfcb10ea", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "0c40706f-c84e-4f69-aabc-5743c0465f1e": {"doc_hash": "51ed74a6b7fcee31579f3a3c713ea7ee65dc7dc0c32113422d55aa691b0f1a45", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "c5f068b4-ba1d-4813-ac7f-d372eacb578a": {"doc_hash": "7d334fdb75b2e97198058c69f39e1d957d37268ddc1526cb824f9dff57735cda", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "55c490a7-027b-4dea-aa89-e3afb5e3618d": {"doc_hash": "e50bff5f6185c3a526f9010616bcbedbc7cb338d40b2e51585026e5db764a29f", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "38970279-d025-4fdc-bb9b-f8290e01dd5d": {"doc_hash": "08bf13b3b01faae5c6f8df26401930199a0cb513c6b8a096d3e4863ac7344467", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "11f26ebc-bfbf-455f-8e8a-82d12239b1b5": {"doc_hash": "23e985a56d8b806b1eb2027b17ea906a3929654ea78e72978e8575c1d23b1a4b", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "a1607ebf-15c3-47ba-8539-c6a030c34c68": {"doc_hash": "164042c72166864cc40ace520a362ada1abfe2514104089cb2dc64a7e63d1bd8", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "9435f647-ec0d-4025-8702-8d3f2a8bd564": {"doc_hash": "8d94a395ec44ffb3b44d8842c8646ada00ee94b2db42bc7bd8f6ba0f6b68165d", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "543072c8-860d-4a38-b56a-9153968bac5d": {"doc_hash": "dbbbe353465232b9ce6e56f1b330d300d680f02c21b0411acf6711469a1d1789", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "654fd9c3-5a73-4bc6-8230-1b0d35c99ba5": {"doc_hash": "b2c0ff1db2080a8488849e910e88b68b4f6280d2f08b00759c6b38e9bced9533", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "274d4e81-5cfc-44ec-b0d1-0f3a19480c32": {"doc_hash": "a115c5cd56831c4b290ec9751d033eb7b87764f888e565684ffe0c33c62f6b58", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "d5d98831-ec0b-4d9f-bff3-9859504f6942": {"doc_hash": "c63cf6ec8fa2a2c5555601b1ad52d861e07b0eb3d4bc8d8fca200c6ad3b43a61", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "f7f52760-cc27-4a95-be79-de531d705213": {"doc_hash": "d546a1ac0e21da1a53bef072402e060e5f229f4547187612f9fe6e87d77ca88d", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "7bcd63f4-04bf-46fd-9abc-bebf0fa80dc3": {"doc_hash": "7fd29470c68c738ec988bc5e3ee0d1ec4b254fe6d67ab2971ef73d785d6dfd5a", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "166bd55f-6267-475e-81d5-6fe0593acbbe": {"doc_hash": "1dbe97b0781a2a17023056eb7473f0035fd0d3f6c8a9e85035eaa75cdd105f7f", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "112b1a17-98a5-4dc5-8d75-44010e2a85dd": {"doc_hash": "28e345ecfaab18be5bff394a8b1e265f4022bb37ae536550e8940daeea790797", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}, "f46093ec-fbad-49f4-9106-ed3cf25be582": {"doc_hash": "9f6d80ae09418331aabf5ee7ac479a30efeeef6d865a25bd0cd945cd46f52121", "ref_doc_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f"}}, "docstore/ref_doc_info": {"acdfc92d-30db-43d6-a8a4-b9e1936201e7": {"node_ids": ["e8945026-79f5-46bf-a487-05d42fbb24f5"], "metadata": {"page_label": "1", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "f7155f16-fdab-415b-abcf-07a0e3b00077": {"node_ids": ["df182ebd-703c-45bd-b558-8fda7051ed99"], "metadata": {"page_label": "2", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "81964646-c566-45bf-91e9-476b8e8baf88": {"node_ids": ["ca5bf3c5-1f2a-4b97-a884-b624b11c772b"], "metadata": {"page_label": "3", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "059d7b2c-6f3f-4db1-8a65-4e380c835c67": {"node_ids": ["efb30801-bf0a-4fbf-ae63-dca944bdc498"], "metadata": {"page_label": "4", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "f3ce6cdd-c701-402a-bfa8-645386bf0927": {"node_ids": ["a6804783-573a-46b9-bb31-264f1c6cd160"], "metadata": {"page_label": "5", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "934ecba9-d340-4aea-a699-1a5ca898c750": {"node_ids": ["705672ca-d1de-4922-b6c0-c79bffd305a7"], "metadata": {"page_label": "6", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "89c1ea40-8357-4357-88ee-5fb35ef5949d": {"node_ids": ["1d41f55e-6656-431a-9a6a-3a4424b1d0cf"], "metadata": {"page_label": "7", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "97b29c00-9723-4b5c-ab79-ef806442f496": {"node_ids": ["43b2209b-daca-431a-b4cd-11bdc73d23f1"], "metadata": {"page_label": "8", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "458aa599-4e55-4ffb-9fc4-7f062256a552": {"node_ids": ["1597a7a5-b50b-4d9e-a4fe-4df14abceb7c"], "metadata": {"page_label": "9", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "03cdea24-7cdb-4f7e-a10b-cae48257e4b5": {"node_ids": ["c3ea13ca-84b2-4046-80ba-26b91b2e004d"], "metadata": {"page_label": "10", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "5835b3b9-e285-48c2-9d22-9041c03f72ca": {"node_ids": ["ee0dff69-79e6-459b-8818-c97a3368ff99"], "metadata": {"page_label": "11", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "fef75ae2-c0ba-47c4-9219-8c829070e774": {"node_ids": ["fa00efd0-ebe9-4886-8735-03d3e3aaaaef"], "metadata": {"page_label": "12", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "8e7b9414-c868-423f-9289-d0463ba1564c": {"node_ids": ["b6ac072f-b415-474f-9d80-19b065affb4a"], "metadata": {"page_label": "13", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "a19158ae-85ec-4eff-8578-8e82b360b022": {"node_ids": ["76ade6fa-9e1d-4bfc-9368-ed50cf81dfb3"], "metadata": {"page_label": "14", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "07b00654-995b-42f6-848c-edb79df0ba66": {"node_ids": ["5d0fff30-4168-4429-b6f7-11c8fdae26ec"], "metadata": {"page_label": "15", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "bd79e8c5-c275-43ef-8124-e7689fbc126d": {"node_ids": ["8315ad36-b25c-4a84-8f19-db2707fc1fd2", "5bdcc80e-f559-4aad-8d87-ba8fa3db94bd"], "metadata": {"page_label": "16", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "1e9371ee-67e0-4486-a71f-57493b888bf3": {"node_ids": ["6a553fb1-271c-4939-bbbf-70229bae97f3"], "metadata": {"page_label": "17", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "b86ee188-536d-4e73-bac3-f0f5e1158fa8": {"node_ids": ["efd5af06-6eed-4c1b-a671-7e2443a9ce79"], "metadata": {"page_label": "18", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "53d7558b-a5a9-461d-a728-a12d81722f2d": {"node_ids": ["b98f4d9a-f1fa-4fda-8042-378246586c52"], "metadata": {"page_label": "19", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "955fd6c1-ddd7-4903-8d6c-356ff9634780": {"node_ids": ["305b8433-8dd3-4dde-b4d4-e3a6e3220c5a"], "metadata": {"page_label": "20", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "c3f0dce9-f950-43ad-9227-6f67ecafafcf": {"node_ids": ["ac0372a8-80c6-4b0b-abf1-b8a0b06e84db"], "metadata": {"page_label": "21", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "c64577a0-0644-4135-88d7-0706e0c6c57e": {"node_ids": ["17f0598e-487a-4a42-b429-a35404a68b92"], "metadata": {"page_label": "22", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "0fec187c-836f-4762-a4f5-a9db585af4ad": {"node_ids": ["ce02c92c-6bf8-4922-8c03-69370896af33"], "metadata": {"page_label": "23", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "3a76b861-8f41-4dd8-ac1e-b25e41676199": {"node_ids": ["99be60bd-59b2-4da1-8e1d-d2070740a75f"], "metadata": {"page_label": "24", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "7c19f23e-90c3-4a58-840a-9a53bf2ff4dd": {"node_ids": ["fdb3f0e0-f781-40b0-860e-1c7cb550f545"], "metadata": {"page_label": "25", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "8cf5f97b-4cad-413e-83b5-2e1c9379da5b": {"node_ids": ["47ccb464-15ed-4f12-be0c-da067f3d5c7c"], "metadata": {"page_label": "26", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "6e0b4d3c-c287-45e0-8dc7-6cd7a46e6f3f": {"node_ids": ["77c1e124-187c-4d0c-b6d1-b563308fc2d4"], "metadata": {"page_label": "27", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "1806f123-60ee-4652-abf7-dc7a5b166254": {"node_ids": ["b30d14cb-70fa-4e86-89a5-91d5aba69f25"], "metadata": {"page_label": "28", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "515770dc-b7bb-4264-9359-b17b290f9772": {"node_ids": ["0ed974fe-ab5b-4f56-8400-2aea3f0081d0"], "metadata": {"page_label": "29", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "12e785a0-fc73-4488-9109-f658dc260db4": {"node_ids": ["b8377e1e-f9e5-4c05-8382-9e0614ff27a5"], "metadata": {"page_label": "30", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "71a21f70-1c85-407c-bdde-9e9520159a4f": {"node_ids": ["888cdca2-3d2f-43f2-9c28-12a91114441c"], "metadata": {"page_label": "31", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "3e683791-5926-462e-a64e-330f8dd04805": {"node_ids": ["8b27f928-f64d-448d-895a-970008dafa26"], "metadata": {"page_label": "32", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "1f0d1b20-fe49-456c-aeb4-243aff40914f": {"node_ids": ["2e55768f-295a-47d6-a259-ce8c0edd149d"], "metadata": {"page_label": "33", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "5c88b4be-7cf3-4c72-82d7-7c3040ecbea9": {"node_ids": ["7ff62bda-198b-49c1-8049-cc1189965934"], "metadata": {"page_label": "34", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "eeecc0b6-59ec-4e37-825d-fbe64111afd4": {"node_ids": ["6938dc40-cf34-4e64-a862-65e54c1a502c"], "metadata": {"page_label": "35", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "d685f8c9-73cd-4d91-9209-87a8873daf9d": {"node_ids": ["57fd3b5a-1d2d-487d-953a-354dce8b06e0"], "metadata": {"page_label": "36", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "495989f7-abe6-4514-acda-b41be6a9e051": {"node_ids": ["eba558e7-30ab-4950-805b-622fd8364646"], "metadata": {"page_label": "37", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "9d13dc56-43d0-43c1-ae4d-484687f97f7b": {"node_ids": ["a6b12244-b74c-4d8c-a989-ffd1b226289e"], "metadata": {"page_label": "38", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "702e846f-1f65-4de5-af36-168f57d8e0f9": {"node_ids": ["af424cb9-4cff-440c-a391-f47fd6e44729"], "metadata": {"page_label": "39", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "93149ad2-e7ed-47e5-9481-f81f1d65c942": {"node_ids": ["bb4f56ed-dcdf-44c3-acbd-35f407cda6b3"], "metadata": {"page_label": "40", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "12bf57b9-6f9b-4e66-9e4b-85019e66dcf6": {"node_ids": ["63f3599d-b4e6-4447-b7c1-f6629392be3c"], "metadata": {"page_label": "41", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "17693813-9b64-49ad-82c2-7c4706d6aedb": {"node_ids": ["0975880a-ad12-44ba-8f18-8c1c0e78ba15"], "metadata": {"page_label": "42", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "4af15a97-023b-408a-9fa4-f594e9d345f4": {"node_ids": ["b2a251eb-e730-420d-8f23-59179a504723"], "metadata": {"page_label": "43", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "a64edc0e-6edd-4f22-85a6-636627d86a4c": {"node_ids": ["f7d900e3-bafa-4722-8beb-2949d22761ce"], "metadata": {"page_label": "44", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "83292c4a-236d-4ed0-9966-84cc10e8ed11": {"node_ids": ["89206656-6115-40f2-8a89-4e127f8a8056"], "metadata": {"page_label": "45", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "fb56dfc6-7b1d-4247-b9e7-e6af341aca39": {"node_ids": ["e5dcb086-7908-4e55-be0f-8fa9e55ddebe"], "metadata": {"page_label": "46", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "0d095b51-a22d-45ad-bb73-f772911ddd3b": {"node_ids": ["6643578e-7daa-4a13-bab0-fc488b3a274a"], "metadata": {"page_label": "47", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "3ab1c5d3-b696-4a30-8540-a2c17385781f": {"node_ids": ["42bc2394-ca5d-47a8-be87-c265273f1c86"], "metadata": {"page_label": "48", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "66cc9243-62fa-4dce-904b-0d4ce66a5c1c": {"node_ids": ["91de39aa-719c-4e88-957f-9a6df9b6ae7e"], "metadata": {"page_label": "49", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "3f8f4648-6508-49a1-a11e-3f44b86b1d98": {"node_ids": ["8388ad27-ffaa-42fa-8adc-9aef3ea37b64"], "metadata": {"page_label": "50", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "b17c53a0-c3a3-4c99-ad2d-655b50d47f87": {"node_ids": ["567d967c-1b0b-4695-b4eb-06d4d296c37d"], "metadata": {"page_label": "51", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "10f0da7c-86d1-4c19-adbb-cbd02fea988e": {"node_ids": ["030e3902-e404-414c-a655-858611a0a7e8"], "metadata": {"page_label": "52", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "7d10adfc-2fc5-4578-a14e-8f3fb7fc9d91": {"node_ids": ["b09ebec9-87be-48fe-915d-87b422ba93e9"], "metadata": {"page_label": "53", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "4c5033f2-8ca4-43a2-a6a3-202b69db3b15": {"node_ids": ["8a6f9f0c-adb1-462b-af76-1d1f8e31f983"], "metadata": {"page_label": "54", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "4bb1d9cc-d0b7-4d3d-b51f-8198de40d147": {"node_ids": ["f78b1398-594d-4dd5-933f-fd059fd9ee59"], "metadata": {"page_label": "55", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "302aad4d-30f9-41b8-9bf0-642df4e518f6": {"node_ids": ["0de098b8-a1f1-4bf8-9de1-6f343c2f6774"], "metadata": {"page_label": "56", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "1319ae71-b189-48e5-be92-0ecfe4bf6482": {"node_ids": ["da0050aa-0c60-4db1-83d0-5286cada6340"], "metadata": {"page_label": "57", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "5a16da3d-48fd-41f5-bcea-14cb5cf94e77": {"node_ids": ["c0f01f51-786e-4e55-8145-fd67480d4928"], "metadata": {"page_label": "58", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "4b07f9bb-f390-49ca-9227-f65a707c9355": {"node_ids": ["f57c636e-ee00-4ed9-8c90-e7e8b9cb2d0c"], "metadata": {"page_label": "59", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "77365a05-6a62-4fba-a252-19ca8bad91ab": {"node_ids": ["3f0ceb34-c426-495c-a2a9-efe624fdccea"], "metadata": {"page_label": "60", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "89aab658-e625-4a86-9065-43e0cd9a3571": {"node_ids": ["ba6d5782-3a04-4c6b-8ee9-cb68a95ba671"], "metadata": {"page_label": "61", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "19c581b2-1cef-4cbf-9dda-926199afeb44": {"node_ids": ["e56aab8e-3389-42bf-9d78-1d497a5a0eac"], "metadata": {"page_label": "62", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "239111bc-8377-495e-856e-c2f5a97093aa": {"node_ids": ["5b0d7c08-19f4-49bb-9b50-0d9f331db711"], "metadata": {"page_label": "63", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "bead80e7-b897-4ba9-bc17-db02df9829a8": {"node_ids": ["bbd3612b-098b-47e4-89b1-f5606718081d"], "metadata": {"page_label": "64", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "d7957a69-d01d-4c4b-b11e-af603b9559a7": {"node_ids": ["7e5b877c-adee-4fed-9868-dd5e06e44c5e"], "metadata": {"page_label": "65", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "f2645967-7ec9-4745-89bb-ef48ee93169b": {"node_ids": ["44bd721e-d0d4-4a5d-be27-aadeb0ab935d", "cc5bde86-d181-48c8-a37e-15aaa7f908a3"], "metadata": {"page_label": "66", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "564691fc-f5cd-4fd6-b003-8a07a424ebc0": {"node_ids": ["e129860b-7935-46ba-afdf-9fedd3b750a6", "8c8cdf3d-0668-4416-ba1e-3ee63ef2f87d"], "metadata": {"page_label": "67", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "199ca2f8-a253-48cf-9819-c38d40fdc952": {"node_ids": ["54bf89ec-7200-4774-b563-4c20559330b1", "faa39988-3b7e-44b9-9091-19bd591bd2f7"], "metadata": {"page_label": "68", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "c4b8669f-25b0-4f0d-b6b0-c6193a056517": {"node_ids": ["3773d76d-4281-4b86-b545-d243a4e4f9c9", "c7a78489-82d2-45e5-b8de-01a4b023671b"], "metadata": {"page_label": "69", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "12a26a80-eb16-46a4-a1fe-e12c6baf24dd": {"node_ids": ["1280b3c6-58b2-4efc-829d-0cb6ef32c73d", "9073b445-39e9-471f-a47b-3812c98cea55"], "metadata": {"page_label": "70", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "a362312d-c09a-4ad0-a461-36a34449d355": {"node_ids": ["3b87e4cc-dc9b-4daf-baa1-3b71337372a2"], "metadata": {"page_label": "71", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "d5ee9141-f880-4b31-aae5-21cfccc51295": {"node_ids": ["ae25d45b-ca98-418f-8102-aaff78e33191"], "metadata": {"page_label": "72", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "33ebf73f-8bf5-491b-a11a-9c8abf6972c9": {"node_ids": ["2ea7e460-c129-40b2-9e45-965b10954859"], "metadata": {"page_label": "73", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "a87ebe3a-d289-405c-b3cc-4e6766c907bb": {"node_ids": ["f79afc96-fc25-42d0-a54a-a0555f0f865d"], "metadata": {"page_label": "74", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "798f9764-7e66-4260-aa56-f85383049c52": {"node_ids": ["4090b8fe-d3d9-4426-bc8b-348ff5698c63"], "metadata": {"page_label": "75", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "9581ecb3-b52d-4a2b-b964-d995300a3dda": {"node_ids": ["5de6e2b1-c2dd-4ca4-832f-5e74f17ad1d3", "55eb4a68-3998-426e-990c-57054d99c9c9"], "metadata": {"page_label": "76", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "a4d3c8ad-b6e5-46d1-bfea-0bc773e54ae6": {"node_ids": ["8e624e27-b3e1-44c3-b867-eb1bdd7e8a2c"], "metadata": {"page_label": "77", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "7ae57879-2855-41fd-bade-5d2d104fbe81": {"node_ids": ["12f38d2d-1d5e-4e32-9695-e08bd9716bcd", "76e1ed6f-af54-4e8e-8268-6464df53a2dc"], "metadata": {"page_label": "78", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "f78dd0e1-ddfd-4963-a191-1ad909bf03a9": {"node_ids": ["faf3e448-3252-499c-bf5d-a229b3dd4028", "92808096-69a7-4fa4-abb0-006ff3e5d09d"], "metadata": {"page_label": "79", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "d9471389-d12e-489d-a1e8-cb201d62ea58": {"node_ids": ["0e8adb49-9529-4e6e-b107-a58890e940a8"], "metadata": {"page_label": "80", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "3b8bd1f2-8e28-4cf1-9079-533b411929ef": {"node_ids": ["b4a49ac8-c6b5-441f-bd39-1fb8d0668b88"], "metadata": {"page_label": "81", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "b05cd43f-3342-4b65-bfdc-51fc14bfad80": {"node_ids": ["247b9df5-b46e-4eb6-a4bc-8c02f7423306", "f2ebd855-e62c-4aa8-9a17-ffc3d7342dff"], "metadata": {"page_label": "82", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "c6d2966a-f444-44ce-9a1a-a524cb7e64e1": {"node_ids": ["5d3605d5-09a1-43c1-a3a0-743e82a5c224"], "metadata": {"page_label": "83", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "da252093-23e1-461e-8612-25aac4cf58b4": {"node_ids": ["6dcb8ea7-993d-4590-bd96-7b405b37f5c3"], "metadata": {"page_label": "84", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "245d8596-9362-407d-a46f-d4e40e189611": {"node_ids": ["832b03fd-f7a2-4df0-9fb4-5b754751402c"], "metadata": {"page_label": "85", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "3854e337-c694-4760-ad68-cf01554cac9a": {"node_ids": ["7b3be953-3495-4e39-a0ef-00d7ed92878f"], "metadata": {"page_label": "86", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "eb764286-0f4d-47b4-b1ca-f00e657e6c4c": {"node_ids": ["73b79098-1c7b-42d6-bcf3-71ba295129da"], "metadata": {"page_label": "87", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "7001e929-7583-4660-8249-f6a801d02441": {"node_ids": ["ddff7ab9-4e7b-4af9-a19a-c0faba5dac25"], "metadata": {"page_label": "88", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "8bbdb5c9-e2fd-4843-9cbd-db32c9d9571c": {"node_ids": ["75913253-425b-41dd-b7d2-05a71d33bfe5"], "metadata": {"page_label": "89", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "33d70bfe-3f7f-4878-9cfc-2f893a4095b8": {"node_ids": ["3a9f0dd3-4141-4d00-ad7c-9636a1d42b6f"], "metadata": {"page_label": "90", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "c8994bec-0ba5-4304-b447-fd2c25ec4e3b": {"node_ids": ["168ae0d3-2758-415c-a05f-b28cbfd5e7b9"], "metadata": {"page_label": "91", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "78d8c5e0-136b-4f13-a3d4-afef17562cc4": {"node_ids": ["0285e937-e09f-49dc-ace1-792fdefe7daa"], "metadata": {"page_label": "92", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "6c417a64-53bf-4f57-829f-33f3d82d21d8": {"node_ids": ["4809d07b-1d59-4f52-8900-367fd9d37637"], "metadata": {"page_label": "93", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "5448fe54-8789-4cf9-871c-491908dfc3f8": {"node_ids": ["1e7179f6-b72c-4250-8fd1-c0c3f821dd6b"], "metadata": {"page_label": "94", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "3f58e29f-9d5c-4c7f-a37d-129427dfff4f": {"node_ids": ["926c9f8f-8e48-4e5f-b57b-98b04de1e871"], "metadata": {"page_label": "95", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "3230e42a-9a60-4283-9f42-32450e3b1485": {"node_ids": ["d2613c7b-4353-4079-ba06-00313433c0ee"], "metadata": {"page_label": "96", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "913458f3-ab36-4b6f-9b47-132b774ba14d": {"node_ids": ["70edd04f-424c-41e3-8e95-307b10ad4348"], "metadata": {"page_label": "97", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "bbc30a03-9f35-449f-85c9-d7c526507d57": {"node_ids": ["80c33b40-39e3-4fce-8101-72363f3977cb"], "metadata": {"page_label": "98", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "f1eb1176-c792-4fb1-a6b8-71a79885b3e3": {"node_ids": ["4709ab52-9666-4037-a98a-872274c79c08"], "metadata": {"page_label": "99", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "c46f515e-905a-4806-a946-8a5a939c8878": {"node_ids": ["582ba003-4c78-42ef-aab9-0ee1080bac43"], "metadata": {"page_label": "100", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "b91489bb-db66-4f86-a054-672ef66a3396": {"node_ids": ["2e3da65c-007a-42cb-a64f-2c6a4695ee24"], "metadata": {"page_label": "101", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "8bba2347-c956-4e2f-be6c-3b936fb34b0f": {"node_ids": ["c24a885a-c8f7-4155-bbdd-e215f7bb4b54"], "metadata": {"page_label": "102", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "da554e5c-d2c8-4b27-9c58-bcaacbf86278": {"node_ids": ["616f3e36-50c2-4ffe-ac1f-d274ad9cb2dc"], "metadata": {"page_label": "103", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "686875b9-9c5d-4b75-877a-b4bbe2acd9fa": {"node_ids": ["2b1ed378-5cea-4839-8505-93ee2d309c1c"], "metadata": {"page_label": "104", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "689bfc22-fe8a-4f4a-91cb-e8eda39a505f": {"node_ids": ["46003b2e-dce0-4323-97e5-b176217f8ecf"], "metadata": {"page_label": "105", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "1d65ae82-c45b-446a-a1e0-b6ec3daab47f": {"node_ids": ["0c95da02-eb3e-4b99-9db6-37a85902b832"], "metadata": {"page_label": "106", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "a5f0318d-b1f0-40e7-bada-53289ef31d08": {"node_ids": ["c63ef787-edc0-42fc-af05-36a44a318d52"], "metadata": {"page_label": "107", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "be2329a3-d8c4-4834-b373-4b8e0dec2bce": {"node_ids": ["3e8c01db-551d-40c9-82f9-bb7d4d37947c"], "metadata": {"page_label": "108", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "27b08ed8-e6c4-421a-a3c4-d9e6bf397424": {"node_ids": ["e8aeee7c-1aa7-45f1-99c8-ebac68ff9f73"], "metadata": {"page_label": "109", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "e635832b-06cb-442f-bd95-688e5f2e4138": {"node_ids": ["4358e52c-d9ef-453d-b6fd-dff3d2669a35"], "metadata": {"page_label": "110", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "2c0282b7-9371-46f0-9935-ce54813c9593": {"node_ids": ["b48a91d4-d3d3-4540-8223-2f1e7a093d6e"], "metadata": {"page_label": "111", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "b271ef55-4580-49e4-90cc-e2d832e9c32a": {"node_ids": ["50d1de39-5639-462c-8b5b-95520b5976ae"], "metadata": {"page_label": "112", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "a4ed7f99-738c-4809-b71c-44bb220b0ce6": {"node_ids": ["7edfca19-32bf-4d1a-8d46-f25d1168d6c1"], "metadata": {"page_label": "113", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "9e6178fa-3222-4e2d-a109-ecb40dc89700": {"node_ids": ["a625b94b-457a-4750-b86c-1c8f35e34fbd"], "metadata": {"page_label": "114", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "edd3a9d0-669b-4a98-a54c-564d94ee72ca": {"node_ids": ["589206b2-ab1d-4c78-9e81-98367a791e7c"], "metadata": {"page_label": "115", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "196ffd7f-9e90-4dfc-b9e7-ca6104a659d4": {"node_ids": ["aee7517a-1432-4db6-bd17-bd8ac2077a81"], "metadata": {"page_label": "116", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "16b6b3f6-3a98-4f4e-bcce-c2c4f41a496e": {"node_ids": ["491a779c-62e3-4984-b358-13ae36b6a621"], "metadata": {"page_label": "117", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "d1728628-7e5e-4e05-8f32-6d630e271164": {"node_ids": ["69f6dc45-6954-4e5b-b417-f2f46c3bffc0"], "metadata": {"page_label": "118", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "fa325983-8d1d-4608-a56f-069288742534": {"node_ids": ["069743e6-f730-400e-917e-e19606b89518"], "metadata": {"page_label": "119", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "4630cbcb-6c69-4b64-81a7-2695b9342670": {"node_ids": ["a1e3ae70-f3ff-4488-b88b-10e678341cb9"], "metadata": {"page_label": "120", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "f35768dd-f77a-4079-ace9-8e44946c3a26": {"node_ids": ["333cc688-560d-43ea-ac8c-5b5f474274dd"], "metadata": {"page_label": "121", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "d8d26a01-ce44-4d7b-af18-baf9996c7015": {"node_ids": ["b667b761-1a9b-494b-bd6d-a04a30b7165b", "e1b501e9-d37b-4189-aa96-e603a646138d"], "metadata": {"page_label": "122", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "7fb24520-1650-4ae8-bf5f-d65663a7d362": {"node_ids": ["85024c42-29bb-4304-8182-62a5a4abd05d"], "metadata": {"page_label": "123", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "db6d4afb-0b43-4d8d-878d-3be5d680ab71": {"node_ids": ["b2f10628-8b63-446b-beb1-73511e8c6f73"], "metadata": {"page_label": "124", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "af59b468-48c3-4fda-839a-b76586efa0bd": {"node_ids": ["562b7ae4-2fad-4fc1-a7a6-b56d3573f215"], "metadata": {"page_label": "125", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "c3568d70-886c-49c7-bc0a-0b550cf7b6b2": {"node_ids": ["d66be891-bce2-452f-9867-9f5bafa62af6"], "metadata": {"page_label": "126", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "e0699114-2d40-4b22-aff6-d69b3dce47ec": {"node_ids": ["99ffa918-c677-4641-be73-483a5cf6dcf5"], "metadata": {"page_label": "127", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "848a49ac-e352-4fd8-89aa-e5f581070aed": {"node_ids": ["b19bc4ab-76ea-4478-b736-4e1ccef1eb59"], "metadata": {"page_label": "128", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "edff8ffb-372a-46f2-b41b-6f0407724f6a": {"node_ids": ["67163c3a-d541-4261-8418-ea40d600d465"], "metadata": {"page_label": "129", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "65aeeb1f-3b76-428d-8e54-85b5c4625666": {"node_ids": ["d3167c64-f2eb-40c8-9e87-529f4ebfc157"], "metadata": {"page_label": "130", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "1518a612-9ff1-4e21-905c-6a3992a5eec1": {"node_ids": ["0cdf0708-5794-4841-bb70-e8927811c44c"], "metadata": {"page_label": "131", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "a03602a1-b82a-4ffe-8969-cb71ad917422": {"node_ids": ["7d153b61-2fb1-42a6-998b-9c3ad05c9a60"], "metadata": {"page_label": "132", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "9c626e3f-2492-47d0-9f60-d87b38f034bf": {"node_ids": ["3ea8c8de-f63d-485c-9ba8-2b7a810b4f94"], "metadata": {"page_label": "133", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "6a75d59d-e2fb-46a8-86ff-57122ca569d0": {"node_ids": ["eac2c002-f5cd-4b7c-ba65-592c5094175e"], "metadata": {"page_label": "134", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "a9bef263-56e9-4494-ab70-7b349d0fb2ff": {"node_ids": ["19225deb-5dab-4fda-bfd3-edb6479453da"], "metadata": {"page_label": "135", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "c73d065f-ffca-4dbb-b4a7-c8b941731f76": {"node_ids": ["b155397a-4b80-4352-b2b2-0ea535b49687"], "metadata": {"page_label": "136", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "e16f1828-6698-4c89-99df-357f23d1b4c2": {"node_ids": ["6950b454-4f41-44c1-8c99-8fb96153b3e7"], "metadata": {"page_label": "137", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "c8ee354b-8e95-4dde-92c1-4f79498bf65b": {"node_ids": ["f92f9478-251e-4ca4-bb3d-1755bd220d82"], "metadata": {"page_label": "138", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "a81e9e80-ba6b-43e8-b469-b8fbeb835b0e": {"node_ids": ["b7a92e1a-6555-4104-9567-7f4c830d9aee"], "metadata": {"page_label": "139", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "ad97d2b7-4cce-4061-82fc-41d42f79a1aa": {"node_ids": ["2cff95ae-d44e-4906-9ca0-7248a051cf4e"], "metadata": {"page_label": "140", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "2181cf25-461d-46f1-af72-bb712c1a01b7": {"node_ids": ["ae12fa68-140d-4466-9434-ba945f1f1dfb"], "metadata": {"page_label": "141", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "f640cdf1-5a51-4506-a709-819e386b5a2f": {"node_ids": ["b5135c90-65f8-40a5-8403-bf68c1686fc7"], "metadata": {"page_label": "142", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "8686cfb0-9ff8-4cbf-976b-d3c1dd355502": {"node_ids": ["ff332714-02ea-444d-8621-93ca841bb159"], "metadata": {"page_label": "143", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "0f63af28-6f3f-4d5a-a027-83b341b34ec4": {"node_ids": ["55a39423-b8ea-415b-8b9e-83e6d69a186e"], "metadata": {"page_label": "144", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "889fd521-fd67-4ea6-84c6-335d89c18c76": {"node_ids": ["556e731d-7dbd-41a1-956e-9dc81c31107b"], "metadata": {"page_label": "145", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "5911e3d8-a481-4862-b8ce-4081004cb127": {"node_ids": ["12d3ce95-3078-457a-8dcc-29d229ebc3f2"], "metadata": {"page_label": "146", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "0dcae390-98da-453e-ad14-629ef33537c9": {"node_ids": ["09809169-b35e-43c9-bbdb-4eef2ffebee5"], "metadata": {"page_label": "147", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "2048ac3f-af0e-4a57-b8bd-86f6b5537db3": {"node_ids": ["1dca569c-f3c9-452b-b322-d4d00c3044d1"], "metadata": {"page_label": "148", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "66a82d18-8118-40f2-82e1-8489b89f7da6": {"node_ids": ["24520e0e-5e30-47df-a21d-8f7e0f616186"], "metadata": {"page_label": "149", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "1e35bcbf-c6d7-45d4-824e-f3ea1e359a5c": {"node_ids": ["19d81811-4819-4175-88c4-ff06f5977610"], "metadata": {"page_label": "150", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "19b691f0-a704-43d8-83d2-48c7b03d72a9": {"node_ids": ["70fe4429-111c-4159-8824-93bb06c67e15"], "metadata": {"page_label": "151", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "54f4319a-3032-409d-995b-3d2d95e3a1f0": {"node_ids": ["02b9b282-dc33-45c5-93de-0098613328ba"], "metadata": {"page_label": "152", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "b71773b0-a5bf-4f84-933d-a164ab84317a": {"node_ids": ["e876ef53-2891-4856-8f42-11fa38eb5c1a"], "metadata": {"page_label": "153", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "47a6ee7e-16f4-491a-ae3e-66d007d8cbc0": {"node_ids": ["01239710-3adf-4b51-bd9a-e14a927d0c9d"], "metadata": {"page_label": "154", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "03595f6f-9fde-460f-b8f2-e913cadc8410": {"node_ids": ["a577c407-f260-4b4e-b686-bc8790416f4a", "83192149-bad9-4c14-a8e7-d54d06e2a413"], "metadata": {"page_label": "155", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "942ae279-2f82-4b58-9db6-be312879c860": {"node_ids": ["124f0f27-145c-44a6-9c0f-e71eb75c6b2f"], "metadata": {"page_label": "156", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "0390a07f-ec4a-4aa7-a0bb-d693c22fd03c": {"node_ids": ["43088a27-845b-476e-82ea-8b6ddca7f32e"], "metadata": {"page_label": "157", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "c8eebf23-565b-48b4-9e1b-5d349bcde4df": {"node_ids": ["26e5d790-d92d-4c48-8c16-520ef5507f7b"], "metadata": {"page_label": "158", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "b6ada496-94d6-4fc4-bddc-409e81f74b25": {"node_ids": ["8e4b7967-eeff-4ea6-86c7-d6d7727def67"], "metadata": {"page_label": "159", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "d4fd3e4f-a00e-43b9-8a76-630fb2a1ca10": {"node_ids": ["6c4f05f6-40b3-489b-b189-0926939df11c", "f599da98-f255-4e2d-bee0-4f645710372c"], "metadata": {"page_label": "160", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "acf9ce02-98a3-48ce-9e26-a9851befeabf": {"node_ids": ["66328054-c1db-4dc3-bcab-c6613af9ef77"], "metadata": {"page_label": "161", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "aed51a8d-03ab-4718-a526-911a14b71699": {"node_ids": ["56d118df-59ff-4bf3-9ad4-5d7f7188da13"], "metadata": {"page_label": "162", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "6d74e5dc-6e3b-4b00-ad90-d38fd29392a5": {"node_ids": ["f9167514-cbbd-4be4-b271-f48ff39ef6ca", "e8c209be-a525-4aa3-9c46-7461be6e86c9"], "metadata": {"page_label": "163", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "f5f689c3-0bcd-4b92-aa36-51a416b76073": {"node_ids": ["e974899b-9233-459e-b21a-0bbe1e0c826e"], "metadata": {"page_label": "164", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "d792d09c-03d4-4883-8dd2-7e51d50f2d63": {"node_ids": ["c0642c1c-d2ae-4d2c-b823-b91632698237"], "metadata": {"page_label": "165", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "1a0d0a94-1992-4a21-8c4a-a9408a95d4f7": {"node_ids": ["afdb0c12-e26e-49e7-8d4b-aa6c9d857969"], "metadata": {"page_label": "166", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "a0d75184-4272-4052-9728-5b64e064026d": {"node_ids": ["7f114dcb-17f6-46ec-a602-6d17788c9b67"], "metadata": {"page_label": "167", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "50170ea8-c885-4cd8-b3ed-829cb75e44ac": {"node_ids": ["7fd508ce-4006-433a-89e8-5fd15b89a47e"], "metadata": {"page_label": "168", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "0f531bdd-620a-4a90-ba68-02ccf02aa1c0": {"node_ids": ["4fa13af6-190c-498e-bc4d-9faff157a54d", "948ace53-ebf4-4bbc-bf73-986766c525d3"], "metadata": {"page_label": "169", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "d6d0c991-8ab1-4e61-84db-4e1aff629103": {"node_ids": ["436f8e17-1746-45ad-af13-8b348221ad01"], "metadata": {"page_label": "170", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "aab56e0b-7a3f-4409-85e5-d8d23a846069": {"node_ids": ["25cf6996-df05-464d-8634-52f0db5cdc57"], "metadata": {"page_label": "171", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "4237ac70-a787-4f8c-87fe-07fe87fd1cbd": {"node_ids": ["d22b2f0e-948f-40e9-b6df-803c72c7425f"], "metadata": {"page_label": "172", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "a6a73d1c-f854-40ea-8ff2-68f097a21b74": {"node_ids": ["6f9651db-c22c-4594-8886-851686c595b8"], "metadata": {"page_label": "173", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "e29278f5-f97b-48e5-a9c4-64103089c05f": {"node_ids": ["47d5afb1-b8a3-4f4d-8388-a819529cb09d"], "metadata": {"page_label": "174", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "947ba91c-7a2d-4662-9e2f-ee95a61cc89e": {"node_ids": ["a43d7678-5c5d-485f-b834-b1fd5a417924"], "metadata": {"page_label": "175", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "7fccf2cd-1e42-40d8-b72f-91925f053bc3": {"node_ids": ["7479661e-6ae2-417e-bafc-ef16a9942d46"], "metadata": {"page_label": "176", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}}, "9804ab44-e921-4eba-a712-f0d7633dcd0f": {"node_ids": ["856cbecf-1e1d-43d5-9568-c927a22baf18", "8f68d377-876f-45e8-b32d-4b7696e7d2ad", "bd54b312-6ca5-4e5d-a0ec-63b669024a23", "0aacf498-7293-4b4f-a4ee-13397b9806bb", "c6a7f714-73d3-4be1-8697-1536e1310092", "101c7e1b-3085-4d40-babd-e564664f2ff6", "c236e39a-4d88-4c7c-ad2e-de775d31bc5b", "bc39f453-6b5a-423c-8371-f743fe26a015", "f875ab58-950a-4881-a90a-95e9976e4f91", "89dd6d41-37b6-4675-8b1e-e49b27c3de95", "0b7fb695-fdf6-4779-b627-949214d737b4", "28a582fe-93eb-4c34-81b9-b88b95e9029c", "981a6e8b-866d-4c2f-92c7-27a93f1f4287", "48abbcff-602d-4cf4-b760-a8a2a7895280", "edbbc3fe-1ce8-4f53-8122-c1518c902ad2", "46faadab-5d39-474c-ab8c-34b0aaecbcf0", "1e0b7567-5d32-423a-83d8-3f307d6b700e", "cfd560ca-53d6-4590-b12a-5745db897f4b", "d2fe64bd-d84e-4d88-8d58-749ffc41d672", "fa42da1a-5492-4a12-9647-de4b5fd45173", "5fe635f2-bfe2-4988-90a6-a359b58fea3c", "fb57c07d-9340-4f0c-a0ab-8abb2d3f561e", "567fcbce-6811-4970-b9c3-9ee0cf05326d", "9258dab1-738f-4838-9032-291e091f0c24", "3ae22abf-1746-4a6d-abd0-7b732b5b2c0c", "61bfe36a-c381-4fc2-a46a-1787b984d59a", "33a64dab-3338-4a73-9717-591002912636", "7a95d468-2151-41fe-bdfc-c5fe66613596", "f9f52a5c-8b64-4887-88a3-874dfb11496c", "1ea0a4f6-6217-4668-85ab-a79ce88b02d6", "cca53680-cfec-4acb-8714-8440d37f7148", "f7039c13-d610-4bd2-ab0d-607724b2b0f3", "928db243-b639-4757-8066-1b4e0235777e", "c161568b-acd1-4788-ade8-0ce062150395", "724ed2ed-5eeb-4340-a82d-1b487d3db38b", "f60aa2b1-7b7b-4d48-9d49-42a726d5ff18", "c10561f7-194a-4cb7-a7de-1782473e7380", "523d09d5-a899-4b6f-88a9-32e5d0f2cfb3", "e08752e4-b7a5-4f9f-ae49-eb3dcf0ad139", "7d860fac-79e5-4ba9-95d4-ee948a8df153", "0c59de60-c7a7-40cc-abc7-78933cde7b5a", "8517f1e0-6727-4c48-9076-2631130e8265", "eeaded11-5844-4ec9-b7cb-04261b1425eb", "92e8b267-4bc7-451d-a994-58a5c7a93aba", "cf27dddc-c391-4c84-a304-d88a783784a0", "6709d9cb-d44e-46e7-bae1-98d098d6f63b", "6a3a2062-d539-429d-a000-e2a6b6f823e0", "d0a83d03-801e-4b71-8679-308b71147019", "c5efcc04-aec1-4600-82a6-295c6d526886", "2d6fc852-8889-47fa-bee7-05cecbd18417", "a2adbbac-a774-4251-9dd8-1a6437f2c70d", "6fb1f793-3383-4da2-b9ca-7813278bb05c", "622bcfb3-efde-4b27-bea9-a10362e7aa86", "1b973b69-6366-4bd8-a08f-c9a7498c7e8e", "7320a70f-6302-4410-a42b-ddd1b52d88f4", "36146979-cba8-43a8-b519-29384461f057", "99a93c22-71cf-4b4d-8b5c-56ec4f939783", "d8d2e934-48a7-4dd7-b89f-79eabd685e61", "76b7eedc-9adb-4dd0-8219-2e867e9a4e5e", "4c435522-b6c0-4a13-a42e-0aff9ec25740", "c929021c-83ad-4622-907a-382b93558374", "eabaf2d3-952f-4191-bfb3-acd9f922bc7b", "1e15d0c1-68cf-4013-b748-df6a3c034a47", "4284a2ab-ee83-4efc-b537-640c4b02bca9", "188ccd05-80e1-4a91-8bf7-650c76449324", "b67226ed-f7fb-4626-8622-c5d1fc9e79b0", "ec0b900a-d7a9-4b03-b90e-9a6db0512839", "d6de6838-02aa-4d66-aa11-e437096e6c7b", "d7d60140-b7a0-4f98-b059-4a3af29bb45a", "0892871a-b3f6-4577-9620-b2528d1c32eb", "f7d84e44-5e97-436d-98fc-7ca0cbc961e0", "6618cbed-4fda-4c6e-8fca-a8b200c9fd36", "e105af27-e8c4-4970-9523-0d7961ae7fe3", "152ff3c7-88f3-4427-9dc0-56e7ff946912", "51ca1d1a-30ce-45f5-a56e-cfe2764d12ca", "4a57717b-df45-4e6a-ba93-fc344c09bed1", "e22063af-a49f-43a9-a7b6-460c4067a22c", "2239f6ba-d974-4b8b-8e9e-d9356a5fd956", "75144d2f-3213-4f47-a66a-e41226f5487d", "83a8ebd6-7621-4ac1-abd2-fdc73cc1bef8", "8cc89621-52d3-48de-b26a-8dc631fa4883", "bbf66f6c-b36b-4726-a0d0-581be15103ad", "25800da9-bd86-4837-8282-55a956ad73c8", "632cd92e-05d3-474f-80ab-4a67ad506c35", "91e9f5c2-21a9-4de8-945a-64223437f2c6", "c2c56bd8-d55d-4703-b8a9-54fd0b17186b", "c0ec9d75-59e2-43f4-83d7-d9fdd1eebacc", "198e26d2-cd8f-4c0a-9802-b571eef9cb78", "77717870-ea5a-4854-a78d-52359879f1ce", "883000bd-ea4d-4686-9288-266baec73020", "d2e6bfcb-3821-49fc-8dac-996c7b626b1a", "74b33dc7-4644-4f21-b58d-ff790f253f8b", "258f3a19-58da-429b-abb9-3e02c6b915e7", "c34cc251-bd83-4ef4-b01a-7f43dd20b845", "413d3227-fccd-4513-8ef7-6bb75f93d88c", "b4e187b7-cd1d-4a9e-9f59-a7b66c254439", "b26a782a-a359-4641-84a1-ba18f2b21da7", "bbed7afd-e2cd-4aee-82b8-ebffa14bbbda", "1db0f89f-a273-42bb-8d62-4f03dab7ebf6", "fc6cebda-e8e4-4efc-903f-6b1733f75f9e", "6bc7f551-c531-4fa2-9572-93e07ae5e33a", "08fdbc9a-1098-458b-8267-0e82ccadf5c6", "36ec631c-2df5-44f9-9264-7236ead028cf", "3c9dc894-3720-4819-8379-bddac6d5c527", "5aed9c36-426f-4e1e-9c78-606c9843711f", "af61c6e7-6507-4131-8737-ad8e0ddde832", "4a979055-e0e9-4019-9c99-0ee296307da2", "0c40706f-c84e-4f69-aabc-5743c0465f1e", "c5f068b4-ba1d-4813-ac7f-d372eacb578a", "55c490a7-027b-4dea-aa89-e3afb5e3618d", "38970279-d025-4fdc-bb9b-f8290e01dd5d", "11f26ebc-bfbf-455f-8e8a-82d12239b1b5", "a1607ebf-15c3-47ba-8539-c6a030c34c68", "9435f647-ec0d-4025-8702-8d3f2a8bd564", "543072c8-860d-4a38-b56a-9153968bac5d", "654fd9c3-5a73-4bc6-8230-1b0d35c99ba5", "274d4e81-5cfc-44ec-b0d1-0f3a19480c32", "d5d98831-ec0b-4d9f-bff3-9859504f6942", "f7f52760-cc27-4a95-be79-de531d705213", "7bcd63f4-04bf-46fd-9abc-bebf0fa80dc3", "166bd55f-6267-475e-81d5-6fe0593acbbe", "112b1a17-98a5-4dc5-8d75-44010e2a85dd", "f46093ec-fbad-49f4-9106-ed3cf25be582"], "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}}}, "docstore/data": {"e8945026-79f5-46bf-a487-05d42fbb24f5": {"__data__": {"id_": "e8945026-79f5-46bf-a487-05d42fbb24f5", "embedding": null, "metadata": {"page_label": "1", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "acdfc92d-30db-43d6-a8a4-b9e1936201e7", "node_type": "4", "metadata": {"page_label": "1", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "185a5e15550a1ebe1e9396890e0889867ffbb95a8096b73ed69f17d11d059248", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\n29 ENRD\nEngine roughness determination\nFile: N/A\n7572Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 537, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "df182ebd-703c-45bd-b558-8fda7051ed99": {"__data__": {"id_": "df182ebd-703c-45bd-b558-8fda7051ed99", "embedding": null, "metadata": {"page_label": "2", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f7155f16-fdab-415b-abcf-07a0e3b00077", "node_type": "4", "metadata": {"page_label": "2", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "c90276b2300838c9b91b819200893a12cf519d628b864f5c599250456b392d19", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, ENRD General\n29.1 ENRD General\n29.1.1 General description\nThe goal of the ENRD is to provide an engine roughness information to functions linked to combustion process\nlike mis?re monitoring, engine roughness control and cylinder balancing.\n29.1.2 Architecture Overview\n404Q \nEngine Roughness \nSegment Time \nCorrection \n402E \nEngine Roughness \nCalculation \n402P \nEngine Roughness \nCalculation - \nApplication Incidences \n404R \nEngine Roughness \nAdaptive Learning \nProcess \nA0EL \nEngine Roughness \nDiagnosis \nA0EM \nEngine Roughness \nDiagnosis - \nApplication Incidences \n100K \nENRD Configuration \nData \nENSD ENRD MISF \nENRC \nCYBL \nERRM \nENRD_SIGCVSEG0 \nENRD_ADCPR0 \nENRD_CONFI0 \nENRD_SIGCVER1 \nENRD_SIGCVER0 \nENRD_SIGDG0 \nENRD_SIGDG1 \n29.1.3 Description of the containing functions\n29.1.3.1 404Q Engine roughness segment time correction\nSegment times coming from ENSD are managed and corrected according adaptive learning values obtained\nin 404R module.\n29.1.3.2 402P Engine roughness calculation - Application Incidences\nApplication speci?c requirements, fade-out requests are handled to act on the generic function core. (Template\nmodule, modi?ed by the project according its integration environment)\n29.1.3.3 402E Engine roughness calculation\nEngine roughness indexes calculation is grounded on corrected segment time samples provided by 404Q\nmodule.\n29.1.3.4 404R Engine roughness adaptive learning process\nEngine roughness adaptive learning process provides adaptive values to 404Q module, to minimise noises\nproduced by ?ywheel mechanical tolerances.\nThis module also consumes fade-out requests coming from 402P module.\n29.1.3.5 A0EM Engine roughness diagnosis - Application Incidences\nApplication speci?c requirements, fade-out requests are handled to act on the generic engine roughness diag-\nnosis function. (Template module, modi?ed by the project according its integration environment)\nFile: 30101P01.00A\n7573Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2406, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ca5bf3c5-1f2a-4b97-a884-b624b11c772b": {"__data__": {"id_": "ca5bf3c5-1f2a-4b97-a884-b624b11c772b", "embedding": null, "metadata": {"page_label": "3", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "81964646-c566-45bf-91e9-476b8e8baf88", "node_type": "4", "metadata": {"page_label": "3", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "08bf8d824d7ae46f20d88c78d41c484a3c3b518695f51580e34b4e9a76f966d6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, ENRD General\n29.1.3.6 A0EL Engine roughness diagnosis\nThis modules provides two diagnosis :\nA diagnosis for the ER segment acquisition (thin synchronisation default criterion).\nA check range diagnosis for the ER adaptive values obtained by the 404R module.\n29.1.3.7 100K ENRD Con?guration data\nThis module de?nes ENRD con?guration data used during software integration & compilation. These con?g-\nuration options de?nes mainly data and buffer size according the number of cylinders. This module is not\nattached to a software task.\nFile: 30101P01.00A\n7574Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1044, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "efb30801-bf0a-4fbf-ae63-dca944bdc498": {"__data__": {"id_": "efb30801-bf0a-4fbf-ae63-dca944bdc498", "embedding": null, "metadata": {"page_label": "4", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "059d7b2c-6f3f-4db1-8a65-4e380c835c67", "node_type": "4", "metadata": {"page_label": "4", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "38cfab84adca36c7960ca0b883b8bfd75d313ec0b849eec86c04888fe807a00a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, ENRD Con?guration data\n29.2 ENRD Con?guration data\n\ufffd Input Data\nNC_CYL_NR\n{p. 1316}\nNC_NR_LOAD_MIS_1_ENRD NC_NR_N_32_4_ENRD NC_NR_N_32_5_ENRD\nNC_SEG_DLY_ER_MES\n{p. 7580}\nNC_SIZE_SEG_AD_COR_ER\n{p. 7581}\nNC_SIZE_SEG_T_COR_BUF\n{p. 7615}\nNLC_CONF_GAIN_ADD_ER\n{p. 7615}\nNLC_ER_CON_MISF\n{p. 7615}\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_ENRD_VERS V 0... FFH 0... 255 1 -\nENRD aggregate version\n\ufffd General Information\nThe following describes the general rules for determination of the con?guration data\n\ufffd Local Con?guration Data:\nHere are listed the con?guration data, which can be used within an aggregate:\nCon?guration Item Range Value Comment\nNC_ENRD_VERS\nENRD aggregate version\n0... 255\n0... FFH\n1 [-]\n0x1\nNC_NR_LOAD_MIS_1_ENRD\nNumber of breakpoints for\nLDPM_LOAD_MIS_IP_FAC_ADD_ER\naxis\n1... 255\n1... FFH\n1 [-]\n0x1\nNC_NR_N_32_4_ENRD\nNumber of breakpoints for\nLDPM_N_32_4_ENRD axis\n1... 255\n1... FFH\n1 [-]\n0x1\nNC_NR_N_32_5_ENRD\nNumber of breakpoints for\nLDPM_N_32_5_ENRD axis\n1... 255\n1... FFH\n1 [-]\n0x1\nNC_SEG_DLY_ER_MES\nDelay between ER segment and\nCylinder measured segment\n0 ...2\n0... 2H\n1 -\n0x1\nNC_SIZE_SEG_AD_COR_ER\nSize of the interpollation tables for\nadaptive value correction\n0... 10\n0... AH\n1 -\n0x1\nNC_SIZE_SEG_T_COR_BUF\nSize of the array of engine roughness\ncorrected segment times\n0... 255\n0... FFH\n9 -\n0x9\nNLC_CONF_GAIN_ADD_ER\nER multiplicative and additive\ncorrection enable\n0 ...1\n0... 1H\n1 -\n0x1\nFile: AE100K01.00E\n7575Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1958, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a6804783-573a-46b9-bb31-264f1c6cd160": {"__data__": {"id_": "a6804783-573a-46b9-bb31-264f1c6cd160", "embedding": null, "metadata": {"page_label": "5", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f3ce6cdd-c701-402a-bfa8-645386bf0927", "node_type": "4", "metadata": {"page_label": "5", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "95dc6ac06f450672d25e84e881ef9ac235f3dbf9a6a35c079f4074dbdac4f320", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, ENRD Con?guration data\nCon?guration Item Range Value Comment\nNLC_ER_CON_MISF\nSpeci?c ER calculation for\nconsecutive mis?re detection\n0 ...1\n0... 1H\n1 -\n0x1\nFile: AE100K01.00E\n7576Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 669, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "705672ca-d1de-4922-b6c0-c79bffd305a7": {"__data__": {"id_": "705672ca-d1de-4922-b6c0-c79bffd305a7", "embedding": null, "metadata": {"page_label": "6", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "934ecba9-d340-4aea-a699-1a5ca898c750", "node_type": "4", "metadata": {"page_label": "6", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "926078a9e0d79a909de92047228f3c11135f8c8a98375c10c2f81ce89582f919", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3 Engine roughness segment time correction\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nLV_ENA_SEG_T_MES O/V 0... 1H 0 ...1 1 -\nEngine roughness segment time validity ?ag\nSEG_AD_COR_ER V 8000... 7FFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nER segment adaptive values correction versus engine speed (for each segment)\nSEG_NR_MES O/V 0... BH 0... 11 1 -\nPhasing reference of ER segment acquisition\nSEG_T_COR O/V 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nCurrent ER corrected segment time\nSEG_T_COR_BUF [NC_SIZE_SEG_T_COR_BUF] O 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nER corrected segment times buffer (after adaptation)\nSEG_T_COR_BUF_CH [NC_SIZE_SEG_T_COR_BUF] O 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nER corrected segment times buffer (after adaptation) for catalyst heating window\nSEG_T_COR_CH O/V 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nCurrent ER corrected segment time for catalyst heating window\nSEG_T_MES O/V 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nEngine roughness raw segment time relative to former TDC\nSEG_T_MES_CH O/V 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nEngine roughness raw segment time of catalyst heating window relative to former TDC\nSEG_T_MES_CYL [NC_CYL_NR] O/V 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nBuffer of cylinder engine roughness raw segment times\n\ufffd Input Data\nCRK_WIN_SEG_LEN\n{p. 8005}\nLV_AT\n{p. 24737}\nLV_CVT\n{p. 24737}\nLV_DCT\n{p. 24737}\nLV_ER_WIN_CH_AD\n{p. 7646}\nLV_INH_MIS_CRK\n{p. 8005}\nLV_LIH_ERR_CRK\n{p. 8043}\nLV_SYN_ENG\n{p. 8043}\nN_32\n{p. 8079}\nNC_CYL_NR\n{p. 1316}\nSEG_AD_MMV_ER\n[NC_CYL_NR]\n{p. 7647}\nSEG_AD_MMV_ER_CH\n[NC_CYL_NR]\n{p. 7647}\nSEG_NR\n{p. 8036}\nT_CRK_WIN_ENSD\n{p. 8036}\nT_SEG_CRK_WIN\n{p. 8005}\nT_SEG_ER\n{p. 8005}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_SEG_T_MES_MAX V 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nER maximum valid segment time\nC_SEG_T_MES_MIN V 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nER minimum valid segment time\nIP_SEG_AD_COR_ER_AT_1 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nFile: 30404Q07.00A\n7577Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2590, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1d41f55e-6656-431a-9a6a-3a4424b1d0cf": {"__data__": {"id_": "1d41f55e-6656-431a-9a6a-3a4424b1d0cf", "embedding": null, "metadata": {"page_label": "7", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "89c1ea40-8357-4357-88ee-5fb35ef5949d", "node_type": "4", "metadata": {"page_label": "7", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "81dbf361ed313362767cbd8d326ddcd4fdf28deba65c3251c64b52b2be03ae74", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\nName Mode Coded Limits Display Limits Resolution Unit\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in AT for segment 1\nIP_SEG_AD_COR_ER_AT_2 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in AT for segment 2\nIP_SEG_AD_COR_ER_AT_3 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in AT for segment 3\nIP_SEG_AD_COR_ER_AT_4 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in AT for segment 4\nIP_SEG_AD_COR_ER_AT_5 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in AT for segment 5\nIP_SEG_AD_COR_ER_CVT_1 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in CVT for segment 1\nIP_SEG_AD_COR_ER_CVT_2 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in CVT for segment 2\nIP_SEG_AD_COR_ER_CVT_3 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nFile: 30404Q07.00A\n7578Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2090, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "43b2209b-daca-431a-b4cd-11bdc73d23f1": {"__data__": {"id_": "43b2209b-daca-431a-b4cd-11bdc73d23f1", "embedding": null, "metadata": {"page_label": "8", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "97b29c00-9723-4b5c-ab79-ef806442f496", "node_type": "4", "metadata": {"page_label": "8", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "d265533b316cbeff5cd458d6321e9c836f1f70dde7075a0251c40fb999641526", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\nName Mode Coded Limits Display Limits Resolution Unit\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in CVT for segment 3\nIP_SEG_AD_COR_ER_CVT_4 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in CVT for segment 4\nIP_SEG_AD_COR_ER_CVT_5 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in CVT for segment 5\nIP_SEG_AD_COR_ER_DCT_1 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in DCT for segment 1\nIP_SEG_AD_COR_ER_DCT_2 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in DCT for segment 2\nIP_SEG_AD_COR_ER_DCT_3 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in DCT for segment 3\nIP_SEG_AD_COR_ER_DCT_4 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in DCT for segment 4\nIP_SEG_AD_COR_ER_DCT_5 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nFile: 30404Q07.00A\n7579Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2099, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1597a7a5-b50b-4d9e-a4fe-4df14abceb7c": {"__data__": {"id_": "1597a7a5-b50b-4d9e-a4fe-4df14abceb7c", "embedding": null, "metadata": {"page_label": "9", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "458aa599-4e55-4ffb-9fc4-7f062256a552", "node_type": "4", "metadata": {"page_label": "9", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "c24d782f347e307ecf0e569e6d9b56dc0bb096aecb8c83b200555ff21c3f8dd3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\nName Mode Coded Limits Display Limits Resolution Unit\nLDPM_N_32_6_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in DCT for segment 5\nIP_SEG_AD_COR_ER_MT_1 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_1_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in MT for segment 1\nIP_SEG_AD_COR_ER_MT_2 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_1_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in MT for segment 2\nIP_SEG_AD_COR_ER_MT_3 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_1_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in MT for segment 3\nIP_SEG_AD_COR_ER_MT_4 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_1_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in MT for segment 4\nIP_SEG_AD_COR_ER_MT_5 V 0... FFFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nLDPM_N_32_1_ENRD NC_\nSIZE_\nSEG_AD_\nCOR_ER\n0... FFH 0... 8160 32 rpm\nAdaptive value correction versus engine speed in MT for segment 5\nLC_SEL_T_SEG_CRK_WIN V 0... 1H 0 ...1 1 -\nSelection of Engine roughness segment time for catalyst heating window\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_FID_SEG_T_MES - 0... FFFFH 0... 65535 1 -\nGet Permission for Engine Roughness segment time calculation\nNC_SEG_DLY_ER_MES V 0... 2H 0 ...2 1 -\nDelay between ER segment and Cylinder measured segment\nFile: 30404Q07.00A\n7580Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2185, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c3ea13ca-84b2-4046-80ba-26b91b2e004d": {"__data__": {"id_": "c3ea13ca-84b2-4046-80ba-26b91b2e004d", "embedding": null, "metadata": {"page_label": "10", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "03cdea24-7cdb-4f7e-a10b-cae48257e4b5", "node_type": "4", "metadata": {"page_label": "10", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "cbd5547406d493bd1e923ce8d07e505358f9b4ab272479b38ba2034440cd1f14", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\nName Mode Coded Limits Display Limits Resolution Unit\nNC_SIZE_SEG_AD_COR_ER V 0... AH 0... 10 1 -\nSize of the interpollation tables for adaptive value correction\nNC_SIZE_SEG_T_COR_BUF V 0... FFH 0... 255 1 -\nSize of the array of engine roughness corrected segment times\n\ufffd Import actions:\nACTION_FARM_GetPermission(IN <PRM_FID>, OUT <PRM_LV_PRMS>)\n\ufffd General Information\n\ufffd Application Conditions\nInitialisation: RST, ERU2ES, Deactivation\nActivation: LV_SYN_ENG == 1\nDeactivation: LV_SYN_ENG == 0\nRecurrence: SEG\n\ufffd Function Description\nFile: 30404Q07.00A\n7581Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1087, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ee0dff69-79e6-459b-8818-c97a3368ff99": {"__data__": {"id_": "ee0dff69-79e6-459b-8818-c97a3368ff99", "embedding": null, "metadata": {"page_label": "11", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5835b3b9-e285-48c2-9d22-9041c03f72ca", "node_type": "4", "metadata": {"page_label": "11", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "dac739f381cf712649d0960a421e5dfd572e4fe5ca9ba76b4655f5d812ff5321", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\nSDA_SRS / SDA V 6.0.3 / 29?Oct?2009\n10\nT_SEG_ER\n11\nT_SEG_CRK_WIN\n12\nT_CRK_WIN_ENSD\nLV_ENA_SEG_T_MES:  O V   \nSEG_AD_COR_ER:    V   \nSEG_NR_MES:  O V   \nSEG_T_COR:  O V   \nSEG_T_COR_BUF:  O     \nSEG_T_COR_BUF_CH:  O     \nSEG_T_COR_CH:  O V   \nSEG_T_MES:  O V   \nSEG_T_MES_CH:  O V   \nSEG_T_MES_CYL:  O V   \nT_SEG_ER_CH:  ? ? ? \nV. 6.4\n4\nSEG_T_MES_CYL\n7\nSEG_T_MES_CH\n3\nSEG_T_MES\n8\nSEG_T_COR_CH\n9\nSEG_T_COR_BUF_CH\n6\nSEG_T_COR_BUF\n5\nSEG_T_COR\n2\nSEG_NR_MES\n9\nSEG_NR\n15\nSEG_AD_MMV_ER_CH\n8\nSEG_AD_MMV_ER\nf()\ninput\nfeedback\nopm_seg\nOPM_SEG\nX.2\n7\nN_32\n6\nNC_CYL_NR\nMux\n5\nLV_SYN_ENG\n4\nLV_LIH_ERR_CRK\n3\nLV_INH_MIS_CRK\n13\nLV_ER_WIN_CH_AD\n1\nLV_ENA_SEG_T_MES\n17\nLV_DCT\n16\nLV_CVT\n1\nLV_AT\nf()\nini\nINI\nX.1\nENRD_SIGCVSEG0__SEG\nENRD_SIGCVSEG0__RST\nENRD_SIGCVSEG0__ERU2ES\nDemux\nNC_SIZE_SEG_AD_COR_ER\nV. 6.4\n14\nCRK_WIN_SEG_LEN\nRST\nERU2ES\nSEG\nLV_SYN_ENG\nfc_INI\ndeactivation\nfc_OPM\nRecurrence:        SEG\nInit:             RST\n            ERU2ES\nActivation: \nDeactivation: \nLV_SYN_ENG==1\nLV_SYN_ENG==0\nV. 5.13\n17\nACTION_FARM_GetPermission_T3\nFigure 29.3.1:\nFile: 30404Q07.00A\n7582Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1587, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fa00efd0-ebe9-4886-8735-03d3e3aaaaef": {"__data__": {"id_": "fa00efd0-ebe9-4886-8735-03d3e3aaaaef", "embedding": null, "metadata": {"page_label": "12", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fef75ae2-c0ba-47c4-9219-8c829070e774", "node_type": "4", "metadata": {"page_label": "12", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "7b8dbd06877fc2852c279ae7185ee001cbdd63efca8250116e126712ae1aee26", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.1 Initialization\n1\nini\n[ NC_SIZE_SEG_T_COR_BUF ] array\ninit = 1999999.7\nV. 5.6\n[ NC_SIZE_SEG_T_COR_BUF ] array\ninit = 1999999.7\nV. 5.6\n[ NC_CYL_NR ] array\ninit = 1999999.7\nV. 5.6\n1999999.7\n1999999.7\n1999999.7\n1999999.7\n0\n0\n0\nf()\nSEG_T_MES_CH\nSEG_T_COR_BUF_CH\nSEG_T_COR_CH\nini\nSEG_T_COR\nSEG_T_COR_BUF\nSEG_AD_COR_ER\nLV_ENA_SEG_T_MES\nSEG_T_MES_CYL\nSEG_T_MES\nSEG_NR_MES\nFigure 29.3.2:\n29.3.2 Formula section\n29.3.2.1 SEGMENT TIME ACQUISITION\nThe ER segments provided by the aggregate ENSD, are used to observe in-cylinder combustion effects on\ncrankshaft. The cylinder x combustion is located between cylinder X tdc and cylinder X+1 tdc. Consequently,\nat X+1 tdc, the T_SEG_ER obtained is relative to cylinder X combustion, a delay of 1 tdc between SEG_NR value\nat cylinder observed (NC_SEG_DLY_ER_MES=1).\nExceptionally, if the segment is located after ER segment, this delay must be cancelled (NC_SEG_DLY_ER_\nMES=0), because in such case the phasing reference SEG_NR is updated after T_SEG_ER acquisition.\nSEG_NR_MES, the ER segments phasing reference, will be used to identify which cylinder is observed with the\ncurrent engine roughness segment, it?s particularly useful for ER segment adaptive values identi?cation.\nFile: 30404Q07.00A\n7583Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1775, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b6ac072f-b415-474f-9d80-19b065affb4a": {"__data__": {"id_": "b6ac072f-b415-474f-9d80-19b065affb4a", "embedding": null, "metadata": {"page_label": "13", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8e7b9414-c868-423f-9289-d0463ba1564c", "node_type": "4", "metadata": {"page_label": "13", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "fe14d2d66585bd663f63a19d224320ed95b747de7bd43d9db6e3f44703aed7e6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n6 Cylinder Engine Example : NC_SEG_DLY_ER_MES = 1 \nT_SEG_CRK[1] T_SEG_CRK[0] T_SEG_CRK[3] T_SEG_CRK[2] T_SEG_CRK[4] \nT_SEG_ER[1] T_SEG_ER[0] T_SEG_ER[3] T_SEG_ER[2] T_SEG_ER[4] T_SEG_ER[5] \nSEG_NR_MES \nSEG_NR \nCylinder Number \n0\nA\n5\nEvents SEG \nCRK \nTDC \nCyl 0 \nSEG \nER \n1\nB\n0\nSEG \nCRK \nTDC Cyl 1 \nSEG \nER \n2\nC\n1\nSEG \nCRK \nTDC Cyl 2 \nSEG \nER \n3\nD\n2\nSEG \nCRK \nTDC Cyl 3 \nSEG \nER \n4\nE\n3\nSEG \nCRK \nTDC Cyl 4 \nSEG \nER \n5\nF\nSEG \nCRK \nTDC \nCyl 5 \nT_SEG_CRK[5] \nFigure 29.3.3:\n1\nSEG_NR_MES\nmod\nNC_SEG_DLY_ER_MES\n2\nNC_CYL_NR\n1\nSEG_NR\nFigure 29.3.4:\n29.3.2.2 Segment time buffers management & control\nHere?s described the segment time buffers management & control\nER current raw segment time:\nT_SEG_ER (input from ENSD)\nComing directly from the ENSD aggregate and update at each ER segment task according ER segment\ncounter (SEG_NR_MES).\nActual ER segment time sample is considered UNVALID if :\n1. Engine synchronisation is disable (LV_SYN_ENG=0)\n2. When on one crankshaft revolution at least one tooth less or more has been detected (LV_INH_MIS_CRK = 1\nbefore antibounce counter),\n3. When the crahshaft error or limp home is activated (LV_ERR_CRK=1 or LV_LIH_ERR_CRK=1)\n4. SEG_T_MES obtained exceeds a de?ned valid range (C_SEG_T_MES_MIN & C_SEG_T_MES_MAX)\nCylinder ER raw segment times:\nSEG_T_MES & SEG_T_MES_CYL[NC_CYL_NR] (outputs)\nSEG_T_MES_CYL[i] is ?lled depending on the actual adaptation window (LV_ER_WIN_CH_AD). The Actual values\nSEG_T_MES and SEG_T_MES_CH are always provided for adaptive learning process.\nSegment time of CH window is calculated from CRK tooth window event or CRK tooth segment and width.\nSelection of the method is controlled by a switch.\nFile: 30404Q07.00A\n7584Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2215, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "76ade6fa-9e1d-4bfc-9368-ed50cf81dfb3": {"__data__": {"id_": "76ade6fa-9e1d-4bfc-9368-ed50cf81dfb3", "embedding": null, "metadata": {"page_label": "14", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a19158ae-85ec-4eff-8578-8e82b360b022", "node_type": "4", "metadata": {"page_label": "14", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "7e4240af42a80ffb1b2eeaaf25fb6f6c632cf3bfb2c029ccc1fef42e66006b1c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\nThis is a buffer where segment time values (after data casting) are stored according SEG_NR_MES counter. It\nallows having a memory of raw ER segments on a complete engine cycle. These values will be used by the\nER adaptive learning process.\nThis buffer is ?lled with ER normal or ER CH segment time based on segment adaptation window (LV_ER_WIN_\nCH_AD).\nUnit mismatch has been taken care for T_SEG_ER by multiplying with 1000000.\nFile: 30404Q07.00A\n7585Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 984, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5d0fff30-4168-4429-b6f7-11c8fdae26ec": {"__data__": {"id_": "5d0fff30-4168-4429-b6f7-11c8fdae26ec", "embedding": null, "metadata": {"page_label": "15", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "07b00654-995b-42f6-848c-edb79df0ba66", "node_type": "4", "metadata": {"page_label": "15", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "c4a19601675c30edf757898d7a337da06a7c104a75ff4cf5a072489672b84730", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\nSeconds  ???>Microseconds \nconversion\nZero based indexing\nSeconds  ???>Microseconds \nconversion 5\nSEG_T_MES_CH\n4\nT_SEG_ER_CH\n3\nLV_ENA_SEG_T_MES\n2\nSEG_T_MES_CYL\n1\nSEG_T_MES\nV. 5.5C\n0\nu\nsize: [NC_CYL_NR]V. 6.1\nV. 6.1\nV. 6.1\nV. 6.1\nCheck ~= 0\nV. 6.4\nCheck ~= 0\nV. 6.4\nCheck ~= 0\nV. 6.4\nCheck ~= 0\nV. 6.4\nNOT\nNOT\nV. 6.2\nNOT\nV. 6.2\nV. 6.7\nV. 6.7\nOR\n<\n<\n>\n>\nV. 6.8\nV. 6.8\nNC_FID_SEG_T_MES\nV. 6.4\n1999999.7\n1000000\nV. 6.4\n1999999.7\n1000000\nLC_SEL_T_SEG_CRK_WIN\nV. 6.4\nC_SEG_T_MES_MIN\nC_SEG_T_MES_MAX\n720\nV. 6.4\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\n11\nLV_ER_WIN_CH_AD\n10\nNC_CYL_NR\n9\nCRK_WIN_SEG_LEN\n8\nT_CRK_WIN_ENSD\n7\nT_SEG_CRK_WIN\n6\nLV_LIH_ERR_CRK\n5\nACTION_FARM_GetPermission\n4\nLV_INH_MIS_CRK\n3\nLV_SYN_ENG\n2\nT_SEG_ER\n1\nSEG_NR_MES\nSEG_T_MES_CYL\nFigure 29.3.5:\nFile: 30404Q07.00A\n7586Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1328, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8315ad36-b25c-4a84-8f19-db2707fc1fd2": {"__data__": {"id_": "8315ad36-b25c-4a84-8f19-db2707fc1fd2", "embedding": null, "metadata": {"page_label": "16", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "bd79e8c5-c275-43ef-8124-e7689fbc126d", "node_type": "4", "metadata": {"page_label": "16", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "a6da0e1f83b1ab560fd212b284f3b8294c357fcdff9926e49ce04dc8a8853529", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5bdcc80e-f559-4aad-8d87-ba8fa3db94bd", "node_type": "1", "metadata": {}, "hash": "c9b57fff30f352794434a5468f9552f2e16614e39e17285926cf3dec69bae19d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3 SEGMENT ADAPTIVE PROCESS\nDue to crankshaft ?exion appearance at high engine speed that decreases the mis?re detection ef?ciency, an\nopen-loop adaptive correction value depending on engine speed for each cylinder can be introduced per type\nof transmission.\nA correction can be applied only for each singular segment of the ?ywheel.\nS E G _ N R _ M E S N C _ C YL _ N R  =  3 N C _ C YL _ N R  = 4 N C _ C Y L_ N R  =  5 N C_ C YL _ N R  =  6 N C _ C YL _ N R  = 8 N C _C Y L _N R  =  1 0 N C _ C YL _ N R  =  12 \n0\n1\n2 I P _S E G _A D _ C O R _ E R _ \nx T _2 (N _ 3 2 ) 0 IP _ S E G _ AD _ C O R _ E R _ \nx T _ 2( N _3 2 ) \nI P _S E G _A D _ C O R _ E R _ \nx T _2 (N _ 3 2 ) \nI P _ S E G _ AD _C O R _ E R _ \nxT _ 2 (N _ 3 2) \nIP _ S E G _ AD _ C O R _ E R _ \nx T _ 2( N _3 2 ) \nI P _S E G _A D _ C O R _ E R _ \nx T _2 (N _ 3 2 ) \n3 I P _ S E G _ AD _C O R _ E R _ \nxT _ 1 (N _ 3 2) \nIP _ S E G _ AD _ C O R _ E R _ \nx T _ 3( N _3 2 ) 0 I P _ S E G _ AD _C O R _ E R _ \nxT _ 3 (N _ 3 2) \nIP _ S E G _ AD _ C O R _ E R _ \nx T _ 3( N _3 2 ) \nI P _S E G _A D _ C O R _ E R _ \nx T _3 (N _ 3 2 ) \n4 IP _ S E G _ AD _ C O R _ E R _ \nx T _ 4( N _3 2 ) \nI P _S E G _A D _ C O R _ E R _ \nx T _1 (N _ 3 2 ) 0 IP _ S E G _ AD _ C O R _ E R _ \nx T _ 4( N _3 2 ) \nI P _S E G _A D _ C O R _ E R _ \nx T _4 (N _ 3 2 ) \n5 I P _S E G _A D _ C O R _ E R _ \nx T _2 (N _ 3 2 ) \nI P _ S E G _ AD _C O R _ E R _ \nxT _ 1 (N _ 3 2) 0 I P _S E G _A D _ C O R _ E R _ \nx T _5 (N _ 3 2 ) \n6 I P _ S E G _ AD _C O R _ E R _ \nxT _ 2 (N _ 3 2) \nIP _ S E G _ AD _ C O R _ E R _ \nx T _ 1( N _3 2 ) 0\n7 I P _ S E G _ AD _C O R _ E R _ \nxT _ 3 (N _ 3 2) \nIP _ S E G _ AD _ C O R _ E R _ \nx T _ 2( N _3 2 ) \nI P _S E G _A D _ C O R _ E R _ \nx T _1 (N _ 3 2 ) \n8 IP", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2161, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5bdcc80e-f559-4aad-8d87-ba8fa3db94bd": {"__data__": {"id_": "5bdcc80e-f559-4aad-8d87-ba8fa3db94bd", "embedding": null, "metadata": {"page_label": "16", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "bd79e8c5-c275-43ef-8124-e7689fbc126d", "node_type": "4", "metadata": {"page_label": "16", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "a6da0e1f83b1ab560fd212b284f3b8294c357fcdff9926e49ce04dc8a8853529", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8315ad36-b25c-4a84-8f19-db2707fc1fd2", "node_type": "1", "metadata": {"page_label": "16", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "b6b9bb3428b9b553b86dfbb0d22d2beace98db81affdef80795bb251c15109d3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "2 ) 0\n7 I P _ S E G _ AD _C O R _ E R _ \nxT _ 3 (N _ 3 2) \nIP _ S E G _ AD _ C O R _ E R _ \nx T _ 2( N _3 2 ) \nI P _S E G _A D _ C O R _ E R _ \nx T _1 (N _ 3 2 ) \n8 IP _ S E G _ AD _ C O R _ E R _ \nx T _ 3( N _3 2 ) \nI P _S E G _A D _ C O R _ E R _ \nx T _2 (N _ 3 2 ) \n9 IP _ S E G _ AD _ C O R _ E R _ \nx T _ 4( N _3 2 ) \nI P _S E G _A D _ C O R _ E R _ \nx T _3 (N _ 3 2 ) \n10 I P _S E G _A D _ C O R _ E R _ \nx T _4 (N _ 3 2 ) \n11 I P _S E G _A D _ C O R _ E R _ \nx T _5 (N _ 3 2 ) \nS E G _ AD _ C O R _E R  =  0 \nS E G _ AD _ C O R _E R  =  IP _ S E G _ AD _ C O R _E R _ x T _1 (N _ 3 2 ) \nFigure 29.3.6:\n_ xT stands for _AT if LV_AT = 1 else stands for _MT\nFile: 30404Q07.00A\n7587Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 1994, "end_char_idx": 2785, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6a553fb1-271c-4939-bbbf-70229bae97f3": {"__data__": {"id_": "6a553fb1-271c-4939-bbbf-70229bae97f3", "embedding": null, "metadata": {"page_label": "17", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1e9371ee-67e0-4486-a71f-57493b888bf3", "node_type": "4", "metadata": {"page_label": "17", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "cfd7679c35eb967e6fc81c39fd0dc6f0ed62f5ca905fb45ff82de04004e4ed58", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n1\nSEG_AD_COR_ER\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nMerge\n0\nf()SEG_NR_MES\nN_32\nNC_CYL_NR\nSEG_AD_COR_ER\nCDN_VLD_DCT\nX.2.3.4\nf()SEG_NR_MES\nN_32\nNC_CYL_NR\nSEG_AD_COR_ER\nCDN_VLD_CVT\nX.2.3.3\nf()SEG_NR_MES\nN_32\nNC_CYL_NR\nSEG_AD_COR_ER\nCDN_VLD\nX.2.3.1\nf()\nSEG_NR_MES\nN_32\nNC_CYL_NR\nSEG_AD_COR_ER\nCDN_NOT_VLD\nX.2.3.2\n7\nLV_DCT\n6\nLV_CVT\n5\nLV_AT\n4\nNC_CYL_NR\n3\nN_32\n2\nSEG_NR_MES\n1\nLV_ENA_SEG_T_MES\nFigure 29.3.7:\nFile: 30404Q07.00A\n7588Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1016, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "efd5af06-6eed-4c1b-a671-7e2443a9ce79": {"__data__": {"id_": "efd5af06-6eed-4c1b-a671-7e2443a9ce79", "embedding": null, "metadata": {"page_label": "18", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b86ee188-536d-4e73-bac3-f0f5e1158fa8", "node_type": "4", "metadata": {"page_label": "18", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "90c6ed82b1181ca243cdae5bb540d30b7ac4ebac634b0bcda5c9e73e8b2dcacc", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.1 Calculation of SEG_AD_COR_ER if AT valid\n1\nSEG_AD_COR_ER\nx_val IP_val\nIP_SEG_AD_COR_ER_AT_5\nV. 5.15\nx_val IP_val\nIP_SEG_AD_COR_ER_AT_4\nV. 5.15\nx_val IP_val\nIP_SEG_AD_COR_ER_AT_3\nV. 5.15\nx_val IP_val\nIP_SEG_AD_COR_ER_AT_2\nV. 5.15\nx_val IP_val\nIP_SEG_AD_COR_ER_AT_1\nV. 5.15\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\ncond_if\nif\nelse\nfcn_call()\ncond_if if\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_AT_6\nSEL_6\nX.2.3.1.6\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_AT_5\nSEL_5\nX.2.3.1.5\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_AT_4\nSEL_4\nX.2.3.1.4\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_AT_3\nSEL_3\nX.2.3.1.3\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_AT_2\nSEL_2\nX.2.3.1.2\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_AT_1\nSEL_1\nX.2.3.1.1\nMerge\n==\n0\n0\n0\nf()\n3\nNC_CYL_NR\n2\nN_32\n1\nSEG_NR_MES\nFigure 29.3.8:\nFile: 30404Q07.00A\n7589Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1394, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b98f4d9a-f1fa-4fda-8042-378246586c52": {"__data__": {"id_": "b98f4d9a-f1fa-4fda-8042-378246586c52", "embedding": null, "metadata": {"page_label": "19", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "53d7558b-a5a9-461d-a728-a12d81722f2d", "node_type": "4", "metadata": {"page_label": "19", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "cdaf5dc5e46a03bb09b8088ec73930743e190561c842b3e5d9988cfa86757ccc", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.1.1 Calculation of LV_TMP_SEL_AT_1\n1\nLV_TMP_SEL_AT_1\nOR\nAND\nAND\nAND\nAND\nAND\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n6\n8\n5\n6\n4\n4\n3\n1\n7\n12\n10\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.9:\nFile: 30404Q07.00A\n7590Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 736, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "305b8433-8dd3-4dde-b4d4-e3a6e3220c5a": {"__data__": {"id_": "305b8433-8dd3-4dde-b4d4-e3a6e3220c5a", "embedding": null, "metadata": {"page_label": "20", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "955fd6c1-ddd7-4903-8d6c-356ff9634780", "node_type": "4", "metadata": {"page_label": "20", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "cb637861288e11a11ab734dffe9d1b24fb4d4d1ad1e92da4b473b8f122d8eb94", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.1.2 Calculation of LV_TMP_SEL_AT_2\n1\nLV_TMP_SEL_AT_2\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n7\n8\n6\n6\n5\n6\n5\n2\n12\n10\n8\n8\n12\n10\n3\nAND\nAND\nAND\nAND\nAND\nAND\nAND\nAND\nOR\nAND\nAND2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.10:\nFile: 30404Q07.00A\n7591Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 778, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ac0372a8-80c6-4b0b-abf1-b8a0b06e84db": {"__data__": {"id_": "ac0372a8-80c6-4b0b-abf1-b8a0b06e84db", "embedding": null, "metadata": {"page_label": "21", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c3f0dce9-f950-43ad-9227-6f67ecafafcf", "node_type": "4", "metadata": {"page_label": "21", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "48f535aa629a9cc51e4c1a6e2446d5b1330c4ea8403908b879bd1c0238b43546", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.1.3 Calculation of LV_TMP_SEL_AT_3\n1\nLV_TMP_SEL_AT_3\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n9\n10\n8\n8\n7\n10\n8\n3\n12\n12\n5\nAND\nAND\nAND\nAND\nAND\nOR\nAND\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.11:\n29.3.2.3.1.4 Calculation of LV_TMP_SEL_AT_4\n1\nLV_TMP_SEL_AT_4\n==\n==\n==\n==\n==\n==\n==\n==\n10\n10\n9\n10\n4\n12\n12\n5\nAND\nAND\nAND\nOR\nAND\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.12:\nFile: 30404Q07.00A\n7592Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 918, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "17f0598e-487a-4a42-b429-a35404a68b92": {"__data__": {"id_": "17f0598e-487a-4a42-b429-a35404a68b92", "embedding": null, "metadata": {"page_label": "22", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c64577a0-0644-4135-88d7-0706e0c6c57e", "node_type": "4", "metadata": {"page_label": "22", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "027144df1ed52b6d5fb3a40ea54912b72b7efc6b0f1629c3128eda58416a375f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.1.5 Calculation of LV_TMP_SEL_AT_5\n1\nLV_TMP_SEL_AT_5\n==\n==\n==\n==\n11\n5\n12\n12\nAND\nOR\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.13:\n29.3.2.3.1.6 Calculation of LV_TMP_SEL_AT_6\n1\nLV_TMP_SEL_AT_6\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n6\n10\n8\n4\n3\n5\n2\n6\n12\n4\nAND\nAND\nAND OR\nAND\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.14:\nFile: 30404Q07.00A\n7593Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 869, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ce02c92c-6bf8-4922-8c03-69370896af33": {"__data__": {"id_": "ce02c92c-6bf8-4922-8c03-69370896af33", "embedding": null, "metadata": {"page_label": "23", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0fec187c-836f-4762-a4f5-a9db585af4ad", "node_type": "4", "metadata": {"page_label": "23", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "e79f1eb5010ae2cb04435a62b0de037ad644970dbe930f05833fdf1ca9f161f9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.2 Calculation of SEG_AD_COR_ER if MT valid\n1\nSEG_AD_COR_ER\nx_val IP_val\nIP_SEG_AD_COR_ER_MT_5\nV. 5.15\nx_val IP_val\nIP_SEG_AD_COR_ER_MT_4\nV. 5.15\nx_val IP_val\nIP_SEG_AD_COR_ER_MT_3\nV. 5.15\nx_val IP_val\nIP_SEG_AD_COR_ER_MT_2\nV. 5.15\nx_val IP_val\nIP_SEG_AD_COR_ER_MT_1\nV. 5.15\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\ncond_if\nif\nelse\nfcn_call()\ncond_if if\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_MT_6\nSEL_6\nX.2.3.2.6\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_MT_5\nSEL_5\nX.2.3.2.5\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_MT_4\nSEL_4\nX.2.3.2.4\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_MT_3\nSEL_3\nX.2.3.2.3\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_MT_2\nSEL_2\nX.2.3.2.2\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_MT_1\nSEL_1\nX.2.3.2.1\nMerge\n==\n0\n0\n0\nf()\n3\nNC_CYL_NR\n2\nN_32\n1\nSEG_NR_MES\nFigure 29.3.15:\nFile: 30404Q07.00A\n7594Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1395, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "99be60bd-59b2-4da1-8e1d-d2070740a75f": {"__data__": {"id_": "99be60bd-59b2-4da1-8e1d-d2070740a75f", "embedding": null, "metadata": {"page_label": "24", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3a76b861-8f41-4dd8-ac1e-b25e41676199", "node_type": "4", "metadata": {"page_label": "24", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "8b5441ba3a74ef160369083f02f1ac3cb2f7b6e07f38f7f67a7c06b94f109ba2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.2.1 Calculation of LV_TMP_SEL_MT_1\n1\nLV_TMP_SEL_MT_1\nOR\nAND\nAND\nAND\nAND\nAND\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n6\n8\n5\n6\n4\n4\n3\n1\n7\n12\n10\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.16:\nFile: 30404Q07.00A\n7595Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 737, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fdb3f0e0-f781-40b0-860e-1c7cb550f545": {"__data__": {"id_": "fdb3f0e0-f781-40b0-860e-1c7cb550f545", "embedding": null, "metadata": {"page_label": "25", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7c19f23e-90c3-4a58-840a-9a53bf2ff4dd", "node_type": "4", "metadata": {"page_label": "25", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "1ba6c16fcc8e1dc931f402ca92cd34e015342a13d1c024493d691a120102f2fa", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.2.2 Calculation of LV_TMP_SEL_MT_2\n1\nLV_TMP_SEL_MT_2\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n7\n8\n6\n6\n5\n6\n5\n2\n12\n10\n8\n8\n12\n10\n3\nAND\nAND\nAND\nAND\nAND\nAND\nAND\nAND\nOR\nAND\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.17:\nFile: 30404Q07.00A\n7596Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 779, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "47ccb464-15ed-4f12-be0c-da067f3d5c7c": {"__data__": {"id_": "47ccb464-15ed-4f12-be0c-da067f3d5c7c", "embedding": null, "metadata": {"page_label": "26", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8cf5f97b-4cad-413e-83b5-2e1c9379da5b", "node_type": "4", "metadata": {"page_label": "26", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "8de83d5d660c38e23b0e7002e59180186fb018ca78b3772fe4645a0acf86607c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.2.3 Calculation of LV_TMP_SEL_MT_3\n1\nLV_TMP_SEL_MT_3\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n9\n10\n8\n8\n7\n10\n8\n3\n12\n12\n5\nAND\nAND\nAND\nAND\nAND\nOR\nAND\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.18:\n29.3.2.3.2.4 Calculation of LV_TMP_SEL_MT_4\n1\nLV_TMP_SEL_MT_4\n==\n==\n==\n==\n==\n==\n==\n==\n10\n10\n9\n10\n4\n12\n12\n5\nAND\nAND\nAND\nOR\nAND\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.19:\nFile: 30404Q07.00A\n7597Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 918, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "77c1e124-187c-4d0c-b6d1-b563308fc2d4": {"__data__": {"id_": "77c1e124-187c-4d0c-b6d1-b563308fc2d4", "embedding": null, "metadata": {"page_label": "27", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6e0b4d3c-c287-45e0-8dc7-6cd7a46e6f3f", "node_type": "4", "metadata": {"page_label": "27", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "0f2bc54c12f155dd2e2a7ae0edf054340779f70f97adb8d260a69f49318d9319", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.2.5 Calculation of LV_TMP_SEL_MT_5\n1\nLV_TMP_SEL_MT_5\n==\n==\n==\n==\n11\n5\n12\n12\nAND\nOR\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.20:\n29.3.2.3.2.6 Calculation of LV_TMP_SEL_MT_6\n1\nLV_TMP_SEL_MT_6\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n6\n10\n8\n4\n3\n5\n2\n6\n12\n4\nAND\nAND\nAND OR\nAND\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.21:\nFile: 30404Q07.00A\n7598Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 869, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b30d14cb-70fa-4e86-89a5-91d5aba69f25": {"__data__": {"id_": "b30d14cb-70fa-4e86-89a5-91d5aba69f25", "embedding": null, "metadata": {"page_label": "28", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1806f123-60ee-4652-abf7-dc7a5b166254", "node_type": "4", "metadata": {"page_label": "28", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "144fcd243893f545168469ab486d69d49c5a6cac4223399688f00c524ae708e9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.3 Calculation of SEG_AD_COR_ER if CVT valid\n1\nSEG_AD_COR_ER\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\ncond_if\nif\nelse\nfcn_call()\ncond_if if\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_CVT_6\nSEL_6\nX.2.3.3.6\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_CVT_5\nSEL_5\nX.2.3.3.5\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_CVT_4\nSEL_4\nX.2.3.3.4\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_CVT_3\nSEL_3\nX.2.3.3.3\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_CVT_2\nSEL_2\nX.2.3.3.2\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_CVT_1\nSEL_1\nX.2.3.3.1\nMerge\nx_val IP_val\nIP_SEG_AD_COR_ER_CVT_1\nV. 7.3\nx_val IP_val\nIP_SEG_AD_COR_ER_CVT_5\nV. 7.3\nx_val IP_val\nIP_SEG_AD_COR_ER_CVT_4\nV. 7.3\nx_val IP_val\nIP_SEG_AD_COR_ER_CVT_3\nV. 7.3\nx_val IP_val\nIP_SEG_AD_COR_ER_CVT_2\nV. 7.3\n==\n0\n0\n0\nf()\n3\nNC_CYL_NR\n2\nN_32\n1\nSEG_NR_MES\nFigure 29.3.22:\nFile: 30404Q07.00A\n7599Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1402, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0ed974fe-ab5b-4f56-8400-2aea3f0081d0": {"__data__": {"id_": "0ed974fe-ab5b-4f56-8400-2aea3f0081d0", "embedding": null, "metadata": {"page_label": "29", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "515770dc-b7bb-4264-9359-b17b290f9772", "node_type": "4", "metadata": {"page_label": "29", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "bc317cbafc1ced594f9a54244d0e5bec3638d411035c8eda75db569ff6aadfb9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.3.1 Calculation of LV_TMP_SEL_CVT_1\n1\nLV_TMP_SEL_CVT_1\nOR\nAND\nAND\nAND\nAND\nAND\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n6\n8\n5\n6\n4\n4\n3\n1\n7\n12\n10\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.23:\nFile: 30404Q07.00A\n7600Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 739, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b8377e1e-f9e5-4c05-8382-9e0614ff27a5": {"__data__": {"id_": "b8377e1e-f9e5-4c05-8382-9e0614ff27a5", "embedding": null, "metadata": {"page_label": "30", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "12e785a0-fc73-4488-9109-f658dc260db4", "node_type": "4", "metadata": {"page_label": "30", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "b53930d603dc98a6f6c84375bbb92447fdb5c559628a383c8ec50a8cbf49cb9c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.3.2 Calculation of LV_TMP_SEL_CVT_2\n1\nLV_TMP_SEL_CVT_2\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n7\n8\n6\n6\n5\n6\n5\n2\n12\n10\n8\n8\n12\n10\n3\nAND\nAND\nAND\nAND\nAND\nAND\nAND\nAND\nOR\nAND\nAND2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.24:\nFile: 30404Q07.00A\n7601Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 780, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "888cdca2-3d2f-43f2-9c28-12a91114441c": {"__data__": {"id_": "888cdca2-3d2f-43f2-9c28-12a91114441c", "embedding": null, "metadata": {"page_label": "31", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "71a21f70-1c85-407c-bdde-9e9520159a4f", "node_type": "4", "metadata": {"page_label": "31", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "207b8a58dc30ec701790d5b2da5714fe1ea991518663348ad93338288d9deb89", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.3.3 Calculation of LV_TMP_SEL_CVT_3\n1\nLV_TMP_SEL_CVT_3\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n9\n10\n8\n8\n7\n10\n8\n3\n12\n12\n5\nAND\nAND\nAND\nAND\nAND\nOR\nAND\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.25:\n29.3.2.3.3.4 Calculation of LV_TMP_SEL_CVT_4\n1\nLV_TMP_SEL_CVT_4\n==\n==\n==\n==\n==\n==\n==\n==\n10\n10\n9\n10\n4\n12\n12\n5\nAND\nAND\nAND\nOR\nAND\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.26:\nFile: 30404Q07.00A\n7602Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 922, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8b27f928-f64d-448d-895a-970008dafa26": {"__data__": {"id_": "8b27f928-f64d-448d-895a-970008dafa26", "embedding": null, "metadata": {"page_label": "32", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3e683791-5926-462e-a64e-330f8dd04805", "node_type": "4", "metadata": {"page_label": "32", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "40aa3bfac2be134e4463eb49a71d7fb4ba68d123ae71edcfe324cca089e4eded", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.3.5 Calculation of LV_TMP_SEL_CVT_5\n1\nLV_TMP_SEL_CVT_5\n==\n==\n==\n==\n11\n5\n12\n12\nAND\nOR\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.27:\n29.3.2.3.3.6 Calculation of LV_TMP_SEL_CVT_6\n1\nLV_TMP_SEL_CVT_6\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n6\n10\n8\n4\n3\n5\n2\n6\n12\n4\nAND\nAND\nAND OR\nAND\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.28:\nFile: 30404Q07.00A\n7603Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 873, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2e55768f-295a-47d6-a259-ce8c0edd149d": {"__data__": {"id_": "2e55768f-295a-47d6-a259-ce8c0edd149d", "embedding": null, "metadata": {"page_label": "33", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1f0d1b20-fe49-456c-aeb4-243aff40914f", "node_type": "4", "metadata": {"page_label": "33", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "40e64af09cfd3404157486257d841fe645a4f3a5a2d247fd0230f55c161a871b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.4 Calculation of SEG_AD_COR_ER if DCT valid\n1\nSEG_AD_COR_ER\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\ncond_if\nif\nelse\nfcn_call()\ncond_if if\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_DCT_6\nSEL_6\nX.2.3.4.6\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_DCT_5\nSEL_5\nX.2.3.4.5\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_DCT_4\nSEL_4\nX.2.3.4.4\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_DCT_3\nSEL_3\nX.2.3.4.3\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_DCT_2\nSEL_2\nX.2.3.4.2\nSEG_NR_MES\nNC_CYL_NR\nLV_TMP_SEL_DCT_1\nSEL_1\nX.2.3.4.1\nMerge\nx_val IP_val\nIP_SEG_AD_COR_ER_DCT_4\nV. 7.3\nx_val IP_val\nIP_SEG_AD_COR_ER_DCT_3\nV. 7.3\nx_val IP_val\nIP_SEG_AD_COR_ER_DCT_2\nV. 7.3\nx_val IP_val\nIP_SEG_AD_COR_ER_DCT_5\nV. 7.3\nx_val IP_val\nIP_SEG_AD_COR_ER_DCT_1\nV. 7.3\n==\n0\n0\n0\nf()\n3\nNC_CYL_NR\n2\nN_32\n1\nSEG_NR_MES\nFigure 29.3.29:\nFile: 30404Q07.00A\n7604Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1402, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7ff62bda-198b-49c1-8049-cc1189965934": {"__data__": {"id_": "7ff62bda-198b-49c1-8049-cc1189965934", "embedding": null, "metadata": {"page_label": "34", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5c88b4be-7cf3-4c72-82d7-7c3040ecbea9", "node_type": "4", "metadata": {"page_label": "34", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "1639a434b655a4e667becf0222992a08832066ab375ca882fe0e87288e7bacc3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.4.1 Calculation of LV_TMP_SEL_DCT_1\n1\nLV_TMP_SEL_DCT_1\nOR\nAND\nAND\nAND\nAND\nAND\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n6\n8\n5\n6\n4\n4\n3\n1\n7\n12\n10\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.30:\nFile: 30404Q07.00A\n7605Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 739, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6938dc40-cf34-4e64-a862-65e54c1a502c": {"__data__": {"id_": "6938dc40-cf34-4e64-a862-65e54c1a502c", "embedding": null, "metadata": {"page_label": "35", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "eeecc0b6-59ec-4e37-825d-fbe64111afd4", "node_type": "4", "metadata": {"page_label": "35", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "1e46d6ced90e99c86b5f4b6f81491d7b541ccaec3fe760795e8960abbfe4f898", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.4.2 Calculation of LV_TMP_SEL_DCT_2\n1\nLV_TMP_SEL_DCT_2\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n7\n8\n6\n6\n5\n6\n5\n2\n12\n10\n8\n8\n12\n10\n3\nAND\nAND\nAND\nAND\nAND\nAND\nAND\nAND\nOR\nAND\nAND2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.31:\nFile: 30404Q07.00A\n7606Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 780, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "57fd3b5a-1d2d-487d-953a-354dce8b06e0": {"__data__": {"id_": "57fd3b5a-1d2d-487d-953a-354dce8b06e0", "embedding": null, "metadata": {"page_label": "36", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d685f8c9-73cd-4d91-9209-87a8873daf9d", "node_type": "4", "metadata": {"page_label": "36", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "7705e1ac0f21580e360fce0faa82a396c9299c1e57dd999ab3dfe16e463ef93b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.4.3 Calculation of LV_TMP_SEL_DCT_3\n1\nLV_TMP_SEL_DCT_3\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n9\n10\n8\n8\n7\n10\n8\n3\n12\n12\n5\nAND\nAND\nAND\nAND\nAND\nOR\nAND\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.32:\n29.3.2.3.4.4 Calculation of LV_TMP_SEL_DCT_4\n1\nLV_TMP_SEL_DCT_4\n==\n==\n==\n==\n==\n==\n==\n==\n10\n10\n9\n10\n4\n12\n12\n5\nAND\nAND\nAND\nOR\nAND\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.33:\nFile: 30404Q07.00A\n7607Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 922, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "eba558e7-30ab-4950-805b-622fd8364646": {"__data__": {"id_": "eba558e7-30ab-4950-805b-622fd8364646", "embedding": null, "metadata": {"page_label": "37", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "495989f7-abe6-4514-acda-b41be6a9e051", "node_type": "4", "metadata": {"page_label": "37", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "22c5a4ceb58ada4f6fd1d20c03e79136fec7ef143443db38c0b73776e09212c1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.3.4.5 Calculation of LV_TMP_SEL_DCT_5\n1\nLV_TMP_SEL_DCT_5\n==\n==\n==\n==\n11\n5\n12\n12\nAND\nOR\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.34:\n29.3.2.3.4.6 Calculation of LV_TMP_SEL_DCT_6\n1\nLV_TMP_SEL_DCT_6\n==\n==\n==\n==\n==\n==\n==\n==\n==\n==\n6\n10\n8\n4\n3\n5\n2\n6\n12\n4\nAND\nAND\nAND OR\nAND\nAND\n2\nNC_CYL_NR\n1\nSEG_NR_MES\nFigure 29.3.35:\n29.3.2.4 SEGMENT TIME CORRECTION\nThe prerequisite for a reliable engine roughness evaluation is an accurate ER segment time measurement.\nAs the crankshaft ?ywheel teeth are subject to manufacturing tolerances, geometrical run-out and off-center\ninstallation which result in angles modulation, consequently the measured raw segment periods aren?t similar\nand have systematic inaccuracies regarding other segments.\nAs these inaccuracies are systematic, they can be \"learned\" by an adaptive process during fuel cut-off periods\nand used for ER segment time correction. This adaptive process is described in the module : Engine roughness\nadaptive learning process.\nER segment adaptive values: SEG_AD_MMV_ER[NC_CYL_NR] (inputs)\nFile: 30404Q07.00A\n7608Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1595, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a6b12244-b74c-4d8c-a989-ffd1b226289e": {"__data__": {"id_": "a6b12244-b74c-4d8c-a989-ffd1b226289e", "embedding": null, "metadata": {"page_label": "38", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9d13dc56-43d0-43c1-ae4d-484687f97f7b", "node_type": "4", "metadata": {"page_label": "38", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "6769ab645c6dc38b2bc5bc8c1b4b4d76a1c463aee5677bb0bc8a797350bfe254", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\nER adaptive values are stored according SEG_NR_MES counter. These adaptive values are obtained and up-\ndated by the ER segment adaptive values learning process. There?s one ER segment adaptive value per engine\ncylinder.\nRemark: The SEG_AD_MMV_ER_x are stored in ECU non-volatile memory.\nER current corrected segment time: SEG_T_COR (output)\nThis value is the current result of the ER segment correction process obtained with T_SEG_ER as input.\nER corrected segment times buffer: SEG_T_COR_BUF[NC_SIZE_SEG_T_COR_BUF] (outputs)\nThis is a buffer where are stored SEG_T_COR values (ER corrected segment time current value) who are needed\nfor ER calculation.\nSEG_T_COR is stored according a FIFO management (?rst in, ?rst out).\nSEG_T_COR_BUF buffer size depends on engine type:\nNC_SIZE_SEG_T_COR_BUF = 11 segment time samples for a 5 & 10 cylinder engine\nNC_SIZE_SEG_T_COR_BUF = 9 segment time samples for 4 & 8 cylinder engine\nNC_SIZE_SEG_T_COR_BUF = 7 segment time samples for 3 & 6 cylinder engine\nNC_SIZE_SEG_T_COR_BUF = 13 segment time samples for a 12 cylinder engine\nThis size NC_SIZE_SEG_T_COR_BUF is determined by the ER sample number required by ER calculation ac-\ncording engine type.\nSEG_AD_MMV_ER_[x] \nSEG_T_MES \nSEG_T_COR_BUF_[k] \nfifo stack SEG_T_COR \nSEG_T_COR = SEG_T_MES *[SEG_NR_MES] \n(1 ? [ SEG_AD_MMV_ + SEG_AD_COR_ER ]) \nTo ER \nCalculation \nProcess \nER segments correction process \nsize = \nNC_SIZE_SEG_T_COR_BUF \nER raw segment \ntimes stack \nER adaptive values \nstored in EMS non volatile memory \nER corrected segment \ntimes stack \nER adaptive values \ncorrection \nSEG_AD_COR_ER \nT_SEG_ER \nsize = NC_CYL_NR \nSEG_T_MES_CYL_[x] \nSEG_NR_MES \nsize = NC_CYL_NR \nSEG_NR_MES \nData Casting \nFigure 29.3.36:\nSEG_T_COR_BUF_CH, SEG_T_COR_CH are the corresponding values for the alternative CH window segment\nFile: 30404Q07.00A\n7609Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2367, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "af424cb9-4cff-440c-a391-f47fd6e44729": {"__data__": {"id_": "af424cb9-4cff-440c-a391-f47fd6e44729", "embedding": null, "metadata": {"page_label": "39", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "702e846f-1f65-4de5-af36-168f57d8e0f9", "node_type": "4", "metadata": {"page_label": "39", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "0ef80f81d91080b1caa790b6c257b681c7a74506ca62d5a3800d0a111faee5b0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n4\nSEG_T_COR_BUF_CH_out\n3\nSEG_T_COR_CH\n2\nSEG_T_COR_BUF_out\n1\nSEG_T_COR\n[ NC_SIZE_SEG_T_COR_BUF ] array\ninit = 1999999.7\nV. 5.6\ncond_if\nif\nelse\nf()\nSEG_T_COR_BUF_in\nSEG_NR_MES\nSEG_AD_MMV_ER\nSEG_AD_COR_ER\nSEG_T_MES\nSEG_T_MES_CH\nSEG_T_COR_BUF_CH_in\nSEG_AD_MMV_ER_CH\nSEG_T_COR\nSEG_T_COR_CH\nSEG_T_COR_BUF_out\nSEG_T_COR_BUF_CH_out\nSTACK_SEG_T_COR\nX.2.4.1\nNOT\nMerge\nMerge\nMerge\nMerge\nV. 5.2\n1999999.7\n9\nSEG_T_COR_BUF_CH_in\n8\nSEG_T_COR_BUF_in\n7\nSEG_AD_MMV_ER_CH\n6\nSEG_AD_MMV_ER\n5\nSEG_NR_MES\n4\nLV_ENA_SEG_T_MES\n3\nSEG_T_MES_CH\n2\nSEG_T_MES\n1\nSEG_AD_COR_ER\nFigure 29.3.37:\nFile: 30404Q07.00A\n7610Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1114, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "bb4f56ed-dcdf-44c3-acbd-35f407cda6b3": {"__data__": {"id_": "bb4f56ed-dcdf-44c3-acbd-35f407cda6b3", "embedding": null, "metadata": {"page_label": "40", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "93149ad2-e7ed-47e5-9481-f81f1d65c942", "node_type": "4", "metadata": {"page_label": "40", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "9ea4e7302261296e23e24af38b0001bb7eda0d7ad7050da64d0d670c5b4cabdf", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness segment time correction\n29.3.2.4.1 SEG_T_COR calculation\nDivision by factor 4194304 to take care unit mismatchZero based indexing\nExternal  Iterator : to take care (zeo based indexed) \nFunction call external to the Stack SubSystem because the for iterator are not compatible with function call\n4\nSEG_T_COR_BUF_CH_out\n3\nSEG_T_COR_BUF_out\n2\nSEG_T_COR_CH\n1\nSEG_T_COR\nC\n1\n[..]\nu\nV. 6.5\nC\n1\n[..]\nu\nV. 6.5\nV. 5.5C\n0\n[..]\nV. 5.5C\n0\n[..]\nV. 6.1\nV. 6.1\nfor { ... }\nSEG_T_COR_BUF_xx_in\nSize\nSEG_T_COR_BUF_xx_out\nSTACK_STO\nX.2.4.1.1\n1\n4194304\n1\n4194304\nNC_SIZE_SEG_T_COR_BUF\n1\nf()\n8\nSEG_AD_MMV_ER_CH\n7\nSEG_T_COR_BUF_CH_in\n6\nSEG_T_MES_CH\n5\nSEG_T_MES4\nSEG_AD_COR_ER\n3\nSEG_AD_MMV_ER\n2\nSEG_NR_MES\n1\nSEG_T_COR_BUF_in\n<SEG_T_COR_BUF_CH>\n<SEG_T_COR_BUF>\nFigure 29.3.38:\n29.3.2.4.1.1 Read vectors\nWriting element  \nNC_SIZE_SEG_T_COR_BUF to 2\nReading element  \n(NC_SIZE_SEG_T_COR_BUF ? 1) to 1\n1 to (NC_SIZE_SEG_T_COR_BUF ? 1)  iterations\n1\nSEG_T_COR_BUF_xx_out\nV. 5.5\nC\n1\nu\nsize: [NC_SIZE_SEG_T_COR_BUF]\nV. 5.5C\n1\n[..]\nread: _i\nFor\nIteratorN 1 : N\nNC_SIZE_SEG_T_COR_BUF\n12\nSize\n1\nSEG_T_COR_BUF_xx_in\nFigure 29.3.39:\nFile: 30404Q07.00A\n7611Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1627, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "63f3599d-b4e6-4447-b7c1-f6629392be3c": {"__data__": {"id_": "63f3599d-b4e6-4447-b7c1-f6629392be3c", "embedding": null, "metadata": {"page_label": "41", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "12bf57b9-6f9b-4e66-9e4b-85019e66dcf6", "node_type": "4", "metadata": {"page_label": "41", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "ad57854623c2ee4333e081a0e0ba6d84b5e2078f076e7a87e0e3b7242d863e0e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\n29.4 Engine roughness calculation\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nDRV0_ER O/V 80000000...\n7FFFFFFFH\n-512000000...\n511999999.7\n0.23841858 \ufffds\nEngine roughness static component\nDRV1_ER O/V FF800000...\n7FFFFFH\n-2000000...\n1999999.7\n0.23841858 \ufffds\nEngine roughness dynamic component\nDRV2_ER V 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nEngine roughness curvature component\nDRV2_MMV_ER V 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nAveraged engine roughness curvature component\nER O/V FF800000...\n7FFFFFH\n-2000000...\n1999999.7\n0.23841858 \ufffds\nEngine roughness\nER_CYL [NC_CYL_NR] O/V FF800000...\n7FFFFFH\n-2000000...\n1999999.7\n0.23841858 \ufffds\nCylinder normalised engine roughness values\nER_HB O/V 8000... 7FFFH -32768 ...32767 1 \ufffds\nEngine roughness (same as ER) with low resolution\nER_RATIO_1 V 8000... 7FFFH -500...\n499.9847412109\n0.01525879 ?\nRatio of corrected segment time for DRV0_ER_1 and DRV0_ER_3 positions in corrected segment time buffer\nER_RATIO_2 V 8000... 7FFFH -500...\n499.9847412109\n0.01525879 ?\nRatio of corrected segment time for DRV0_ER_2 and DRV0_ER_3 positions in corrected segment time buffer\nER_RATIO_3 V 8000... 7FFFH -500...\n499.9847412109\n0.01525879 ?\nRatio of corrected segment time for DRV0_ER_2 and DRV0_ER_1 positions in corrected segment time buffer\nER_RAW O/V FF800000...\n7FFFFFH\n-2000000...\n1999999.7\n0.23841858 \ufffds\nEngine roughness without curvature component\nER_STND O/V FF800000...\n7FFFFFH\n-2000000...\n1999999.7\n0.23841858 \ufffds\nNormalised engine roughness\nER_STND_CYL [NC_CYL_NR] V FF800000...\n7FFFFFH\n-2000000...\n1999999.7\n0.23841858 \ufffds\nCylinder normalised engine roughness values\nER_STND_HB O/V 8000... 7FFFH -32768 ...32767 1 \ufffds\nNormalised engine roughness (same as ER_STND) but with low resolution\nFAC_ADD_ER [NC_CYL_NR] V 8000... 7FFFH -7812... 7812.762 0.23841859 \ufffds\nER additive correction components\nFAC_GAIN_ER [NC_CYL_NR] V 0... FFH 0... 3.984375 0.015625 -\nER multiplicative correction components\nLV_ENA_ER O/V 0... 1H 0 ...1 1 -\nEngine roughness valid calculation control ?ag\nLV_ER_CH_CLC O/V 0... 1H 0 ...1 1 -\nFile: 30402E08.00D\n7612Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2620, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0975880a-ad12-44ba-8f18-8c1c0e78ba15": {"__data__": {"id_": "0975880a-ad12-44ba-8f18-8c1c0e78ba15", "embedding": null, "metadata": {"page_label": "42", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "17693813-9b64-49ad-82c2-7c4706d6aedb", "node_type": "4", "metadata": {"page_label": "42", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "57853e58eacdb09d51982566dc1410860a12f4ca6dfc86b3ed6dc9830fab4727", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nName Mode Coded Limits Display Limits Resolution Unit\nTrigger to calculate engine roughness during catalyst heating.\nLV_ER_RATIO V 0... 1H 0 ...1 1 -\nLogical variable for segment time ratio over the threshold (=1, use DRV0_ER_3 in place of DRV0_ER_1 for DRV_0_ER calculation; = 0,\nconventional calculation)\nSEG_NR_ER O/V 0... BH 0... 11 1 -\nER segment counter for segment identi?cation (0 ... NC_CYL_NR - 1)\n\ufffd Input Data\nCRLC_DRV2_ER\n{p. 7636}\nFAC_DRV2_ER\n{p. 7636}\nIDX_TRANS_TYP\n{p. 24790}\nLOAD_MIS\n{p. 23383}\nLV_AT\n{p. 24737}\nLV_CVT\n{p. 24737}\nLV_DCT\n{p. 24737}\nLV_ENA_SEG_T_MES\n{p. 7577}\nLV_ER_WIN_CH_ACT\n{p. 7636}\nLV_SYN_ENG\n{p. 8043}\nN_32\n{p. 8079}\nNC_CYL_NR\n{p. 1316}\nNC_NR_LOAD_MIS_1_ENRD NC_NR_N_32_4_ENRD NC_NR_N_32_5_ENRD NC_NR_TRANS_TYP\n{p. 25818}\nSEG_NR\n{p. 8036}\nSEG_T_COR\n{p. 7577}\nSEG_T_COR_BUF\n[NC_SIZE_SEG_T_COR_BUF]\n{p. 7577}\nSEG_T_COR_BUF_CH\n[NC_SIZE_SEG_T_COR_BUF]\n{p. 7577}\nSEG_T_COR_CH\n{p. 7577}\nTHD_AD_ER\n{p. 7647}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_FAC_SCA_ER_STND V 80... 7FH -128 ...127 1 -\nScaling factor used for normalised engine roughness calculation\nC_N_32_MAX_ER V 0... FFH 0... 8160 32 rpm\nMaximum engine speed for engine roughness calculation\nC_N_32_MAX_ER_STND V 0... FFH 0... 8160 32 rpm\nMaximum engine speed to compute normalised engine roughness\nC_N_32_MIN_ER V 0... FFH 0... 8160 32 rpm\nMinimum engine speed for engine roughness calculation\nC_SEG_DLY_ER V 0... CH 0... 12 1 -\nDelay of ER segment reference\nC_SEG_DLY_ER_CH V 0... CH 0... 12 1 -\nDelay of ER segment reference for catalyst heating window\nIP_FAC_ADD_ER_AT [NC_CYL_NR] V 0... FFFFH -7812... 7812.762 0.23841859 \ufffds\nLDPM_N_32_5_ENRD NC_NR_\nN_32_5_\nENRD\n0... FFH 0... 8160 32 rpm\nLDPM_LOAD_MIS_IP_FAC_ADD_ER NC_NR_\nLOAD_\nMIS_1_\nENRD\n0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nER cylinder x additive segment-dependent factor for torsion correction with AT\nFile: 30402E08.00D\n7613Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2436, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b2a251eb-e730-420d-8f23-59179a504723": {"__data__": {"id_": "b2a251eb-e730-420d-8f23-59179a504723", "embedding": null, "metadata": {"page_label": "43", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4af15a97-023b-408a-9fa4-f594e9d345f4", "node_type": "4", "metadata": {"page_label": "43", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "5c9bbcb52b9ff2f4ec5af49b26b321ada80bbb99f8dfcea843722a3b4ae8b518", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nName Mode Coded Limits Display Limits Resolution Unit\nIP_FAC_ADD_ER_CVT [NC_CYL_NR] V 0... FFFFH -7812... 7812.762 0.23841859 \ufffds\nLDPM_N_32_5_ENRD NC_NR_\nN_32_5_\nENRD\n0... FFH 0... 8160 32 rpm\nLDPM_LOAD_MIS_IP_FAC_ADD_ER NC_NR_\nLOAD_\nMIS_1_\nENRD\n0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nER cylinder x additive segment-dependent factor for torsion correction with CVT\nIP_FAC_ADD_ER_DCT [NC_CYL_NR] V 0... FFFFH -7812... 7812.762 0.23841859 \ufffds\nLDPM_N_32_5_ENRD NC_NR_\nN_32_5_\nENRD\n0... FFH 0... 8160 32 rpm\nLDPM_LOAD_MIS_IP_FAC_ADD_ER NC_NR_\nLOAD_\nMIS_1_\nENRD\n0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nER cylinder x additive segment-dependent factor for torsion correction with DCT\nIP_FAC_ADD_ER_MT [NC_CYL_NR] V 0... FFFFH -7812... 7812.762 0.23841859 \ufffds\nLDPM_N_32_5_ENRD NC_NR_\nN_32_5_\nENRD\n0... FFH 0... 8160 32 rpm\nLDPM_LOAD_MIS_IP_FAC_ADD_ER NC_NR_\nLOAD_\nMIS_1_\nENRD\n0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nER cylinder x additive segment-dependent factor for torsion correction with MT\nIP_FAC_GAIN_ER_AT [NC_CYL_NR] V 0... FFH 0... 3.984375 0.015625 -\nLDPM_N_32_4_ENRD NC_NR_\nN_32_4_\nENRD\n0... FFH 0... 8160 32 rpm\nER cylinder x multiplicative segment-dependent factor for torsion correction with AT\nIP_FAC_GAIN_ER_CVT [NC_CYL_NR] V 0... FFH 0... 3.984375 0.015625 -\nLDPM_N_32_4_ENRD NC_NR_\nN_32_4_\nENRD\n0... FFH 0... 8160 32 rpm\nER cylinder x multiplicative segment-dependent factor for torsion correction with CVT\nIP_FAC_GAIN_ER_DCT [NC_CYL_NR] V 0... FFH 0... 3.984375 0.015625 -\nLDPM_N_32_4_ENRD NC_NR_\nN_32_4_\nENRD\n0... FFH 0... 8160 32 rpm\nER cylinder x multiplicative segment-dependent factor for torsion correction with DCT\nIP_FAC_GAIN_ER_MT [NC_CYL_NR] V 0... FFH 0... 3.984375 0.015625 -\nLDPM_N_32_4_ENRD NC_NR_\nN_32_4_\nENRD\n0... FFH 0... 8160 32 rpm\nER cylinder x multiplicative segment-dependent factor for torsion correction with MT\nIP_RATIO_THD_ER_1 [NC_NR_TRANS_TYP] V 0... FFFFH -500...\n499.9847412109\n0.01525879 ?\nLDPM_N_32_IP_RATIO_THD_ER_1 12 0... FFH 0... 8160 32 rpm\nFile: 30402E08.00D\n7614Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2541, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f7d900e3-bafa-4722-8beb-2949d22761ce": {"__data__": {"id_": "f7d900e3-bafa-4722-8beb-2949d22761ce", "embedding": null, "metadata": {"page_label": "44", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a64edc0e-6edd-4f22-85a6-636627d86a4c", "node_type": "4", "metadata": {"page_label": "44", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "615b0fa0f5df6e966c15b35b2500b95bbce1b399f170195c111efca72391a2b9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nName Mode Coded Limits Display Limits Resolution Unit\nLDPM_LOAD_MIS_IP_RATIO_THD_ER_1 8 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nCorrected segment time ratio threshold between DRV0_ER_1 and DRV0_ER_3 positions in corrected segment time buffer\nIP_RATIO_THD_ER_2 [NC_NR_TRANS_TYP] V 0... FFFFH -500...\n499.9847412109\n0.01525879 ?\nLDPM_N_32_IP_RATIO_THD_ER_2 12 0... FFH 0... 8160 32 rpm\nLDPM_LOAD_MIS_IP_RATIO_THD_ER_2 8 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nCorrected segment time ratio threshold between DRV0_ER_2 and DRV0_ER_3 positions in corrected segment time buffer\nLC_RATIO_ER_ACT V 0... 1H 0 ...1 1 -\nActivate engine roughness component calculation based on ER ratio (=1, in?uence of ratio on ER components is acive; = 0,\nconventional ER calculation)\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_DRV0_ER_1 - 0... FFH 0... 255 1 -\n?rst index in seg_t_cor_buf for calculation of drv0_er\nNC_DRV0_ER_2 - 0... FFH 0... 255 1 -\nsecond index in seg_t_cor_buf for calculation of drv0_er\nNC_DRV1_ER_1 - 0... FFH 0... 255 1 -\n?rst index in seg_t_cor_buf for calculation of drv1_er\nNC_DRV1_ER_2 - 0... FFH 0... 255 1 -\nsecond index in seg_t_cor_buf for calculation of drv1_er\nNC_DRV2_ER - 0... FFH 0... 255 1 -\nindex in seg_t_cor_buf for calculation of drv2_er\nNC_SIZE_SEG_T_COR_BUF - 0... FFH 0... 255 1 -\nSize of the array of engine roughness corrected segment times\nNLC_CONF_GAIN_ADD_ER - 0... 1H 0 ...1 1 -\nER multiplicative and additive correction enable\nNLC_ER_CON_MISF V 0... 1H 0 ...1 1 -\nSpeci?c ER calculation for consecutive mis?re detection\n\ufffd General Information\nThe engine roughness index (ER) is a system variable relative to crankshaft segments behaviour. This index is\nmainly used by the mis?re monitoring & algorithms dedicated to combustion process control.\nIntegration version for 3,4,5,6,8,10 & 12 cylinder engines.\nThe engine roughness system variable is calculated each ER window end occurrence, every time the engine\nis running & synchronised. In order to handle late combustion during catalyst heating an alternative measure-\nment window is used for ER calculation.\n\ufffd Signal ?ow diagram:\nFile: 30402E08.00D\n7615Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2691, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "89206656-6115-40f2-8a89-4e127f8a8056": {"__data__": {"id_": "89206656-6115-40f2-8a89-4e127f8a8056", "embedding": null, "metadata": {"page_label": "45", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "83292c4a-236d-4ed0-9966-84cc10e8ed11", "node_type": "4", "metadata": {"page_label": "45", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "d227e19d13a1577c3f95361d382ce6eebb6fc19df4e8825f4a5a59e5c977fa53", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nSDA_SRS / SDA V 7.1.1 / 09?Jan?2014\nfcn_call()\nfcn_call_1\nfcn_call_2\nfcn_call()\nfcn_call_1\nfcn_call_2\nfcn_call()\nfcn_call_1\nfcn_call_2\nTHD_AD_ER\n1\nV.6.7\nDRV0_ER:  O V     \nDRV1_ER:  O V     \nDRV2_ER:    V     \nDRV2_MMV_ER:    V     \nER:  O V     \nER_CYL:  O V     \nER_HB:  O V     \nER_RATIO_1:    V     \nER_RATIO_2:    V     \nER_RATIO_3:    V     \nER_RAW:  O V     \nER_STND:  O V     \nER_STND_CYL:    V     \nER_STND_HB:  O V     \nFAC_ADD_ER:    V     \nFAC_GAIN_ER:    V     \nLV_ENA_ER:  O V     \nLV_ER_CH_CLC:  O V     \nLV_ER_RATIO:    V     \nSEG_NR_ER:  O V     \nSEG_T_COR_CH\n14\nSEG_T_COR_BUF_CH\n13\nSEG_T_COR_BUF\n11\nSEG_T_COR\n12\n<SEG_NR_ER>\nSEG_NR\n9\nN_32\n8\nNC_NR_TRANS_TYP\n19\nNC_NR_N_32_5_ENRD\n22\nNC_NR_N_32_4_ENRD\n21\nNC_NR_LOAD_MIS_1_ENRD\n20\nNC_CYL_NR\n7\nLV_SYN_ENG\n6\nLV_ER_WIN_CH_ACT\n16\n<LV_ER_CH_CLC>\nLV_ENA_SEG_T_MES\n10\n<LV_ENA_ER>\nLV_DCT\n17\nLV_CVT\n15\nLV_AT\n5\nLOAD_MIS\n4\nIDX_TRANS_TYP\n18\nENRD_SIGCVER0__SEG\nENRD_SIGCVER0__ERU2ES\nENRD_SIGCVER0__RST\nFAC_DRV2_ER\n2\n<ER_STND_HB>\n<ER_STND>\nER_SEG_REF\nX.1\nsys_eve\ninput\ner_seg_ref\ner_seg_ref_1\n<ER_RAW>\n<ER_HB>\n<ER_CYL>\nER_CPT_CLC\nX.2\ner_seg_ref\nsys_eve\ninput\ner_cpt_clc\n<ER>\n<DRV1_ER>\n<DRV0_ER>\nCRLC_DRV2_ER\n3\nNC_NR_TRANS_TYP\nIDX_TRANS_TYP\nLV_DCT\nLV_CVT\nLV_ER_WIN_CH_ACT\nSEG_T_COR_CH\nSEG_T_COR_BUF_CH\nSEG_T_COR\nSEG_T_COR_BUF\nLV_ENA_SEG_T_MES\nSEG_NR\nN_32\nNC_CYL_NR\nLV_SYN_ENG\nLV_AT\nLOAD_MIS\nCRLC_DRV2_ER\nFAC_DRV2_ER\nTHD_AD_ER\nFigure 29.4.1:\n29.4.1 Engine roughness segment reference\n\ufffd General Information\nDue to engine roughness de?nition, there is a delay of C_SEG_DLY_ER/C_SEG_DLY_ER_CH segments between\nER actual value and the segment that was observed by this ER value.\nSEG_NR_ER will be used to identify which cylinder is observed with the engine roughness system variable, it?s\nparticularly useful for mis?re cylinder identi?cation.\nFile: 30402E08.00D\n7616Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2329, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e5dcb086-7908-4e55-be0f-8fa9e55ddebe": {"__data__": {"id_": "e5dcb086-7908-4e55-be0f-8fa9e55ddebe", "embedding": null, "metadata": {"page_label": "46", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fb56dfc6-7b1d-4247-b9e7-e6af341aca39", "node_type": "4", "metadata": {"page_label": "46", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "2461f11b543a503e6a15ae569d3ac8d74701d01dc55f7e696b6255b5d3ea2545", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nThe segment counter SEG_NR_ER with the limit 0...(NC_CYL_NR - 1) is incremented in the same way as the\ncommon segment counter SEG_NR.\n\ufffd Application Conditions\nInitialisation: RST, ERU2ES, Deactivation\nActivation: LV_SYN_ENG == 1\nDeactivation: LV_SYN_ENG == 0\nRecurrence: SEG\n\ufffd Function Description\ner_seg_ref_1\n2\ner_seg_ref\n1\nV.6.4\nOPM_SEG\nX.1.2\nf()\ninput opm_seg\nINI\nX.1.1\nf()\ninputini\nV.5.35\nBusMerge\nAPP_CDN\nV.7.6\nfc_RST\nfc_ERU2ES\nfc_SEG\nLV_SYN_ENG\nfc_INI\nfc_OPM__SEG\ndeactivation\nRecurrence:        SEG\nInit:             RST\n            ERU2ES\nActivation:\nLV_SYN_ENG==1\nDeactivation:\nLV_SYN_ENG==0\ninput\n2\nsys_eve\n1 <fc_ERU2ES><fc_ERU2ES>\n<fc_RST><fc_RST>\n<fc_SEG_DEAC><fc_SEG_DEAC>\n<LV_ER_CH_CLC><LV_ER_CH_CLC>\ner_seg_ref\n<NC_CYL_NR>\n<LV_ER_WIN_CH_ACT>\n<LV_SYN_ENG>\n<ER_SEG_REF__SEG>\n<ER_SEG_REF__ERU2ES>\n<SEG_NR_ER>\n<SEG_NR>\n<LV_SYN_ENG>\n<ER_SEG_REF__RST>\nFigure 29.4.2:\n29.4.1.1 Initialization\nini\n1\nV.6.8\n0\nf()\ninput\n1\n<LV_ER_WIN_CH_ACT> LV_ER_CH_CLC\niniSEG_NR_ER\nFigure 29.4.3:\nFile: 30402E08.00D\n7617Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1529, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6643578e-7daa-4a13-bab0-fc488b3a274a": {"__data__": {"id_": "6643578e-7daa-4a13-bab0-fc488b3a274a", "embedding": null, "metadata": {"page_label": "47", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0d095b51-a22d-45ad-bb73-f772911ddd3b", "node_type": "4", "metadata": {"page_label": "47", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "7bcaa12b2fcc90568520aac6c151b7dfe809718fd01b29e1222132c962a91e8a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\n29.4.1.2 Formula section of seg_nr_er\nopm_seg\n1\nCLC_ER_CH\nX.1.2.2\nLV_ER_WIN_CH_ACT LV_ER_CH_CLC\nCLC\nX.1.2.1\nSEG_NR\nLV_ER_WIN_CH_ACT\nNC_CYL_NR\nSEG_NR_ER\nV.6.6\nBusMerge\nf()\ninput\n1 opm_seg\n<LV_ER_WIN_CH_ACT><LV_ER_WIN_CH_ACT>\n<NC_CYL_NR>\n<LV_ER_WIN_CH_ACT> SEG_NR_ER\n<SEG_NR>\nFigure 29.4.4:\n29.4.1.2.1 SEG_NR_ER calculation\nSEG_NR_ER\n1\nCheck ~= 0\nV.6.4\nmod\nV.6.4\nC_SEG_DLY_ER\nV.6.4\nC_SEG_DLY_ER_CH\nNC_CYL_NR\n3\nLV_ER_WIN_CH_ACT\n2\nSEG_NR\n1\nFigure 29.4.5:\n29.4.1.2.2 Trigger for engine roughness during catalyst heating\nLV_ER_CH_CLC\n1\nV.6.8\nLV_ER_WIN_CH_ACT\n1\nLV_ER_CH_CLC\nFigure 29.4.6:\n29.4.2 Engine roughness components calculation\n\ufffd General Information\nThe engine roughness calculation needs three individual components: a static component (DRV0_ER), a dy-\nnamic component (DRV1_ER) and a curvature component (DRV2_ER). These component de?nitions are spe-\nci?c to the engine cylinder number (see following related subchapters).\nFile: 30402E08.00D\n7618Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1469, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "42bc2394-ca5d-47a8-be87-c265273f1c86": {"__data__": {"id_": "42bc2394-ca5d-47a8-be87-c265273f1c86", "embedding": null, "metadata": {"page_label": "48", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3ab1c5d3-b696-4a30-8540-a2c17385781f", "node_type": "4", "metadata": {"page_label": "48", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "96744c0f1bbd50edb1d81d22038da468dd2ec797c4a1f3a1c257f091c8c291bb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nDRV2_MMV_ER is the ?ltered curvature component correction (DRV2_ER) who allows adding an arti?cial pos-\nitive offset on ER value in case of dynamic curvature effects. This feature had a safety effect against wrong\ndetection in case of segment oscillations.\nER_RAW is the engine roughness value without curvature component (DRV2_MMV_ER), used by cylinder bal-\nancing and engine warm up monitoring modules.\nUsing LV_ER_WIN_CH_ACT the value of the alternative measurement window is selected (SEG_T_COR_BUF_CH,\nSEG_T_COR_CH).\n\ufffd Application Conditions\nInitialisation: RST, ERU2ES, Deactivation\nActivation: LV_ENA_SEG_T_MES==1\nDeactivation: LV_ENA_SEG_T_MES==0\nRecurrence: SEG\n\ufffd Function Description\ner_cpt_clc\n1\nOPM_SEG\nX.2.2\nf()\ninput\nfeedback\nopm_seg\nINI\nX.2.1\nf()\nini\nV.6.4\nBusMerge\nAPP_CDN\nV.7.6\nfc_RST\nfc_ERU2ES\nfc_SEG\nLV_ENA_SEG_T_MES\nfc_INI\nfc_OPM__SEG\ndeactivation\nRecurrence:        SEG\nInit:             RST\n            ERU2ES\nActivation:\nLV_ENA_SEG_T_MES==1\nDeactivation:\nLV_ENA_SEG_T_MES==0\ninput\n3\nsys_eve\n2\ner_seg_ref\n1\n<fc_ERU2ES><fc_ERU2ES>\n<fc_RST><fc_RST>\n<fc_SEG_DEAC><fc_SEG_DEAC>\n<LV_ENA_SEG_T_MES><LV_ENA_SEG_T_MES>\n<ER_CPT_CLC__SEG><ER_CPT_CLC__SEG>\n<ER_CPT_CLC__ERU2ES><ER_CPT_CLC__ERU2ES>\n<ER_CPT_CLC__RST><ER_CPT_CLC__RST>\n<SEG_NR_ER><SEG_NR_ER>\n<LV_ER_RATIO>\n<ER_RATIO_3>\n<ER_RATIO_2>\n<ER_RATIO_1>\n<IDX_TRANS_TYP>\n<LV_DCT>\n<LV_CVT>\n<LV_ER_WIN_CH_ACT>\n<SEG_T_COR_CH>\n<SEG_T_COR_BUF_CH>\n<THD_AD_ER>\n<N_32>\n<LV_AT>\n<LOAD_MIS>\n<CRLC_DRV2_ER>\n<SEG_T_COR>\n<SEG_T_COR_BUF>\n<NC_CYL_NR>\n<FAC_DRV2_ER>\n<LV_ENA_ER>\n<ER_STND_HB>\n<ER_HB>\n<ER_STND_CYL>\n<ER_CYL>\n<FAC_ADD_ER>\n<FAC_GAIN_ER>\n<ER_STND>\n<ER>\n<ER_RAW>\n<DRV2_MMV_ER>\n<DRV2_ER>\n<DRV1_ER>\n<DRV0_ER>\ner_cpt_clc\nFigure 29.4.7:\nFile: 30402E08.00D\n7619Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2233, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "91de39aa-719c-4e88-957f-9a6df9b6ae7e": {"__data__": {"id_": "91de39aa-719c-4e88-957f-9a6df9b6ae7e", "embedding": null, "metadata": {"page_label": "49", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "66cc9243-62fa-4dce-904b-0d4ce66a5c1c", "node_type": "4", "metadata": {"page_label": "49", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "e6567534d9bf2fc645f93210ff72f46f97971ef62523e98b95ec2a0cf843b748", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\n29.4.2.1 Initialization\nini\n1\ninit = 0\nV.5.6\n[ NC_CYL_NR ] array\ninit = 0\nV.5.6\n[ NC_CYL_NR ] array\ninit = 0\nV.5.6\n[ NC_CYL_NR ] array\ninit = 1\nV.5.6\n[ NC_CYL_NR ] array\nV.6.5\n1\n2\n3\n4\nNLC_ER_CON_MISF == 1\nV.6.6\n#if\n#else\nV.6.2\nMerge\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\nV.6.11\nNLC_ER_CON_MISF\n0\n0\n0\n0f()\nLV_ER_RATIO\nER_RATIO_3ER_RATIO_3\nER_RATIO_2ER_RATIO_2\nER_RATIO_1ER_RATIO_1\nini\ncpt_lv_ena_seg_t_mes\nLV_ENA_ER\nER_STND_CYL\nER_CYL\nFAC_ADD_ER\nFAC_GAIN_ER\nER_STND_HB\nER_HB\nER_STND\nER\nER_RAW\nDRV2_MMV_ER\nDRV2_ER\nDRV1_ER\nDRV0_ER\nFigure 29.4.8:\nFile: 30402E08.00D\n7620Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1071, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8388ad27-ffaa-42fa-8adc-9aef3ea37b64": {"__data__": {"id_": "8388ad27-ffaa-42fa-8adc-9aef3ea37b64", "embedding": null, "metadata": {"page_label": "50", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3f8f4648-6508-49a1-a11e-3f44b86b1d98", "node_type": "4", "metadata": {"page_label": "50", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "20ac443ecdd317735a202641b595b7c28f0a0f76324c4c1cfa3b7bb95075a8d6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\n29.4.2.2 Formula section\nopm_seg\n1\nCLC\nX.2.2.1\nN_32\ninput\ncpt_lv_ena_seg_t_mes_in\nfeedback\ncpt_lv_ena_seg_t_mes_out\nclc\nf()\nfeedback\n2\ninput\n1\nclc\n<cpt_lv_ena_seg_t_mes>\ncpt_lv_ena_seg_t_mes\n<N_32>\nopm_seg\nFigure 29.4.9:\n29.4.2.2.1 Condition check for calculation\nclc\n2\ncpt_lv_ena_seg_t_mes_out\n1\ncond_if\nif\nelseMX\nMN\nu\ny[MX;MN]\n1\n>=\nNC_SIZE_SEG_T_COR_BUF\n1\nC_N_32_MIN_ER\nC_N_32_MAX_ER\nCDN_VLD\nX.2.2.1.1\nf()input\nfeedback\ncdn_vld\nCDN_NOT_VLD\nX.2.2.1.2\nf()\ncdn_not_vld\nV.5.35\nBusMerge\nAND\nfeedback\n4\ncpt_lv_ena_seg_t_mes_in\n3\ninput\n2\nN_32\n1\nFigure 29.4.10:\nFile: 30402E08.00D\n7621Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1098, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "567d967c-1b0b-4695-b4eb-06d4d296c37d": {"__data__": {"id_": "567d967c-1b0b-4695-b4eb-06d4d296c37d", "embedding": null, "metadata": {"page_label": "51", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b17c53a0-c3a3-4c99-ad2d-655b50d47f87", "node_type": "4", "metadata": {"page_label": "51", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "cf7c6d517781540130880e3840177fbff58889af3dfd5456771e4b20d8b7cc0c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\n29.4.2.2.1.1 Calculation overview\ncdn_vld\n1\nV.5.7\nV.5.7\nINI_CLC\nX.2.2.1.1.4\nf()\nini_clc\nCLC_3\nX.2.2.1.1.3\nlv_er_overflow_in\nDRV2_MMV_ER_in\nER_RAW\n<SEG_NR_ER>\nTHD_AD_ER\nN_32\nLV_ER_WIN_CH_ACT\nSEG_T_COR_BUF\nSEG_T_COR_BUF_CH\nER\nER_CYL\nER_STND\nER_STND_CYL\nER_HB\nER_STND_HB\nLV_ENA_ER\nfc_INI_CLC\nCLC_2\nX.2.2.1.1.2\nlv_er_overflow_in\nDRV0_ER\nDRV1_ER\nDRV2_ER\nDRV2_MMV_ER_in\nSEG_NR_ER\nCRLC_DRV2_ER\nLV_AT\nN_32\nLOAD_MIS\nLV_CVT\nLV_DCT\nFAC_GAIN_ER\nFAC_ADD_ER\nDRV2_MMV_ER_out\nER_RAW\nlv_er_overflow_out\nCLC_1\nX.2.2.1.1.1\nNC_CYL_NR\nFAC_DRV2_ER\nLV_ER_WIN_CH_ACT\nSEG_T_COR_BUF\nSEG_T_COR\nSEG_T_COR_BUF_CH\nSEG_T_COR_CH\nIDX_TRANS_TYP\nN_32\nLOAD_MIS\nDRV0_ER\nDRV1_ER\nDRV2_ER\nlv_er_overflow\nER_RATIO_1\nER_RATIO_2\nER_RATIO_3\nLV_ER_RATIO\nV.5.35\nBusMerge\nf()\nfeedback\n2\ninput\n1 lv_er_overflow\nDRV2_ER\nDRV1_ER\nDRV0_ER\nLV_ER_RATIO\nER_RATIO_3\nER_RATIO_2\nER_RATIO_1\n<LOAD_MIS>\n<N_32>\n<IDX_TRANS_TYP>\n<LV_DCT>\n<LV_CVT>\n<SEG_T_COR_BUF>\n<LV_ER_WIN_CH_ACT>\n<N_32>\n<THD_AD_ER>\n<SEG_NR_ER>\n<SEG_T_COR_BUF_CH>\n<SEG_T_COR_CH>\n<SEG_T_COR_BUF_CH>\n<SEG_T_COR>\n<SEG_T_COR_BUF>\n<LV_ER_WIN_CH_ACT>\nclc_3\nLV_ENA_ER\n<lv_er_overflow>\nlv_er_overflow\n<lv_er_overflow>\nER_STND_HB\n<DRV2_ER>\n<DRV1_ER>\n<DRV0_ER>\nER_HB\n<SEG_NR_ER>\n<LOAD_MIS>\n<N_32>\n<LV_AT>\n<CRLC_DRV2_ER>\n<DRV2_MMV_ER>\n<ER_RAW>\n<DRV2_MMV_ER>\nER_RAW\nDRV2_MMV_ER\nFAC_ADD_ER\nFAC_GAIN_ER\nER_STND_CYL\nER_STND\nER_CYL\nER\n<FAC_DRV2_ER>\n<NC_CYL_NR>\nFigure 29.4.11:\n29.4.2.2.1.1.1 DRVx_ER calculations\nImplant scheme for 3 cylinder engine:\nFile: 30402E08.00D\n7622Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1982, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "030e3902-e404-414c-a655-858611a0a7e8": {"__data__": {"id_": "030e3902-e404-414c-a655-858611a0a7e8", "embedding": null, "metadata": {"page_label": "52", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "10f0da7c-86d1-4c19-adbb-cbd02fea988e", "node_type": "4", "metadata": {"page_label": "52", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "04fe4d2b5ba725dbb48c27793d05fcdcc1e8280c225ff1eeeb7c5b7644539f85", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nSEG_T_COR \n(n) \nSEG_T_COR \n(n-1) \nSEG_T_COR \n(n-4) \nSEG_T_COR \n(n-3) \nSEG_T_COR \n(n-2) \nSEG_T_COR \n(n+4) \nSEG_T_COR \n(n+3) \nSEG_T_COR \n(n+2) \nSEG_T_COR \n(n+1) \nSegment Sample \nSegment Number \nCylinder Number \nER(p) ER (p-1) ER (p-2) ER (p-3) ER (p-4) ER (p-5) ER (p-6) ER (p-7) ER (p-8) \n3 Cylinder \nEngine \nDRV0_ER (n)  = \n3 * [ SEG_T_COR (n)  ? SEG_T_COR (n+1)  ] \nDRV1_ER (n)  = \nSEG_T_COR (n-2)  ? SEG_T_COR (n+1) \nDRV2_ER (n) \n =  FAC_DRV2_ER *  max(0,[ SEG_T_COR (n-3)  -  SEG_T_COR (n)  ] -  [ SEG_T_COR (n)  ? SEG_T_COR (n+3)  ]) \nER (n)   = ER_RAW (n)  + DRV2_MMV_ER (n)  + THD_AD_ER (n) \n02102 1021\nACBAC BACB\nnn-1 n-2 n-3 n-4 n+4 n+3 n+2 n+1 \nTHD_ER(n) = f(N,Load) \nCyl A Admission conditions \nER (p+1) \nER(p)=ER(n+3) is \nused to diagnose \nsegment n \nDelay Between ER \nindex & diagnosed \ncylinder = 3 Segments \nSEG_T_ \n COR_BUF[6] \nSEG_T_ \nCOR_BUF[5] \nSEG_T_ \nCOR_BUF[4] \nSEG_T_ \nCOR_BUF[3] \nSEG_T_ \nCOR_BUF[2] \nSEG_T_ \nCOR_BUF[1] \nSEG_T_ \nCOR_BUF[0] \nBuffer SEG_T_COR_BUF [NC_SIZE_SEG_T_COR_BUF] \nFigure 29.4.12:\nImplant scheme for 4 cylinder engine:\nFile: 30402E08.00D\n7623Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1605, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b09ebec9-87be-48fe-915d-87b422ba93e9": {"__data__": {"id_": "b09ebec9-87be-48fe-915d-87b422ba93e9", "embedding": null, "metadata": {"page_label": "53", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7d10adfc-2fc5-4578-a14e-8f3fb7fc9d91", "node_type": "4", "metadata": {"page_label": "53", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "41a74ea8b04de37ca0ff627f9e13a6e1b3c225131a6c959e4ee1c5ad0da3af19", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nSEG_T_COR \n(n ) \nSEG_T _COR \n(n-1) \nSEG_T _COR \n(n-4) \nSEG_T _COR \n(n-3) \nSEG_T_COR \n(n-2) \nSEG_T_COR \n(n +4) \nSEG_T_COR \n(n+3) \nSEG_T_COR \n(n +2) \nSEG_T_COR \n(n +1) \nSegment Sample \nSegment Number \nCylinder Number \nER(p) \nER (p-1) ER (p-2) ER (p-3) ER (p-4) ER (p-5) ER (p-6) ER (p-7) ER (p-8) ER (p-9) \nDRV0_ER (n)  = \n4 * [ SEG_T_COR (n)  ? SEG_T_COR (n+1)  ] \nDRV1_ER (n)  = \nSEG_T_COR (n-2)  ? SEG_T_COR (n+2) \nDRV2_ER (n)  =  FAC_DRV2_ER * max(0,[ SEG_T_COR (n-4)  -  SEG_T_COR (n)  ] -  [ SEG_T_COR (n)  ? SEG_T_COR \n(n+4) \n ]) \nER (n)   = ER_RAW (n)  + DRV2_MMV_ER (n)  + THD_AD_ER \n(n) \n03210 0321\nADCBA ADCB\nnn-1 n-2 n-3 n-4 n+4 n+3 n+2 n+1 \nTHD_ER(n) = f(N,Load) \nCyl A Admission conditions \n4 Cylinder \nEngine \nDelay Between ER \nindex & diagnosed \ncylinder = 4 Segments \nER(p)=ER(n+4) is \nused to diagnose \nsegment n \nSEG_T_ \nCOR_BUF[7] \nSEG_T_ \nCOR_BUF[6] \nSEG_T_ \nCOR_BUF[5] \nSEG_T_ \nCOR_BUF[4] \nSEG_T_ \nCOR_BUF[3] \nSEG_T_ \nCOR_BUF[2] \nSEG_T_ \nCOR_BUF[1] \nBuffer SEG_T_COR_BUF [NC_SIZE_SEG_T_COR_BUF] \nSEG_T_ \nCOR_BUF[8] \nSEG_T_ \nCOR_BUF[0] \nFigure 29.4.13:\nImplant scheme for 5 cylinder engine:\nFile: 30402E08.00D\n7624Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1652, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8a6f9f0c-adb1-462b-af76-1d1f8e31f983": {"__data__": {"id_": "8a6f9f0c-adb1-462b-af76-1d1f8e31f983", "embedding": null, "metadata": {"page_label": "54", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4c5033f2-8ca4-43a2-a6a3-202b69db3b15", "node_type": "4", "metadata": {"page_label": "54", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "6d9a6fe1daecf0048bcbf1a8c3adc54801069ababa28c8ce5bc763689ceffb85", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nSEG_T _C OR \n(n) \nSEG_T _C OR \n(n-1) \nSEG_T_COR \n(n -4) \nSEG_T_COR \n(n-3) \nSEG_T _C OR \n(n-2) \nSEG_T _C OR \n(n+4) \nSEG_T_COR \n(n+3) \nSEG_T_COR \n(n+2) \nSEG_T_COR \n(n +1) \nSegment S ample \nSe gment Numbe r \nC ylinde r Numbe r \nER(p) \nER (p-3 ) ER (p-4 ) ER (p-5 ) ER (p-6 ) ER (p-7 ) ER (p-8 ) ER (p-9 ) ER (p-1 0) \n5 Cylinder \nEngine DRV 0_ER (n)  = \n5 * [ SEG_ T_ COR (n)  ? SEG_ T_COR (n+1)  ] \nDRV1_ER (n)  = \nSEG_T_COR (n-2)  ? SEG_T_COR (n+3) \nDRV2_ER (n)  =  FAC_DRV2_ER * max(0,[ SEG_T_COR (n-5)  -  SEG_T_COR (n)  ] -  [ SEG_T_COR (n)  ? SEG_T_COR (n+5)  ]) \nER (n)  = ER_RAW (n)  + DR V2_MM V_ER (n)  + THD _AD_ER (n) \n32104 2104\nDCBAE CBAE\nnn-1 n-2 n-3 n-4 n+4 n+3 n+2 n+1 \nTHD_ER(n) = f(N,Load) \nCyl D Admission conditions \nER (p-1 ) \nER(p)=ER(n+5) is \nused to diagnose \nsegment n \nDelay Between ER \nindex & diagnosed \ncylinder = 5 Segments \nSEG_T_COR \n(n-5) \nSEG_T _C OR \n(n-5) \nER (p-2 ) \n3\nD\nn+5 \nSEG_T_ \nCOR_BUF[7] \nSEG_T_ \nCOR_BUF[6] \nS EG_T_ \nCOR_BUF[5] \nSEG_T_ \nCOR_BUF[4] \nSEG_T_ \nCOR_BUF[3] \nSEG_T_ \nCOR_BUF[2] \nSEG_T_ \nCOR_BUF[1] \nBuffer SEG_T_ COR_BUF [NC_S IZE_SEG_ T_ COR_BUF] \nS EG_T_ \nCOR_BUF[8] \nS EG_T_ \nCOR_BUF[0] \nSEG_T_ \nCO R_BUF[9] \nSEG_T_ \nCOR_ BUF[10] \nFigure 29.4.14:\nImplant scheme for 6 cylinder engine:\nFile: 30402E08.00D\n7625Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1782, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f78b1398-594d-4dd5-933f-fd059fd9ee59": {"__data__": {"id_": "f78b1398-594d-4dd5-933f-fd059fd9ee59", "embedding": null, "metadata": {"page_label": "55", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb1d9cc-d0b7-4d3d-b51f-8198de40d147", "node_type": "4", "metadata": {"page_label": "55", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "7c544960e6e0465f8e88756544e9587cb5772aa6185b4c76ddf8f2277fe80d7a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nSEG_T_COR(n) SEG_T_COR(n-1) SEG_T_COR(n-4) SEG_T_COR(n-3) SEG_T_COR(n-2) SEG_T_COR(n+4) SEG_T_COR(n+3) SEG_T_COR(n+2) SEG_T_COR(n+1) \nER(p) ER (p-1) ER (p-2) ER (p-3) ER (p-4) ER (p-5) ER (p-6) ER (p-7) ER (p-8) \n6 Cylinder \nEngine \nDRV0_ER (n)  = \n6 * [ SEG_T_COR (n)  ? SEG_T_COR (n+1)  ] \nDRV1_ER (n)  = \nSEG_T_COR (n-3 )  ? SEG_T_COR (n+3) \nDRV2_ER (n)  =  FAC_DRV2_ER * max(0,[ SEG_T_COR (n-3)  -  SEG_T_COR (n)  ] -  [ SEG_T_COR (n)  ? SEG_T_COR (n+3)  ]) \nER (n)   = ER_RAW (n)  + DRV2_MMV_ER (n)  + THD_AD_ER (n) \n1\nSegment Sample \nSegment Number \nCylinder Number \n32105 054\nDCBAF BAFE\nnn-1 n-2 n-3 n-4 n+4 n+3 n+2 n+1 \nTHD_ER(n) = f(N,Load) \nCyl D Admission conditions \nER (p+1) \nER(p)=ER(n+3) is \nused to diagnose \nsegment n \nDelay Between ER \nindex & diagnosed \ncylinder = 3 Segments \nSEG_T_ \nCOR_BUF[6] \nSEG_T_ \nCOR_BUF[5] \nSEG_T_ \nCOR_BUF[4] \nSEG_T_ \nCOR_BUF[3] \nSEG_T_ \nCOR_BUF[2] \nSEG_T_ \nCOR_BUF[1] \nSEG_T_ \nCOR_BUF[0] \nBuffer SEG_T_COR_BUF [NC_SIZE_SEG_T_COR_BUF] \nFigure 29.4.15:\nImplant scheme for 8 cylinder engine:\nFile: 30402E08.00D\n7626Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1578, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0de098b8-a1f1-4bf8-9de1-6f343c2f6774": {"__data__": {"id_": "0de098b8-a1f1-4bf8-9de1-6f343c2f6774", "embedding": null, "metadata": {"page_label": "56", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "302aad4d-30f9-41b8-9bf0-642df4e518f6", "node_type": "4", "metadata": {"page_label": "56", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "8dde8ca91f8b1f824544ad63efc455b6364c1edb7ea47b63a56106ebe5e26f90", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nFigure 29.4.16:\nImplant scheme for 10 cylinder engine:\nFigure 29.4.17:\nFile: 30402E08.00D\n7627Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 613, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "da0050aa-0c60-4db1-83d0-5286cada6340": {"__data__": {"id_": "da0050aa-0c60-4db1-83d0-5286cada6340", "embedding": null, "metadata": {"page_label": "57", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1319ae71-b189-48e5-be92-0ecfe4bf6482", "node_type": "4", "metadata": {"page_label": "57", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "90ba6d3724309ea9f9b8782e132b8e1fb125131960a481d3ac8fcb671215a2da", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nImplant scheme for 12 cylinder engine:\nFigure 29.4.18:\nLC_RATIO_ER_ACT is a switch to activate or deactivate the strategy of DRV0_ER and DRV1_ER calculation for\nconsecutive mis?re detection\nStatic Component (DRV0) calculation:\nIt compares the succession of segment lines (and is primarily responsible for mis?re detection). The factor\nNC_CYL_NR provides scaling with regard to DRV1_ER.\nDynamic Component (DRV1) calculation\nIt corrects uniform acceleration or deceleration\nFile: 30402E08.00D\n7628Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1014, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c0f01f51-786e-4e55-8145-fd67480d4928": {"__data__": {"id_": "c0f01f51-786e-4e55-8145-fd67480d4928", "embedding": null, "metadata": {"page_label": "58", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5a16da3d-48fd-41f5-bcea-14cb5cf94e77", "node_type": "4", "metadata": {"page_label": "58", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "bda75688b2df7678c5a08a96b6715722716c97480b4842edd579a92c58746a7b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nSelection of actual measurement window\nZero based indexing of all read vectors \nLV_ER_RATIO\n8\nER_RATIO_3\n7\nER_RATIO_2\n6\nER_RATIO_1\n5\nlv_er_overflow\n4\nDRV2_ER\n3\nDRV1_ER\n2\nDRV0_ER\n1\nV.5.5C0\n[..]\nV.5.5C0\n[..]\nV.5.5C0\n[..]\nV.5.5C0\n[..]\nV.5.5C0\n[..]\nV.5.5C0\n[..]\nDRV2_ER\nV.5.6phys_min\nDRV2_ER\nV.5.6phys_max\nDRV1_ER\nV.5.6phys_min\nDRV1_ER\nV.5.6phys_max\nNLC_ER_CON_MISF == 1\nV.6.6\n#if\n#else\nV.6.4\nV.6.4\nCheck ~= 0\nV.6.9\nCheck ~= 0\nV.6.9\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nV.7.6\n+\n+\nV.6.2\nOR\nNOT\nNOT\nV.7.7\nmax\nV.6.2\nMerge\nLV_ER_RATIO_CLC\nX.2.2.1.1.1.1\nfc()\nIDX_TRANS_TYP\nN_32\nLOAD_MIS\nSEG_T_COR_BUF_tmp\nER_RATIO_1\nER_RATIO_2\nER_RATIO_3\nLV_ER_RATIO\nMX\nMN\nu\ny[MX;MN]\nMX\nMN\nu\ny[MX;MN]\n[SEG_T_COR_tmp]\n[SEG_T_COR_BUF_tmp]\n1\n[SEG_T_COR_BUF_tmp]\n[SEG_T_COR_BUF_tmp]\n[SEG_T_COR_BUF_tmp]\n[SEG_T_COR_tmp]\n[SEG_T_COR_BUF_tmp]\nV.6.8\n1\nNC_DRV0_ER_1\nV.6.8\n2\n2\n0\nNC_DRV2_ER\nNC_DRV1_ER_2\nNC_DRV1_ER_1\nV.6.11\nNLC_ER_CON_MISF\nV.6.11\n0\nNC_DRV0_ER_2\nNC_DRV0_ER_1\nLOAD_MIS\n10\nN_32\n9\nIDX_TRANS_TYP\n8\nSEG_T_COR_CH\n7\nSEG_T_COR_BUF_CH\n6\nSEG_T_COR\n5\nSEG_T_COR_BUF\n4\nLV_ER_WIN_CH_ACT\n3\nFAC_DRV2_ER\n2\nNC_CYL_NR\n1\nDRV1_ER\nDRV0_ER\nSEG_T_COR_tmp\nSEG_T_COR_BUF_tmp\nFigure 29.4.19:\nFile: 30402E08.00D\n7629Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1682, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f57c636e-ee00-4ed9-8c90-e7e8b9cb2d0c": {"__data__": {"id_": "f57c636e-ee00-4ed9-8c90-e7e8b9cb2d0c", "embedding": null, "metadata": {"page_label": "59", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4b07f9bb-f390-49ca-9227-f65a707c9355", "node_type": "4", "metadata": {"page_label": "59", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "64b42bd4c7ab76bb31d2d23f90a76d0441404de9f3156d636cc8d09c872f2157", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\n29.4.2.2.1.1.1.1 DRVx_ER calculations based on ER ratios\nLV_ER_RATIO\n4\nER_RATIO_3\n3\nER_RATIO_2\n2\nER_RATIO_1\n1\nV.5.5C0\n[..]\nV.5.5C0\n[..]\nV.5.5C0\n[..]\nV.5.5C0\n[..]\nV.5.5C0\n[..]\nV.5.5C0\n[..]\nIP_RATIO_THD_ER_2\nV.7.7\nidx_x\nx_val\ny_val\nIP_val\nIP_RATIO_THD_ER_1\nV.7.7\nidx_x\nx_val\ny_val\nIP_val\nV.6.4\nV.6.4\nV.6.4\nCheck ~= 0\nV.6.9\nV.7.6\n+\n+\nV.7.6\n+\n?\nV.7.6\n+\n?\nV.7.6\n+\n?\nV.6.5\nV.6.5\nV.6.5\nV.6.5\nV.7.5\nV.7.5\nV.7.5\nV.6.8\n1\nV.6.8\n0V.6.8\nLC_RATIO_ER_ACT\nV.6.8\n0\nV.6.8\nNC_DRV0_ER_1\nV.6.8\nNC_DRV0_ER_2\nV.6.8\n0\nV.6.8\nNC_DRV1_ER_2\nV.6.8\nNC_DRV0_ER_1\nV.6.9\nAND\nf()\nSEG_T_COR_BUF_tmp\n4\nLOAD_MIS\n3N_32\n2IDX_TRANS_TYP\n1\nFigure 29.4.20:\n29.4.2.2.1.1.2 Cylinder speci?c engine roughness components correction\nThe mis?re detection based on ER index can be complicated by the torsional/?exion vibrations especially with\nmultiple cylinder engines with a long crankshaft. This affects on mis?re detection ef?ciency, especially at high\nengine speed.\nTo balance this phenomenon, after segment timing correction with ER adaptive values (see ER segment cor-\nrection process), an irregular operation is determined from the measured cylinder segment times, cylinder\nspeci?c additive and multiplicative corrections are applied on the raw engine roughness value (ER_RAW).\nFAC_ADD_ER[NC_CYL_NR] and FAC_GAIN_ER[NC_CYL_NR] correction coef?cients are based on calibration ta-\nbles speci?c to each cylinder and to transmission type (MT/AT).\nFile: 30402E08.00D\n7630Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1943, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3f0ceb34-c426-495c-a2a9-efe624fdccea": {"__data__": {"id_": "3f0ceb34-c426-495c-a2a9-efe624fdccea", "embedding": null, "metadata": {"page_label": "60", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "77365a05-6a62-4fba-a252-19ca8bad91ab", "node_type": "4", "metadata": {"page_label": "60", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "b1558a661dfdf450d100419db93b7b7998ea362f7eb38aa309a57b2005a53831", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\nlv_er_overflow_out\n5\nER_RAW\n4\nDRV2_MMV_ER_out\n3\nFAC_ADD_ER\n2\nFAC_GAIN_ER\n1\nER_RAW\nV.5.6 phys_min\nER_RAW\nV.5.6 phys_max#if\n#else\nthreshold: 0.5\n0.5\nMerge\nMX\nMN\nu\ny[MX;MN]\n1\nV.5.2 1\nNLC_CONF_GAIN_ADD_ER\nCDN_VLD\nX.2.2.1.1.2.1\nf()\nDRV0_ER\nDRV1_ER\nSEG_NR_ER\nLV_AT\nN_32\nLOAD_MIS\nLV_CVT\nLV_DCT\nER_RAW\nFAC_GAIN_ER\nFAC_ADD_ER\nLV_DCT\n12\nLV_CVT\n11\nLOAD_MIS\n10\nN_32\n9\nLV_AT\n8\nCRLC_DRV2_ER\n7\nSEG_NR_ER\n6\nDRV2_MMV_ER_in\n5\nDRV2_ER\n4\nDRV1_ER\n3\nDRV0_ER\n2\nlv_er_overflow_in\n1\nFigure 29.4.21:\nFile: 30402E08.00D\n7631Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1016, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ba6d5782-3a04-4c6b-8ee9-cb68a95ba671": {"__data__": {"id_": "ba6d5782-3a04-4c6b-8ee9-cb68a95ba671", "embedding": null, "metadata": {"page_label": "61", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "89aab658-e625-4a86-9065-43e0cd9a3571", "node_type": "4", "metadata": {"page_label": "61", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "aef1c31612d39c613e2ef8f9b37f79fb1c34072c6094ea67b3b7fd6a918d3d88", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\n29.4.2.2.1.1.2.1 Calculation of FAC_GAIN_ER\nZero based indexing \nZero based indexing \nFAC_ADD_ER\n3\nFAC_GAIN_ER\n2\nER_RAW\n1\nsize: [NC_CYL_NR]\nV.5.5C0\nu\nsize: [NC_CYL_NR]\nV.5.5C0\nu\nIP_FAC_ADD_ER_CVT\nV.7.3\nidx_x\nx_val\ny_val\nIP_val\nIP_FAC_ADD_ER_AT\nV.7.3\nidx_x\nx_val\ny_val\nIP_val\nIP_FAC_ADD_ER_DCT\nV.7.3\nidx_x\nx_val\ny_val\nIP_val\nIP_FAC_GAIN_ER_DCT\nV.7.3\nidx_x\nx_val\nIP_val\nIP_FAC_GAIN_ER_AT\nV.7.3\nidx_x\nx_val\nIP_val\nIP_FAC_GAIN_ER_MT\nV.7.3\nidx_x\nx_val\nIP_val\nIP_FAC_ADD_ER_MT\nV.7.3\nidx_x\nx_val\ny_val\nIP_val\nIP_FAC_GAIN_ER_CVT\nV.7.3\nidx_x\nx_val\nIP_val\nfcn_call()\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\ncond_if\nif\nelse\nMerge\nMerge\n1\n1\nV.5.2\nV.5.2\nV.5.2\nV.5.2\n1\nf()\nLV_DCT\n8\nLV_CVT\n7\nLOAD_MIS\n6\nN_32\n5\nLV_AT\n4\nSEG_NR_ER\n3\nDRV1_ER\n2\nDRV0_ER\n1\nFAC_ADD_ER_x\nFAC_GAIN_ER_x\nFigure 29.4.22:\nFile: 30402E08.00D\n7632Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1323, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e56aab8e-3389-42bf-9d78-1d497a5a0eac": {"__data__": {"id_": "e56aab8e-3389-42bf-9d78-1d497a5a0eac", "embedding": null, "metadata": {"page_label": "62", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "19c581b2-1cef-4cbf-9dda-926199afeb44", "node_type": "4", "metadata": {"page_label": "62", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "333b7b99c060a655e0727a2a114392c83821a544c4b9293498118372dbae1635", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\n29.4.2.2.1.1.3 Engine roughness values determination\nER is the complete engine roughness value including all ER components (DRV0_ER, DRV1_ER & DRV2_MMV_\nER), speci?ed & used by mis?re detection module.\nER_STND is the normalised engine roughness value versus engine speed that could be ampli?ed by a gain\nC_FAC_SCA_ER_STND. This is the nominal engine roughness value divided by the corresponding cubic cor-\nrected ER segment time (SEG_T_COR_BUF[C_SEG_DLY_ER])?3. The cubic segment time is calculated by using\na mantisse and an exponent.\nER & ER_STND calculation formula are generic to all engine type.\nA positive offset (THD_AD_ER) is added to ER components as long as the ER adaptive learning process hasn?t\nbeen executed. This, in a way to avoid wrong mis?re detection in engine operation areas where crankshaft\ndecelerations due to a mis?re are very close to ER noise due to the ?ywheel mechanical tolerances.\nThis offset decreases as the ER adaptive learning progress. At the end of the learning process, this offset is null\n(see next chapter ER adaptive values learning process for more informations).\nOnce the ER fast adaptive learning stage has been executed, these ?ywheel mechanical tolerances are suf?-\nciently reduced to able to detect mis?re in full legal range without adding a positive offset.\nER_CYL_x and ER_STND_CYL_x are the engine roughness values obtained for corresponding cylinder x, these\nvalues are switched according SEG_NR_ER segment reference.\nNote: if C_SEG_DLY_ER larger than NC_SIZE_SEG_T_COR_BUF, SEG_T_COR_BUF[C_SEG_DLY_ER] data is limited\nto the last cell of the buffer.\nZero based indexing \nZero based indexing \nZero based indexing \nfc_INI_CLC\n8\nLV_ENA_ER\n7\nER_STND_HB\n6\nER_HB\n5\nER_STND_CYL\n4\nER_STND\n3\nER_CYL\n2\nER\n1\nsize: [NC_CYL_NR]\nV.5.5C0\nu\nsize: [NC_CYL_NR]\nV.5.5C0\nu\nfcn_call()fcn_call_1\nfcn_call_2\nV.5.5C0\n[..]\nn y 2n\ncond_if\nif\nelse\nfcn_call()\ncond_if\nif\nelse\nER\nV.5.6 phys_min\nER\nV.5.6 phys_max\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nthreshold: 0.5\n0.5\n<SEG_NR_ER>\nMerge\nMerge\nuv\n<\nMX\nMN\nu\ny[MX;MN] 1\n1\n1\n1\nV.5.2\nV.5.2\n1\n1\n0\n0\n3\nC_N_32_MAX_ER_STND\nC_FAC_SCA_ER_STND\nV.6.4\nC_SEG_DLY_ER\nV.6.4\nC_SEG_DLY_ER_CH\nSEG_T_COR_BUF_CH\n9\nSEG_T_COR_BUF\n8\nLV_ER_WIN_CH_ACT\n7\nN_32\n6\nTHD_AD_ER\n5\n<SEG_NR_ER>\nER_RAW\n3\nDRV2_MMV_ER_in\n2\nlv_er_overflow_in\n1\nFigure 29.4.23:\nFile: 30402E08.00D\n7633Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2833, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5b0d7c08-19f4-49bb-9b50-0d9f331db711": {"__data__": {"id_": "5b0d7c08-19f4-49bb-9b50-0d9f331db711", "embedding": null, "metadata": {"page_label": "63", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "239111bc-8377-495e-856e-c2f5a97093aa", "node_type": "4", "metadata": {"page_label": "63", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "06199cda688043205de810ef1fc2e0c50cb910b4af089356eb502ab58af8d1d8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\n29.4.2.2.1.1.4 Initialization if condition valid\nini_clc\n1\ninit = 0\nV.5.6\n[ NC_CYL_NR ] array\ninit = 0\nV.5.6\n[ NC_CYL_NR ] array\ninit = 0\nV.5.6\n[ NC_CYL_NR ] array\ninit = 1\nV.5.6\n[ NC_CYL_NR ] array\nV.6.5\n1\n2\n3\n4\nNLC_ER_CON_MISF == 1\nV.6.6\n#if\n#else\nV.6.2\nMerge\nV.6.8\n0\n0\n0\n0\n0\n0\n0\n0\nV.6.8\n0\nV.6.8\n0\nV.6.8\n0\nV.6.11\nNLC_ER_CON_MISF\nV.6.8\n0\nV.6.8\n0\n0\n0f()\nLV_ER_RATIO\nER_RATIO_3\nER_RATIO_2\nER_RATIO_1\nLV_ENA_ER\nER_STND_CYL\nER_CYL\nFAC_ADD_ER\nFAC_GAIN_ER\nER_STND_HB\nER_HB\nini_clc\nER_STND\nER\nER_RAW\nDRV2_MMV_ER\nDRV2_ER\nDRV1_ER\nDRV0_ER\nFigure 29.4.24:\nFile: 30402E08.00D\n7634Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1088, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "bbd3612b-098b-47e4-89b1-f5606718081d": {"__data__": {"id_": "bbd3612b-098b-47e4-89b1-f5606718081d", "embedding": null, "metadata": {"page_label": "64", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "bead80e7-b897-4ba9-bc17-db02df9829a8", "node_type": "4", "metadata": {"page_label": "64", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "7a32e532a6c3e3563275c0771e9770c6e527642c29d00ec3e878a43406230600", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation\n29.4.2.2.1.2 Initialisations\ncdn_not_vld\n1\ninit = 0\nV.5.6\n[ NC_CYL_NR ] array\ninit = 0\nV.5.6\n[ NC_CYL_NR ] array\ninit = 0\nV.5.6\n[ NC_CYL_NR ] array\ninit = 1\nV.5.6\n[ NC_CYL_NR ] array\nV.6.5\n1\n2\n3\n4\nNLC_ER_CON_MISF == 1\nV.6.6\n#if\n#else\nV.6.2\nMerge\nV.6.8\n0\n0\n0\n0\n0\n0\n0\n0\nV.6.11\nNLC_ER_CON_MISF\nV.6.8\n0\nV.6.8\n0 V.6.8\n0\nV.6.8\n0\nV.6.8\n0\n0\n0f()\nLV_ER_RATIO\nER_RATIO_3\nER_RATIO_2\nER_RATIO_1\nLV_ENA_ER\nER_STND_CYL\nER_CYL\nFAC_ADD_ER\nFAC_GAIN_ER\nER_STND_HB\nER_HB\ncdn_not_vld\nER_STND\nER\nER_RAW\nDRV2_MMV_ER\nDRV2_ER\nDRV1_ER\nDRV0_ER\nFigure 29.4.25:\nFile: 30402E08.00D\n7635Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1076, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7e5b877c-adee-4fed-9868-dd5e06e44c5e": {"__data__": {"id_": "7e5b877c-adee-4fed-9868-dd5e06e44c5e", "embedding": null, "metadata": {"page_label": "65", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d7957a69-d01d-4c4b-b11e-af603b9559a7", "node_type": "4", "metadata": {"page_label": "65", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "d1cb583fc77a89f8e0250c4bb0adf292c3381c8e9e411c4ae72176c2482138b3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation (Appl. Inc.)\n29.5 Engine roughness calculation (Appl. Inc.)\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nCRLC_DRV2_ER O/V 0... FFH 0... 0.99609375 0.00390625 -\nCorrelation factor for engine roughness curvature component calculation\nFAC_DRV2_ER O/V 0... 3FCH 0 ...4 0.00392157 -\nWeighting factor for engine roughness curvative component calculation (correction amount)\nLV_ER_WIN_CH_ACT O/V 0... 1H 0 ...1 1 -\nAlternative catalyst heating window used for ER calculation\nLV_INH_APP_ER_AD O/V 0... 1H 0 ...1 1 -\nER segment adaptive process inhibition ?ag relative application speci?c conditions\nLV_INH_OBD_ER_AD O/V 0... 1H 0 ...1 1 -\nER segment adaptive process inhibition ?ag.\nLV_REQ_SEG_AD_MMV_ER_APP O/V 0... 1H 0 ...1 1 -\nFlag indicating request to reload stored segment adaptive values\nLV_SEG_AD_RST_ER_EOL O/V 0... 1H 0 ...1 1 -\nEOL speci?c request to reset ER segment adaptive values\nSEG_AD_MMV_ER_APP [NC_CYL_NR] O/V 8000... 7FFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nER ?ltered adaptive values used for reload (for each segment) if segment adaptive process not valid\n\ufffd Input Data\nCTR_T_ZDLY_MIS\n{p. 23397}\nIGA_AV_MV\n{p. 12664}\nLOAD_MIS\n{p. 23383}\nLV_AT\n{p. 24737}\nLV_CH\n{p. 10962}\nLV_CVT\n{p. 24737}\nLV_DCT\n{p. 24737}\nLV_ENA_SEG_T_MES\n{p. 7577}\nLV_FID_READY\n{p. 11388}\nLV_IS\n{p. 7530}\nLV_VAR_4WD\n{p. 24738}\nN\n{p. 8079}\nN_32\n{p. 8079}\nNC_CYL_NR\n{p. 1316}\nSTATE_MIS_ENG_OPM\n{p. 23353}\nTCO\n{p. 8846}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_CRLC_DRV2_ZDLY_ER V 0... FFH 0... 0.99609375 0.00390625 -\nCorrelation factor for engine roughness curvature component calculation after start\nC_MAX_IGA_INH_CHG_SEG V 0... FFH -35.625 ...60 0.375 \ufffdCRK\nThreshold for change in Ignition Angle above which normal window is active\nC_MIN_IGA_CHG_SEG V 0... FFH -35.625 ...60 0.375 \ufffdCRK\nThreshold for change in Ignition Angle below which CH segment is active\nC_N_32_INH_CHG_SEG V 0... FFH 0... 8160 32 rpm\nRPM threshold for inhibition of change in mis?re segment\nC_N_32_MAX_DRV2_ER_IS V 0... FFH 0... 8160 32 rpm\nMaximum engine speed to apply DRV2 speci?c weighting factor in idle speed\nC_T_DRV2_ZDLY_ER V 0... FFFFH 0... 655.35 0.01 s\nFile: AE402P01.00B\n7636Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2728, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "44bd721e-d0d4-4a5d-be27-aadeb0ab935d": {"__data__": {"id_": "44bd721e-d0d4-4a5d-be27-aadeb0ab935d", "embedding": null, "metadata": {"page_label": "66", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f2645967-7ec9-4745-89bb-ef48ee93169b", "node_type": "4", "metadata": {"page_label": "66", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "52439b41ee00c9c880ba7dd9bc5f2c84c74592284c4ef22e85014cabefdb1d93", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "cc5bde86-d181-48c8-a37e-15aaa7f908a3", "node_type": "1", "metadata": {}, "hash": "b6b875611809af6c280e8e8a855622391687c1cdc8956ff9cad147b5ffad1a72", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation (Appl. Inc.)\nName Mode Coded Limits Display Limits Resolution Unit\nDelay for speci?c curvative component calculation during after start\nIP_CRLC_DRV2_ER_CH_AT V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_32_IP_CRLC_DRV2_ER_CH_AT 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - AT vehicle, CH Mode\nIP_CRLC_DRV2_ER_CH_CVT V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_32_IP_CRLC_DRV2_ER_CH_CVT 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - CVT vehicle with\nSTATE_MIS_ENG_OPM = CH mode\nIP_CRLC_DRV2_ER_CH_DCT V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_32_IP_CRLC_DRV2_ER_CH_DCT 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - DCT vehicle with\nSTATE_MIS_ENG_OPM = CH mode\nIP_CRLC_DRV2_ER_CH_MTQ V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_32_IP_CRLC_DRV2_ER_CH_MTQ 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) ?", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1532, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "cc5bde86-d181-48c8-a37e-15aaa7f908a3": {"__data__": {"id_": "cc5bde86-d181-48c8-a37e-15aaa7f908a3", "embedding": null, "metadata": {"page_label": "66", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f2645967-7ec9-4745-89bb-ef48ee93169b", "node_type": "4", "metadata": {"page_label": "66", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "52439b41ee00c9c880ba7dd9bc5f2c84c74592284c4ef22e85014cabefdb1d93", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "44bd721e-d0d4-4a5d-be27-aadeb0ab935d", "node_type": "1", "metadata": {"page_label": "66", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "fcdb5f9f26c84ad60e9bfc581bd888bf99e019ee692032920945ae3bfaca1b45", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "MT_4WD vehicle with\nSTATE_MIS_ENG_OPM = CH mode\nIP_CRLC_DRV2_ER_MPLH_CH_AT V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_IP_CRLC_DRV2_MPLH_CH_AT 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - AT vehicle, with\nSTATE_MIS_ENG_OPM = MPLH_CH mode\nIP_CRLC_DRV2_ER_MPLH_CH_CVT V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_IP_CRLC_DRV2_MPLH_CH_CVT 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - CVT vehicle with\nSTATE_MIS_ENG_OPM = MPLH_CH mode\nIP_CRLC_DRV2_ER_MPLH_CH_DCT V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_IP_CRLC_DRV2_MPLH_CH_DCT 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - DCT vehicle with\nSTATE_MIS_ENG_OPM = MPLH_CH mode\nIP_CRLC_DRV2_ER_MPLH_CH_MTQ V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_IP_CRLC_DRV2_MPLH_CH_MTQ 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - MT_4WD vehicle with\nSTATE_MIS_ENG_OPM = MPLH_CH mode\nIP_CRLC_DRV2_ER_MPLH_OPP_AT V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_IP_CRLC_DRV2_MPLH_OPP_AT 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - AT vehicle with\nSTATE_MIS_ENG_OPM = MPLH_OPP mode\nIP_CRLC_DRV2_ER_MPLH_OPP_CVT V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_IP_CRLC_DRV2_MPLH_OPP_CVT 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - CVT vehicle, with\nSTATE_MIS_ENG_OPM = MPLH_OPP mode\nIP_CRLC_DRV2_ER_MPLH_OPP_DCT V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_IP_CRLC_DRV2_MPLH_OPP_DCT 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - DCT vehicle with\nSTATE_MIS_ENG_OPM = MPLH_OPP mode\nIP_CRLC_DRV2_ER_MPLH_OPP_MTQ V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_IP_CRLC_DRV2_MPLH_OPP_MTQ 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - MT_4WD vehicle, with\nSTATE_MIS_ENG_OPM = MPLH_OPP mode\nFile: AE402P01.00B\n7637Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 1533, "end_char_idx": 3909, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e129860b-7935-46ba-afdf-9fedd3b750a6": {"__data__": {"id_": "e129860b-7935-46ba-afdf-9fedd3b750a6", "embedding": null, "metadata": {"page_label": "67", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "564691fc-f5cd-4fd6-b003-8a07a424ebc0", "node_type": "4", "metadata": {"page_label": "67", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "21ca2387dfd0b6a818b97b0e2dcdab9f77badb3f5ce722154737d76ada93ba7a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8c8cdf3d-0668-4416-ba1e-3ee63ef2f87d", "node_type": "1", "metadata": {}, "hash": "aecbe14a5cd30a34ac4555ad5acfdac96ad618eb069cc507bc45c74990cc6fe8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation (Appl. Inc.)\nName Mode Coded Limits Display Limits Resolution Unit\nIP_CRLC_DRV2_ER_NORM_AT V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_IP_CRLC_DRV2_ER_NORM_AT 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - AT vehicle with\nSTATE_MIS_ENG_OPM = NORM mode\nIP_CRLC_DRV2_ER_NORM_CVT V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_IP_CRLC_DRV2_ER_NORM_CVT 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - CVT vehicle, with\nSTATE_MIS_ENG_OPM = NORM mode\nIP_CRLC_DRV2_ER_NORM_DCT V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_IP_CRLC_DRV2_ER_NORM_DCT 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - DCT vehicle with\nSTATE_MIS_ENG_OPM = NORM mode\nIP_CRLC_DRV2_ER_NORM_MTQ V 0... FFH 0... 0.99609375 0.00390625 -\nLDP_N_IP_CRLC_DRV2_ER_NORM_MTQ 9 0... FFH 0... 8160 32 rpm\nCorrelation factor for engine roughness curvature component calculation (correction duration) - MT_4WD vehicle, with\nSTATE_MIS_ENG_OPM = NORM mode\nIP_FAC_DRV2_ER_CH_AT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_FAC_N_DRV2_ER_CH_AT 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_MIS_IP_FAC_DRV2_CH_AT 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - AT vehicle with STATE_MIS_ENG_OPM = CH mode\nIP_FAC_DRV2_ER_CH_CVT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_FAC_N_DRV2_ER_CH_CVT 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_MIS_IP_FAC_DRV2_CH_CVT 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - CVT vehicle with STATE_MIS_ENG_OPM =CH mode\nIP_FAC_DRV2_ER_CH_DCT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_FAC_DRV2_ER_CH_DCT 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_MIS_IP_FAC_DRV2_CH_DCT 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation \ufffd DCT vehicle with STATE_MIS_ENG_OPM =CH mode\nIP_FAC_DRV2_ER_CH_IS_AT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_FAC_N_DRV2_ER_CH_IS_AT 4 0... 1FE0H 0...", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2505, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8c8cdf3d-0668-4416-ba1e-3ee63ef2f87d": {"__data__": {"id_": "8c8cdf3d-0668-4416-ba1e-3ee63ef2f87d", "embedding": null, "metadata": {"page_label": "67", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "564691fc-f5cd-4fd6-b003-8a07a424ebc0", "node_type": "4", "metadata": {"page_label": "67", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "21ca2387dfd0b6a818b97b0e2dcdab9f77badb3f5ce722154737d76ada93ba7a", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e129860b-7935-46ba-afdf-9fedd3b750a6", "node_type": "1", "metadata": {"page_label": "67", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "ceace6488ea27a8b8325400d37770327f58e02d16502a97b70061e8ea4c71ff9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation \ufffd DCT vehicle with STATE_MIS_ENG_OPM =CH mode\nIP_FAC_DRV2_ER_CH_IS_AT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_FAC_N_DRV2_ER_CH_IS_AT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_ER_CH_IS_AT 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - AT vehicle in idle speed with STATE_MIS_ENG_OPM = CH mode\nIP_FAC_DRV2_ER_CH_IS_CVT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_FAC_N_DRV2_ER_CH_IS_CVT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_ER_CH_IS_CVT 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - CVT vehicle in idle speed with STATE_MIS_ENG_OPM =CH mode\nIP_FAC_DRV2_ER_CH_IS_DCT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_FAC_DRV2_ER_CH_IS_DCT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_CH_IS_DCT 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - DCT vehicle in idle speed with STATE_MIS_ENG_OPM =CH mode\nIP_FAC_DRV2_ER_CH_IS_MTQ V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_FAC_N_DRV2_ER_CH_IS_MTQ 4 0... 1FE0H 0... 8160 1 rpm\nFile: AE402P01.00B\n7638Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 2278, "end_char_idx": 3549, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "54bf89ec-7200-4774-b563-4c20559330b1": {"__data__": {"id_": "54bf89ec-7200-4774-b563-4c20559330b1", "embedding": null, "metadata": {"page_label": "68", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "199ca2f8-a253-48cf-9819-c38d40fdc952", "node_type": "4", "metadata": {"page_label": "68", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "c2ecf70f40b6d38f692add6a4b69cd890c97eb156711365728c40e4e1bf384bf", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "faa39988-3b7e-44b9-9091-19bd591bd2f7", "node_type": "1", "metadata": {}, "hash": "d6bbf74aeae42f01ecf784ee225a48cdce6c2098d2f492b872dc27fce660dfc9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation (Appl. Inc.)\nName Mode Coded Limits Display Limits Resolution Unit\nLDP_LOAD_IP_DRV2_ER_CH_IS_MTQ 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - MT_4WD vehicle in idle speed with STATE_MIS_ENG_OPM =CH mode\nIP_FAC_DRV2_ER_CH_MTQ V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_FAC_DRV2_ER_CH_MTQ 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_MIS_IP_FAC_DRV2_ER_CH_MTQ 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - MT_4WD vehicle with STATE_MIS_ENG_OPM =CH mode\nIP_FAC_DRV2_ER_MPLH_CH_AT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_FAC_DRV2_ER_MPLH_CH_AT 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_FAC_DRV2_MPLH_CH_AT 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - AT vehicle with STATE_MIS_ENG_OPM = MPLH_CH mode\nIP_FAC_DRV2_ER_MPLH_CH_CVT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_FAC_DRV2_MPLH_CH_CVT 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_FAC_DRV2_MPLH_CH_CV 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - CVT vehicle with STATE_MIS_ENG_OPM = MPLH_CH mode\nIP_FAC_DRV2_ER_MPLH_CH_DCT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_FAC_DRV2_MPLH_CH_DCT 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_FAC_DRV2_MPLH_CH_DC 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - DCT vehicle with STATE_MIS_ENG_OPM = MPLH_CH mode\nIP_FAC_DRV2_ER_MPLH_CH_IS_AT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_FAC_DRV2_MPLH_CH_IS_AT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_CH_IS_AT 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - AT vehicle in idle speed with STATE_MIS_ENG_OPM = MPLH_CH mode\nIP_FAC_DRV2_ER_MPLH_CH_IS_CVT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_MPLH_CH_IS_CVT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_CH_IS_CVT 4 0... 7FFFH 0...\n99.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2329, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "faa39988-3b7e-44b9-9091-19bd591bd2f7": {"__data__": {"id_": "faa39988-3b7e-44b9-9091-19bd591bd2f7", "embedding": null, "metadata": {"page_label": "68", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "199ca2f8-a253-48cf-9819-c38d40fdc952", "node_type": "4", "metadata": {"page_label": "68", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "c2ecf70f40b6d38f692add6a4b69cd890c97eb156711365728c40e4e1bf384bf", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "54bf89ec-7200-4774-b563-4c20559330b1", "node_type": "1", "metadata": {"page_label": "68", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "beb75040c733b78df959cb7136e83c1712a180e8c63bc0bd3d29b059252f682b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": ".. 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_MPLH_CH_IS_CVT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_CH_IS_CVT 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - CVT vehicle in idle speed with STATE_MIS_ENG_OPM = MPLH_CH mode\nIP_FAC_DRV2_ER_MPLH_CH_IS_DCT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_N_DRV2_MPLH_CH_IS_DCT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_CH_IS_DCT 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - DCT vehicle in idle speed with STATE_MIS_ENG_OPM = MPLH_CH mode\nIP_FAC_DRV2_ER_MPLH_CH_IS_MTQ V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_MPLH_CH_IS_MTQ 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_CH_IS_MTQ 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - MT_4WD vehicle in idle speed with STATE_MIS_ENG_OPM = MPLH_CH mode\nIP_FAC_DRV2_ER_MPLH_CH_MTQ V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_MPLH_CH_MTQ 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_CH_MTQ 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - MT_4WD vehicle with STATE_MIS_ENG_OPM = MPLH_CH mode\nFile: AE402P01.00B\n7639Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 2190, "end_char_idx": 3524, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3773d76d-4281-4b86-b545-d243a4e4f9c9": {"__data__": {"id_": "3773d76d-4281-4b86-b545-d243a4e4f9c9", "embedding": null, "metadata": {"page_label": "69", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c4b8669f-25b0-4f0d-b6b0-c6193a056517", "node_type": "4", "metadata": {"page_label": "69", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "2084b15c458c0f2abbfc0db1ff9493245802ae5dddf1a1e3873688c1baabacca", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c7a78489-82d2-45e5-b8de-01a4b023671b", "node_type": "1", "metadata": {}, "hash": "27160e8a705356e66ba42876439b4a3b1329a96d1693330d40e66670f08d7939", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation (Appl. Inc.)\nName Mode Coded Limits Display Limits Resolution Unit\nIP_FAC_DRV2_ER_MPLH_OPP_AT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_MPLH_OPP_AT 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_OPP_AT 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - AT vehicle with STATE_MIS_ENG_OPM = MPLH_OPP mode\nIP_FAC_DRV2_ER_MPLH_OPP_CVT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_MPLH_OPP_CVT 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_OPP_CVT 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - CVT vehicle with STATE_MIS_ENG_OPM = MPLH_OPP mode\nIP_FAC_DRV2_ER_MPLH_OPP_DCT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_MPLH_OPP_DCT 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_OPP_DCT 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation \ufffd DCT vehicle with STATE_MIS_ENG_OPM = MPLH_OPP mode\nIP_FAC_DRV2_ER_MPLH_OPP_IS_AT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_MPLH_OPP_IS_AT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_OPP_IS_AT 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - AT vehicle in idle speed with STATE_MIS_ENG_OPM = MPLH_OPP mode\nIP_FAC_DRV2_ER_MPLH_OPP_IS_CVT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_MPLH_OPP_IS_CVT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_OPP_IS_CV 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - CVT vehicle in idle speed with STATE_MIS_ENG_OPM = MPLH_OPP mode\nIP_FAC_DRV2_ER_MPLH_OPP_IS_DCT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_MPLH_OPP_IS_DCT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_OPP_IS_DC 4 0... 7FFFH 0...\n99.99694824219\n0.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2180, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c7a78489-82d2-45e5-b8de-01a4b023671b": {"__data__": {"id_": "c7a78489-82d2-45e5-b8de-01a4b023671b", "embedding": null, "metadata": {"page_label": "69", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c4b8669f-25b0-4f0d-b6b0-c6193a056517", "node_type": "4", "metadata": {"page_label": "69", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "2084b15c458c0f2abbfc0db1ff9493245802ae5dddf1a1e3873688c1baabacca", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3773d76d-4281-4b86-b545-d243a4e4f9c9", "node_type": "1", "metadata": {"page_label": "69", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "3dd2f57d1654e4a0d352d49b1cc2d85aa3e0384bc8fc5f6b2d0d924ab0fc8938", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": ".. 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_MPLH_OPP_IS_DCT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_OPP_IS_DC 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - DCT vehicle in idle speed with STATE_MIS_ENG_OPM = MPLH_OPP mode\nIP_FAC_DRV2_ER_MPLH_OPP_IS_MTQ V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_MPLH_OPP_IS_MTQ 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_OPP_IS_MT 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - MT_4WD vehicle in idle speed with STATE_MIS_ENG_OPM = MPLH_OPP mode\nIP_FAC_DRV2_ER_MPLH_OPP_MTQ V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_MPLH_OPP_MTQ 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_MPLH_OPP_MTQ 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - MT_4WD vehicle with STATE_MIS_ENG_OPM = MPLH_OPP mode\nIP_FAC_DRV2_ER_NORM_AT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_NORM_AT 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_NORM_AT 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - AT vehicle with STATE_MIS_ENG_OPM = NORM mode\nIP_FAC_DRV2_ER_NORM_CVT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_NORM_CVT 6 0... 1FE0H 0... 8160 1 rpm\nFile: AE402P01.00B\n7640Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 2026, "end_char_idx": 3439, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1280b3c6-58b2-4efc-829d-0cb6ef32c73d": {"__data__": {"id_": "1280b3c6-58b2-4efc-829d-0cb6ef32c73d", "embedding": null, "metadata": {"page_label": "70", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "12a26a80-eb16-46a4-a1fe-e12c6baf24dd", "node_type": "4", "metadata": {"page_label": "70", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "d8b5d32c0915c5bb393aed73cd200dd63ed37653baff81654c81f255fb6cdc4d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9073b445-39e9-471f-a47b-3812c98cea55", "node_type": "1", "metadata": {}, "hash": "1c87b7136c297d7f319a2d2b7916076390f21a15f4bc1b15e02b4c97b2855e26", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation (Appl. Inc.)\nName Mode Coded Limits Display Limits Resolution Unit\nLDP_LOAD_IP_DRV2_ER_NORM_CVT 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - CVT vehicle with STATE_MIS_ENG_OPM =NORM mode\nIP_FAC_DRV2_ER_NORM_DCT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_NORM_DCT 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_ER_NORM_DCT 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - DCT vehicle with STATE_MIS_ENG_OPM =NORM mode\nIP_FAC_DRV2_ER_NORM_IS_AT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_NORM_IS_AT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_ER_NORM_IS_AT 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - AT vehicle in idle speed with STATE_MIS_ENG_OPM = NORM mode\nIP_FAC_DRV2_ER_NORM_IS_CVT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_NORM_IS_CVT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_ER_NORM_IS_CVT 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - CVT vehicle in idle speed with STATE_MIS_ENG_OPM =NORM mode\nIP_FAC_DRV2_ER_NORM_IS_DCT V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_NORM_IS_DCT 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_ER_NORM_IS_DCT 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - DCT vehicle in idle speed with STATE_MIS_ENG_OPM =NORM mode\nIP_FAC_DRV2_ER_NORM_IS_MTQ V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_NORM_IS_MTQ 4 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_ER_NORM_IS_MTQ 4 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - MT_4WD vehicle in idle speed with STATE_MIS_ENG_OPM =NORM mode\nIP_FAC_DRV2_ER_NORM_MTQ V 0... 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_NORM_MTQ 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_ER_NORM_MTQ 6 0... 7FFFH 0...\n99.99694824219\n0.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2328, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9073b445-39e9-471f-a47b-3812c98cea55": {"__data__": {"id_": "9073b445-39e9-471f-a47b-3812c98cea55", "embedding": null, "metadata": {"page_label": "70", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "12a26a80-eb16-46a4-a1fe-e12c6baf24dd", "node_type": "4", "metadata": {"page_label": "70", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "d8b5d32c0915c5bb393aed73cd200dd63ed37653baff81654c81f255fb6cdc4d", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1280b3c6-58b2-4efc-829d-0cb6ef32c73d", "node_type": "1", "metadata": {"page_label": "70", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "128523e07eb80709667bf7fea0021ebd6f868f0c29b746988b4b87f8310b6352", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": ".. 3FCH 0 ...4 0.00392157 -\nLDP_N_IP_DRV2_ER_NORM_MTQ 6 0... 1FE0H 0... 8160 1 rpm\nLDP_LOAD_IP_DRV2_ER_NORM_MTQ 6 0... 7FFFH 0...\n99.99694824219\n0.00305176 %\nWeighting factor for DRV2 component calculation - MT_4WD vehicle with STATE_MIS_ENG_OPM =NORM mode\nIP_FAC_DRV2_ZDLY_ER V 0... 3FCH 0 ...4 0.00392157 -\nLDP_TCO_IP_FAC_DRV2_ZDLY_ER 6 0... FEH -48... 142.5 0.75 \ufffdC\nWeighting factor for engine roughness curvative component calculation (correction amount) after start\nLC_ENA_CHG_SEG V 0... 1H 0 ...1 1 -\nSwitch to activate second window\nLC_ER_WIN_CH_MAN V 0... 1H 0 ...1 1 -\nManual activation of Alternative CH window for ER Calculation\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_FID_OBD_ER_AD - 0... FFFFH 0... 65535 1 -\nRun the ER segment adaptive process inhibition\nFile: AE402P01.00B\n7641Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 2181, "end_char_idx": 3116, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3b87e4cc-dc9b-4daf-baa1-3b71337372a2": {"__data__": {"id_": "3b87e4cc-dc9b-4daf-baa1-3b71337372a2", "embedding": null, "metadata": {"page_label": "71", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a362312d-c09a-4ad0-a461-36a34449d355", "node_type": "4", "metadata": {"page_label": "71", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "615c61e331b8be7857607adc45cbd02e8cd2abd4fe913010070351454a93b889", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation (Appl. Inc.)\n\ufffd Import actions:\nACTION_FARM_GetPermission(IN <PRM_FID>, OUT <PRM_LV_PRMS>)\n\ufffd General Information\n29.5.1 Inhibition of engine roughness adaptive process - Application speci?c\n\ufffd General Information\nEngine roughness segments adaptive process is inhibited when one of the following system conditions occurs.\nSee application speci?c accessories who could have an impact on the transmission behaviour (CVT, Automatic\ngear shifting ...).\n\ufffd Application Conditions\nInitialisation: at reset and engine Stop\nLV_INH_APP_ER_AD = 0\nLV_REQ_SEG_AD_MMV_ER_APP = 0\nSEG_AD_MMV_ER_APP[NC_CYL_NR] = 0\nActivation: LV_ENA_SEG_T_MES = 1\nDeactivation: LV_ENA_SEG_T_MES = 0\nRecurrence: engine roughness segment\n\ufffd Function Description\nLV_INH_APP_ER_AD = 0\n29.5.2 Engine roughness adaptive process inhibition related to OBDI diagnosis\n\ufffd General Information\nEngine roughness segments adaptive process is inhibited when one of the following OBD I errors occurs.\n\ufffd Application Conditions\nInitialisation: at ECU reset and Engine Stop\nLV_INH_OBD_ER_AD = 0\nActivation: LV_ENA_SEG_T_MES = 1\nDeactivation: LV_ENA_SEG_T_MES = 0\nRecurrence: Engine roughness segment\n\ufffd Function Description\nIf LV_FID_READY = 1\nThen ACTION_FARM_GetPermission(IN<NC_FID_OBD_ER_AD>, OUT<LV_PRMS_TMP>)\nEndif\nLV_INH_OBD_ER_AD = NOT(LV_PRMS_TMP)\nFile: AE402P01.00B\n7642Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1841, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ae25d45b-ca98-418f-8102-aaff78e33191": {"__data__": {"id_": "ae25d45b-ca98-418f-8102-aaff78e33191", "embedding": null, "metadata": {"page_label": "72", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d5ee9141-f880-4b31-aae5-21cfccc51295", "node_type": "4", "metadata": {"page_label": "72", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "0f35c3d91befb76aa6607ea62ab9bcc3ef0a62440d661675b5448e16f91ebe2c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation (Appl. Inc.)\n29.5.3 End of line & After sale service request to reset ER segment adaptive values\n\ufffd General Information\nDuring end of line plant and/ or for After sale services, a request can be generated via communication protocol\nto reset engine roughness segment adaptive values & learning process. This functionality is not used at the\nmoment, so the relevant variable is initialized only (LV_SEG_AD_RST_ER_EOL = 0 otherwise segment adaptation\ncould be reset during EOL tests).\n\ufffd Application Conditions\nInitialisation: at ECU reset and Engine Stop\nLV_SEG_AD_RST_ER_EOL = 0\nActivation: never\nDeactivation: always\nRecurrence: Engine roughness segment\n\ufffd Function Description\nno calculation of LV_SEG_AD_RST_ER_EOL\n29.5.4 Engine roughness DRV2 components ?lter & gain determination\n\ufffd General Information\nThis function allows to determinate the coef?cients relative to DRV2 components of the engine roughness,\naccording different con?gurations:\nIf used (see project/customer legal requirements concerning mis?re monitoring after engine start), during zero\ndelay mis?re monitoring activation period, speci?c gain & ?lter coef?cient can be apply to DRV2 component\nto be able to detect mis?re just after engine start (dynamic correction modi?ed).\nElse, FAC_DRV2_ER & CRLC_DRV2_ER are de?ned according transmission type(AT/MT).\n\ufffd Application Conditions\nInitialisation: at ECU reset, at Engine Stop Or on Deactivation condition event\nFAC_DRV2_ER = IP_FAC_DRV2_ZDLY_ER(TCO)\nCRLC_DRV2_ER = C_CRLC_DRV2_ZDLY_ER\nActivation: LV_ENA_ER = 1\nDeactivation: LV_ENA_ER = 0\nRecurrence: Segment\n\ufffd Function Description\nIf LV_AT = 1\nThen If LV_CVT = 1\nthen xx = CVT\nelse if LV_DCT = 1\nthen xx = DCT\nelse xx = AT\nelse xx = MTQ\nEndIf\nIf(1) CTR_T_ZDLY_MIS > C_T_DRV2_ZDLY_ER\nThen(1) // Zero delay misfire monitoring activation period\nCRLC_DRV2_ER = C_CRLC_DRV2_ZDLY_ER\nFile: AE402P01.00B\n7643Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2386, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2ea7e460-c129-40b2-9e45-965b10954859": {"__data__": {"id_": "2ea7e460-c129-40b2-9e45-965b10954859", "embedding": null, "metadata": {"page_label": "73", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "33ebf73f-8bf5-491b-a11a-9c8abf6972c9", "node_type": "4", "metadata": {"page_label": "73", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "8a7b12f1e3434149e8aaad35b518d5f8f8159261073b7ad1011184068ba452d9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation (Appl. Inc.)\nElse If(2) STATE_MIS_ENG_OPM = MPLH_OPP (0x03)\nthen(2) CRLC_DRV2_ER = IP_CRLC_DRV2_ER_MPLH_OPP_xx(N_32)\nElse(2) if(3) STATE_MIS_ENG_OPM = MPLH_CH (0x02)\nthen(3) CRLC_DRV2_ER = IP_CRLC_DRV2_ER_MPLH_CH_xx(N_32)\nElse(3)\nif(4) STATE_MIS_ENG_OPM = CH (0x01)\nthen(4) CRLC_DRV2_ER = IP_CRLC_DRV2_ER_CH_xx(N_32)\nElse(4)\nif(5) STATE_MIS_ENG_OPM = NORMAL (0x00)\nthen(5)CRLC_DRV2_ER = IP IP_CRLC_DRV2_ER_NORM_xx(N_32)\nEndIf(5)\nEndIf(4)\nEndIf(3)\nEndIf(2)\nEndIf(1)\nIf(1) CTR_T_ZDLY_MIS > C_T_DRV2_ZDLY_ER\nThen(1) // Zero delay misfire monitoring activation period\nFAC_DRV2_ER = IP_FAC_DRV2_ZDLY_ER(TCO)\nElse\nIf(2) STATE_MIS_ENG_OPM = MPLH_OPP (0x03)\nthen(2)\nif(2a) ((LV_IS = 1) And (N_32 < C_N_32_MAX_DRV2_ER_IS))\nthen(2a)FAC_DRV2_ER = IP_FAC_DRV2_ER_MPLH_OPP_IS_xx(N, LOAD_MIS)\nElse(2a) FAC_DRV2_ER = IP_FAC_DRV2_ER_MPLH_OPP_xx(N, LOAD_MIS)\nEndIf(2a)\nElse(2)\nIf(3) STATE_MIS_ENG_OPM = MPLH_CH (0x02)\nthen(3)\nif(3a) ((LV_IS = 1) And (N_32 < C_N_32_MAX_DRV2_ER_IS))\nthen(3a)FAC_DRV2_ER =IP_FAC_DRV2_ER_MPLH_CH_IS_xx(N, LOAD_MIS)\nElse(3a) FAC_DRV2_ER = IP_FAC_DRV2_ER_MPLH_CH_xx(N, LOAD_MIS)\nEndIf(3a)\nElse(3)\nIf(4) STATE_MIS_ENG_OPM = CH (0x01)\nthen(4)\nif(4a) ((LV_IS = 1) And (N_32 < C_N_32_MAX_DRV2_ER_IS))\nthen(4a)FAC_DRV2_ER = IP_FAC_DRV2_ER_CH_IS_xx(N, LOAD_MIS)\nElse(4a) FAC_DRV2_ER = IP_FAC_DRV2_ER_CH_xx(N, LOAD_MIS)\nEndIf(4a)\nElse(4)\nIf(5) STATE_MIS_ENG_OPM = NORM (0x00)\nthen(5)\nif(5a) ((LV_IS = 1) And (N_32 < C_N_32_MAX_DRV2_ER_IS))\nthen(5a) FAC_DRV2_ER=\n= IP_FAC_DRV2_ER_NORM_IS_xx(N, LOAD_MIS)\nElse(5a) FAC_DRV2_ER=\n= IP_FAC_DRV2_ER_NORM_xx(N, LOAD_MIS)\nEndIf(5a)\nEndIf(5)\nEndIf(4)\nEndIf(3)\nEndIf(2)\nEndIf(1)\nFile: AE402P01.00B\n7644Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2164, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f79afc96-fc25-42d0-a54a-a0555f0f865d": {"__data__": {"id_": "f79afc96-fc25-42d0-a54a-a0555f0f865d", "embedding": null, "metadata": {"page_label": "74", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a87ebe3a-d289-405c-b3cc-4e6766c907bb", "node_type": "4", "metadata": {"page_label": "74", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "f45fdddcfee8817f0f8aa2d541d69bf70c41d0ec94cfcb3455707c701619df93", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation (Appl. Inc.)\n29.5.5 Activation Conditions for Alternative ER Segment Calculation during Catalyst Heat-\ning\n\ufffd General Information\n\ufffd Application Conditions\nInitialisation: at ECU RST or Engine Stop\nLV_ER_WIN_CH_ACT = 0\nActivation: always\nDeactivation: never\nRecurrence: SEG\n\ufffd Function Description\nLV_ER_WIN_CH_ACT = {( LV_IS or LC_ENA_CHG_SEG)\nAnd LV_CH\nAnd (N_32 < C_N_32_INH_CHG_SEG)\nAnd NOT(hysteresis of IGA_AV_MV with\nLSP = C_MIN_IGA_CHG_SEG\nRSP = C_MAX_IGA_INH_CHG_SEG\nIV = 0 at initialization or RST)\n}\nOR LC_ER_WIN_CH_MAN\nFile: AE402P01.00B\n7645Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1070, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4090b8fe-d3d9-4426-bc8b-348ff5698c63": {"__data__": {"id_": "4090b8fe-d3d9-4426-bc8b-348ff5698c63", "embedding": null, "metadata": {"page_label": "75", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "798f9764-7e66-4260-aa56-f85383049c52", "node_type": "4", "metadata": {"page_label": "75", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "2dab1fa2b95e3fa6f2706768fe61e1009166e9d0be57813108d081ec563f5bc9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6 Engine roughness adaptive learning process\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nCRLC_SEG_AD_ER V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nER segment adaptive values ?ltering coef?cient\nCTR_CYC_SEG_AD_ER_LOW V 0... FFFFH 0... 65535 1 -\nCounter of segment adaptation cycles for low engine speed window\nCTR_SEG_AD_ER V/S 0... FFFFH 0... 65535 1 -\nCounter of ER segment adaptation learning process\nDELTA_CRK_DIF_MAX_ER V/S 0... FFFFH 0...\n999.9847412109\n0.01525879 \ufffd/oo\nLimitation of adaptation range (mech. Tolerance)\nLV_CYC_SEG_AD_ER_LOW V 0... 1H 0 ...1 1 -\nEnd of segment adaptation for low engine speed window\nLV_ER_WIN_CH_AD O/V 0... 1H 0 ...1 1 -\nSelection of segment adaptation window, catalyst heating window is active if true.\nLV_INH_ACC_ER_AD V 0... 1H 0 ...1 1 -\nER adaptive process fade out request ?ag due to Air conditioner activation\nLV_INH_LOAD_GRD_MAX_ER_AD V 0... 1H 0 ...1 1 -\nER adaptive process fade out request ?ag due to engine load transient condition\nLV_INH_MAF_DIF_ER_AD V 0... 1H 0 ...1 1 -\nER adaptive process fade out request ?ag due to MAF transient condition\nLV_INH_TPS_GRD_ER_AD V 0... 1H 0 ...1 1 -\nER adaptive process fade out request ?ag due to TPS transient condition\nLV_SEG_AD_AVL_ER O/V/S 0... 1H 0 ...1 1 -\nSegment adaptation process state : no adaptive process executed (=0) fast adaptive process achieved (=1)\nLV_SEG_AD_AVL_ER_RGL V/S 0... 1H 0 ...1 1 -\nSegment time Fast adaptive process achieved for regular window.\nLV_SEG_AD_DIF_MAX_ER O/V 0... 1H 0 ...1 1 -\nMaximum ER adaptive values difference on same physical segment\nLV_SEG_AD_ER O/V 0... 1H 0 ...1 1 -\nER segment adaptation process enable\nLV_SEG_AD_FDOUT_ER V 0... 1H 0 ...1 1 -\nBoolean for segment adaptation fade out condition\nLV_SEG_AD_FDOUT_ER_EOL V 0... 1H 0 ...1 1 -\nEOL speci?c request for ER segment adaptive learning process\nLV_SEG_AD_LIM_ER O/V/S 0... 1H 0 ...1 1 -\nER ?ltered adaptive values out of range\nLV_SEG_AD_N_VLD V 0... 1H 0 ...1 1 -\nER segment adaptation process enable vs N\nLV_SEG_AD_RAW_ER V 0... 1H 0 ...1 1 -\nER segment adaptation process monitoring enable\nLV_SEG_T_MES_CYL_READY O/V 0... 1H 0 ...1 1 -\nBuffer SEG_T_MES_CYL is ?lled with new segment time values corresponding to actual ER window.\nLV_START_NEW_AD V 0... 1H 0 ...1 1 -\nFile: 30404R07.00D\n7646Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2853, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5de6e2b1-c2dd-4ca4-832f-5e74f17ad1d3": {"__data__": {"id_": "5de6e2b1-c2dd-4ca4-832f-5e74f17ad1d3", "embedding": null, "metadata": {"page_label": "76", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9581ecb3-b52d-4a2b-b964-d995300a3dda", "node_type": "4", "metadata": {"page_label": "76", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "95b89357be820f5c949a046eb5cf633b017dded2008914cdecaec9fb326c99e0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "55eb4a68-3998-426e-990c-57054d99c9c9", "node_type": "1", "metadata": {}, "hash": "3a6a0e18e633d9999cfee252b0a8a4ac68c1064dcb10083fbba76883a618f7eb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nName Mode Coded Limits Display Limits Resolution Unit\nFlag indicates the slow segment adaptation is active\nSEG_AD_DIF_ER_0 V 0... 7FFFH 0... 7.812261581421 238.419e-6 \ufffd/oo\nER adaptive values difference on same physical segment (Segment 0 & Identical)\nSEG_AD_DIF_ER_1 V 0... 7FFFH 0... 7.812261581421 238.419e-6 \ufffd/oo\nER adaptive values difference on same physical segment (Segment 1 & Identical)\nSEG_AD_DIF_ER_2 V 0... 7FFFH 0... 7.812261581421 238.419e-6 \ufffd/oo\nER adaptive values difference on same physical segment (Segment 2 & Identical)\nSEG_AD_DIF_ER_3 V 0... 7FFFH 0... 7.812261581421 238.419e-6 \ufffd/oo\nER adaptive values difference on same physical segment (Segment 3 & Identical)\nSEG_AD_DIF_ER_4 V 0... 7FFFH 0... 7.812261581421 238.419e-6 \ufffd/oo\nER adaptive values difference on same physical segment (Segment 4 & Identical)\nSEG_AD_DIF_ER_5 V 0... 7FFFH 0... 7.812261581421 238.419e-6 \ufffd/oo\nER adaptive values difference on same physical segment (Segment 5 & Identical)\nSEG_AD_FDOUT_ER_CDN V 0... FFH 0... 255 1 -\nSegment adaptation fade out conditions carrier byte (before masking)\nSEG_AD_FDOUT_ER_CDN_NR V 0... 8H 0 ...8 1 -\nSegment adaptation fade out conditions number (after masking)\nSEG_AD_MMV_ER [NC_CYL_NR] O/V/S 8000... 7FFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nER ?ltered adaptive values used for learning process (for each segment)\nSEG_AD_MMV_ER_CH [NC_CYL_NR] O/V/S 8000... 7FFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nER ?ltered adaptive values used for learning process (for each segment) (for operation with catalyst heating)\nSEG_AD_MMV_ER_H [NC_CYL_NR] O/V/S 8000... 7FFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nER ?ltered adaptive values used for learning process (for each segment)\nSEG_AD_MMV_ER_L [NC_CYL_NR] O/V/S 8000... 7FFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nER ?ltered adaptive values used for learning process (for each segment)\nSEG_AD_MMV_ER_LOW [NC_CYL_NR] V 8000... 7FFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nER ?ltered adaptive values used for learning process (for each segment) for diagnostic window\nSEG_AD_MMV_ER_MID [NC_CYL_NR] O/V/S 8000... 7FFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nER ?ltered adaptive values used for learning process (for each segment)\nSEG_AD_RAW_MMV_ER [NC_CYL_NR] V 8000... 7FFFH -7.8125...\n7.812261581421\n238.419e-6 \ufffd/oo\nER ?ltered adaptive values used for learning process monitoring (for each segment)\nTHD_AD_ER O/V 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nEngine roughness threshold correction factor during segment adaptation learning process.\n\ufffd Input Data\nDRV1_ER\n{p. 7612}\nLOAD_GRD_MIS\n{p.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3011, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "55eb4a68-3998-426e-990c-57054d99c9c9": {"__data__": {"id_": "55eb4a68-3998-426e-990c-57054d99c9c9", "embedding": null, "metadata": {"page_label": "76", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9581ecb3-b52d-4a2b-b964-d995300a3dda", "node_type": "4", "metadata": {"page_label": "76", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "95b89357be820f5c949a046eb5cf633b017dded2008914cdecaec9fb326c99e0", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5de6e2b1-c2dd-4ca4-832f-5e74f17ad1d3", "node_type": "1", "metadata": {"page_label": "76", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "7dbca134374e3ea7d596c06daaf943f2b7fe9f52a97140f217f1ef3984c6a7c5", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "\ufffd Input Data\nDRV1_ER\n{p. 7612}\nLOAD_GRD_MIS\n{p. 23383}\nLOAD_MIS\n{p. 23383}\nLV_ACCOUT_RLY\n{p. 12498}\nLV_AT\n{p. 24737}\nLV_CVT\n{p. 24737}\nLV_DCT\n{p. 24737}\nLV_ENA_ER\n{p. 7612}\nFile: 30404R07.00D\n7647Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 2964, "end_char_idx": 3266, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8e624e27-b3e1-44c3-b867-eb1bdd7e8a2c": {"__data__": {"id_": "8e624e27-b3e1-44c3-b867-eb1bdd7e8a2c", "embedding": null, "metadata": {"page_label": "77", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a4d3c8ad-b6e5-46d1-bfea-0bc773e54ae6", "node_type": "4", "metadata": {"page_label": "77", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "ed8fc65bf7e266380a26ab1324d67e1e88ea64d106cba6ee6f4f8115e4bf72f1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nLV_ENA_SEG_T_MES\n{p. 7577}\nLV_EOL_OBD\n{p. 4309}\nLV_INH_APP_ER_AD\n{p. 7636}\nLV_INH_OBD_ER_AD\n{p. 7636}\nLV_INJ_CUT LV_REQ_SEG_AD_MMV_ER_\nAPP\n{p. 7636}\nLV_SEG_AD_RST_ER_EOL\n{p. 7636}\nLV_ST_END\n{p. 7530}\nLV_STATE_RR\n{p. 23374}\nLV_SYN_ENG\n{p. 8043}\nMAF\n{p. 3012}\nMAF_DIF\n{p. 13528}\nN_32\n{p. 8079}\nNC_CYL_NR\n{p. 1316}\nSEG_AD_MMV_ER_APP\n[NC_CYL_NR]\n{p. 7636}\nSEG_NR_MES\n{p. 7577}\nSEG_T_COR\n{p. 7577}\nSEG_T_MES\n{p. 7577}\nSEG_T_MES_CH\n{p. 7577}\nSEG_T_MES_CYL [NC_CYL_NR]\n{p. 7577}\nTPS_AV\n{p. 24838}\nTPS_GRD\n{p. 24838}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_CRK_DIF_MAX_ER V 0... 1FFH 0...\n7.797241210938\n0.01525879 \ufffd/oo\nLimitation of ER adaptation range (mechanical tolerance)\nC_CRLC_FAST_SEG_AD_ER V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nFast ER segment adaptive values ?ltering coef?cient (fast learning phase)\nC_CRLC_SEG_AD_ER_EOL V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nEOL speci?c ?ltering coef?cient for ER segment adaptive values learning process\nC_CRLC_SEG_AD_ER_H V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nNominal ER segment adaptive values ?ltering coef?cient for high speed\nC_CRLC_SEG_AD_ER_L V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nNominal ER segment adaptive values ?ltering coef?cient for low speed\nC_CRLC_SEG_AD_ER_LOW V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nNominal ER segment adaptive values ?ltering coef?cient for diagnostic window\nC_CRLC_SEG_AD_ER_MID V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nNominal ER segment adaptive values ?ltering coef?cient\nC_CRLC_SEG_AD_RAW_ER V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nFilter coef?cient for ER segment adaptive values monitoring\nC_CTR_CYC_SEG_AD_ER_LOW V 0... FFFFH 0... 65535 1 -\nThreshold for segment adaptation cycles for low engine speed window\nC_DRV1_MAX_SEG_AD_ER V 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nMaximum value of DRV1_ER (dynamic part of engine roughness) for crankshaft target wheel learning.\nC_DRV1_MAX_SEG_AD_ER_EOL V 0... 7FFFFFH 0... 1999999.7 0.23841857 \ufffds\nMaximum value of DRV1_ER (dynamic part of engine roughness) for crankshaft target wheel learning for EOL request mode\nC_MASK_SEG_AD_FDOUT_ER V 0... FFH 0... 255 1 -\nFile: 30404R07.00D\n7648Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2728, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "12f38d2d-1d5e-4e32-9695-e08bd9716bcd": {"__data__": {"id_": "12f38d2d-1d5e-4e32-9695-e08bd9716bcd", "embedding": null, "metadata": {"page_label": "78", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7ae57879-2855-41fd-bade-5d2d104fbe81", "node_type": "4", "metadata": {"page_label": "78", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "3716b7ed7aad2e7d55bb94d65511f1514820e509c521229e6ce54d32b7167bcb", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "76e1ed6f-af54-4e8e-8268-6464df53a2dc", "node_type": "1", "metadata": {}, "hash": "d6fd5f1009c1667bd1832a107cfc7e5848eb2a39c6f46992fc04e955b283f2ec", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nName Mode Coded Limits Display Limits Resolution Unit\nCon?guration mask for SEG_AD_FDOUT_ER_CDN fade out carrier structure\nC_N_MAX_H_SEG_AD_ER_AT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning in high range with AT\nC_N_MAX_H_SEG_AD_ER_CVT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning in high range with CVT\nC_N_MAX_H_SEG_AD_ER_DCT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning in high range with DCT\nC_N_MAX_H_SEG_AD_ER_MT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning in high range with MT\nC_N_MAX_L_SEG_AD_ER_AT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning in low range with AT\nC_N_MAX_L_SEG_AD_ER_CVT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning in low range with CVT\nC_N_MAX_L_SEG_AD_ER_DCT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning in low range with DCT\nC_N_MAX_L_SEG_AD_ER_MT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning in low range with MT\nC_N_MAX_MID_SEG_AD_ER_AT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning in mid range with AT\nC_N_MAX_MID_SEG_AD_ER_CVT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning in mid range with CVT\nC_N_MAX_MID_SEG_AD_ER_DCT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning in mid range with DCT\nC_N_MAX_MID_SEG_AD_ER_MT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning in mid range with MT\nC_N_MAX_SEG_AD_ER_EOL_AT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning for EOL request mode in AT\nC_N_MAX_SEG_AD_ER_EOL_CVT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning for EOL request mode in CVT\nC_N_MAX_SEG_AD_ER_EOL_DCT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning for EOL request mode in DCT\nC_N_MAX_SEG_AD_ER_EOL_MT V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel learning for EOL request mode in MT\nC_N_MIN_L_SEG_AD_ER_AT V 0... FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel learning with AT\nC_N_MIN_L_SEG_AD_ER_CVT V 0... FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel learning with CVT\nC_N_MIN_L_SEG_AD_ER_DCT V 0... FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel learning with DCT\nC_N_MIN_L_SEG_AD_ER_MT V 0..", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3263, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "76e1ed6f-af54-4e8e-8268-6464df53a2dc": {"__data__": {"id_": "76e1ed6f-af54-4e8e-8268-6464df53a2dc", "embedding": null, "metadata": {"page_label": "78", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7ae57879-2855-41fd-bade-5d2d104fbe81", "node_type": "4", "metadata": {"page_label": "78", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "3716b7ed7aad2e7d55bb94d65511f1514820e509c521229e6ce54d32b7167bcb", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "12f38d2d-1d5e-4e32-9695-e08bd9716bcd", "node_type": "1", "metadata": {"page_label": "78", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "067abf8dd4576bfce2418d1d455521a43a291abb9196fec352e87cc56089ee2b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": ".. FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel learning with CVT\nC_N_MIN_L_SEG_AD_ER_DCT V 0... FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel learning with DCT\nC_N_MIN_L_SEG_AD_ER_MT V 0... FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel learning with MT\nC_N_MIN_LOW_SEG_AD_ER_AT V 0... FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel learning in low range for diagnosis with AT\nC_N_MIN_LOW_SEG_AD_ER_CVT V 0... FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel learning in low range for diagnosis with CVT\nC_N_MIN_LOW_SEG_AD_ER_DCT V 0... FFH 0... 8160 32 rpm\nFile: 30404R07.00D\n7649Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 3005, "end_char_idx": 3859, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "faf3e448-3252-499c-bf5d-a229b3dd4028": {"__data__": {"id_": "faf3e448-3252-499c-bf5d-a229b3dd4028", "embedding": null, "metadata": {"page_label": "79", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f78dd0e1-ddfd-4963-a191-1ad909bf03a9", "node_type": "4", "metadata": {"page_label": "79", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "1b41f80a9aa644f786e28282a810f02ba2d8e10c91039862e9ed05121926fdf7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "92808096-69a7-4fa4-abb0-006ff3e5d09d", "node_type": "1", "metadata": {}, "hash": "4690255f2a7fe7853239fa447da3dfe818ad03f73be77c10eab6e3430ad8f7cf", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nName Mode Coded Limits Display Limits Resolution Unit\nMinimum engine speed threshold for crankshaft target wheel learning in low range for diagnosis with DCT\nC_N_MIN_LOW_SEG_AD_ER_MT V 0... FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel learning in low range for diagnosis with MT\nC_N_MIN_SEG_AD_ER_EOL_AT V 0... FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel learning for EOL request mode in AT\nC_N_MIN_SEG_AD_ER_EOL_CVT V 0... FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel learning for EOL request mode in CVT\nC_N_MIN_SEG_AD_ER_EOL_DCT V 0... FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel learning for EOL request mode in DCT\nC_N_MIN_SEG_AD_ER_EOL_MT V 0... FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel learning for EOL request mode in MT\nC_N_SEG_T_AD_RAW_MAX_ER V 0... FFH 0... 8160 32 rpm\nMaximum engine speed threshold for crankshaft target wheel monitoring\nC_N_SEG_T_AD_RAW_MIN_ER V 0... FFH 0... 8160 32 rpm\nMinimum engine speed threshold for crankshaft target wheel monitoring\nC_NR_SEG_AD_ACT_MIN_ER V 0... FFH 0... 255 1 -\nMinimum segments number in fuel cut-off mode before triggering ER segment adaptive learning process\nC_NR_SEG_AD_ACT_MIN_ER_EOL V 0... FFH 0... 255 1 -\nMinimum segments number in fuel cut-off mode before triggering ER segment adaptive learning process for EOL request mode\nC_NR_SEG_AD_AVL_ER V 0... FFFFH 0... 65535 1 -\nSegments number to achieve the ?rst adaptive process phase\nC_NR_SEG_AD_AVL_ER_TOT V 0... FFFFH 0... 65535 1 -\nTotal segments number to achieve the ?rst adaptive process phase of regular and alternative CH window\nC_NR_SEG_DRV1_MIN_ER V 0... FFH 0... 255 1 -\nMinimum number of segments for engine roughness dynamic part\nC_NR_SEG_DRV1_MIN_ER_EOL V 0... FFH 0... 255 1 -\nMinimum number of segments for engine roughness dynamic part for EOL request mode\nC_SEG_AD_DIF_MAX_ER V 0... 7FFFH 0... 7.812261581421 238.419e-6 \ufffd/oo\nMaximum range for difference between same physical segment adaptive values\nC_SEG_AD_ER_LOW_LIM V 0... 7FFFH 0... 7.812261581421 238.419e-6 \ufffd/oo\nLimitation of ER segment adaptation range ( mechanical tolerance) for low engine speed for learning\nC_SEG_AD_MAX_ER V 0... 7FFFH 0... 7.812261581421 238.419e-6 \ufffd/oo\nLimitation of ER segment adaptation range (mechanical tolerance).\nC_SEG_AD_MAX_ER_LOW V 0... 7FFFH 0... 7.812261581421 238.419e-6 \ufffd/oo\nLimitation of ER segment adaptation range ( mechanical tolerance) for low engine speed\nC_T_ACCOUT_DLY_ER_AD V 0... FFFFH 0... 655.35 0.01 s\nFade out duration when air-conditioning compressor has been switched on or off\nC_T_LOAD_GRD_DLY_ER_AD V 0... FFFFH 0... 655.35 0.01 s\nFade out duration when maximum actual torque gradient has been detected.\nC_T_MAF_DIF_DLY_ER_AD V 0... FFFFH 0... 655.35 0.01 s\nFade out duration when maximum air-mass gradient has been detected.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3377, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "92808096-69a7-4fa4-abb0-006ff3e5d09d": {"__data__": {"id_": "92808096-69a7-4fa4-abb0-006ff3e5d09d", "embedding": null, "metadata": {"page_label": "79", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f78dd0e1-ddfd-4963-a191-1ad909bf03a9", "node_type": "4", "metadata": {"page_label": "79", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "1b41f80a9aa644f786e28282a810f02ba2d8e10c91039862e9ed05121926fdf7", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "faf3e448-3252-499c-bf5d-a229b3dd4028", "node_type": "1", "metadata": {"page_label": "79", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "c838dc9a1979610726ff8826518c22d682376ccbb729890b00fa641fedd3e8e0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "C_T_MAF_DIF_DLY_ER_AD V 0... FFFFH 0... 655.35 0.01 s\nFade out duration when maximum air-mass gradient has been detected.\nC_T_TPS_GRD_DLY_ER_AD V 0... FFFFH 0... 655.35 0.01 s\nFade out duration when maximum throttle gradient has been detected.\nIP_LOAD_GRD_ER_AD V 0... 7FFFH 0...\n99.99694824219\n0.00305176 -\nLDP_LOAD_MIS_IP_LOAD_GRD_ER_AD 6 0... 7FFFH 0... 99.996948 0.00305176 %\nFile: 30404R07.00D\n7650Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 3256, "end_char_idx": 3765, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0e8adb49-9529-4e6e-b107-a58890e940a8": {"__data__": {"id_": "0e8adb49-9529-4e6e-b107-a58890e940a8", "embedding": null, "metadata": {"page_label": "80", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d9471389-d12e-489d-a1e8-cb201d62ea58", "node_type": "4", "metadata": {"page_label": "80", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "47e51e46b6b60398c1c14936d4c5209c68fd093d68344834ecac15650be04a5f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nName Mode Coded Limits Display Limits Resolution Unit\nMaximum actual torque gradient fade out condition.\nIP_MAF_DIF_MAX_ER_AD V 0... FFFFH 0... 1389 0.02119478 mg/stk\nLDP_MAF_IP_MAF_DIF_MAX_ER_AD 6 0... FFFFH 0... 1389 0.02119478 mg/stk\nMaximum air-mass gradient per SEG for fade out condition.\nIP_TPS_GRD_MAX_ER_AD V 0... FFH 0... 2988.28125 11.71875 \ufffdTPS/s\nLDP_TPS_AV_IP_TPS_GRD_MAX_ER 6 0... 3FFFH 0... 119.5 0.00729415 \ufffdTPS\nMaximum throttle gradient threshold for fade out condition.\nLC_SEG_AD_ER_REQ_EOL V 0... 1H 0 ...1 1 -\nSpeci?c EOL request enable ?ag for ER segment adaptive value learning process\nLC_SEG_AD_LIM_REAC_ER V 0... 1H 0 ...1 1 -\nReactivation of the ER segment adaptation range check at each learning phase\n\ufffd General Information\nTo reduce systematic noises generated by target wheel mechanical tolerances, an adaptive learning process is\nrequired to improve the signal noise ratio on engine roughness variable and to avoid wrong mis?re detection\nat high engine speed / low load.\nER segment adaptive values learning process is based on ER segments timing observation according a geo-\nmetrical reference (ER segment time 0, SEG_NR_MES = 0).\nDuring an engine deceleration in fuel cut-off mode on all cylinders (LV_INJ_CUT, no engine combustion in-\n?uences), due to crankshaft inertia, engine speed can be considered in a short horizon as constant, thus on\none engine cycle (720\ufffdCrk) timing dissimilarities between segment reference and others will be observed.\nFor longer horizon observation, a deceleration is applied according current segment position in the engine\ncycle.\nWhen all adaptation conditions ful?lled (smooth deceleration in fuel cut-off conditions), an adaptive values\nlearning process is performed every 720\ufffd crank angle, starting with segment 0 (adaptive process reference).\nIf there is no cylinder speci?c mechanical damage or crankshaft torsion/?exion, the adaptation values for\ncylinders with the same mechanical segment will be approximately identical:\nFile: 30404R07.00D\n7651Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2548, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b4a49ac8-c6b5-441f-bd39-1fb8d0668b88": {"__data__": {"id_": "b4a49ac8-c6b5-441f-bd39-1fb8d0668b88", "embedding": null, "metadata": {"page_label": "81", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3b8bd1f2-8e28-4cf1-9079-533b411929ef", "node_type": "4", "metadata": {"page_label": "81", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "4cefc7998b77f126e5d62f5af3f6323dbe039445fae983f8b8006ee4503dff89", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nFigure 29.6.1:\n(for 3 and 5 cylinders engine : geometrically singular)\n\ufffd Signal ?ow diagram:\nFile: 30404R07.00D\n7652Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 649, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "247b9df5-b46e-4eb6-a4bc-8c02f7423306": {"__data__": {"id_": "247b9df5-b46e-4eb6-a4bc-8c02f7423306", "embedding": null, "metadata": {"page_label": "82", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b05cd43f-3342-4b65-bfdc-51fc14bfad80", "node_type": "4", "metadata": {"page_label": "82", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "c9242056782dc40a59394da2fba8237c8705090905db633ae4d9b9c3c3b7d261", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f2ebd855-e62c-4aa8-9a17-ffc3d7342dff", "node_type": "1", "metadata": {}, "hash": "ddca6d9b7ed7275ae09d073f0680276a5417929e6ca9291e3e01f283d60bf3f6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 377, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f2ebd855-e62c-4aa8-9a17-ffc3d7342dff": {"__data__": {"id_": "f2ebd855-e62c-4aa8-9a17-ffc3d7342dff", "embedding": null, "metadata": {"page_label": "82", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b05cd43f-3342-4b65-bfdc-51fc14bfad80", "node_type": "4", "metadata": {"page_label": "82", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "c9242056782dc40a59394da2fba8237c8705090905db633ae4d9b9c3c3b7d261", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "247b9df5-b46e-4eb6-a4bc-8c02f7423306", "node_type": "1", "metadata": {"page_label": "82", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "4f3fe4c115c5acf6202c6dda86b7cb3d30a86a0d328a6bacb41d673c20a12c8c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nSDA_SRS / SDA V 7.1.1 / 13?Sep?2013\nfcn_call()\nfcn_call_1\nfcn_call_2\nfcn_call_3\nfcn_call()\nfcn_call_1\nfcn_call_2\nfcn_call_3\nfcn_call()\nfcn_call_1\nfcn_call_2\nfcn_call_3\nfcn_call_4\nfcn_call_5\nfcn_call_6\nfcn_call_7fcn_call()\nfcn_call_1\nfcn_call_2\nfcn_call_3\nfcn_call()\nfcn_call_1\nfcn_call_2\nfcn_call_3\nfcn_call_4\nfcn_call_5\nfcn_call_6\nfcn_call_7\nV.6.5\n1\n2\nTPS_GRD\n24\nTPS_AV\n23\nTHD_AD_ER\n7\nV.5.9\nSignal\nManager\nSEL_WIN\nX.7\nsys_eve\nInput\nfeedback\nsel_win\nSEG_T_MES_CYL\n27\nSEG_T_MES_CH\n26\nSEG_T_MES\n25\nSEG_T_COR\n9 SEG_NR_MES\n10\nSEG_AD_MMV_ER_MID\n6\nSEG_AD_MMV_ER_L\n5\nSEG_AD_MMV_ER_H\n4\nSEG_AD_MMV_ER_CH\n12\nSEG_AD_MMV_ER_APP\n7\nSEG_AD_MMV_ER\n8\nPHY_SEG\nX.5\nsys_eve\nInput\nfeedback\nphy_seg\nN_32\n17NC_CYL_NR\n15\nMAF_DIF\n22\nMAF\n21\nLV_SYN_ENG\n12\nLV_ST_END\n30\nLV_STATE_RR\n11\nLV_SEG_T_MES_CYL_READY\n11\nLV_SEG_AD_RST_ER_EOL\n6\nLV_SEG_AD_LIM_ER\n3\nLV_SEG_AD_ER\n2\nLV_SEG_AD_DIF_MAX_ER\n9\nLV_SEG_AD_AVL_ER\n1\nLV_REQ_SEG_AD_MMV_ER_APP\n5\nLV_INJ_CUT\n16 LV_INH_OBD_ER_AD\n4LV_INH_APP_ER_AD\n3\nLV_ER_WIN_CH_AD\n10\nLV_EOL_OBD\n14\nLV_ENA_SEG_T_MES\n8\nLV_ENA_ER\n2\nLV_DCT\n29 LV_CVT\n28\nLV_AT\n13\nLV_ACCOUT_RLY\n20 LOAD_MIS\n19LOAD_GRD_MIS\n18\nENRD_ADCPR0__NVMSTO\nENRD_ADCPR0__NVMRES\nENRD_ADCPR0__NVMINI\nENRD_ADCPR0__RST\nENRD_ADCPR0__SEG\nENRD_ADCPR0__10MS\nFIL\nX.4\nsys_eve\nInput\nfeedback\nfil\nFDOUT_ER\nX.1\nsys_eve\nInput\nfeedback\nfdout_er\nER_AD\nX.3\nsys_eve\nInput\nfeedback\ner_ad\nEND_ER_SEG\nX.2\nsys_eve\nInput\nend_er_seg\nDRV1_ER\n1\nACT_ADA_VAL\nX.6\nsys_eve\nInput\nfeedback\nact_ada_val\nLV_ST_END\nFIL__10MS\nFDOUT_ER__10MS\nLV_DCT\nLV_CVT\nSEG_T_MES_CYL\nLV_REQ_SEG_AD_MMV_ER_APP\nSEG_T_MES_CH\nSEG_T_MES\nMAF\nLV_ENA_SEG_T_MES\nLV_ACCOUT_RLY\nLOAD_MIS\nLOAD_GRD_MIS\nSEG_T_COR\nSEG_NR_MES\nSEG_AD_MMV_ER_APP\nN_32\nNC_CYL_NR\nLV_SYN_ENG\nLV_STATE_RR\nLV_SEG_AD_RST_ER_EOL\nLV_INJ_CUT\nLV_INH_OBD_ER_AD\nLV_INH_APP_ER_AD\nLV_EOL_OBD\nLV_ENA_ER\nLV_AT\nDRV1_ER\nTPS_GRD\nMAF_DIF\nTPS_AV\nFigure 29.6.2:\nFile: 30404R07.00D\n7653Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2369, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5d3605d5-09a1-43c1-a3a0-743e82a5c224": {"__data__": {"id_": "5d3605d5-09a1-43c1-a3a0-743e82a5c224", "embedding": null, "metadata": {"page_label": "83", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c6d2966a-f444-44ce-9a1a-a524cb7e64e1", "node_type": "4", "metadata": {"page_label": "83", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "99c3bc9c850c5578bcc1831b358deffa3faa49e4f990c8f44b54ad6b65d273be", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.1 Fade out conditions of engine roughness segment adaptive process\n\ufffd General Information\nLV_SEG_AD_FDOUT_ER combines all system conditions to generate a fade out condition as input for the\ngeneric segment adaptation process.\nDe?nition of segment adaptation fade out conditions carrier:\n6 5 4 3 0127\nSEG_AD_FDOUT_ER_CDN :Carrier used for fade-out conditions merge \nLV_INH_MAF_DIF_ER_AD \nLV_INH_LOAD_GRD_MAX_ER_AD \nLV_INH_ACC_ER_AD \nLV_INH_TPS_GRD_ER_AD \nLV_STATE_RR \nLV_SEG_AD_DIF_MAX_ER \nLV_INH_APP_ER_AD \nLV_INH_OBD_ER_AD \nFigure 29.6.3:\n\ufffd Application Conditions\nInitialisation: RST, Deactivation\nActivation: LV_ENA_SEG_T_MES == 1\nDeactivation: LV_ENA_SEG_T_MES == 0\nRecurrence: 10MS, SEG\n\ufffd Function Description\nFile: 30404R07.00D\n7654Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1274, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6dcb8ea7-993d-4590-bd96-7b405b37f5c3": {"__data__": {"id_": "6dcb8ea7-993d-4590-bd96-7b405b37f5c3", "embedding": null, "metadata": {"page_label": "84", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "da252093-23e1-461e-8612-25aac4cf58b4", "node_type": "4", "metadata": {"page_label": "84", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "08c9e2ebfabb0421586dda95be6568d4dffb742da73e4054f9a8a9fe06619b2f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nfdout_er\n1\nV.6.5\n1\n2\nOPM\nX.1.2\nfc_OPM_10MS\nfc_OPM_SEG\ninput\nfeedback\nopm\nINI\nX.1.1\nf()\nini\nV.6.0\nBusMerge\nAPP_CDN\nV.5.13\nfc_RST\nfc_10MS\nfc_SEG\nLV_ENA_SEG_T_MES\nfc_INI\ndeactivation\nfc_OPM\nRecurrence:        10MS\n            SEG\nInit:             RST\nActivation: \nDeactivation: \nLV_ENA_SEG_T_MES==1\nLV_ENA_SEG_T_MES==0\nfeedback\n3\nInput\n2\nsys_eve\n1\n<LV_ENA_SEG_T_MES>\n<FDOUT_ER__SEG>\n<FDOUT_ER__10MS>\n<FDOUT_ER__RST>\n<LV_SEG_AD_DIF_MAX_ER>\n<LV_INH_APP_ER_AD>\n<LV_INH_OBD_ER_AD>\n<LV_STATE_RR>\n<LV_ACCOUT_RLY>\n<TPS_GRD>\n<TPS_AV>\n<LOAD_MIS>\n<LOAD_GRD_MIS>\n<MAF>\n<MAF_DIF>\n<LV_INH_ACC_ER_AD>\n<LV_INH_TPS_GRD_ER_AD>\n<LV_INH_LOAD_GRD_MAX_ER_AD>\n<LV_INH_MAF_DIF_ER_AD>\n<SEG_AD_FDOUT_ER_CDN_NR>\n<SEG_AD_FDOUT_ER_CDN>\n<LV_SEG_AD_FDOUT_ER>\nfdout_er\nFigure 29.6.4:\nFile: 30404R07.00D\n7655Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1307, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "832b03fd-f7a2-4df0-9fb4-5b754751402c": {"__data__": {"id_": "832b03fd-f7a2-4df0-9fb4-5b754751402c", "embedding": null, "metadata": {"page_label": "85", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "245d8596-9362-407d-a46f-d4e40e189611", "node_type": "4", "metadata": {"page_label": "85", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "ade4359e5e4315932902f780bfe6be72a3987b067401d10ef9284bbe1b684e3d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.1.1 Initialization\nini\n1\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n8\nV. 6.4\n255\nV. 6.4\n1\nf()\ntimer_out_tps\ntimer_out_maf\nSEG_AD_FDOUT_ER_CDN_NR\nSEG_AD_FDOUT_ER_CDN\nLV_SEG_AD_FDOUT_ER\nini\nFigure 29.6.5:\nFile: 30404R07.00D\n7656Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 746, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7b3be953-3495-4e39-a0ef-00d7ed92878f": {"__data__": {"id_": "7b3be953-3495-4e39-a0ef-00d7ed92878f", "embedding": null, "metadata": {"page_label": "86", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3854e337-c694-4760-ad68-cf01554cac9a", "node_type": "4", "metadata": {"page_label": "86", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "c682ef6bcef20188d53d924a8200bf25ef5cf02188d9a4c761cb0ef2c08515df", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.1.2 Formula section\nopm\n1\nfcn_call()\nfcn_call_1\nfcn_call_2\nfcn_call_3\nfcn_call()\nfcn_call_1\nfcn_call_2\nfcn_call_3\nV.6.1\nV.6.1\nV.5.7\nMux\nMAX_AIR_MASS\nX.1.2.1\nfc_call\nMAF_DIF\nMAF\nTPS_GRD\nTPS_AV\ntimer_out_tps_in\ntimer_out_maf_in\ntimer_out_tps_out\ntimer_out_maf_out\nLV_INH_TPS_GRD_ER_AD\nLV_INH_MAF_DIF_ER_AD\nMAX_ACT_LOAD\nX.1.2.2\nfc_call\nLOAD_GRD_MIS\nLOAD_MIS\nLV_INH_LOAD_GRD_MAX_ER_AD\n[F1]\n[F1]\nFDOUT_MGM\nX.1.2.4\nf()\nSEG_AD_FDOUT_ER_CDN_in\nSEG_AD_FDOUT_ER_CDN_NR\nLV_SEG_AD_FDOUT_ER\nSEG_AD_FDOUT_ER_CDN_out\nAIR_CON_COM\nX.1.2.3\nf()\nLV_ACCOUT_RLY LV_INH_ACC_ER_AD\nfeedback\n4\ninput\n3\nfc_OPM_SEG\n2\nfc_OPM_10MS\n1\n<LV_INH_OBD_ER_AD>\n<LV_INH_APP_ER_AD>\n<TPS_AV>\n<TPS_GRD>\n<LV_SEG_AD_DIF_MAX_ER>\nopm\nSEG_AD_FDOUT_ER_CDN\nLV_SEG_AD_FDOUT_ER\nSEG_AD_FDOUT_ER_CDN_NR\nLV_INH_ACC_ER_AD\nLV_INH_LOAD_GRD_MAX_ER_AD\n<LV_STATE_RR>\n<y>\n<>\nLV_INH_MAF_DIF_ER_AD\nLV_INH_TPS_GRD_ER_AD\ntimer_out_maf\ntimer_out_tps\n<LV_ACCOUT_RLY>\n<LOAD_MIS>\n<LOAD_GRD_MIS>\n<timer_out_maf>\n<timer_out_tps>\n<MAF>\n<MAF_DIF>\nfc_OPM_10MS\nfc_OPM_SEG\nfc_OPM_10MS\nfc_OPM_SEG\nFigure 29.6.6:\n29.6.1.2.1 Maximum air-mass gradient\nDue to trailing throttle / acceleration transition problems it is necessary to disable ER segment learning process\nfor a short period when the air-mass gradient per segment exceeds a calibration value. ER segment adaptation\nis disabled while the absolute of the air-mass gradient exceeds the value mentioned below :\nAfter the last triggering of this segment adaptation is suppressed for a period of C_T_MAF_DIF_DLY_ER_AD.\nFade out behaviour summary:\nFile: 30404R07.00D\n7657Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2082, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "73b79098-1c7b-42d6-bcf3-71ba295129da": {"__data__": {"id_": "73b79098-1c7b-42d6-bcf3-71ba295129da", "embedding": null, "metadata": {"page_label": "87", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "eb764286-0f4d-47b4-b1ca-f00e657e6c4c", "node_type": "4", "metadata": {"page_label": "87", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "51eda13841f5dd886be3b7fe3fcad5ad8fe3ddbc7583364a2954d9a6435bc51c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nLV_INH_MAF_DIF_ER_AD \nMAF_DIF condition \nC_T_MAF_DIF_DLY_ER_AD \nMAF_DIF fadeout \ndedicated timer \nC_T_MAF_DIF_DLY_ER_AD \nFigure 29.6.7:\nLV_INH_MAF_DIF_ER_AD\n4\nLV_INH_TPS_GRD_ER_AD\n3\ntimer_out_maf_out\n2\ntimer_out_tps_out\n1\nTIM\nX.1.2.1.1\nf()\ntimer_tps_10ms\nTPS_AV\nTPS_GRD\ntimer_maf_10ms\ntimer_output_tps\nLV_INH_TPS_GRD_ER_AD\ntimer_output_maf\nMerge\nMAX\nX.1.2.1.2\nf()\ntimer_output_maf_in\nMAF\nMAF_DIF\ntimer_output_maf_out\nLV_INH_MAF_DIF_ER_AD\ntimer_out_maf_in\n7\ntimer_out_tps_in\n6\nTPS_AV\n5\nTPS_GRD\n4\nMAF\n3\nMAF_DIF\n2\nfc_call\n1\n<fc_OPM_SEG>\n<fc_OPM_10MS>\nFigure 29.6.8:\nFile: 30404R07.00D\n7658Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1119, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ddff7ab9-4e7b-4af9-a19a-c0faba5dac25": {"__data__": {"id_": "ddff7ab9-4e7b-4af9-a19a-c0faba5dac25", "embedding": null, "metadata": {"page_label": "88", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7001e929-7583-4660-8249-f6a801d02441", "node_type": "4", "metadata": {"page_label": "88", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "16a50be6c6933016b2a7ccefa70833c75a8d93610b300130d1a9d4a9fff3a178", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.1.2.1.1 Calculation of LV_INH_TPS_GRD_ER_AD\ntimer_output_maf\n3\nLV_INH_TPS_GRD_ER_AD\n2\ntimer_output_tps\n1\nIP_TPS_GRD_MAX_ER_AD\nV.6.4\nx_val IP_val\nV.6.0\ncond_if\nif\nelse\nV.6.0\ncond_if if\nV.6.0\ncond_if if\nV.6.7\n?\n+\nV.6.7\n?\n+\nMerge\nMerge\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.5.2\nV.5.2\nV.5.2\nV.5.2\nV. 6.4\nC_T_TPS_GRD_DLY_ER_AD\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\n1\nf()\ntimer_maf_10ms\n4\nTPS_GRD\n3\nTPS_AV\n2\ntimer_tps_10ms\n1\nFigure 29.6.9:\nFile: 30404R07.00D\n7659Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 997, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "75913253-425b-41dd-b7d2-05a71d33bfe5": {"__data__": {"id_": "75913253-425b-41dd-b7d2-05a71d33bfe5", "embedding": null, "metadata": {"page_label": "89", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8bbdb5c9-e2fd-4843-9cbd-db32c9d9571c", "node_type": "4", "metadata": {"page_label": "89", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "655696bded389027491c4988c765a2baeb0b9e8177d0fa278ff29d3b66baf7ad", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.1.2.1.2 Calculation of LV_INH_MAF_DIF_ER_AD\nLV_INH_MAF_DIF_ER_AD\n2\ntimer_output_maf_out\n1\nIP_MAF_DIF_MAX_ER_AD\nV.6.4\nx_val IP_val\nV.6.0\ncond_if\nif\nelse\nMerge\nV.6.0\nV.6.0\nV.5.2\nV.5.2\nV. 6.4\n0\nV. 6.4\nC_T_MAF_DIF_DLY_ER_AD\nV. 6.4\n1\nV.6.5\nf()\nMAF_DIF\n3\nMAF\n2\ntimer_output_maf_in\n1\nFigure 29.6.10:\n29.6.1.2.2 Maximum actual load gradient\nDue to general intervention of the torque model it?s necessary to disable ER segment adaptation for a short\nperiod when the actual torque gradient exceeds a calibration value. ER segment adaptation is disabled while\nthe absolute of the torque gradient here LOAD_GRD_MIS the reference for Mis?re detection process exceeds\nthe value mentioned below.\nAfter the last triggering of this segment adaptation is suppressed for a period of C_T_LOAD_GRD_DLY_ER_AD.\nFade out behaviour summary:\nLV_INH_LOAD_GRD_ER_AD \nLOAD_GRD_MIS c ondition \nC_T_LOAD_GRD_DLY_ER_AD \nLOAD_GRD_MIS \nfadeout dedicated timer \nC_T_LOAD_GRD_DLY_ER_AD \nFigure 29.6.11:\nFile: 30404R07.00D\n7660Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1528, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3a9f0dd3-4141-4d00-ad7c-9636a1d42b6f": {"__data__": {"id_": "3a9f0dd3-4141-4d00-ad7c-9636a1d42b6f", "embedding": null, "metadata": {"page_label": "90", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "33d70bfe-3f7f-4878-9cfc-2f893a4095b8", "node_type": "4", "metadata": {"page_label": "90", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "94eaf08355e9dbf001c116e1f45d79eb1afae5c0c59cab390b68a3aed110d714", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nLV_INH_LOAD_GRD_MAX_ER_AD\n1\nTIM\nX.1.2.2.1\nf()\ntimer_in_10ms timer_output\nMerge\nMAX\nX.1.2.2.2\nf()\ntimer_output_in\nLOAD_GRD_MIS\nLOAD_MIS\ntimer_output_out\nlv_inh_maf_dif_er_ad\nLOAD_MIS\n3\nLOAD_GRD_MIS\n2\nfc_call\n1 <fc_OPM_SEG>\n<fc_OPM_10MS>\nFigure 29.6.12:\n29.6.1.2.2.1 Timer calculation\ntimer_output\n1\nV.6.0\ncond_if if\nV.6.7\n?\n+\nV.6.0\nV.5.2\nV. 6.4\n0\nV. 6.4\n1\nf()\ntimer_in_10ms\n1\nFigure 29.6.13:\nFile: 30404R07.00D\n7661Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 947, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "168ae0d3-2758-415c-a05f-b28cbfd5e7b9": {"__data__": {"id_": "168ae0d3-2758-415c-a05f-b28cbfd5e7b9", "embedding": null, "metadata": {"page_label": "91", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c8994bec-0ba5-4304-b447-fd2c25ec4e3b", "node_type": "4", "metadata": {"page_label": "91", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "2f225093d1e7dbb6c9f32707f3ec24c80118207c097f29eaf81f4a03dd47079f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.1.2.2.2 Calculation of LV_INH_MAF_DIF_ER_AD\nlv_inh_maf_dif_er_ad\n2\ntimer_output_out\n1\nIP_LOAD_GRD_ER_AD\nV.6.4\nx_val IP_val\nV.6.0\ncond_if\nif\nelse\nMerge\nV.6.0\nV.6.0\nV.5.2\nV.5.2\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\nC_T_LOAD_GRD_DLY_ER_AD\nf()\nLOAD_MIS\n3\nLOAD_GRD_MIS\n2\ntimer_output_in\n1\nFigure 29.6.14:\n29.6.1.2.3 Air - conditioning compressor activation\nWhen the air - conditioning compressor is switched on, an additional load is brie?y applied to the engine.\nThis load jump can cause an ER segment period jump and crankshaft vibration. Engine roughness segment\nadaptation can be suppressed for the applicable constant period C_T_ACCOUT_DLY_ER_AD, starting if the air\n- conditioning compressor is switched on or off (LV_ACCOUT_RLY changes from 0 to 1 or from 1 to 0), during\nthis period LV_INH_ACC_ER_AD is set to 1.\nLV_INH_ACC_ER_AD\n1\ndT = 1\nV.6.3\nT\nu\ny\nV.5.3\nIV\nu\ny\nV. 6.4\nC_T_ACCOUT_DLY_ER_AD\nV. 6.4\n1\nf()\nLV_ACCOUT_RLY\n1\nFigure 29.6.15:\n29.6.1.2.4 Con?gurable Fade-out Management\nThe Fade out management of the segment adaptive process can be con?gured with a bit?eld mask calibration\nthat allow to take in account or not some conditions set in the carrier.\nIf the corresponding bit in the SEG_AD_FDOUT_ER_CDN carrier structure is set to 0 in C_MASK_SEG_AD_FD-\nOUT_ER calibration, then the corresponding condition will not fade-out the segment adaptive process via\nLV_SEG_AD_FDOUT_ER.\nThe number of fade-out conditions not masked by this calibration is set in SEG_AD_FDOUT_ER_CDN_NR\nFile: 30404R07.00D\n7662Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2034, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0285e937-e09f-49dc-ace1-792fdefe7daa": {"__data__": {"id_": "0285e937-e09f-49dc-ace1-792fdefe7daa", "embedding": null, "metadata": {"page_label": "92", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "78d8c5e0-136b-4f13-a3d4-afef17562cc4", "node_type": "4", "metadata": {"page_label": "92", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "af79affd7100bc5f594e262ce9bd8f7ad9d9063aebe675eb8ba936850786e8b6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nSEG_AD_FDOUT_ER_CDN_out\n3\nLV_SEG_AD_FDOUT_ER\n2\nSEG_AD_FDOUT_ER_CDN_NR\n1\nV.5.2\n8 Bitsnum_dec bit_vectornum_dec bit_vector\nV.5.2\n8 Bitsnum_dec bit_vectornum_dec bit_vector\nV.5.2\n8 Bitsbit_vector num_decbit_vector num_dec\nV.6.7\n1\n1\nV.6.0\nV. 6.4\n0\nV. 6.4\nC_MASK_SEG_AD_FDOUT_ER\nV.6.6\nAND\nf()\nSEG_AD_FDOUT_ER_CDN_in\n1\nFigure 29.6.16:\n29.6.2 End of line speci?c request for ER segment adaptive values learning process\n\ufffd General Information\nDuring end of line plant, speci?c conditions to activate ER adaptive process can be used. If OBD end of line\nprocess occurs, this request has priority on nominal conditions.\n\ufffd Application Conditions\nInitialisation: RST, Deactivation\nActivation: LV_ENA_SEG_T_MES == 1\nDeactivation: LV_ENA_SEG_T_MES == 0\nRecurrence: SEG\n\ufffd Function Description\nFile: 30404R07.00D\n7663Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1332, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4809d07b-1d59-4f52-8900-367fd9d37637": {"__data__": {"id_": "4809d07b-1d59-4f52-8900-367fd9d37637", "embedding": null, "metadata": {"page_label": "93", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6c417a64-53bf-4f57-829f-33f3d82d21d8", "node_type": "4", "metadata": {"page_label": "93", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "4c379daeda9d1d2fd74d4869285694485e48ea6aba354f010e311dd71afd4603", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nend_er_seg\n1\nOPM_SEG\nX.2.2\nf()Input\nfeedback\nopm_seg\nMux\nINI\nX.2.1\nf()\nini\nDemux\nV.6.0\nBusMerge\nAPP_CDN_new\nV.5.13\nRST\nSEG\nLV_ENA_SEG_T_MES\nfc_INI\ndeactivation\nfc_OPM\nRecurrence:        SEG\nInit:             RST\nActivation: \nDeactivation: \nLV_ENA_SEG_T_MES==1\nLV_ENA_SEG_T_MES==0\nInput\n2\nsys_eve\n1\n<LV_DCT>\n<LV_CVT>\n<LV_ENA_SEG_T_MES>\n<END_ER_SEG__SEG>\n<END_ER_SEG__RST>\n<SEG_NR_MES>\n<DRV1_ER>\n<N_32>\n<LV_AT>\n<LV_INJ_CUT>\n<LV_EOL_OBD>\nend_er_seg\n<LV_SEG_AD_FDOUT_ER_EOL>\nFigure 29.6.17:\n29.6.2.1 Initialization\nini\n1\nV. 6.4\n1\nf()\nLV_SEG_AD_FDOUT_ER_EOL\nini\nFigure 29.6.18:\nFile: 30404R07.00D\n7664Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1129, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1e7179f6-b72c-4250-8fd1-c0c3f821dd6b": {"__data__": {"id_": "1e7179f6-b72c-4250-8fd1-c0c3f821dd6b", "embedding": null, "metadata": {"page_label": "94", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5448fe54-8789-4cf9-871c-491908dfc3f8", "node_type": "4", "metadata": {"page_label": "94", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "a2f367c678ee50b6e23c6032dc1828c37589430ac9f74ad23fca112267c831ad", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.2.2 Formula section\n29.6.2.2.1 Calculation of LV_SEG_AD_FDOUT_ER_EOL\nAT\nDCT\nCVT\nMT\nnb_seg_drv1_er_eol_out\n3\nnb_seg_not_inj_eol_out\n2\nLV_SEG_AD_FDOUT_ER_EOL\n1\nCheck ~= 0\nV.6.4\n<N_32>\n<N_32>\n<N_32>\nV.6.3\nNOT\nMerge\nMerge\nV.6.6\nAND\n]MX;MN[\nV.6.1\nMX\nMN\nu\ny\n]MX;MN[\nV.6.1\nMX\nMN\nu\ny\n]MX;MN[\nV.6.1\nMX\nMN\nu\ny\n]MX;MN[\nV.6.1\nMX\nMN\nu\ny\nIf\nu1\nu2\nu3\nif(u1)\nelseif(u2)\nelseif( u3)\nelse\nINJ\nX.2.2.1.1\nnb_seg_not_inj_eol_in\nLV_INJ_CUT\nSEG_NR_MES\nnb_seg_not_inj_eol_out\n1\n1\nV.6.0\nV.6.0\nDRV\nX.2.2.1.2\nnb_seg_drv1_er_eol_in\nDRV1_ER\nnb_seg_drv1_er_eol_out\nV. 6.4\n0\nV. 6.4\nC_NR_SEG_DRV1_MIN_ER_EOL\nV. 6.4\nC_N_MIN_SEG_AD_ER_EOL_CVT\nV. 6.4\nC_N_MAX_SEG_AD_ER_EOL_CVT\nV. 6.4\nC_N_MAX_SEG_AD_ER_EOL_AT\nV. 6.4\nC_N_MIN_SEG_AD_ER_EOL_MT\nV. 6.4\nC_N_MAX_SEG_AD_ER_EOL_MT\nV. 6.4\nC_N_MIN_SEG_AD_ER_EOL_AT\nV. 6.4\nLC_SEG_AD_ER_REQ_EOL\nV. 6.4\nC_N_MIN_SEG_AD_ER_EOL_DCT\nV. 6.4\nC_N_MAX_SEG_AD_ER_EOL_DCT\nV. 6.4\n1\nV. 6.4\nC_NR_SEG_AD_ACT_MIN_ER_EOL\nnb_seg_drv1_er_eol_in\n10\nnb_seg_not_inj_eol_in\n9\nLV_DCT\n8\nLV_CVT\n7\n<N_32>\nLV_AT\n5\nSEG_NR_MES\n4\nDRV1_ER\n3\nLV_INJ_CUT\n2\nLV_EOL_OBD\n1\nFigure 29.6.19:\nFile: 30404R07.00D\n7665Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1615, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "926c9f8f-8e48-4e5f-b57b-98b04de1e871": {"__data__": {"id_": "926c9f8f-8e48-4e5f-b57b-98b04de1e871", "embedding": null, "metadata": {"page_label": "95", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3f58e29f-9d5c-4c7f-a37d-129427dfff4f", "node_type": "4", "metadata": {"page_label": "95", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "f80ad5e6916e7e29f1e44e9fde450527a99fc109c60588c0af3a40563897d660", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.2.2.1.1 Calculation based on LV_INJ_CUT\nnb_seg_not_inj_eol_out\n1\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nV.6.7\n+\n+\nV.6.2\nOR\nV.6.0\nV.6.0\nV.6.0\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\nC_NR_SEG_AD_ACT_MIN_ER_EOL\nV. 6.4\n0\nSEG_NR_MES\n3\nLV_INJ_CUT\n2nb_seg_not_inj_eol_in\n1\nFigure 29.6.20:\n29.6.2.2.1.2 NB_SEG_DRV1_ER_EOL calculation\nnb_seg_drv1_er_eol_out\n1\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nV.6.7\n+\n+\nV.6.0\nV.6.0\nV. 6.4\nC_DRV1_MAX_SEG_AD_ER_EOL\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\nC_NR_SEG_DRV1_MIN_ER_EOL\nV.6.5\nDRV1_ER\n2\nnb_seg_drv1_er_eol_in\n1\nFigure 29.6.21:\n29.6.3 Engine Roughness Adaptive Learning Process\n\ufffd General Information\nThe adaptive process is managed in two phases:\nA fast adaptive process for end of line procedures (EOL), who allow a fast convergence to ER ?ywheel adaptive\nvalues.\nAt the end of the fast adaptive process, a slow adaptive process who will monitor ER adaptive values during\nthe engine lifetime.\nAn end of line speci?c ?ltering mode, to be used on EOL or special service request.\nFile: 30404R07.00D\n7666Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1562, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d2613c7b-4353-4079-ba06-00313433c0ee": {"__data__": {"id_": "d2613c7b-4353-4079-ba06-00313433c0ee", "embedding": null, "metadata": {"page_label": "96", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3230e42a-9a60-4283-9f42-32450e3b1485", "node_type": "4", "metadata": {"page_label": "96", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "bb6a30f592804a22dff39e61edc68e19393ad651e1259bf0f2fca68709b5ebba", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nAt the beginning of the segment adaptation learning process, it is necessary to upper the engine roughness\nvalue with an additional offset (THD_AD_ER), depending on the target wheel tolerances to be excepted.\nThe segment time adaptation is de?ned here on 3 different engine speed ranges (Low = _L, Middle = _MID and\nHigh = _H speed) to allow a speci?c crankshaft behaviour learning on each relevant engine speed area.\nFor instance, a ?ywheel with a ( 0.3\ufffdCrk mechanical tolerance on the ER segment corresponds to following\nsegment drift:\nEngine Type ER Segment length Induced Drift with \ufffd0.3\ufffdCrk tolerance on ER\nsegment\n3 cyl engine 240\ufffdCrk 2.5?\n4 cyl engine 180\ufffdCrk 3.33?\n5 cyl engine 144\ufffdCrk 4.17?\n6 cyl engine 120\ufffdCrk 5?\n8 cyl engine 90\ufffdCrk 6.68?\n10 cyl engine 72\ufffdCrk 8.33?\n12 cyl engine 60\ufffdCrk 10.00?\nThe value by which the ER is increased at the beginning is gradually reduced to zero in a linear way until the\n95% correction is obtained.\nThis number of steps is controlled by an internal adaptation counter CTR_SEG_AD_ER.\nDescription for LOW window:\nFor very low engine speeds where adaptation is not enabled due to drive train oscillation, a LOW adaptation\nwindow is provided to learn and complete the diagnosis of adaptation for one time in a DC. This is only for the\npurpose of enabling diagnosis in a FTP cycle, the values adapted are stored only if they are within calibrated\nlimit.\nC_N_MAX_H_SEG_AD_ER\nC_N_MAX_MID_SEG_AD_ER\nC_N_MAX_L_SEG_AD_ER\nC_N_MIN_L_SEG_AD_ER\nC_N_MIN_LOW_SEG_AD_ER\nSEG_AD_MMV_ER_H\nSEG_AD_MMV_ER_MID\nSEG_AD_MMV_ER_L\nSEG_AD_MMV_ER_LOW\nFigure 29.6.22:\nFile: 30404R07.00D\n7667Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2138, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "70edd04f-424c-41e3-8e95-307b10ad4348": {"__data__": {"id_": "70edd04f-424c-41e3-8e95-307b10ad4348", "embedding": null, "metadata": {"page_label": "97", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "913458f3-ab36-4b6f-9b47-132b774ba14d", "node_type": "4", "metadata": {"page_label": "97", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "f5daa63df8083218773dc527d4c759de21f72090e56baabf13e7ec862f6c5f46", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nThere are four engine speed areas where segment adaptation is performed. Vehicles with very long transmis-\nsion ratio might not be able to perform an adaptation during emission cycle (i.e. FTP75, US 06). A generally\nlow minimum engine speed threshold for the adaptation should be avoided as drivetrain oscillations might\noccur.\nTherefore, a new window has been introduced for engine speeds between C_N_MIN_L_SEG_AD_ER and C_N_\nMIN_LOW_SEG_AD_ER. The number of adaptation cycles that are performed within the lowest area are limited\nto C_CTR_CYC_SEG_AD_ER_LOW. The value that is learned in the lowest adaptation window is limited to C_\nSEG_AD_ER_LOW_LIM and then copied to SEG_AD_MMV_ER_L.\nThe lowest adaptation area will only be active if the condition of the three areas above have not been met\nbefore. For exmple, if at least C_CTR_CYC_SEG_AD_ER_LOW number of adaptation cycles had been learned in\nan engine speed area of SEG_AD_MMV_ER_L, there will be no more adaptation in the lowest window.\n\ufffd Application Conditions\n\ufffd Function Description\ner_ad\n1\nV.6.5\n1\n2\nV.6.5\n1\n2\nNA_APP\nX.3.1\nsys_eve\nInput\nfeedback\nna_app\nFI_AD_PH\nX.3.2\nsys_eve\nInput\nfeedback\nfi_ad_ph\nfeedback\n3\nInput\n2\nsys_eve\n1\nNA_APP__SEG\nNA_APP__RST\nFI_AD_PH__SEG\nFI_AD_PH__RST\n<ER_AD__RST>\n<ER_AD__SEG>\n<ER_AD__NVMSTO>\n<ER_AD__NVMRES>\n<ER_AD__NVMINI>\ner_ad\nna_app\nfi_ad_ph\nFigure 29.6.23:\nFile: 30404R07.00D\n7668Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1911, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "80c33b40-39e3-4fce-8101-72363f3977cb": {"__data__": {"id_": "80c33b40-39e3-4fce-8101-72363f3977cb", "embedding": null, "metadata": {"page_label": "98", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "bbc30a03-9f35-449f-85c9-d7c526507d57", "node_type": "4", "metadata": {"page_label": "98", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "8c4275e0b49701d46aa213a7efdc388dc85a370a9843cb7b25e203f122ee66ca", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.3.1 Section 1\nna_app\n1\nV.6.8\nOPM_SEG\nX.3.1.3\nf()\nInput\nfeedback\nopm_seg\nNVMY\nX.3.1.2\nfc_NVMY_INI\nfc_NVMY_RD\nfc_NVMY_SAVE\nfeedback\nInput\nnvmy\nNA_APP\nX.3.1.1\nRST\nNVMINI\nNVMRES\nNVMSTO\nSEG\nSEG_NR_MES\nLV_SEG_AD_RST_ER_EOL\nfc_NVMY_INI\nfc_NVMY_RD\nfc_NVMY_SAVE\nfc_OPM_SEG\nV.6.0\nBusMerge\nfeedback\n3\nInput\n2\nsys_eve\n1\n<LV_CYC_SEG_AD_ER_LOW><LV_CYC_SEG_AD_ER_LOW>\n<LV_SEG_T_MES_CYL_READY>\n<LV_SEG_AD_FDOUT_ER_EOL>\n<LV_SEG_AD_FDOUT_ER>\n<LV_DCT>\n<LV_CVT>\n<LV_AT>\n<LV_ENA_ER>\n<SEG_T_COR>\n<NC_CYL_NR>\n<SEG_NR_MES>\n<LV_ENA_SEG_T_MES>\n<LV_INJ_CUT>\n<DRV1_ER>\n<N_32>\n<LV_INH_OBD_ER_AD>\n<LV_SEG_AD_RST_ER_EOL>\n<LV_SEG_AD_AVL_ER_RGL>\n<LV_SEG_AD_RST_ER_EOL>\n<SEG_NR_MES>\n<NA_APP__SEG>\n<ER_AD__NVMSTO>\n<ER_AD__NVMRES>\n<ER_AD__NVMINI>\n<NA_APP__RST>\nna_app\n<CRLC_SEG_AD_ER>\n<LV_SEG_AD_ER>\n<LV_SEG_AD_RAW_ER>\n<LV_SEG_AD_N_VLD>\n<LV_SEG_AD_AVL_ER>\n<CTR_SEG_AD_ER>\n<DELTA_CRK_DIF_MAX_ER>\nFigure 29.6.24:\n29.6.3.1.1 Application condition\nfc_OPM_SEG\n4\nfc_NVMY_SAVE\n3\nfc_NVMY_RD\n2\nfc_NVMY_INI\n1\nMux\nChart\nX.3.1.1.1\n input events ()\nLV_SEG_AD_RST_ER_EOL\nSEG_NR_MES\nfc_NVMY_INI\nfc_NVMY_RD\nfc_NVMY_SAVE\nfc_OPM_SEG\nLV_SEG_AD_RST_ER_EOL\n7\nSEG_NR_MES\n6\nSEG\n5\nNVMSTO\n4\nNVMRES\n3\nNVMINI\n2\nRST\n1\nFigure 29.6.25:\nFile: 30404R07.00D\n7669Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1731, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4709ab52-9666-4037-a98a-872274c79c08": {"__data__": {"id_": "4709ab52-9666-4037-a98a-872274c79c08", "embedding": null, "metadata": {"page_label": "99", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f1eb1176-c792-4fb1-a6b8-71a79885b3e3", "node_type": "4", "metadata": {"page_label": "99", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "142857e4f01eee895194172b18b4c88e9f677d26e9faa0bcd50254320a79467c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.3.1.1.1 Chart\nAPP_CDN/\nactive/ inactive/\nSYS_EVE__NVMINI\n{fc_NVMY_INI;}1\n2\nSYS_EVE__NVMRES\n{fc_NVMY_RD ;}1\n2\nSYS_EVE__NVMSTO\n{fc_NVMY_SAVE ;}1\n2\n[LV_SEG_AD_RST_ER_EOL== 1]\n{fc_NVMY_INI;}1\n2\nSYS_EVE__RST\n[SEG_NR_MES== 0]\n[SEG_NR_MES~= 0]SYS_EVE__SEG\n{fc_OPM_SEG ;}1\n2\nFigure 29.6.26:\n29.6.3.1.2 NVMY\n29.6.3.1.2.1 Initialisation of NVMY variables\nLV_SEG_AD_AVL_ER_RGL\n4\nLV_SEG_AD_AVL_ER\n3\nDELTA_CRK_DIF_MAX_ER\n2\nCTR_SEG_AD_ER\n1\nV.6.7\nV.6.7\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n4\nV. 6.4\nC_CRK_DIF_MAX_ER\nV. 6.4\n0\nf()\nNC_CYL_NR\n1\nFigure 29.6.27:\nFile: 30404R07.00D\n7670Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1091, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "582ba003-4c78-42ef-aab9-0ee1080bac43": {"__data__": {"id_": "582ba003-4c78-42ef-aab9-0ee1080bac43", "embedding": null, "metadata": {"page_label": "100", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c46f515e-905a-4806-a946-8a5a939c8878", "node_type": "4", "metadata": {"page_label": "100", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "a1c6d5b02d0fc1e123233701b77f1a420e730379284afde9e1bb3aae1dd1317b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.3.1.2.2 Read NVMY variables\nnvmy_rd\n1\nCTR_SEG_AD_ER\nsize: 1\ninit:0\nV.6.5\nNVMY[read/init]\nout\nLV_SEG_AD_AVL_ER\nsize: 1\ninit:0\nV.6.5\nNVMY[read/init]\nout\nDELTA_CRK_DIF_MAX_ER\nsize: 1\ninit:0\nV.6.5\nNVMY[read/init]\nout\nLV_SEG_AD_AVL_ER_RGL\nsize: 1\ninit:0\nV.6.5\nNVMY[read/init]\nout\nf()\nnvmy_rd\nFigure 29.6.28:\nFile: 30404R07.00D\n7671Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 864, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2e3da65c-007a-42cb-a64f-2c6a4695ee24": {"__data__": {"id_": "2e3da65c-007a-42cb-a64f-2c6a4695ee24", "embedding": null, "metadata": {"page_label": "101", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b91489bb-db66-4f86-a054-672ef66a3396", "node_type": "4", "metadata": {"page_label": "101", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "29b062b94c28bbe7aa08a35b135d60de0f00a547a8550616bd0d7e462f14567b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.3.1.2.3 Save NVMY variables\nCTR_SEG_AD_ER\nsize: 1\ninit:0\nV.6.5\nNVMY[store]\nin out\nLV_SEG_AD_AVL_ER\nsize: 1\ninit:0\nV.6.5\nNVMY[store]\nin out\nDELTA_CRK_DIF_MAX_ER\nsize: 1\ninit:0\nV.6.5\nNVMY[store]\nin out\nLV_SEG_AD_AVL_ER_RGL\nsize: 1\ninit:0\nV.6.5\nNVMY[store]\nin out\nf()\nLV_SEG_AD_AVL_ER_RGL\n4\nCTR_SEG_AD_ER_in\n3\nLV_SEG_AD_AVL_ER_in\n2\nDELTA_CRK_DIF_MAX_ER_in\n1\nFigure 29.6.29:\nFile: 30404R07.00D\n7672Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 932, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c24a885a-c8f7-4155-bbdd-e215f7bb4b54": {"__data__": {"id_": "c24a885a-c8f7-4155-bbdd-e215f7bb4b54", "embedding": null, "metadata": {"page_label": "102", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8bba2347-c956-4e2f-be6c-3b936fb34b0f", "node_type": "4", "metadata": {"page_label": "102", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "b068a3f497c2b17c102ed2539972159010559f4395be50c91fcc983f38d887c6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.3.1.3 Formula section\n29.6.3.1.3.1 Calculation\n29.6.3.1.3.1.1 LV_SEG_AD_RAW_ER and LV_SEG_AD_ER calculation\nLV_SEG_AD_RAW_ER\n2\nLV_SEG_AD_ER\n1\nV.6.0\ncond_if\nif\nelse\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.10\nV.6.0\nV.6.0\nMerge\nV.6.2\nNOT\nV.6.6\nAND\nV.6.2\nNOT\nV.5.2\nV.6.4\nC_N_MIN_LOW_SEG_AD_ER_DCT\nV.6.4\nC_N_MIN_LOW_SEG_AD_ER_CVT\nV.6.4\nC_N_MIN_LOW_SEG_AD_ER_MT\nV. 6.4\nC_N_SEG_T_AD_RAW_MIN_ER\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nC_N_SEG_T_AD_RAW_MAX_ER\nV.6.4\nC_N_MIN_LOW_SEG_AD_ER_AT\nV. 6.4\n1\nLV_DCT\n8\nLV_CVT\n7\nLV_AT\n6\nLV_CYC_SEG_AD_ER_LOW\n5\nLV_ENA_SEG_T_MES\n4\nN_32\n3\nLV_INJ_CUT\n2\nLV_INH_OBD_ER_AD\n1\nFigure 29.6.30:\nFile: 30404R07.00D\n7673Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1186, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "616f3e36-50c2-4ffe-ac1f-d274ad9cb2dc": {"__data__": {"id_": "616f3e36-50c2-4ffe-ac1f-d274ad9cb2dc", "embedding": null, "metadata": {"page_label": "103", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "da554e5c-d2c8-4b27-9c58-bcaacbf86278", "node_type": "4", "metadata": {"page_label": "103", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "83d7b54e09efe4d8efcc7d7753ec7d3669ec1fd85236b74ff2b52a36f3347167", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nFile: 30404R07.00D\n7674Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 556, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2b1ed378-5cea-4839-8505-93ee2d309c1c": {"__data__": {"id_": "2b1ed378-5cea-4839-8505-93ee2d309c1c", "embedding": null, "metadata": {"page_label": "104", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "686875b9-9c5d-4b75-877a-b4bbe2acd9fa", "node_type": "4", "metadata": {"page_label": "104", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "9c177311aea86120525b0f7086474bab7cf61183cafebf345ed1f7b5f48424aa", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.3.1.3.2 Overview\n29.6.3.1.3.2.1 LV_SEG_AD_N_VLD calculation\nLV_SEG_AD_N_VLD\n1\nV.6.0\ncond_if\nif\nelse\nV.6.0\ncond_if if\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nSwitch\n<N_32>\n<N_32>\n<N_32>\n<N_32>\n<N_32>\n<N_32>\n<N_32>\nV.6.3\nNOT\nV.6.3\nNOT\nV.6.3\nNOT\nMerge2\nMerge\nMerge\nMerge\nMerge\n<LV_DCT>\n<LV_CVT>\n<LV_AT>\n]MX;MN[\nV.6.1\nMX\nMN\nu\ny\n]MX;MN[\nV.6.1\nMX\nMN\nu\ny\n]MX;MN[\nV.6.1\nMX\nMN\nu\ny\n]MX;MN[\nV.6.1\nMX\nMN\nu\ny\n]MX;MN[\nV.6.1\nMX\nMN\nu\ny\n]MX;MN[\nV.6.1\nMX\nMN\nu\ny\n]MX;MN[\nV.6.1\nMX\nMN\nu\ny\n]MX;MN[\nV.6.1\nMX\nMN\nu\ny\nIf1\nu1\nu2\nu3\nif(u1)\nelseif(u2)\nelseif( u3)\nelse\nIf\nu1\nu2\nu3\nif(u1)\nelseif(u2)\nelseif( u3)\nelse\n[LV_CYC_SEG_AD_ER_LOW]\n[LV_CYC_SEG_AD_ER_LOW]\n[LV_CYC_SEG_AD_ER_LOW]\n[LV_CYC_SEG_AD_ER_LOW]\n[LV_CYC_SEG_AD_ER_LOW]\nV. 6.4\n0\nV. 6.4\n1\nV.6.4\nC_N_MIN_LOW_SEG_AD_ER_AT\nV.6.4\nC_N_MIN_LOW_SEG_AD_ER_DCT\nV. 6.4\nC_N_MIN_L_SEG_AD_ER_DCT\nV. 6.4\nC_N_MAX_H_SEG_AD_ER_DCT\nV. 6.4\nC_N_MIN_L_SEG_AD_ER_CVT\nV. 6.4\nC_N_MAX_H_SEG_AD_ER_CVT\nV. 6.4\nC_N_MIN_L_SEG_AD_ER_AT\nV. 6.4\nC_N_MAX_H_SEG_AD_ER_AT\nV. 6.4\nC_N_MIN_L_SEG_AD_ER_MT\nV.6.4\nC_N_MIN_LOW_SEG_AD_ER_CVT\nV. 6.4\nC_N_MAX_H_SEG_AD_ER_MT\nV. 6.4\nC_N_MIN_L_SEG_AD_ER_DCT\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_DCT\nV. 6.4\nC_N_MIN_L_SEG_AD_ER_CVT\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_CVT\nV. 6.4\nC_N_MIN_L_SEG_AD_ER_AT\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_AT\nV. 6.4\nC_N_MIN_L_SEG_AD_ER_MT\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_MT\nV.6.4\nC_N_MIN_LOW_SEG_AD_ER_MT\nLV_SEG_AD_AVL_ER\n7\nLV_SEG_AD_RAW_ER\n6\nLV_CYC_SEG_AD_ER_LOW\n5\n<N_32>\n<LV_DCT>\n<LV_CVT>\n<LV_AT>\nFigure 29.6.31:\nFile: 30404R07.00D\n7675Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2037, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "46003b2e-dce0-4323-97e5-b176217f8ecf": {"__data__": {"id_": "46003b2e-dce0-4323-97e5-b176217f8ecf", "embedding": null, "metadata": {"page_label": "105", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "689bfc22-fe8a-4f4a-91cb-e8eda39a505f", "node_type": "4", "metadata": {"page_label": "105", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "73ea2607509642fd0dbdf8ca6a2cfe9cdc04776a392e68f7facdd9882902c28b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.3.1.3.2.2 LV_SEG_AD_ER calculation\nnb_seg_drv1_er_eol_out\n4\nLV_SEG_AD_ER\n3\nnb_seg_not_inj_eol_out\n2\nclc\n1\nV.6.0\ncond_if\nif\nelse\nMerge\nV.6.2\nNOT\nV.6.2\nOR\nV.6.6\nAND\nV.6.2\nNOT\nV.6.6\nAND\nINJ\nX.3.1.3.2.2.1\nnb_seg_not_inj_eol_in\nLV_INJ_CUT\nSEG_NR_MES\nnb_seg_not_inj_eol_out\n1\n1\nV.6.0\nV.6.0\nDRV\nX.3.1.3.2.2.2\nnb_seg_drv1_er_eol_in\nDRV1_ER\nnb_seg_drv1_er_eol_out\nV. 6.4\nC_NR_SEG_DRV1_MIN_ER\nV. 6.4\nC_NR_SEG_AD_ACT_MIN_ER\nV. 6.4\n0\nCLC\nX.3.1.3.2.2.3\nf()\ninput\nfeedback\nLV_SEG_AD_ER\nclc\nLV_SEG_AD_N_VLD\n11\nnb_seg_drv1_er_eol_in\n10\nnb_seg_not_inj_eol_in\n9\nLV_SEG_T_MES_CYL_READY\n8\nLV_SEG_AD_FDOUT_ER_EOL\n7\nLV_SEG_AD_FDOUT_ER\n6\nDRV1_ER\n5\nLV_INJ_CUT\n4\nSEG_NR_MES\n3\nfeedback\n2\ninput\n1\nFigure 29.6.32:\n29.6.3.1.3.2.2.1 Calculation of nb_seg_not_inj_eol\nnb_seg_not_inj_eol_out\n1\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nV.6.7\n+\n+\nV.6.2\nOR\nV.6.0\nV.6.0\nV.6.0\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\nC_NR_SEG_AD_ACT_MIN_ER\nV. 6.4\n0\nSEG_NR_MES\n3\nLV_INJ_CUT\n2nb_seg_not_inj_eol_in\n1\nFigure 29.6.33:\nFile: 30404R07.00D\n7676Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1542, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0c95da02-eb3e-4b99-9db6-37a85902b832": {"__data__": {"id_": "0c95da02-eb3e-4b99-9db6-37a85902b832", "embedding": null, "metadata": {"page_label": "106", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1d65ae82-c45b-446a-a1e0-b6ec3daab47f", "node_type": "4", "metadata": {"page_label": "106", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "6da531dcef71a2330533164bb6cc02f36051eafbd9d5a1018ee42a71265b852f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.3.1.3.2.2.2 Calculation of nb_seg_drv1_er_eol\nnb_seg_drv1_er_eol_out\n1\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nV.6.7\n+\n+\nV.6.0\nV.6.0\nV. 6.4\nC_DRV1_MAX_SEG_AD_ER\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\nC_NR_SEG_DRV1_MIN_ER\nV.6.5\nDRV1_ER\n2\nnb_seg_drv1_er_eol_in\n1\nFigure 29.6.34:\n29.6.3.1.3.2.2.3 Calculation\n29.6.3.1.3.2.2.3.1 Calculation based on LV_SEG_AD_AVL_ER\nLV_SEG_AD_ER\n6\nLV_SEG_AD_AVL_ER_RGL\n5\nCRLC_SEG_AD_ER\n4\nCTR_SEG_AD_ER_out\n3\nDELTA_CRK_DIF_MAX_ER_out\n2\nLV_SEG_AD_AVL_ER_out\n1\nV.6.0\ncond_if\nif\nelse\nV.6.2\nNOT\nMerge\nMerge\nV. 6.4\n1\nCDN_VLD\nX.3.1.3.2.2.3.1.1\nf()\nNC_CYL_NR\nDELTA_CRK_DIF_MAX_ER_in\nLV_SEG_AD_FDOUT_ER_EOL\nCTR_SEG_AD_ER_in\nDELTA_CRK_DIF_MAX_ER_out\nLV_SEG_AD_AVL_ER_RGL\nLV_SEG_AD_AVL_ER\nCRLC_SEG_AD_ER\nCTR_SEG_AD_ER_out\nCDN_NOT_VLD\nX.3.1.3.2.2.3.1.2\nf()\nLV_AT\nLV_CVT\nLV_DCT\nLV_CYC_SEG_AD_ER_LOW\nN_32\nLV_SEG_AD_FOUT_ER_EOL\nCTR_SEG_AD_ER_in\nCRLC_SEG_AD_ER\nCTR_SEG_AD_ER_out\nCTR_SEG_AD_ER_in\n10\nDELTA_CRK_DIF_MAX_ER_in\n9\nLV_SEG_AD_AVL_ER_in\n8\nLV_SEG_AD_FDOUT_ER_EOL\n7\nNC_CYL_NR\n6\nN_32\n5\nLV_CYC_SEG_AD_ER_LOW\n4\nLV_DCT\n3\nLV_CVT\n2\nLV_AT\n1\nFigure 29.6.35:\nFile: 30404R07.00D\n7677Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1611, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c63ef787-edc0-42fc-af05-36a44a318d52": {"__data__": {"id_": "c63ef787-edc0-42fc-af05-36a44a318d52", "embedding": null, "metadata": {"page_label": "107", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a5f0318d-b1f0-40e7-bada-53289ef31d08", "node_type": "4", "metadata": {"page_label": "107", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "e6d2a1772d58fa165a38c78067aa23bf8e6c6ce8f54d2767512c503965c76df1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.3.1.3.2.2.3.1.1 DEL TA CRK DIF MAX ER calculation\nER adaptation is should be ?rst completed for regular window. After this, the adaptation should be done for\ncatalyst heating window.\nCTR_SEG_AD_ER_out\n5\nCRLC_SEG_AD_ER\n4\nLV_SEG_AD_AVL_ER\n3\nLV_SEG_AD_AVL_ER_RGL\n2\nDELTA_CRK_DIF_MAX_ER_out\n1\nV.6.0\ncond_if if\nV.6.0\ncond_if if\nV.5.7\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nV.6.7\n+\n?\nV.6.7\n+\n+\nV.6.0\nV.6.0\nV.6.2\nNOT\n1\n1\nV. 6.4\n4\nV. 6.4\n1V. 6.4\nC_NR_SEG_AD_AVL_ER_TOT\nV. 6.4\n1\nV. 6.4\nC_NR_SEG_AD_AVL_ER\nV. 6.4\n1\nV. 6.4\nC_CRK_DIF_MAX_ER\nV. 6.4\nC_CRLC_SEG_AD_ER_EOL\nV. 6.4\nC_CRLC_FAST_SEG_AD_ER\nV.6.6\nAND\nf()\nCTR_SEG_AD_ER_in\n4\nLV_SEG_AD_FDOUT_ER_EOL\n3\nDELTA_CRK_DIF_MAX_ER_in\n2\nNC_CYL_NR\n1\nLV_SEG_AD_AVL_ER_RGL\nFigure 29.6.36:\nFile: 30404R07.00D\n7678Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1275, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3e8c01db-551d-40c9-82f9-bb7d4d37947c": {"__data__": {"id_": "3e8c01db-551d-40c9-82f9-bb7d4d37947c", "embedding": null, "metadata": {"page_label": "108", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "be2329a3-d8c4-4834-b373-4b8e0dec2bce", "node_type": "4", "metadata": {"page_label": "108", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "639f9c37c67e005f85ab12d01071a37837474582035ad9fee80c058576cd79d0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.3.1.3.2.2.3.1.2 CRLC_SEG_AD_ER calculation\nCTR_SEG_AD_ER_out\n2\nCRLC_SEG_AD_ER\n1\nV.6.4\ncond_if\nif\nelse\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nV.6.7\n+\n+\nN_32_MID_RNG\nX.3.1.3.2.2.3.1.2.2\nfc()\nN_32\nLV_AT\nLV_CVT\nLV_DCT\nCRLC_SEG_AD_ER\nN_32_LOW_RNG\nX.3.1.3.2.2.3.1.2.1\nfc()\nLV_CYC_SEG_AD_ER_LOW\nN_32\nLV_AT\nLV_CVT\nLV_DCT\nCRLC_SEG_AD_ER\nV.6.2\nMerge\nV.6.6\n[LV_DCT][LV_CVT][LV_AT]\n[N_32]\n[LV_AT]\n[N_32]\n[LV_DCT]\n[LV_CVT]\n[LV_AT]\n[LV_DCT]\n[LV_CVT]\n[LV_AT]\n[LV_DCT]\n[LV_CVT]\n[N_32]\nV.6.4\nC_N_MAX_L_SEG_AD_ER_AT\nV.6.4\nC_N_MAX_L_SEG_AD_ER_DCT\nV. 6.4\n1\nV.6.4\nC_N_MAX_L_SEG_AD_ER_MT\nV. 6.4\nC_CRLC_SEG_AD_ER_EOL\nV.6.4\nC_N_MAX_L_SEG_AD_ER_CVT\nf()\nCTR_SEG_AD_ER_in\n7\nLV_SEG_AD_FOUT_ER_EOL\n6\nN_32\n5\nLV_CYC_SEG_AD_ER_LOW\n4\nLV_DCT\n3\nLV_CVT\n2\nLV_AT\n1\nFigure 29.6.37:\nFile: 30404R07.00D\n7679Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1333, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e8aeee7c-1aa7-45f1-99c8-ebac68ff9f73": {"__data__": {"id_": "e8aeee7c-1aa7-45f1-99c8-ebac68ff9f73", "embedding": null, "metadata": {"page_label": "109", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "27b08ed8-e6c4-421a-a3c4-d9e6bf397424", "node_type": "4", "metadata": {"page_label": "109", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "c22b008330dd16c2303a3d7716da0f6369e8d2e52a639b0c116587572d9bad80", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.3.1.3.2.2.3.1.2.1 N_32_Lower range case\nCRLC_SEG_AD_ER\n1\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.10\nV.6.8\nNOT\nV.6.2\nNOT\nV.6.6\nV.6.11\nC_N_MIN_L_SEG_AD_ER_AT\nV.6.11\nC_N_MIN_L_SEG_AD_ER_DCT\nV.6.11\nC_N_MIN_L_SEG_AD_ER_CVT\nV.6.11\nC_CRLC_SEG_AD_ER_L\nV.6.11\nC_CRLC_SEG_AD_ER_LOW\nV.6.11\nC_N_MIN_L_SEG_AD_ER_MT\nV.6.10\nAND\nfc\nf()\nLV_DCT\n5\nLV_CVT\n4\nLV_AT\n3\nN_32\n2\nLV_CYC_SEG_AD_ER_LOW\n1\nFigure 29.6.38:\n29.6.3.1.3.2.2.3.1.2.2 N_32_Mid range case\nCRLC_SEG_AD_ER\n1\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.10\nV.6.6\nV.6.4\nC_CRLC_SEG_AD_ER_H\nV.6.4\nC_N_MAX_MID_SEG_AD_ER_AT\nV.6.4\nC_N_MAX_MID_SEG_AD_ER_DCT\nV.6.4\nC_CRLC_SEG_AD_ER_MID\nV.6.4\nC_N_MAX_MID_SEG_AD_ER_MT\nV.6.4\nC_N_MAX_MID_SEG_AD_ER_CVT\nfc\nf()\nLV_DCT\n4\nLV_CVT\n3\nLV_AT\n2\nN_32\n1\nFigure 29.6.39:\nFile: 30404R07.00D\n7680Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1348, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4358e52c-d9ef-453d-b6fd-dff3d2669a35": {"__data__": {"id_": "4358e52c-d9ef-453d-b6fd-dff3d2669a35", "embedding": null, "metadata": {"page_label": "110", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e635832b-06cb-442f-bd95-688e5f2e4138", "node_type": "4", "metadata": {"page_label": "110", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "93a769a2b8abf261270aee5fe0aa42ff9e8cf5310820dffe00aef1958747b12e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.3.2 Section 2 - Engine roughness threshold correction\nfi_ad_ph\n1\nOPM_SEG\nX.3.2.2\nf()\nInputopm_seg\nINI\nX.3.2.1\nf()\nini\nV.6.0\nBusMerge\nAPP_CDN_new\nV.5.13\nRST\nSEG\nLV_ENA_ER\nfc_INI\ndeactivation\nfc_OPM\nRecurrence:        SEG\nInit:             RST\nActivation: \nDeactivation: \nLV_ENA_ER==1\nLV_ENA_ER==0\nfeedback\n3\nInput\n2\nsys_eve\n1\n<LV_ENA_ER>\n<LV_SEG_AD_AVL_ER>\n<DELTA_CRK_DIF_MAX_ER>\n<SEG_T_COR> fi_ad_ph\n<THD_AD_ER>\n<FI_AD_PH__SEG>\n<FI_AD_PH__RST>\nFigure 29.6.40:\n29.6.3.2.1 Initialization\nini\n1\nV. 6.4\n0\nf()\nTHD_AD_ER\nini\nFigure 29.6.41:\n29.6.3.2.2 Formula section\n29.6.3.2.2.1 THD_AD_ER calculation\nTHD_AD_ER\n1\nCheck ~= 0\nV.6.4\nV.6.7\nV.6.2\nNOT\nV. 6.4\n0\nLV_SEG_AD_AVL_ER\n3\nDELTA_CRK_DIF_MAX_ER\n2\nSEG_T_COR\n1\nFigure 29.6.42:\n29.6.4 Engine roughness adaptive values calculation & ?ltering\n\ufffd General Information\nFile: 30404R07.00D\n7681Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1367, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b48a91d4-d3d3-4540-8223-2f1e7a093d6e": {"__data__": {"id_": "b48a91d4-d3d3-4540-8223-2f1e7a093d6e", "embedding": null, "metadata": {"page_label": "111", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "2c0282b7-9371-46f0-9935-ce54813c9593", "node_type": "4", "metadata": {"page_label": "111", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "008687bf5fbb3b35a0f9cc291242c246e0df57f6e74ac7c4953732c11b7a63a8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nSegment adaptation only makes sense in the engine operating state trailing throttle fuel cut-off (LV_PUC). It\nallows to determinate the coef?cients for ER segment adaptive values ?lters used in the learning process.\nThree different stages can be differentiate:\nFast ER segment adaptive values ?ltering mode, used to quickly obtain valid adaptive values when the EMS is\nnew.\nSince Segment Time Adaptive Process is not completed (ie. LV_SEG_AD_AVL_ER = 0), the segment adaptation\nis only performed and learnt in the low engine speed range (C_N_MIN_L _SEG_AD_ER <N_32 <C_N_MAX_L_\nSEG_AD_ER).\nIn this ?rst case, only one global adaptation value is de?ned: the same value of segment adaptation will be\ncalculated and applied for all engine speed range (ie. SEG_AD_MMV_L_[SEG] with SEG_AD_MMV_H_[SEG] =\nSEG_AD_MMV_MID_[SEG] = SEG_AD_MMV_L_[SEG] in this case).\nNominal ER segment adaptive values ?ltering mode, used to monitor adaptive values during engine lifetime.\nWhen the ?rst Adaptive Process has been completed (ie. LV_SEG_AD_AVL_ER = 1), then the Adaptive Process\nversus engine speed can take place\nIn this case, the Engine Speed area for adaptation enabled will be enlarged (C_N_MIN_L_SEG_AD_ER <N_32\n<C_N_MAX_H_SEG_AD_ER) and the adaptation values will then be de?ned and performed according to the\nrunning engine speed range (individual and separate calculation of SEG_AD_MMV_L_[SEG] for low N, SEG_AD_\nMMV_MID_[SEG] for mid N and SEG_AD_MMV_H_[SEG] for high N).\nEOL speci?c ?ltering mode, to be used on EOL or special service request.\nC_N_MIN_L_SEG_ AD_ER       C_N_MAX_L_SEG_ AD_ER             C_N_MAX_MID_SEG_ AD_ ER     C_N_MAX_H_SEG_ AD  _ER \n ~2500 ~3500 ~4500 ~5500 \n \n Low engine speed Middle engine speed High engine s peed N \n  learning range learning range \n Nominal standard range \n used for initialisation \n and first adaptive \n learning process \n \n \n extended range for adaptive learning when first pr ocess has been completed  \nFigure 29.6.43:\nLV_SEG_AD_LIM_ER is set if at least one SEG_AD_MMV_ER_L/MID/H[x] value exceeds C_SEG_AD_MAX_ER.\nwhere:\nSEG_AD_ER[x] : raw adaptive value for logical segment x, temporary data\nFAC_DECE_SEG_AD_ER[x] : deceleration correction factor, temporary data\nSEG_AD_RAW_MMV_ER[x] : fast ?ltered adaptive value for logical segment x\nSEG_AD_MMV_ER_L[x] : ?ltered adaptive value for logical segment x low engine speed range\nSEG_AD_MMV_ER_MID[x] : ?ltered adaptive value for logical segment x mid engine speed range\nSEG_AD_MMV_ER_H[x] : ?ltered adaptive value for logical segment x high engine speed range\nSEG_T_MES_CYL[0]_prev : raw segment period of reference segment (SEG_NR_MES=0), on previous engine\ncycle, temporary data, oldest value\nSEG_T_MES_CYL[0] : raw segment period of reference segment (SEG_NR_MES=0) after NC_CYL_NR segments\n(720\ufffd crank angle), newest value\nFile: 30404R07.00D\n7682Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3374, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "50d1de39-5639-462c-8b5b-95520b5976ae": {"__data__": {"id_": "50d1de39-5639-462c-8b5b-95520b5976ae", "embedding": null, "metadata": {"page_label": "112", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b271ef55-4580-49e4-90cc-e2d832e9c32a", "node_type": "4", "metadata": {"page_label": "112", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "56d65c6720815a3e9af7f93c79ad1f91fc9e992dff19317fb4dcddf0a8737052", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nSEG_T_MES_CYL[0] SEG_T_MES_CYL[0]_prev SEG_T_MES_CYL[1] SEG_T_MES_CYL[2] SEG_T_MES_CYL[3] \nFAC_DECE_SEG_AD_ER[1] = \n     1/NC_CYL_NR * [ SEG_T_MES_CYL[0] - SEG_T_MES_CYL[0]_prev ] \nFigure 29.6.44:\n\ufffd Application Conditions\nInitialisation: RST, NVMRES, NVMINI, NVMSTO, Activation\nActivation: SEG: LV_SEG_AD_RAW_ER==1 && SEG_NR_MES==0\n10MS: always\nDeactivation: LV_SEG_AD_RAW_ER==0 || SEG_NR_MES!=0\nRecurrence: SEG, 10MS\n\ufffd Function Description\nFile: 30404R07.00D\n7683Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 997, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7edfca19-32bf-4d1a-8d46-f25d1168d6c1": {"__data__": {"id_": "7edfca19-32bf-4d1a-8d46-f25d1168d6c1", "embedding": null, "metadata": {"page_label": "113", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a4ed7f99-738c-4809-b71c-44bb220b0ce6", "node_type": "4", "metadata": {"page_label": "113", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "94a6fcfa8d1fd8bf2e0ac72adbd4168f24fc2052afd3020b7b780acfee4e7a75", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nfil\n1\nOPM_SEG\nX.4.2\nf()Input\nfeedback\nopm_seg\nOPM_10ms\nX.4.3\nfc()\nInputopm_10ms\nINI\nX.4.1\nfc_INI\nfc_ACT\nfeedback\ninput\nini\nV.6.0\nBusMerge\nAPP_CDN\nV.7.6\nfc_RST\nfc_NVMRES\nfc_NVMINI\nfc_NVMSTO\nfc_SEG\nfc_10MS\nLV_SEG_AD_RAW_ER\nSEG_NR_MES\nfc_INI\nfc_OPM__SEG\nfc_OPM__10MS\nactivation\nRecurrence:        SEG\n            10MS\nInit:             RST\n            NVMRES\n            NVMINI\n            NVMSTO\nActivation: \nSEG: LV_SEG_AD_RAW_ER==1&&SEG_NR_MES==0\n10MS: always\nDeactivation:\nLV_SEG_AD_RAW_ER==0||SEG_NR_MES!=0\nfeedback\n3\nInput\n2\nsys_eve\n1\n<SEG_AD_MMV_ER_LOW><SEG_AD_MMV_ER_LOW>\n<SEG_AD_RAW_MMV_ER><SEG_AD_RAW_MMV_ER>\n<SEG_AD_MMV_ER_MID><SEG_AD_MMV_ER_MID>\n<SEG_AD_MMV_ER_L><SEG_AD_MMV_ER_L>\n<SEG_AD_MMV_ER_H><SEG_AD_MMV_ER_H>\n<SEG_AD_MMV_ER_CH><SEG_AD_MMV_ER_CH>\n<LV_START_NEW_AD><LV_START_NEW_AD>\n<LV_SEG_AD_LIM_ER><LV_SEG_AD_LIM_ER>\n<LV_CYC_SEG_AD_ER_LOW><LV_CYC_SEG_AD_ER_LOW>\n<CTR_CYC_SEG_AD_ER_LOW><CTR_CYC_SEG_AD_ER_LOW>\n<SEG_NR_MES><SEG_NR_MES>\n<LV_SEG_AD_RAW_ER><LV_SEG_AD_RAW_ER>\n<FIL__10MS><FIL__10MS>\n<FIL__SEG><FIL__SEG>\n<FIL__NVMSTO><FIL__NVMSTO>\n<FIL__NVMINI><FIL__NVMINI>\n<FIL__NVMRES><FIL__NVMRES>\n<FIL__RST><FIL__RST>\n<SEG_T_MES_CH_old><SEG_T_MES_CH_old>\n<SEG_T_MES_old><SEG_T_MES_old>\n<LV_ER_WIN_CH_AD><LV_ER_WIN_CH_AD>\n<CRLC_SEG_AD_ER><CRLC_SEG_AD_ER>\n<LV_SEG_AD_AVL_ER><LV_SEG_AD_AVL_ER>\n<LV_SEG_AD_ER><LV_SEG_AD_ER>\n<LV_DCT><LV_DCT>\n<LV_CVT><LV_CVT>\n<LV_AT><LV_AT>\n<N_32><N_32>\n<NC_CYL_NR><NC_CYL_NR>\n<SEG_AD_MMV_ER_APP><SEG_AD_MMV_ER_APP>\n<LV_REQ_SEG_AD_MMV_ER_APP><LV_REQ_SEG_AD_MMV_ER_APP>\n<SEG_NR_MES><SEG_NR_MES>\n<SEG_T_MES_CYL><SEG_T_MES_CYL>\n<LV_SEG_AD_RST_ER_EOL><LV_SEG_AD_RST_ER_EOL>\n<LV_ST_END><LV_ST_END>\nfil\nFigure 29.6.45:\nFile: 30404R07.00D\n7684Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2213, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a625b94b-457a-4750-b86c-1c8f35e34fbd": {"__data__": {"id_": "a625b94b-457a-4750-b86c-1c8f35e34fbd", "embedding": null, "metadata": {"page_label": "114", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9e6178fa-3222-4e2d-a109-ecb40dc89700", "node_type": "4", "metadata": {"page_label": "114", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "52c5f2f55140ef5f1bcad4956b53bfcded03a20f13b320be335239be1b1f5059", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.4.1 Initialization\n29.6.4.1.1 Initialisation at reset event\nSEG_AD_MMV_ER_LOW\n4\nCTR_CYC_SEG_AD_ER_LOW\n3\nLV_CYC_SEG_AD_ER_LOW\n2\nSEG_AD_RAW_MMV_ER\n1\n1\n1\nV.6.11\n0\nV.6.11\n0\nf()\nSEG_AD_MMV_ER_L\n1\nFigure 29.6.46:\nFile: 30404R07.00D\n7685Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 768, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "589206b2-ab1d-4c78-9e81-98367a791e7c": {"__data__": {"id_": "589206b2-ab1d-4c78-9e81-98367a791e7c", "embedding": null, "metadata": {"page_label": "115", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "edd3a9d0-669b-4a98-a54c-564d94ee72ca", "node_type": "4", "metadata": {"page_label": "115", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "a57c0a1c52ff9fb94f8257b5d6a4cfb4ebdc6df52417ecd61f22e23f4dd0b243", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.4.1.2 NVMY\nLV_SEG_AD_LIM_ER\n5\nSEG_AD_MMV_ER_CH\n4\nSEG_AD_MMV_ER_H\n3\nSEG_AD_MMV_ER_L\n2\nSEG_AD_MMV_ER_MID\n1\nV.6.4\ncond_if if\nNVMY_SAVE\nX.4.1.2.3\nf()SEG_AD_MMV_ER_MID\nSEG_AD_MMV_ER_L\nSEG_AD_MMV_ER_H\nLV_SEG_AD_LIM_ER\nSEG_AD_MMV_ER_CH\nNVMY_RD\nX.4.1.2.2\nf()SEG_AD_MMV_ER_MID\nSEG_AD_MMV_ER_L\nSEG_AD_MMV_ER_H\nLV_SEG_AD_LIM_ER\nSEG_AD_MMV_ER_CH\nNVMY_INI\nX.4.1.2.1\nf()\nSEG_AD_MMV_ER_MID\nSEG_AD_MMV_ER_L\nSEG_AD_MMV_ER_H\nLV_SEG_AD_LIM_ER\nSEG_AD_MMV_ER_CH\nMerge\nMerge\nMerge\nMerge\nMerge\nLV_SEG_AD_RST_ER_EOL\n5\nfc_NVMY_SAVE\n4\nfc_NVMY_RD\n3\nfc_NVMY_INI\n2\nfeedback\n1\n<SEG_AD_MMV_ER_CH>\n<LV_SEG_AD_LIM_ER>\n<SEG_AD_MMV_ER_H>\n<SEG_AD_MMV_ER_L>\n<SEG_AD_MMV_ER_MID>\nFigure 29.6.47:\nFile: 30404R07.00D\n7686Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1218, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "aee7517a-1432-4db6-bd17-bd8ac2077a81": {"__data__": {"id_": "aee7517a-1432-4db6-bd17-bd8ac2077a81", "embedding": null, "metadata": {"page_label": "116", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "196ffd7f-9e90-4dfc-b9e7-ca6104a659d4", "node_type": "4", "metadata": {"page_label": "116", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "69110cbd520c647d786381790cce47055e162f06e31c0a40223e0153a8f9e25a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.4.1.2.1 NVMY initialisation\nSEG_AD_MMV_ER_CH\n5\nLV_SEG_AD_LIM_ER\n4\nSEG_AD_MMV_ER_H\n3\nSEG_AD_MMV_ER_L\n2\nSEG_AD_MMV_ER_MID\n1\ninit = 0\nV.6.4\n[ NC_CYL_NR ] array\ninit = 0\nV.6.4\n[ NC_CYL_NR ] array\ninit = 0\nV.6.4\n[ NC_CYL_NR ] array\ninit = 0\nV.6.4\n[ NC_CYL_NR ] array\nV. 6.4\n0\nf()\nFigure 29.6.48:\nFile: 30404R07.00D\n7687Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 852, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "491a779c-62e3-4984-b358-13ae36b6a621": {"__data__": {"id_": "491a779c-62e3-4984-b358-13ae36b6a621", "embedding": null, "metadata": {"page_label": "117", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "16b6b3f6-3a98-4f4e-bcce-c2c4f41a496e", "node_type": "4", "metadata": {"page_label": "117", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "69e536f11c57b561d5b0b7aefb0c206de566b46c26b15d3721a12f22e1f381f6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.4.1.2.2 Read NVMY variables\nSEG_AD_MMV_ER_CH\n5\nLV_SEG_AD_LIM_ER\n4\nSEG_AD_MMV_ER_H\n3\nSEG_AD_MMV_ER_L\n2\nSEG_AD_MMV_ER_MID\n1\nLV_SEG_AD_LIM_ER\nsize: 1\ninit:0\nV.6.5\nNVMY[read/init]\nout\nSEG_AD_MMV_ER_H\nsize: [NC_CYL_NR]\ninit:0\nV.6.5\nNVMY[read/init]\nout\nSEG_AD_MMV_ER_CH\nsize: [NC_CYL_NR]\ninit:0\nV.6.5\nNVMY[read/init]\nout\nSEG_AD_MMV_ER_L\nsize: [NC_CYL_NR]\ninit:0\nV.6.5\nNVMY[read/init]\nout\nSEG_AD_MMV_ER_MID\nsize: [NC_CYL_NR]\ninit:0\nV.6.5\nNVMY[read/init]\nout\nf()\nFigure 29.6.49:\nFile: 30404R07.00D\n7688Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1032, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "69f6dc45-6954-4e5b-b417-f2f46c3bffc0": {"__data__": {"id_": "69f6dc45-6954-4e5b-b417-f2f46c3bffc0", "embedding": null, "metadata": {"page_label": "118", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d1728628-7e5e-4e05-8f32-6d630e271164", "node_type": "4", "metadata": {"page_label": "118", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "f733b2c5ac22af89c61434ac343cfc82130ba0e9bce85d32d66d6038bf59aa70", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.4.1.2.3 NVMY store\nLV_SEG_AD_LIM_ER\nsize: 1\ninit:0\nV.6.5\nNVMY[store]\nin out\nSEG_AD_MMV_ER_H\nsize: [NC_CYL_NR]\ninit:0\nV.6.5\nNVMY[store]\nin out\nSEG_AD_MMV_ER_CH\nsize: [NC_CYL_NR]\ninit:0\nV.6.5\nNVMY[store]\nin out\nSEG_AD_MMV_ER_L\nsize: [NC_CYL_NR]\ninit:0\nV.6.5\nNVMY[store]\nin out\nSEG_AD_MMV_ER_MID\nsize: [NC_CYL_NR]\ninit:0\nV.6.5\nNVMY[store]\nin out\nf()\nSEG_AD_MMV_ER_CH\n5\nLV_SEG_AD_LIM_ER\n4\nSEG_AD_MMV_ER_H\n3\nSEG_AD_MMV_ER_L\n2\nSEG_AD_MMV_ER_MID\n1\nFigure 29.6.50:\n29.6.4.1.3 Initialisation of LV_SEG_AD_LIM_ER\nLV_SEG_AD_LIM_ER\n1\nV.6.0\ncond_if if\nV. 6.4\n0\nV. 6.4\nLC_SEG_AD_LIM_REAC_ER f()\nFigure 29.6.51:\n29.6.4.2 Formula section\n29.6.4.2.1 For loop\n29.6.4.2.1.1 Calculation overview\n29.6.4.2.1.1.1 SEG_AD_ER calcualtion\nSelection of raw segment time (normal or catalyst heating) for calculation of segment adaptive value is done\nvia ?ag LV_ER_WIN_CH_AD.\nFile: 30404R07.00D\n7689Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1408, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "069743e6-f730-400e-917e-e19606b89518": {"__data__": {"id_": "069743e6-f730-400e-917e-e19606b89518", "embedding": null, "metadata": {"page_label": "119", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fa325983-8d1d-4608-a56f-069288742534", "node_type": "4", "metadata": {"page_label": "119", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "1182ce1e5303031cac7d92f6e8a66e8f396a3278cc87679d07d3acb16c4f2582", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nRaw Adaptive values\nSEG_AD_ER_x\n1\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nCheck ~= 0\nV.6.4\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.7\n[x]\n[x]\n[x]\nV.6.8\nV.6.8\nV. 6.4\n0\nSEG_T_MES_CH_old\n6\nSEG_T_MES_old\n5\nLV_ER_WIN_CH_AD\n4\nx\n3\nSEG_T_MES_CYL\n2\nNC_CYL_NR\n1\nFigure 29.6.52:\nFile: 30404R07.00D\n7690Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 805, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a1e3ae70-f3ff-4488-b88b-10e678341cb9": {"__data__": {"id_": "a1e3ae70-f3ff-4488-b88b-10e678341cb9", "embedding": null, "metadata": {"page_label": "120", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4630cbcb-6c69-4b64-81a7-2695b9342670", "node_type": "4", "metadata": {"page_label": "120", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "536c1bb7e1436902154763d919f2332ed0263eff123f6cec81f2695968b7b7c6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.4.2.1.1.2 Calculation\nSEG_AD_MMV_ER_LOW_x\n9\nLV_CYC_SEG_AD_ER_LOW\n8\nCTR_CYC_SEG_AD_ER_LOW\n7\nSEG_AD_MMV_ER_CH_x\n6\nSEG_AD_MMV_ER_H_x\n5\nSEG_AD_MMV_ER_L_x\n4\nSEG_AD_MMV_ER_MID_x\n3\nSEG_AD_RAW_MMV_ER_x\n2\nLV_SEG_AD_LIM_ER\n1\nV.6.0\ncond_if if\nV.6.0\ncond_if if\nV.6.0\ncond_if if\nMerge\nMerge\nMerge\nMerge\nMerge\nMerge\nV.5.3\nIV\nu\nT\ny\nV.6.6\nAND\nV.6.2\nNOT V.6.6\nAND\n1\n1\n1\n1\n1\nV.5.2\nV.5.3\nIV\nu\ny\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nC_CRLC_SEG_AD_RAW_ER\nCDN_VLD\nX.4.2.1.1.2.1\nf()\nSEG_AD_ER_x\nCRLC_SEG_AD_ER\nLV_ER_WIN_CH_AD\nLV_SEG_AD_LIM_ER\nSEG_AD_MMV_ER_MID_x\nSEG_AD_MMV_ER_H_x\nSEG_AD_MMV_ER_L_x\nSEG_AD_MMV_ER_CH_x\nSEG_AD_MMV_ER_LOW_x\nCDN_NOT_VLD\nX.4.2.1.1.2.2\nf()\nSEG_AD_ER_x\nCRLC_SEG_AD_ER\n<LV_AT>\n<N_32>\nLV_ER_WIN_CH_AD\n<LV_CVT>\nLV_CYC_SEG_AD_ER_LOW_in\nCTR_CYC_SEG_AD_ER_LOW_in\n<LV_DCT>\nSEG_AD_MMV_ER_LOW_x_in\nLV_SEG_AD_LIM_ER\nSEG_AD_MMV_ER_MID_x\nSEG_AD_MMV_ER_H_x\nSEG_AD_MMV_ER_L_x\nSEG_AD_MMV_ER_CH_x\nCTR_CYC_SEG_AD_ER_LOW\nLV_CYC_SEG_AD_ER_LOW\nSEG_AD_MMV_ER_LOW_x\nV.6.6\nAND\nCTR_CYC_SEG_AD_ER_LOW_in\n14\nLV_CYC_SEG_AD_ER_LOW_in\n13\nSEG_AD_MMV_ER_LOW_x_in\n12\nLV_DCT\n11\nLV_CVT\n10\nLV_ER_WIN_CH_AD\n9\nCRLC_SEG_AD_ER\n8\nLV_SEG_AD_AVL_ER\n7\nLV_SEG_AD_ER\n6\nLV_REQ_SEG_AD_MMV_ER_APP\n5\nLV_AT\n4\nN_32\n3\nSEG_AD_MMV_ER_APP_x\n2\nSEG_AD_ER_x\n1\nFigure 29.6.53:\nFile: 30404R07.00D\n7691Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1780, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "333cc688-560d-43ea-ac8c-5b5f474274dd": {"__data__": {"id_": "333cc688-560d-43ea-ac8c-5b5f474274dd", "embedding": null, "metadata": {"page_label": "121", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f35768dd-f77a-4079-ace9-8e44946c3a26", "node_type": "4", "metadata": {"page_label": "121", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "fb17b82ea7cc31a85c5008576d1cc83ccf3741868a2bb7cdf8cd774c5f09cc4e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.4.2.1.1.2.1 Calculation if condition valid\nThe filter is only calculated if the\n corresponding output is active\nSEG_AD_MMV_ER_LOW_x\n6\nSEG_AD_MMV_ER_CH_x\n5\nSEG_AD_MMV_ER_L_x\n4\nSEG_AD_MMV_ER_H_x\n3\nSEG_AD_MMV_ER_MID_x\n2\nLV_SEG_AD_LIM_ER\n1\nV.6.0\ncond_if\nif\nelse\nV.6.0\ncond_if if\nV.6.0\ncond_if if\nV.5.7\nV.6.0\nV.6.0\nMerge\nV.5.3\nIV\nu\nT\ny\nV.5.3\nIV\nu\nT\ny\n1\n1\n1\n1\nV.5.2\nV.5.2\nV. 6.4\n1\nV. 6.4\n1\nV. 6.4\nC_SEG_AD_MAX_ER\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nC_SEG_AD_MAX_ER\nV.6.5\nV.6.5\nf()\nLV_ER_WIN_CH_AD\n3\nCRLC_SEG_AD_ER\n2\nSEG_AD_ER_x\n1\nFigure 29.6.54:\nFile: 30404R07.00D\n7692Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1090, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b667b761-1a9b-494b-bd6d-a04a30b7165b": {"__data__": {"id_": "b667b761-1a9b-494b-bd6d-a04a30b7165b", "embedding": null, "metadata": {"page_label": "122", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d8d26a01-ce44-4d7b-af18-baf9996c7015", "node_type": "4", "metadata": {"page_label": "122", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "172b56accbf57674fd8c911594fced0d54d51d833c38c2d0e1b446e3df850b38", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e1b501e9-d37b-4189-aa96-e603a646138d", "node_type": "1", "metadata": {}, "hash": "18842e7c90c761ff8e958f8494033403b91f572045bcbc5692e3eed11dd03064", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.4.2.1.1.2.2 Determination of LV_SEG_AD_LIM_ER based on range of engine speed\nSEG_AD_MMV_ER_LOW_x\n8\nLV_CYC_SEG_AD_ER_LOW\n7\nCTR_CYC_SEG_AD_ER_LOW\n6\nSEG_AD_MMV_ER_CH_x\n5\nSEG_AD_MMV_ER_L_x\n4\nSEG_AD_MMV_ER_H_x\n3\nSEG_AD_MMV_ER_MID_x\n2\nLV_SEG_AD_LIM_ER\n1\nV.6.0\ncond_if\nif\nelse\nV.6.8\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nSEG_AD_ER_x1\n1\nV.6.0\nV.6.0\n<N_32>\nV.6.8\nNOT\nV.6.2\nMerge\nV.6.2\nMerge\nV.6.2\nMerge\nV.6.2\nNOT\n<LV_DCT>\n<LV_CVT>\n<LV_AT>\nLOW_SEG_AD_ER_VLD\nX.4.2.1.1.2.2.1\nf()\nSEG_AD_ER_x\nCRLC_SEG_AD_ER\nSEG_AD_MMV_ER_LOW_x_in1\nLV_SEG_AD_LIM_ER\nSEG_AD_MMV_ER_L_x\nSEG_AD_MMV_ER_LOW_x\nLOW_SEG_AD_ER_NOT_VLD\nX.4.2.1.1.2.2.2\nf()\nSEG_AD_ER_x\nCRLC_SEG_AD_ER\n<LV_AT>\n<N_32>\nLV_ER_WIN_CH_AD\n<LV_CVT>\n<LV_DCT>\nLV_SEG_AD_LIM_ER\nSEG_AD_MMV_ER_L_x\nSEG_AD_MMV_ER_LOW_x\nSEG_AD_MMV_ER_MID_x\nSEG_AD_MMV_ER_H_x\nSEG_AD_MMV_ER_CH_x\nV.6.11\nC_N_MIN_L_SEG_AD_ER_AT\nV.6.11\nC_N_MIN_L_SEG_AD_ER_DCT\nV.6.11\nC_N_MIN_L_SEG_AD_ER_CVT\nV.6.4\nC_CTR_CYC_SEG_AD_ER_LOW\nV.6.11\nC_N_MIN_L_SEG_AD_ER_MT\nCRLC_SEG_AD_ER1\n2\nV.7.11\nE\nx_in\nx_out\nf()\nSEG_AD_MMV_ER_LOW_x_in\n10\n<LV_DCT>\nCTR_CYC_SEG_AD_ER_LOW_in\n8\nLV_CYC_SEG_AD_ER_LOW_in\n7\n<LV_CVT>\nLV_ER_WIN_CH_AD\n5\n<N_32>\n<LV_AT>\nCRLC_SEG_AD_ER\n2\nSEG_AD_ER_x\n1\nFigure 29.6.55:\n29.6.4.2.1.1.2.2.1 Adaptation when engine speed is below the lower range segment\nCalculation of segment adaptation mean value is switched between normal adaptation or catalyst heating\nadaptation via ?ag LV_ER_WIN_CH_AD.\nSEG_AD_MMV_ER_LOW_x\n3\nSEG_AD_MMV_ER_L_x\n2\nLV_SEG_AD_LIM_ER\n1\nV.6.0\ncond_if if\nV.6.8\nCheck ~= 0\nV.6.10\nSEG_AD_MMV_ER_L_x_in\n3\nV.6.0\nV.6.9\nV.7.7\nm\nu\nx_in\nx_out V. 6.4\n1\nV.6.4\nC_SEG_AD_MAX_ER_LOW\nV.6.4\nC_SEG_AD_ER_LOW_LIMV.6.5\nf()\nSEG_AD_MMV_ER_LOW_x_in1\n3\nCRLC_SEG_AD_ER\n2\nSEG_AD_ER_x\n1\nFigure 29.6.56:\n29.6.4.2.1.1.2.2.2 Adaptation when engine speed is above the lower range segment\nCalculation of segment adaptation mean value is switched between normal adaptation or catalyst heating\nadaptation via ?ag LV_ER_WIN_CH_AD.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2360, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e1b501e9-d37b-4189-aa96-e603a646138d": {"__data__": {"id_": "e1b501e9-d37b-4189-aa96-e603a646138d", "embedding": null, "metadata": {"page_label": "122", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d8d26a01-ce44-4d7b-af18-baf9996c7015", "node_type": "4", "metadata": {"page_label": "122", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "172b56accbf57674fd8c911594fced0d54d51d833c38c2d0e1b446e3df850b38", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b667b761-1a9b-494b-bd6d-a04a30b7165b", "node_type": "1", "metadata": {"page_label": "122", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "9a546751566835ff2e9cd0660404d63f5fb1d6998d1e7d3cfd50f2f6d165f6d7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "File: 30404R07.00D\n7693Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 2361, "end_char_idx": 2490, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "85024c42-29bb-4304-8182-62a5a4abd05d": {"__data__": {"id_": "85024c42-29bb-4304-8182-62a5a4abd05d", "embedding": null, "metadata": {"page_label": "123", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7fb24520-1650-4ae8-bf5f-d65663a7d362", "node_type": "4", "metadata": {"page_label": "123", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "50d1e9edcc28964229ddd38154fc6fb17c69dc76f812b9bc1bf7d312123e6001", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nThe filter is only calculated if the \ncorresponding output is active\nSEG_AD_MMV_ER_CH_x\n6\nSEG_AD_MMV_ER_H_x\n5\nSEG_AD_MMV_ER_MID_x\n4\nSEG_AD_MMV_ER_LOW_x\n3\nSEG_AD_MMV_ER_L_x\n2\nLV_SEG_AD_LIM_ER\n1\nV.6.0\ncond_if\nif\nelse\nV.6.0\ncond_if\nif\nelse\nV.6.0\ncond_if if\nV.6.0\ncond_if if\nV.6.0\ncond_if if\nV.5.7\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nSEG_AD_ER_x1\n1\nV.6.0\nV.6.0\nV.6.0\nV.6.0\n<N_32>\n<N_32>\nMerge\nV.5.3\nIV\nu\nT\ny\nV.5.3\nIV\nu\nT\ny\nV.6.2\nNOT\nV.6.2\nNOT\n<LV_DCT>\n<LV_DCT>\n<LV_CVT>\n<LV_CVT>\n<LV_AT>\n<LV_AT>\n1\nV.5.2\nV.5.2\nV. 6.4\n1\nV. 6.4\nC_N_MAX_MID_SEG_AD_ER_AT\nV. 6.4\nC_N_MAX_MID_SEG_AD_ER_MT\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_DCT\nV. 6.4\n1\nV. 6.4\nC_SEG_AD_MAX_ER\nV. 6.4\n0\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_CVT\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_AT\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_MT\nV. 6.4\nC_N_MAX_MID_SEG_AD_ER_DCT\nV. 6.4\nC_N_MAX_MID_SEG_AD_ER_CVT\nV. 6.4\nC_SEG_AD_MAX_ER\nV. 6.4\n0\nCRLC_SEG_AD_ER1\n2\nCDN_NOT_VLD\nX.4.2.1.1.2.2.2.1\nf()\nSEG_AD_ER_x\nCRLC_SEG_AD_ER\n<N_32>\n<LV_AT>\nLV_CVT\nLV_DCT\nLV_SEG_AD_LIM_ER\nSEG_AD_MMV_ER_MID_x\nSEG_AD_MMV_ER_L_x\nSEG_AD_MMV_ER_LOW_x\nV.6.5\nV.6.5\nf()\n<LV_DCT>\n<LV_CVT>\nLV_ER_WIN_CH_AD\n5\n<N_32>\n<LV_AT>\nCRLC_SEG_AD_ER\n2\nSEG_AD_ER_x\n1\nFigure 29.6.57:\nFile: 30404R07.00D\n7694Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1758, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b2f10628-8b63-446b-beb1-73511e8c6f73": {"__data__": {"id_": "b2f10628-8b63-446b-beb1-73511e8c6f73", "embedding": null, "metadata": {"page_label": "124", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "db6d4afb-0b43-4d8d-878d-3be5d680ab71", "node_type": "4", "metadata": {"page_label": "124", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "be8528f913f3e6a56629769f5649c7daddee303183d20c9a99af62df973a2070", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.4.2.1.1.2.2.2.1 Condition check for determining LV_SEG_AD_LIM_ER\nSEG_AD_MMV_ER_LOW_x\n4\nSEG_AD_MMV_ER_L_x\n3\nSEG_AD_MMV_ER_MID_x\n2\nLV_SEG_AD_LIM_ER\n1\nV.6.0\ncond_if\nif\nelse\nV.6.0\ncond_if if\nV.6.0\ncond_if if\nV.6.8\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nV.6.0\nV.6.0\nV.6.0\nMerge\nV.5.3\nIV\nu\nT\ny\nV.5.3\nIV\nu\nT\ny\nV.6.2\nNOT\n1\n1\nV.5.2\nV.5.2\nV. 6.4\n1\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_DCT\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_CVT\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\nC_SEG_AD_MAX_ER\nV. 6.4\nC_SEG_AD_MAX_ER\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_AT\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_MT\nV. 6.4\n0\nV.6.5\nV.6.5\nf()\nLV_DCT\n6\nLV_CVT\n5\n<LV_AT>\n<N_32>\nCRLC_SEG_AD_ER\n2\nSEG_AD_ER_x\n1\nFigure 29.6.58:\n29.6.4.3 Reset at 10ms recurrence when LV_ST_END==0\nopm_10ms\n1\nV.6.4\ncond_if if\nV.6.8\nNOT\nV.6.7\nV.6.11\n0\nV.6.11\n0\nV.6.11\n0\nfc\nf()\nInput\n1\nCTR_CYC_SEG_AD_ER_LOW\n<LV_ST_END><LV_ST_END>\nLV_START_NEW_AD\nopm_10msLV_CYC_SEG_AD_ER_LOW\nFigure 29.6.59:\nFile: 30404R07.00D\n7695Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1446, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "562b7ae4-2fad-4fc1-a7a6-b56d3573f215": {"__data__": {"id_": "562b7ae4-2fad-4fc1-a7a6-b56d3573f215", "embedding": null, "metadata": {"page_label": "125", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "af59b468-48c3-4fda-839a-b76586efa0bd", "node_type": "4", "metadata": {"page_label": "125", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "81461f6a4cf032e64cab6106514231db20d325890747c4a7c06ba64530ad0315", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.5 Engine roughness adaptive values difference on the same physical segment out\nof range\n\ufffd General Information\nDue to possible feedback from Dual Mass Flywheel oscillations (see transmission/crankshaft design) in adap-\ntive process engine speed range, ?uctuations on ER adaptive values of identical physical segments can induce\ndissimilarity in ER segment correction.\nIf difference between identical physical segments ER fast ?ltered adaptive values exceeds a calibratable gap, a\nfade out is applied.\nER identical physical segments adaptive value differences are evaluated each 720\ufffdCrk, for that this process\nis executed every engine cycle when SEG_T_MES_0 (SEG_NR_MES = 0) is acquired and when the adaptive\nmonitoring process is active.\n\ufffd Application Conditions\nInitialisation: RST\nActivation: LV_SEG_AD_RAW_ER == 1 && SEG_NR_MES == 0\nDeactivation: LV_SEG_AD_RAW_ER == 0 && SEG_NR_MES != 0\nRecurrence: SEG\n\ufffd Function Description\nphy_seg\n1\nRST\nX.5.1\nf()\nInput rst\nOPM_SEG\nX.5.2\nf()\nInput opm_seg\nV.6.0\nBusMerge\nAPP_CDN_new\nV.5.13\nRST\nSEG\nLV_SEG_AD_RAW_ER\nSEG_NR_MES\nfc_INI\nfc_OPM\nRecurrence:        SEG\nInit:             RST\nActivation: \nDeactivation: \nLV_SEG_AD_RAW_ER==1&&SEG_NR_MES==0\nLV_SEG_AD_RAW_ER==0&&SEG_NR_MES!=0\nfeedback\n3\nInput\n2\nsys_eve\n1\n<SEG_NR_MES>\n<NC_CYL_NR>\n<LV_SEG_AD_RAW_ER>\nphy_seg\n<SEG_AD_DIF_ER_0>\n<SEG_AD_DIF_ER_1>\n<LV_SEG_AD_DIF_MAX_ER>\n<SEG_AD_DIF_ER_2>\n<SEG_AD_DIF_ER_3>\n<SEG_AD_DIF_ER_4>\n<SEG_AD_DIF_ER_5>\n<PHY_SEG__SEG>\n<PHY_SEG__RST>\n<SEG_AD_RAW_MMV_ER>\nFigure 29.6.60:\nFile: 30404R07.00D\n7696Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2061, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d66be891-bce2-452f-9867-9f5bafa62af6": {"__data__": {"id_": "d66be891-bce2-452f-9867-9f5bafa62af6", "embedding": null, "metadata": {"page_label": "126", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c3568d70-886c-49c7-bc0a-0b550cf7b6b2", "node_type": "4", "metadata": {"page_label": "126", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "e5da4e83ff5d21137c1047ce7f31b4832b0703577c7282d2e42146bbc9c487bb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.5.1 Initialization\n29.6.5.1.1 Initialisation at RESET event\nSEG_AD_DIF_ER_0\n7\nSEG_AD_DIF_ER_1\n6\nLV_SEG_AD_DIF_MAX_ER\n5\nSEG_AD_DIF_ER_2\n4\nSEG_AD_DIF_ER_3\n3\nSEG_AD_DIF_ER_4\n2\nSEG_AD_DIF_ER_5\n1\n#if\n#if\n#if\n#if\n#if\nV.6.2\nOR\nV.6.2\nOR\nV.6.2\nOR\nV.6.2\nOR\nV.5.2\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV. 6.4\n8\nV. 6.4\n6\nV. 6.4\n10\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n12\nV. 6.4\n10\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n8\nV. 6.4\n12\nV. 6.4\n10\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n8\nV. 6.4\n12\nV. 6.4\n12\nV. 6.4\n0\nV. 6.4\n12\nV. 6.4\n10\nV. 6.4\n6\nV. 6.4\n4NC_CYL_NR\n1\nFigure 29.6.61:\n29.6.5.2 Formula section\nFormula section\nFile: 30404R07.00D\n7697Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1179, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "99ffa918-c677-4641-be73-483a5cf6dcf5": {"__data__": {"id_": "99ffa918-c677-4641-be73-483a5cf6dcf5", "embedding": null, "metadata": {"page_label": "127", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e0699114-2d40-4b22-aff6-d69b3dce47ec", "node_type": "4", "metadata": {"page_label": "127", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "507a41285c77b2c4330e19a7850c66a6cb3addd6788e829666cf6003dd1217c4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.5.2.1 Condition checks\nSEG_AD_DIF_ER_5\n7\nSEG_AD_DIF_ER_4\n6\nSEG_AD_DIF_ER_3\n5\nSEG_AD_DIF_ER_2\n4\nSEG_AD_DIF_ER_1\n3\nSEG_AD_DIF_ER_0\n2\nLV_SEG_AD_DIF_MAX_ER\n1\nfcn_call()#if\n#else\n#if\n#else\nfcn_call()\n#if\nfcn_call()#if\n#else\nfcn_call()#if\n#else\nfcn_call()#if\n#else\nV.6.2\nOR\nMerge\nMerge\nMerge\nMerge\nMerge\nMerge\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV. 6.4\n0\nV. 6.4\n5\nV. 6.4\n3\nV. 6.4\n12\nV. 6.4\n10\nV. 6.4\n8\nV. 6.4\n4\nV. 6.4\n6\nCYL_8\nX.5.2.1.3\nf()\nSEG_AD_RAW_MMV_ER\nSEG_AD_DIF_ER_0\nSEG_AD_DIF_ER_1\nSEG_AD_DIF_ER_2\nSEG_AD_DIF_ER_3\nLV_SEG_AD_DIF_MAX_ER\nCYL_6\nX.5.2.1.2\nf()\nSEG_AD_RAW_MMV_ER\nSEG_AD_DIF_ER_0\nSEG_AD_DIF_ER_1\nSEG_AD_DIF_ER_2\nLV_SEG_AD_DIF_MAX_ER\nCYL_4\nX.5.2.1.1\nf()\nSEG_AD_RAW_MMV_ER\nSEG_AD_DIF_ER_0\nSEG_AD_DIF_ER_1\nLV_SEG_AD_DIF_MAX_ER\nCYL_12\nX.5.2.1.5\nf()\nSEG_AD_RAW_MMV_ER\nSEG_AD_DIF_ER_0\nSEG_AD_DIF_ER_1\nSEG_AD_DIF_ER_2\nSEG_AD_DIF_ER_3\nSEG_AD_DIF_ER_4\nSEG_AD_DIF_ER_5\nLV_SEG_AD_DIF_MAX_ER\nCYL_10\nX.5.2.1.4\nf()\nSEG_AD_RAW_MMV_ER\nSEG_AD_DIF_ER_0\nSEG_AD_DIF_ER_1\nSEG_AD_DIF_ER_2\nSEG_AD_DIF_ER_3\nSEG_AD_DIF_ER_4\nLV_SEG_AD_DIF_MAX_ER\nSEG_AD_RAW_MMV_ER\n2\nNC_CYL_NR\n1\nFigure 29.6.62:\nFile: 30404R07.00D\n7698Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1646, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b19bc4ab-76ea-4478-b736-4e1ccef1eb59": {"__data__": {"id_": "b19bc4ab-76ea-4478-b736-4e1ccef1eb59", "embedding": null, "metadata": {"page_label": "128", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "848a49ac-e352-4fd8-89aa-e5f581070aed", "node_type": "4", "metadata": {"page_label": "128", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "976e88f423c3e1f36621eea8c6caf84d667055eca8c5550e67311e6bb4c15616", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.5.2.1.1 Calculation of LV_SEG_AD_DIF_MAX_ER\nZero based indexing of read vector\nLV_SEG_AD_DIF_MAX_ER\n3\nSEG_AD_DIF_ER_1\n2\nSEG_AD_DIF_ER_0\n1\nV.6.7\nC 0\n[..]\nV.6.7\nC 0\n[..]\nV.6.7\nC 0\n[..]\nV.6.7\nC 0\n[..]\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.2\nOR\nMux\n1\n1\nV.6.0\nDemux\nV. 6.4\n3\nV. 6.4\n1 V. 6.4\nC_SEG_AD_DIF_MAX_ER\nV. 6.4\n2\nV. 6.4\n0\nV.6.5\nf()\nSEG_AD_RAW_MMV_ER\n1\nFigure 29.6.63:\n29.6.5.2.1.2 LV_SEG_AD_DIF_MAX_ER calculation\nZero based indexing of read vector\nLV_SEG_AD_DIF_MAX_ER\n4\nSEG_AD_DIF_ER_2\n3\nSEG_AD_DIF_ER_1\n2\nSEG_AD_DIF_ER_0\n1\nV.6.7\nC 0\n[..]\nV.6.7\nC 0\n[..]\nV.6.7\nC 0\n[..]\nV.6.7\nC 0\n[..]\nV.6.7\nC 0\n[..]\nV.6.7\nC 0\n[..]\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.2\nOR\nMux\n1\n1\n1\nV.6.0\nDemux\nV. 6.4\n5\nV. 6.4\n2\nV. 6.4\n4\nV. 6.4\n1\nV. 6.4\nC_SEG_AD_DIF_MAX_ER\nV. 6.4\n3\nV. 6.4\n0\nV.6.5\nf()\nSEG_AD_RAW_MMV_ER\n1\nFigure 29.6.64:\nFile: 30404R07.00D\n7699Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1353, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "67163c3a-d541-4261-8418-ea40d600d465": {"__data__": {"id_": "67163c3a-d541-4261-8418-ea40d600d465", "embedding": null, "metadata": {"page_label": "129", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "edff8ffb-372a-46f2-b41b-6f0407724f6a", "node_type": "4", "metadata": {"page_label": "129", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "f66bfaf3b2677c12d994aebce96e373bf7c26657b57201b6854d7457a734957b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.5.2.1.3 Calculation of LV_SEG_AD_DIF_MAX_ER\nZero based indexing of read vector\nLV_SEG_AD_DIF_MAX_ER\n5\nSEG_AD_DIF_ER_3\n4\nSEG_AD_DIF_ER_2\n3\nSEG_AD_DIF_ER_1\n2\nSEG_AD_DIF_ER_0\n1\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.2\nOR\nMux\n1\n1\n1\n1\nV.6.0\nDemux\nV. 6.4\n7\nV. 6.4\n3\nV. 6.4\n6\nV. 6.4\n2\nV. 6.4\n5\nV. 6.4\n1\nV. 6.4\nC_SEG_AD_DIF_MAX_ER\nV. 6.4\n4\nV. 6.4\n0\nV.6.5\nf()\nSEG_AD_RAW_MMV_ER\n1\nFigure 29.6.65:\nFile: 30404R07.00D\n7700Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1065, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d3167c64-f2eb-40c8-9e87-529f4ebfc157": {"__data__": {"id_": "d3167c64-f2eb-40c8-9e87-529f4ebfc157", "embedding": null, "metadata": {"page_label": "130", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "65aeeb1f-3b76-428d-8e54-85b5c4625666", "node_type": "4", "metadata": {"page_label": "130", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "f5a54a9ef1bbba9a5ff51fbdc08791e42182a8a103aed45fdbaa1329b2870191", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.5.2.1.4 Determination of LV_SEG_AD_DIF_MAX_ER\nZero based indexing of read vector\nLV_SEG_AD_DIF_MAX_ER\n6\nSEG_AD_DIF_ER_4\n5\nSEG_AD_DIF_ER_3\n4\nSEG_AD_DIF_ER_2\n3\nSEG_AD_DIF_ER_1\n2\nSEG_AD_DIF_ER_0\n1\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.2\nOR\nMux\n1\n1\n1\n1\n1\nV.6.0\nDemux\nV. 6.4\n9\nV. 6.4\n4\nV. 6.4\n8\nV. 6.4\n3\nV. 6.4\n7\nV. 6.4\n2\nV. 6.4\n6\nV. 6.4\n1\nV. 6.4\nC_SEG_AD_DIF_MAX_ER\nV. 6.4\n5\nV. 6.4\n0\nV.6.5\nf()\nSEG_AD_RAW_MMV_ER\n1\nFigure 29.6.66:\nFile: 30404R07.00D\n7701Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1143, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0cdf0708-5794-4841-bb70-e8927811c44c": {"__data__": {"id_": "0cdf0708-5794-4841-bb70-e8927811c44c", "embedding": null, "metadata": {"page_label": "131", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1518a612-9ff1-4e21-905c-6a3992a5eec1", "node_type": "4", "metadata": {"page_label": "131", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "dca67a14baaa235d979d03d2f44ff0e67a51360525d5ef414b4615d9291a1c59", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.5.2.1.5 Calculation of LV_SEG_AD_DIF_MAX_ER\nZero based indexing of read vector\nLV_SEG_AD_DIF_MAX_ER\n7\nSEG_AD_DIF_ER_5\n6\nSEG_AD_DIF_ER_4\n5\nSEG_AD_DIF_ER_3\n4\nSEG_AD_DIF_ER_2\n3\nSEG_AD_DIF_ER_1\n2\nSEG_AD_DIF_ER_0\n1\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\nC0\n[..]\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.7\n+\n?\nV.6.2\nOR\nMux\n1\n1\n1\n1\n1\n1\nV.6.0\nDemux\nV. 6.4\n10\nV. 6.4\n4\nV. 6.4\n9\nV. 6.4\n3\nV. 6.4\n8\nV. 6.4\n2\nV. 6.4\n7\nV. 6.4\n1\nV. 6.4\nC_SEG_AD_DIF_MAX_ER\nV. 6.4\n11\nV. 6.4\n5\nV. 6.4\n6\nV. 6.4\n0\nV.6.5\nf()\nSEG_AD_RAW_MMV_ER\n1\nFigure 29.6.67:\n29.6.6 Actual adaptive values versus engine speed\n\ufffd General Information\nThe adaptative values from the three engine speed areas have be read and written into SEG_AD_MMV_ER[x]\ndepending on engine speed.\nFor the de?nition of SEG_AD_MMV_ER[x], the following cases are considered:\nFor [x] = 0...NC_CYL_NR - 1\nThe calculation is done for the actual active segment\nFile: 30404R07.00D\n7702Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1578, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7d153b61-2fb1-42a6-998b-9c3ad05c9a60": {"__data__": {"id_": "7d153b61-2fb1-42a6-998b-9c3ad05c9a60", "embedding": null, "metadata": {"page_label": "132", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a03602a1-b82a-4ffe-8969-cb71ad917422", "node_type": "4", "metadata": {"page_label": "132", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "ecb218d68401523d8aef0cfe2495eaf1deca11903afa5f873790ef690dddfde4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nUpdate of SEG_AD_MMV_[x] occurs when segment [x] is active (SEG_AD_MMV_1 is updated for x = 1, SEG_AD_\nMMV_2 is updated for x = 2, etc...)\n\ufffd Application Conditions\n\ufffd Function Description\nact_ada_val\n1\nOPM_SEG\nX.6.3\nf()\nInput opm_seg\nNVMY\nX.6.2\nfc_NVMY_INI\nfc_NVMY_RD\nfc_NVMY_SAVE\nfeedback\nnvmy\nV.6.0\nBusMerge\nACT_ADA_VAL\nX.6.1\nRST\nNVMINI\nNVMRES\nNVMSTO\nSEG\nLV_ENA_SEG_T_MES\nfc_NVMY_INI\nfc_NVMY_RD\nfc_NVMY_SAVE\nfc_OPM_SEG\nfeedback\n3\nInput\n2\nsys_eve\n1\n<SEG_AD_MMV_ER_L>\n<SEG_AD_MMV_ER_MID>\n<SEG_AD_MMV_ER_H>\n<LV_DCT>\n<LV_CVT>\n<N_32>\n<LV_AT>\n<LV_ENA_SEG_T_MES>\n<ACT_ADA_VAL__SEG>\n<ACT_ADA_VAL__NVMSTO>\n<ACT_ADA_VAL__NVMRES>\n<ACT_ADA_VAL__NVMINI>\n<ACT_ADA_VAL__RST>\nact_ada_val\n<SEG_AD_MMV_ER>\nFigure 29.6.68:\nFile: 30404R07.00D\n7703Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1261, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3ea8c8de-f63d-485c-9ba8-2b7a810b4f94": {"__data__": {"id_": "3ea8c8de-f63d-485c-9ba8-2b7a810b4f94", "embedding": null, "metadata": {"page_label": "133", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9c626e3f-2492-47d0-9f60-d87b38f034bf", "node_type": "4", "metadata": {"page_label": "133", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "5635f8dc899f3e3b474bd8dce6dee3e31282d156097eac3af225e45b50817bd2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.6.1 Application condition\nfc_OPM_SEG\n4\nfc_NVMY_SAVE\n3\nfc_NVMY_RD\n2\nfc_NVMY_INI\n1\nMux\nChart\nX.6.1.1\n input events ()\nLV_ENA_SEG_T_MES\nfc_NVMY_INI\nfc_NVMY_RD\nfc_NVMY_SAVE\nfc_OPM_SEG\nLV_ENA_SEG_T_MES\n6\nSEG\n5\nNVMSTO\n4\nNVMRES\n3\nNVMINI\n2\nRST\n1\nFigure 29.6.69:\nFile: 30404R07.00D\n7704Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 815, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "eac2c002-f5cd-4b7c-ba65-592c5094175e": {"__data__": {"id_": "eac2c002-f5cd-4b7c-ba65-592c5094175e", "embedding": null, "metadata": {"page_label": "134", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6a75d59d-e2fb-46a8-86ff-57122ca569d0", "node_type": "4", "metadata": {"page_label": "134", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "1b970705434bb46b9dc71411a01d2879533b6e7ad0613d2fb69fdc3ac2142599", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.6.1.1 Chart\nAPP_CDN/\nactive/ inactive/\nSYS_EVE__NVMINI\n{fc_NVMY_INI;}1\n2\nSYS_EVE__NVMRES\n{fc_NVMY_RD ;}1\n2\nSYS_EVE__NVMSTO\n{fc_NVMY_SAVE ;}1\n2\nSYS_EVE__RST\n[LV_ENA_SEG_T_MES== 1]\n[LV_ENA_SEG_T_MES== 0]SYS_EVE__SEG\n{fc_OPM_SEG ;}\n1\n2\nFigure 29.6.70:\n29.6.6.2 NVMY\n29.6.6.2.1 Initialisation of NVMY variables\nSEG_AD_MMV_ER\n1\ninit = 0\nV.6.4\n[ NC_CYL_NR ] array\nf()\nFigure 29.6.71:\nFile: 30404R07.00D\n7705Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 939, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "19225deb-5dab-4fda-bfd3-edb6479453da": {"__data__": {"id_": "19225deb-5dab-4fda-bfd3-edb6479453da", "embedding": null, "metadata": {"page_label": "135", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a9bef263-56e9-4494-ab70-7b349d0fb2ff", "node_type": "4", "metadata": {"page_label": "135", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "fca300d06081369412dc49976ae92718cbdfca96acfa2a5f60e13ba7c4064af8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.6.2.2 Read NVMY variables\nSEG_AD_MMV_ER\n1\nSEG_AD_MMV_ER\nsize: [NC_CYL_NR]\ninit:0\nV.6.5\nNVMY[read/init]\nout\nf()\nFigure 29.6.72:\n29.6.6.2.3 Store NVMY variables\nSEG_AD_MMV_ER\nsize: [NC_CYL_NR]\ninit:0\nV.6.5\nNVMY[store]\nin out\nf()\nSEG_AD_MMV_ER\n1\nFigure 29.6.73:\nFile: 30404R07.00D\n7706Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 820, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b155397a-4b80-4352-b2b2-0ea535b49687": {"__data__": {"id_": "b155397a-4b80-4352-b2b2-0ea535b49687", "embedding": null, "metadata": {"page_label": "136", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c73d065f-ffca-4dbb-b4a7-c8b941731f76", "node_type": "4", "metadata": {"page_label": "136", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "147957aac35c11a734883b330aa2d54f35713c26add12a33cb964b2e8f657941", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.6.3 Formula section\n29.6.6.3.1 Determination of SEG_AD_MMV_ER\nSEG_AD_MMV_ER\n1\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.6\nV.6.0\n<N_32>\nNOT_VLD\nX.6.3.1.1\nN_32\nLV_AT\nSEG_AD_MMV_ER_H\nSEG_AD_MMV_ER_MID\nLV_CVT\nLV_DCT\nSEG_AD_MMV_ER\nV.6.2\nNOT\n<LV_DCT>\n<LV_CVT>\n<LV_AT>\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_DCT\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_CVT\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_AT\nV. 6.4\nC_N_MAX_L_SEG_AD_ER_MT\nSEG_AD_MMV_ER_L\n7\nSEG_AD_MMV_ER_MID\n6\nSEG_AD_MMV_ER_H\n5\n<N_32>\n<LV_DCT>\n<LV_CVT>\n<LV_AT>\nFigure 29.6.74:\nFile: 30404R07.00D\n7707Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1074, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6950b454-4f41-44c1-8c99-8fb96153b3e7": {"__data__": {"id_": "6950b454-4f41-44c1-8c99-8fb96153b3e7", "embedding": null, "metadata": {"page_label": "137", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e16f1828-6698-4c89-99df-357f23d1b4c2", "node_type": "4", "metadata": {"page_label": "137", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "37634814fb0ae8815861f5ff7ad0c5062cdd52c5b95d0edc2bb8afda352517fc", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.6.3.1.1 Calculation of SEG_AD_MMV_ER\nSEG_AD_MMV_ER\n1\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.6\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.6\nV.6.0\nV.6.2\nNOT\nV. 6.4\nC_N_MAX_MID_SEG_AD_ER_DCT\nV. 6.4\nC_N_MAX_MID_SEG_AD_ER_CVT\nV. 6.4\nC_N_MAX_MID_SEG_AD_ER_AT\nV. 6.4\nC_N_MAX_MID_SEG_AD_ER_MT\nLV_DCT\n6\nLV_CVT\n5\nSEG_AD_MMV_ER_MID\n4\nSEG_AD_MMV_ER_H\n3\nLV_AT\n2\nN_32\n1\nFigure 29.6.75:\n29.6.7 Selection of Adaptive learing window for normal or catalyst heating\n\ufffd General Information\nThe segment adaptation is done in two phases Fast adaptation and Slow adaptation.\nThe fast adaptation is done ?rst for normal window and second for catalyst heating window. After the fast\nadaptation process is completed, slow adaptation starts.\nThe slow adaptation is switched between normal and catalyst heating window alternately.\n\ufffd Application Conditions\nInitialisation: RST\nActivation: LV_SYN_ENG==1 && SEG_NR_MES==0\nDeactivation: LV_SYN_ENG==0 || SEG_NR_MES!=0\nRecurrence: SEG\n\ufffd Function Description\nFile: 30404R07.00D\n7708Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1517, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f92f9478-251e-4ca4-bb3d-1755bd220d82": {"__data__": {"id_": "f92f9478-251e-4ca4-bb3d-1755bd220d82", "embedding": null, "metadata": {"page_label": "138", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c8ee354b-8e95-4dde-92c1-4f79498bf65b", "node_type": "4", "metadata": {"page_label": "138", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "f40aa0e6c7cecf588c76e77001babaa82a8829cbbde77c56e87bd1a7c3ebfa29", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\nsel_win\n1\nRST\nX.7.1\nf()\nrst\nOPM_SEG\nX.7.2\nf()\ninputs\nfeedback\nopm_seg\nV.5.35\nBusMerge\nV.5.13\nRST\nSEG\nLV_SYN_ENG\nSEG_NR_MES\nfc_INI\nfc_OPM\nRecurrence:        SEG\nInit:             RST\nActivation: \nDeactivation: \nLV_SYN_ENG==1&&SEG_NR_MES==0\nLV_SYN_ENG==0||SEG_NR_MES!=0\nfeedback\n3\nInput\n2\nsys_eve\n1\n<LV_START_NEW_AD><LV_START_NEW_AD>\n<LV_SEG_AD_RAW_ER><LV_SEG_AD_RAW_ER>\n<LV_CYC_SEG_AD_ER_LOW><LV_CYC_SEG_AD_ER_LOW>\n<LV_START_NEW_AD><LV_START_NEW_AD>\n<LV_SEG_AD_AVL_ER_RGL>\n<LV_ER_WIN_CH_AD>\n<LV_SEG_AD_AVL_ER>\n<LV_SEG_AD_ER>\n<LV_ENA_SEG_T_MES>\n<SEG_T_MES>\n<SEG_T_MES_CH>\n<SEG_T_MES_old>\n<SEG_T_MES_CH_old>\n<LV_SEG_T_MES_CYL_READY>\n<LV_ER_WIN_CH_AD>\n<SEG_NR_MES>\n<LV_SYN_ENG>\n<SEL_WIN__SEG>\n<SEL_WIN__RST>\nFigure 29.6.76:\n29.6.7.1 Initialization\nrst\n1\nSEG_T_MES\nV.6.4\nphys_max\nSEG_T_MES_CH\nV.6.4\nphys_max\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0 f()\nLV_START_NEW_AD\nSEG_T_MES_old\nSEG_T_MES_CH_old\nLV_SEG_T_MES_CYL_READY\nLV_ER_WIN_CH_AD\nFigure 29.6.77:\nFile: 30404R07.00D\n7709Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1492, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b7a92e1a-6555-4104-9567-7f4c830d9aee": {"__data__": {"id_": "b7a92e1a-6555-4104-9567-7f4c830d9aee", "embedding": null, "metadata": {"page_label": "139", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a81e9e80-ba6b-43e8-b469-b8fbeb835b0e", "node_type": "4", "metadata": {"page_label": "139", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "d1b3ffb4686ff0ce535667c702eed46963200d3e577e7849d03417d2edb3230a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness adaptive learning process\n29.6.7.2 Formula section\n29.6.7.2.1 Calculation of LV_ER_WIN_CH_AD\nLV_START_NEW_AD\n5\nLV_SEG_T_MES_CYL_READY\n4\nSEG_T_MES_old\n3\nSEG_T_MES_CH_old\n2\nLV_ER_WIN_CH_AD_out\n1\nV.6.4\ncond_if\nif\nelse\nV.6.4\ncond_if\nif\nelse\nV.6.4\ncond_if\nif\nelse\nV.6.4\ncond_if\nif\nelse\nV.6.4\ncond_if if\nV.6.4\ncond_if if\nV.6.2\nNOT\nV.6.2\nNOT\nV.6.2\nNOT\nV.6.2\nNOT\nV.6.2\nNOT\nV.6.2\nMerge\nV.6.2\nMerge\n1\n1\n1\nV.6.7\nV.6.7\nV.6.7\nV.6.4\n1\nV.6.4\n0\nV.6.4\n1\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nLV_START_NEW_AD_in\n10\nLV_SEG_AD_RAW_ER\n9\nLV_CYC_SEG_AD_ER_LOW\n8\nLV_ER_WIN_CH_AD_in\n7\nLV_SEG_AD_ER\n6\nLV_SEG_AD_AVL_ER\n5\nLV_SEG_AD_AVL_ER_RGL\n4\nLV_ENA_SEG_T_MES\n3\nSEG_T_MES\n2\nSEG_T_MES_CH\n1\nFigure 29.6.78:\nFile: 30404R07.00D\n7710Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1198, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2cff95ae-d44e-4906-9ca0-7248a051cf4e": {"__data__": {"id_": "2cff95ae-d44e-4906-9ca0-7248a051cf4e", "embedding": null, "metadata": {"page_label": "140", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ad97d2b7-4cce-4061-82fc-41d42f79a1aa", "node_type": "4", "metadata": {"page_label": "140", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "1e9b3bac4dd2d2e9220717deb4fa5af50e028282c89b2db2ae69aa06bc57ca39", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness diagnosis\n29.7 Engine roughness diagnosis\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nLF_STATE_DGO_SEG_AD_ER - 0... FFFFH 0... 65535 1 -\nState of ER segment time adaptive values\nLF_STATE_DGO_T_SEG_ER - 0... FFFFH 0... 65535 1 -\nState of segment time adaptive values\n\ufffd Input Data\nLV_INH_DIAG_SEG_AD_ER\n{p. 7714}\nLV_INH_DIAG_T_SEG_ER\n{p. 7714}\nLV_INH_MIS_CRK\n{p. 8005}\nLV_SEG_AD_AVL_ER\n{p. 7646}\nLV_SEG_AD_ER\n{p. 7646}\nLV_SEG_AD_LIM_ER\n{p. 7646}\nLV_ST_END\n{p. 7530}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nLC_CDN_DIAG_SEG_AD_ER - 0... 1H 0 ...1 1 -\nDiagnosis condition mode of ER segment time adaptive values\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_IDX_ERR_SEG_AD_ER - 1... FFFFH 1... 65535 1 -\nEngine roughness segment time acqution\nNC_IDX_ERR_T_SEG_ER - 1... FFFFH 1... 65535 1 -\nEngine roughness segment time acqution\n\ufffd Import actions:\nACTION_ERRM_ResultDiag(IN <PRM_IDX_ERR>, IN <PRM_STATE_DGO>, OUT <PRM_STATE_FIL>)\n\ufffd Error treatment\nDiagnostic Identi?er Diagnostic initialization function NR_CONF CARB class OBD DTC\nSEG_AD_ER UNUSED CC\nDe?nition of the behavior of the initialization\nERR-Flag Reset at ECU Reset reset at Key ON Latch error on fail\nYES YES NO\nFile: 30A0EL08.00B\n7711Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1790, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ae12fa68-140d-4466-9434-ba945f1f1dfb": {"__data__": {"id_": "ae12fa68-140d-4466-9434-ba945f1f1dfb", "embedding": null, "metadata": {"page_label": "141", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "2181cf25-461d-46f1-af72-bb712c1a01b7", "node_type": "4", "metadata": {"page_label": "141", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "d1d8051ea0b656b561401a0e0abdbe3efeda54bbb9d08bfc26ff5cd6120592e1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness diagnosis\nABC ABC-class MAX-INC after Failure No Reset at NEWDC Init on Condition Loss\nABC NO NO NO\nDescription of the implementation\nprestore FRF RBM Similar conditions\nNO NO\nDiagnostic Identi?er Diagnostic initialization function NR_CONF CARB class OBD DTC\nT_SEG_ER - UNUSED CC\nDe?nition of the behavior of the initialization\nERR-Flag Reset at ECU Reset reset at Key ON Latch error on fail\nYES YES NO\nABC ABC-class MAX-INC after Failure No Reset at NEWDC Init on Condition Loss\nABC NO NO NO\nDescription of the implementation\nprestore FRF RBM Similar conditions\nNO NO\n\ufffd General Information\n1. Engine roughness segment time acquisition error\nThe purpose of this error is to diagnose synchronisation errors on engine roughness segments measure-\nment.\nAn error symptom ?Missing/Adding 1 tooth or more on engine roughness segment acquisition? is de-\ntected when a crankshaft synchronisation error caused by 1 or 2 missing/additional tooth occurs on one\ncrankshaft revolution.\n2. Engine roughness segment adaptive values out of range error\nThe purpose is to diagnose the ER segment adaptive values.\nIf during or at the end of the segment adaptive values learning process (LV_SEG_AD_ER = 1 or LV_SEG_AD_\nER = 1 ->0), at least one of the engine roughness segment adaptation values is at the limit (LV_SEG_AD_\nLIM_ER = 1), the error symptom SEG_AD_ER ?engine roughness segment adaptation values at the limit? is\ndetected.\n\ufffd Application Conditions\nInitialisation: on system event ERU_to_ES\nACTION_ERRM_ResultDiag(NC_IDX_ERR_T_SEG_ER, 0)\nACTION_ERRM_ResultDiag(NC_IDX_ERR_SEG_AD_ER, 0)\nActivation: always\nDeactivation: if activation not true\nRecurrence: Task 1:\neach 360\ufffdCrk at segment task\nTask 2:\neach 720\ufffdCrk at segment task\nFile: 30A0EL08.00B\n7712Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2249, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b5135c90-65f8-40a5-8403-bf68c1686fc7": {"__data__": {"id_": "b5135c90-65f8-40a5-8403-bf68c1686fc7", "embedding": null, "metadata": {"page_label": "142", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f640cdf1-5a51-4506-a709-819e386b5a2f", "node_type": "4", "metadata": {"page_label": "142", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "2eccf3bcf350b40648b50d500a67c85353ab12da77f87cac267b588a0582041b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness diagnosis\n\ufffd Function Description\n1. Engine roughness segment time acquisition error\nIf\nLV_INH_DIAG_T_SEG_ER = 0\nThen\nIf LV_INH_MIS_CRK = 1\nThen\nLF_STATE_DGO_T_SEG_ER = 3 // (SYM + CDN)\nElse\nLF_STATE_DGO_T_SEG_ER = 1 // (NO_SYM + CDN)\nEndIf\nElse\nLF_STATE_DGO_T_SEG_ER = 0\nEndIf\nACTION_ERRM_ResultDiag(NC_IDX_ERR_T_SEG_ER, LF_STATE_DGO_T_SEG_ER)\nSymptoms are unchanged if condition for doing symptom detection is not ful?lled.\n2. Engine roughness segment adaptive values out of range error\nIf [(LV_SEG_AD_ER = 1 -> 0 And LC_CDN_DIAG_SEG_AD_ER = 0) Or\n(LV_SEG_AD_ER = 1 And LC_CDN_DIAG_SEG_AD_ER = 1)] And\nLV_SEG_AD_AVL_ER = 1 And // adaptive values available\nLV_INH_DIAG_SEG_AD_ER = 0 // no application fade-out\nThen\nIf LV_SEG_AD_LIM_ER = 1 // adaptive values at the limit\nThen\nLF_STATE_DGO_SEG_AD_ER = 3 // (SYM + CDN)\nElse\nLF_STATE_DGO_SEG_AD_ER = 1 // (NO_SYM + CDN)\nEndIf\nElse\nLF_STATE_DGO_SEG_AD_ER = 0 // (NO_CDN)\nEndIf\nACTION_ERRM_ResultDiag(NC_IDX_ERR_SEG_AD_ER, LF_STATE_DGO_SEG_AD_ER)\nFile: 30A0EL08.00B\n7713Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1523, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ff332714-02ea-444d-8621-93ca841bb159": {"__data__": {"id_": "ff332714-02ea-444d-8621-93ca841bb159", "embedding": null, "metadata": {"page_label": "143", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8686cfb0-9ff8-4cbf-976b-d3c1dd355502", "node_type": "4", "metadata": {"page_label": "143", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "801cb30cbd55cf24c0576501cd88771f9e0d31582f5823e0d13f510d01444b7f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness diagnosis (Appl. Inc.)\n29.8 Engine roughness diagnosis (Appl. Inc.)\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nLV_INH_DIAG_SEG_AD_ER O/V 0... 1H 0 ...1 1 -\nSpeci?c conditions to inhabit Engine roughness segment adaptive values diagnosis\nLV_INH_DIAG_T_SEG_ER O/V 0... 1H 0 ...1 1 -\nSpeci?c conditions to inhibit Engine roughness segment time acquisition diagnosis\n\ufffd Input Data\nLV_IGK\n{p. 24082}\nLV_ST_END\n{p. 7530}\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_FID_ERR_SEG_AD_ER - 0... FFFFH 0... 65535 1 -\nRun the segment adaptive values diagnosis SEG_AD_ER\nNC_FID_ERR_T_SEG_ER - 0... FFFFH 0... 65535 1 -\nRun the segment time aquisition diagnosis T_SEG_ER\n\ufffd Import actions:\nACTION_FARM_GetPermission(IN <PRM_FID>, OUT <PRM_LV_PRMS>)\n\ufffd General Information\nThere are speci?c conditions to inhibit:\n- Engine roughness segment time acquisition diagnosis\n- Engine roughness segment adaptive values diagnosis\nNote: This must be the same inhibition conditions like engine roughness calculation\nThis module provides inhibition information for the main module of Engine Roughness Diagnosis.\n\ufffd Application Conditions\nInitialisation: At RST, IGKON:\nLV_INH_DIAG_T_SEG_ER = 0\nLV_INH_DIAG_SEG_AD_ER = 0\nActivation: LV_IGK = 1\nDeactivation: if activation not true\nRecurrence: each 360\ufffdCRK at segment task\nFile: AEA0EM01.00B\n7714Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1880, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "55a39423-b8ea-415b-8b9e-83e6d69a186e": {"__data__": {"id_": "55a39423-b8ea-415b-8b9e-83e6d69a186e", "embedding": null, "metadata": {"page_label": "144", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0f63af28-6f3f-4d5a-a027-83b341b34ec4", "node_type": "4", "metadata": {"page_label": "144", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "a99722380ec0a765e1893ce80f030291e24a40543b9f7877f4e12073cb513e6d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness diagnosis (Appl. Inc.)\n\ufffd Function Description\nif LV_ST_END == 0 or\nACTION_FARM_GetPermission(NC_FID_ERR_T_SEG_ER) == 0\nthen\nLV_INH_DIAG_T_SEG_ER = 1\nelse\nLV_INH_DIAG_T_SEG_ER = 0\nendif\nif LV_ST_END == 0 or\nACTION_FARM_GetPermission(NC_FID_ERR_SEG_AD_ER) == 0\nthen\nLV_INH_DIAG_SEG_AD_ER = 1\nelse\nLV_INH_DIAG_SEG_AD_ER = 0\nendif\nFile: AEA0EM01.00B\n7715Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 857, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "556e731d-7dbd-41a1-956e-9dc81c31107b": {"__data__": {"id_": "556e731d-7dbd-41a1-956e-9dc81c31107b", "embedding": null, "metadata": {"page_label": "145", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "889fd521-fd67-4ea6-84c6-335d89c18c76", "node_type": "4", "metadata": {"page_label": "145", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "713a9d761a1d5a9a0fd87b924ec06505db189efebbd59a344b87f1b32ec7445a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness average calculation EOL\n29.9 Engine roughness average calculation EOL\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nMIS_SUM_EOL O/V/S 0... FFFFH 0... 65535 1 -\nMis?rez\ufffdhler f\ufffdr Kurztestbetrieb\n\ufffd Input Data\nMIS_SUM_B\n{p. 23484}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nLC_INI_MIS_SUM_EOL - 0... 1H 0 ...1 1 -\nSchalter f\ufffdr Initialisierung mit 0 bei Steuerger\ufffdtehochlauf\n\ufffd Funktionsbeschreibung:\nDie Aussetzererkennung am Bandende wird nicht explizit angesto\ufffden, sondern l\ufffduft kontinuierlich wie im\n?Nichtbandendebetrieb?. Mit der VAG-Test Funktion 04 - MVB 14 erfolgt lediglich die Ausgabe des Mis?rez\ufffdh-\nlers.\n\ufffd Applikationsbedingungen:\nInitialisierung: At EEPROM initialization:\nIF LC_INI_MIS_SUM_EOL = 1\nTHEN MIS_SUM_EOL = 0\nELSE MIS_SUM_EOL = MIS_SUM_EOL (stored from last DC)\nAt erase of failure memory:\nMIS_SUM_EOL = 0\nAktualisierungsrate: segmentsynchronous\n\ufffd Formeln:\nIF MIS_SUM_EOL <MIS_SUM_B\nTHEN MIS_SUM_EOL = MIS_SUM_B\nFile: 21J10801.00B\n7716Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1516, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "12d3ce95-3078-457a-8dcc-29d229ebc3f2": {"__data__": {"id_": "12d3ce95-3078-457a-8dcc-29d229ebc3f2", "embedding": null, "metadata": {"page_label": "146", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5911e3d8-a481-4862-b8ce-4081004cb127", "node_type": "4", "metadata": {"page_label": "146", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "81ceb74c2e599d3c9196797879e36dfb231a8c94a36ecd72bd7c1db804b9154f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\n29.10 Engine roughness calculation and adaptation (gen)\n29.10.1 Requirements\nENSD aggregate active and calibrated, no synchronisation errors/troubles\nIGRE, IGSP & INJR precalibrated\n29.10.2 Tuning hints for Engine roughness segment time correction (Module 404Q)\n \nA0EL  \nEngine Roughness  \nDiagnosis  \n404Q  \nEngine Roughness  \nSegment Time  \nCorrection  \n402E  \nEngine Roughness  \nCalculation  \n402P  \nEngine Roughness  \nCalculation - \nApplication Incidences  \n404R  \nEngine Roughness  \nAdaptive Learning  \nProcess  \nA0EL  \nEngine Roughness  \nDiagnosis  \nA0EM  \nEngine Roughness  \nDiagnosis - \nApplication Incidences  \n100K  \nENRD Configuration  \nData  \nENSD  ENRD  MISF  \nENRC  \nCYLB  \nERRM  \nFile: 30Q01O01.00D\n7717Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1258, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "09809169-b35e-43c9-bbdb-4eef2ffebee5": {"__data__": {"id_": "09809169-b35e-43c9-bbdb-4eef2ffebee5", "embedding": null, "metadata": {"page_label": "147", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0dcae390-98da-453e-ad14-629ef33537c9", "node_type": "4", "metadata": {"page_label": "147", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "349d6809ffeaa05043562ec71b9d378b070e171d15424dece18621f096b72542", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\n29.10.2.1 Module calibration ?owchart\n404Q_05 - STEP2 /2 \nCorrection of the ER segment \nadaptive values  (*) \nCALIBRATION: \nIP_SEG_AD_COR_ER_xT_1 \nIP_SEG_AD_COR_ER_xT_2 \nIP_SEG_AD_COR_ER_xT_3 \nIP_SEG_AD_COR_ER_xT_4 \n404Q_01 - STEP 2/2 \nEngine roughness segments  \nlocation  \nCONFIGURATION CHECK: \nNC_PHA_SEG_ER_ENSD  \n404Q - STEP 2/2 \nEngine roughness  \nsegment time correction  \nNC_SEG_DLY_ER frozen \n404Q_01 - STEP 1/2 \nEngine roughness segments  \nloc ation \nPRECONFIGURATION: \nNC_PHA_SEG_ER_ENSD \n404Q_02 - STEP 1/1 \nPhasing reference for the  \nacquisition of ER segment time \nCONFIGURATION CHECK: \nNC_SEG_DLY_ER_MES  \n404Q_03 - STEP 1/1 \nEngine roughness segment time \nacquisition & control  \nCALIBRATION:  \nC_SEG_T_MES_MAX \nC_SEG_T_MES_MIN  \n404Q_05 - STEP 1/2 \nCorrection of the ER segment  \nadaptive values (*) \nPRECALIBRATION: \nIP_SEG_AD_COR_ER_xT_1 \nIP_SEG_AD_COR_ER_xT_2 \nIP_SEG_AD_COR_ER_xT_3 \nIP_SEG_AD_COR_ER_xT_4 \n404Q_04 - STEP 1/1 \nEngine roughness segment time \ncorre ction  \nCONFIGURATION CHECK: \nNC_SIZE_SEG_T_COR_BUF  \n404Q - STEP 1/2 \nEngine roughness  \nsegment time correction  \n29.10.2.2 404Q_01: Engine roughness segments location\n\ufffd General information\nTo determinate the engine roughness indexes, crankshaft segment time samples are required. These segment\ntime samples are acquired each (720 / NC_CYL_NR) \ufffdcrankshaft angle. The ENSD aggregate (engine position\nand speed determination) provides one T_SEG_ER sample acquisition at each crankshaft segment task.\nThis segment location is different to T_SEG_CRK (commonly used in the ECU by other functions) , as the ER\nfocuses on engine combustion behaviour, and is located regarding to the TDC?s, and not to the long tooth\nposition like for T_SEG_CRK.\nThe engine roughness segment starts NC_PHA_SEG_ER_ENSD\ufffdCrk after the TDC. Beginning and end of ER\nsegments are successive and located at the same angle.\nThis value must be a multiple of ?ywheel tooth length (e.g. 6\ufffdCrk for 60-2 teeth ?ywheel or 10\ufffdCrk for 36-1 teeth\n?ywheel).\nEven if the ER segment phasing is de?ned in crankshaft angle, the ER segment acquisition task has to be\nimperatively located on the nearest tooth event corresponding to NC_PHA_SEG_ER _ENSD phasing angle.\n29.10.2.2.1 Calibration Step 404Q_01 - Step 1/2\nTask type: precon?guration\nFile: 30Q01O01.00D\n7718Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2844, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1dca569c-f3c9-452b-b322-d4d00c3044d1": {"__data__": {"id_": "1dca569c-f3c9-452b-b322-d4d00c3044d1", "embedding": null, "metadata": {"page_label": "148", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "2048ac3f-af0e-4a57-b8bd-86f6b5537db3", "node_type": "4", "metadata": {"page_label": "148", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "a5376ce44d61d7000f0b9a95981d169957aa4a3cd292d425485bfa5b3da644b6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nThis calibration step is a con?guration choice according the number of cylinder of your application (NC_CYL_\nNR). These default values have been observed on most of the supplier applications.\nPlease contact basic software person in charge of ENSD implementation on your project to see if there?s no\nincompatibility between the ENSD con?guration and these precalibrations.\n\ufffd Important Note\nThis calibration step is linked to ENSD, the con?guration data NC_PHA_SEG_ER_ENSD must be de?ned in the\nENSD con?guration data module of the application (module 100D)\nExample of con?guration: (default values)\nEngine type \nNC_CYL_NR \nER segment length NC_PHA_SEG_ER_ENSD \ntypical value \n3 cylinder 240\ufffdCrk 42\ufffdCrk \n4 cylinder 180\ufffdCrk 42\ufffdCrk \n5 cylinder 144\ufffdCrk 36\ufffdCrk \n6 cylinder 120\ufffdCrk 42\ufffdCrk \n8 cylinder 90\ufffdCrk 42\ufffdCrk \n \n29.10.2.2.2 Calibration Step 404Q_01 - Step 2 / 2\nTask type: con?guration check\nAs this calibration/validation step uses the corrected segment time SEG_T_COR, previously all precalibrations/\ncalibrations linked to the modules 404Q & 402E have to be already set.\n\ufffd Validation of Engine Roughness phasing (NC_PHA_SEG_ER_ENSD)\nA check of the angular window used to measure the ER segment time should be performed to be sure that\nthe whole engine speed drop due to a mis?re is located on the segment chosen.\nRemark: pre-de?ned values ?t generally for most application.\nRecord at several engine speeds and loads (3000 rpm - 50% of full load) with single mis?ring.\nM isfire M isfire M isfire \nCorrected Segm ent \nTim e ( SEG_T_COR ) ER Segment \nlocated Too Early Segments ER Segment \nlocated Too Late \nER Segment \ncorrectly located \nThe acquisition of the segment time is performed every 720/NC_CYL_NR\ufffdCrk. We must be sure during the\ncalibration of NC_PHA_SEG_ER_ENSD that the mis?ring slope is taken into account between two contiguous\nacquisitions. This enables to localise the mis?ring (number of cylinder for instance).\nIf the validation shows that the value of NC_PHA_SEG_ER_ENSD is not correct (window too early or too late), a\nchange of NC_PHA_SEG_ER_ENSD is required or the switch to another phasing\nNote: If the better NC_PHA_SEG_ER_ENSD phasing you?ve found exceeds more than 2 teeth of the default\nvalue, please inform the domain to check with an external tool (ex: B&S) the basic software results according\nthe teeth number chosen.\n29.10.2.2.3 404Q_02: Phasing reference for the acquisition of engine roughness segment time\n\ufffd General Information\nThe ER segments are used to observe in-cylinder combustion effects on crankshaft. The cylinder x combus-\ntion is located between cylinder x tdc and cylinder x+1 tdc. Consequently, at x+1 tdc, the T_SEG_ER segment\nobtained is relative to cylinder X combustion, a delay of 1 tdc between SEG_NR value at cylinder observed\n(NC_SEG_DLY_ER_MES=1).\nFile: 30Q01O01.00D\n7719Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3368, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "24520e0e-5e30-47df-a21d-8f7e0f616186": {"__data__": {"id_": "24520e0e-5e30-47df-a21d-8f7e0f616186", "embedding": null, "metadata": {"page_label": "149", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "66a82d18-8118-40f2-82e1-8489b89f7da6", "node_type": "4", "metadata": {"page_label": "149", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "e43a1917cebaaf0b104312bb5ed9d0ab744a1b96522b9533d7940506714fed84", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nIdenti?cation of the segment is evaluated regarding SEG_NR value\nExceptionally, if the segment is located after ER segment, this delay must be cancelled (NC_SEG_DLY_ER_\nMES=0), because in such case the phasing reference SEG_NR is updated after T_SEG_ER acquisition.\nSEG_NR_MES, the ER segments phasing reference, will be used to identify which cylinder is observed with the\ncurrent engine roughness segment, it?s particularly useful for ER segment adaptive values identi?cation.\nT_SEG \n(segment) \nT_SEG_ER \n(ER segment) \nTDC 0/2 \nTDC1/3 \nPHA_SEG_ER \n(42\ufffdCrk) \nRotation \ndirection \n4 cylinder engine \nexample \n\ufffd Implant scheme:\n6 Cylinder Engine Example : NC_SEG_DLY_ER_MES = 1 \nT_SEG_CRK[1] T_SEG_CRK[0] T_SEG_CRK[3] T_SEG_CRK[2] T_SEG_CRK[4] \nT_SEG_ER[1] T_SEG_ER[0] T_SEG_ER[3] T_SEG_ER[2] T_SEG_ER[4] T_SEG_ER[5] \nSEG_NR_MES \nSEG_NR \nCylinder Number \n0\nA\n5\nEvents SEG \nCRK \nTDC \nCyl 0 \nSEG \nER \n1\nB\n0\nSEG \nCRK \nTDC \nCyl 1 \nSEG \nER \n2\nC\n1\nSEG \nCRK \nTDC \nCyl 2 \nSEG \nER \n3\nD\n2\nSEG \nCRK \nTDC \nCyl 3 \nSEG \nER \n4\nE\n3\nSEG \nCRK \nTDC \nCyl 4 \nSEG \nER \n5\nF\nSEG \nCRK \nTDC \nCyl 5 \nT_SEG_CRK[5] \n29.10.2.2.3.1 Calibration Step 404Q_02 - Step 1 / 1\nTask type: Con?guration check\nPlease check, with your project ENSD con?guration, the position of the SEG_NR toggle event versus the ER\nsegment location.\n29.10.2.2.4 404Q_03: Engine roughness segment time acquisition and control\n\ufffd General information\nThe rule of this module is to provide to ENRD:\n? SEG_T_MES, the ER raw current segment time with correct resolution and format according ENRD cal-\nculation core (16 bits / 1\ufffds for ENRD 2.0.0, 32 bits and identical to T_SEG_ER in the future).\n? SEG_T_MES_CYL[NC_CYL_NR], the SEG_T_MES buffer, order by cylinder according SEG_NR_MES phasing.\nThis array is used for ER segment adaptive learning process (Module 404R).\n? LV_ENA_SEG_T_MES, validity information to share with all ENRD modules.\nFile: 30Q01O01.00D\n7720Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2439, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "19d81811-4819-4175-88c4-ff06f5977610": {"__data__": {"id_": "19d81811-4819-4175-88c4-ff06f5977610", "embedding": null, "metadata": {"page_label": "150", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1e35bcbf-c6d7-45d4-824e-f3ea1e359a5c", "node_type": "4", "metadata": {"page_label": "150", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "9e90c812b20e350048644a688a09c2f84a05b5732f6e7cca668e5881ec6abb8f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\n29.10.2.2.4.1 Calibration Step 404Q_03 - Step 1 / 1\nTask type: calibration\nThis calibration step focuses on validity ?ag LV_ENA_SEG_T_MES de?nition.\nThis ?ag can be reset to 0, when a ?ne synchronisation trouble occurs (dedicated information LV_INH_MIS_CRK\ncoming from ENSD), no calibration linked.\nThis ?ag can also be set if SEG_T_MES obtained via ENSD exceeds a de?ned valid range (C_SEG_T_MES_MIN &\nC_SEG_T_MES_MAX)\nTo de?ne C_SEG_T_MES_MAX, see NC_N_MIN de?ned in ENSD (global NC_ data), typical NC_N_MIN = 30 rpm.\nTo de?ned C_SEG_T_MES_MIN, see NC_N_MAX de?ned in ENSD (global NC_ data), typical NC_N_MAX = 8160\nrpm\n29.10.2.2.5 404Q_04 Engine roughness segment time correction\n\ufffd General information\nThe prerequisite for a reliable engine roughness evaluation is an accurate ER segment time measurement.\nAs the crankshaft ?ywheel teeth are subject to manufacturing tolerances, geometrical run-out and off-centre\ninstallation which result in angles modulation, consequently the measured raw segment periods aren?t similar\nand have systematic inaccuracies regarding other segments.\nAs these inaccuracies are systematic, they can be \"learned\" by an adaptive process during fuel cut-off periods\nand used for ER segment time correction. This adaptive process is described in the module: Engine roughness\nadaptive learning process.\nThe ER segment adaptive values SEG_AD_MMV_ER[NC_CYL_NR] are used to correct the ER raw segment time\n(obtained via ENSD) and provide to other ENRD modules the ER current corrected segment time: SEG_T_\nCOR\n29.10.2.2.5.1 Calibration Step 404Q_04 - Step 1 / 1\nTask type: con?guration check\nSEG_T_COR is stored according a FIFO management (?rst in, ?rst out). Just check the SEG_T_COR_BUF buffer\nsize regarding engine type:\nNC_SIZE_SEG_T_COR_BUF = 11 segment time samples for a 5 cylinder engine\nNC_SIZE_SEG_T_COR_BUF = 9 segment time samples for 4 & 8 cylinder engine\nNC_SIZE_SEG_T_COR_BUF = 7 segment time samples for 3 & 6 cylinder engine\nThis size NC_SIZE_SEG_T_COR_BUF is determined by the ER sample number required by ER calculation ac-\ncording engine type.\n29.10.2.2.6 404Q_05: Correction of the engine roughness segment adaptive values\n\ufffd General information\nOn some applications, due to crankshaft ?exion/torsion effects, the adaptive values are unsteady versus the\nengine speed, especially at high engine speed. As a result, these drifts produce additional noise on crankshaft\nsegment times, who will decrease the signal / noise ratio for mis?re detection.\nVery often we can observe a general trend of these drifts versus the engine speed. To correct these effects,\nwe apply an open loop correction on these adaptive values versus the engine speed in a way to cancel these\ndrifts. A correction can be applied only for each singular segment of the ?ywheel.\nAs these corrections are in open loop, they can minimise the additional noises on segments only if the\ncrankshaft segment drifts have identical trend on the overall car type population.\n29.10.2.2.6.1 Calibration Step 404Q_05 - Step 1 / 2\nTask type: con?guration check:\nCheck that the number of calibration data appears as described in calibration data section (see above) accord-\ning NC_CYL_NR\nFile: 30Q01O01.00D\n7721Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3748, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "70fe4429-111c-4159-8824-93bb06c67e15": {"__data__": {"id_": "70fe4429-111c-4159-8824-93bb06c67e15", "embedding": null, "metadata": {"page_label": "151", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "19b691f0-a704-43d8-83d2-48c7b03d72a9", "node_type": "4", "metadata": {"page_label": "151", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "d8ed33398d6394535405e9aa0d41d6c8c78f7b3e2c992a2380818e44bdfa4041", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nPrecalibration:\nAs the Engine roughness adaptive learning process is not already calibrated, and adaptive values drifts (if\nexists) are not evaluated. Calibrations are initialised to 0.\nIP_SEG_AD_COR_ER_xT_1=IP_SEG_AD_COR_ER_xT_2 = 0\nIP_SEG_AD_COR_ER_xT_3 = IP_SEG_AD_COR_ER_xT_4 = 0\nNote: _xT stands for _MT and _AT\n29.10.2.2.6.2 Calibration Step 404Q_05 - Step 2 / 2\nTask type: calibration\nPreliminary checks before calibration:\nTo determinate the segment adaptive corrections IP_SEG_AD_COR_ER_xT_y needed for a car family, tests must\nbe executed on all different transmission type, sensor, ?ywheel and crankshaft designs.\nThe amplitude of these corrections is the main aim of calibration de?nition, but as these corrections are open\nloop corrections, please take care to de?ne average calibrations that can be suitable for the all cars population,\nrespect to the transmission type:\n? If we apply too important corrections, engines with small segment drifts will have reduced mis?re detec-\ntion ef?ciency than without correction.\n? If we apply weak corrections, engines with important segment drifts will not reach expected mis?re\ndetection ef?ciency to ful?ll OBDII/EOBD legal requirement at high engine speed.\nWe have to ?nd the calibration data set that allows balancing in the best way between these two objectives to\ncompensate the most important part of production vehicle population.\nBefore to start the calibration of segment adaptive correction, please check calibration data set relative to\nmodule 404R_03 (Engine roughness adaptive learning process management), especially C_N_MIN_SEG_AD_\nER & C_CRLC_SEG_AD_ER.\nBecause the drift of segment adaptive values can be ampli?ed (or created) by:\n? A too light ?ltering (lot of noise on the SEG_AD_MMV_ER[NC_CYL_NR] values during the adaptive pro-\ncess) ->a noise capture at the end of the adaptive process could produce a drift.\n? An engine speed range for learning where adaptive values are unsteady. Please, focus on the mini-\nmum engine speed, because very often the adaptive values are frozen when we go out of the adaptive\nconditions, and the main condition to exit of the learning process is the minimum engine speed C_N_\nMIN_SEG_AD_ER. So the last adaptive values learned (close to the minimum engine speed) are next apply\nto the segment time correction at each engine operating points\nWorst operating case: highest engine speed with the adaptive value learned at the minimum engine speed\nExample of a 4-cylinder engine with important segment drift at high engine speed.\nER Normalised & Filtered Segment Adaptive values vs. Engine Speed \nSEG_AD_MMV_ER[1 ...3] = f(N) \n1000 2000 3000 4000 5000 6000 7000 \n-1 \n-0.8 \n-0.6 \n-0.4 \n-0.2 \n0\n0.2 \n0.4 \n0.6 \n0.8 \n1 x 10 \n-3 \n % \n [rpm] \nNominal Engine Speed \nRange for Adaptive Process \nMaximum Drift \non \nAdaptive Values \nMaximum Drift on SEG_AD_MMV_ER[1] = 0.63 ? (-0.02) = 0.65? > 0.5? \nMaximum Drift on SEG_AD_MMV_ER[3] = 0.63 ? (0.12) = 0.51? > 0.5? \nSEG_AD_MMV_ER[1...3] \nEngine Speed \n[rpm] \nCalibration Process:\nFile: 30Q01O01.00D\n7722Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3588, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "02b9b282-dc33-45c5-93de-0098613328ba": {"__data__": {"id_": "02b9b282-dc33-45c5-93de-0098613328ba", "embedding": null, "metadata": {"page_label": "152", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "54f4319a-3032-409d-995b-3d2d95e3a1f0", "node_type": "4", "metadata": {"page_label": "152", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "a2c37d632ee7e86abb877617862e6adce7a5ee17d82ff8765da339778122b704", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nFor each car available, execute coast down on chassis rolls in road mode, at least 4 times per car to check the\nrepeatability of the crankshaft behaviour (recommended: 1 coast down per acquisition ?le, easiest to process\nand post-process, add L V_PUC in acquisition ?le for cut-off information).\nDe?ne calibrations to activate the ER adaptive process on engine speed range 1500 rpm to Engine Redline,\nextended fuel cut-off activation to this range, with no adaptive process fade-out and light ?ltering to be able to\nobserve crankshaft behaviour (drift trends).\nFor example:\nC_N_MAX_SEG_AD_ER = C_N_SEG_T_AD_RAW_MAX_ER = 6500 rpm\nC_N_MIN_SEG_AD_ER = C_N_SEG_T_AD_RAW_MIN_ER = 1500 rpm\nC_CRK_DIF_MAX_ER = C_DRV1_MAX_SEG_AD_ER = max values\nC_NR_SEG_AD_ACT_MIN_ER = C_NR_SEG_DRV1_MIN_ER = 0\nC_CRLC_SEG_AD_ER = C_CRLC_FAST_SEG_AD_ER = 0.1\nCheck calibrations of 404R_01 module to obtain LV_SEG_AD_FDOUT_ER = 0 in the required engine speed\nrange.\nFor each acquisition ?le obtained, observe the drift (trend and amplitude) for each segment between\n1. Mean value of segment adaptive values on nominal engine speed range for adaptive process. In this\nexample mean(SEG_AD_MMV_ER[1] & SEG_AD_MMV_ER[3]) = 0.17?\n2. Segment adaptive values at highest engine speed. In this example @ 6350 rpm SEG_AD_MMV_ER[1] =\nSEG_AD_MMV_ER[3] = 0.63?\nCompose the relative trend of segment adaptive trend as successive line sections to be able to approximate\nwith 1D interpolation table. As IP_SEG_AD_COR_ER_xT_y corrections use multiple engine speed breakpoints\nLDPM_N_32_1_ENRD, set same origin for each line sections. To compensate the drifts, trend must be applied\nwith opposite sign than the adaptive values observed.\nER Segment Adaptive values vs. Engine Speed & Segment drift trends \nSEG_AD_MMV_ER[1 ...3] = f(N) \n1000 2000 3000 4000 5000 6000 7000 \n-1 \n-0.8 \n-0.6 \n-0.4 \n-0.2 \n0\n0.2 \n0.4 \n0.6 \n0.8 \n1 x 10 \n-3 \n % \n [rpm] \nNominal Engine Speed \nRange for Adaptive Process \nMaximum Drift \non \nAdaptive Values \nMaximum Drift on SEG_AD_MMV_ER[1] = 0.63 ? (-0.02) = 0.65? > 0.5? \nMaximum Drift on SEG_AD_MMV_ER[3] = 0.63 ? (0.12) = 0.51? > 0.5? \nIP_SEG_AD_COR_ER_y \nOnce all cars available are tested and evaluated, de?ne the mean value per segment and per transmission\ntype that could correct in the best way the most important sample of your car population.\nFile: 30Q01O01.00D\n7723Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2897, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e876ef53-2891-4856-8f42-11fa38eb5c1a": {"__data__": {"id_": "e876ef53-2891-4856-8f42-11fa38eb5c1a", "embedding": null, "metadata": {"page_label": "153", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b71773b0-a5bf-4f84-933d-a164ab84317a", "node_type": "4", "metadata": {"page_label": "153", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "138b85717319e8507645f945cecf685d6a94e6510668accceaa17b09a083e335", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\n29.10.3 Tuning hints for Engine roughness calculation (Module 402E)\n \nA0EL  \nEngine Roughness  \nDiagnosis  \n404Q  \nEngine Roughness  \nSegment Time  \nCorrection  \n402E  \nEngine Roughness  \nCalculation  \n402P  \nEngine Roughness  \nCalculation - \nApplication Incidences  \n404R  \nEngine Roughness  \nAdaptive Learning  \nProcess  \nA0EL  \nEngine Roughness  \nDiagnosis  \nA0EM  \nEngine Roughness  \nDiagnosis - \nApplication Incidences  \n100K  \nENRD Configuration  \nData  \nENSD  ENRD  MISF  \nENRC  \nCYLB  \nERRM  \n29.10.3.1 Module calibration ?owchart\n402E_04 - STEP 2/2  \nEngine roughness DRV2 \ncomponents filter  \n& gain determination (*) \nFINE CALIBRATION:  \n402 E_03 - STEP 2/2  \nCylinder specific engine roughness  \ncomponents correction (*)  \nCALIBRATION:  \n \nIf Necessary  \nFAC_GAIN_ER[NC_CYL_NR]  \nFAC_ADD_ER[NC_CYL_NR]  \n402E - STEP 2/2  \nEngine roughness \ncalcula\ntion \nNLC_CONF_GAIN_ADD_ER frozen  \n402E_01 - STEP 1/1  \nEngine roughness segment  \nreference  \nCALIBRATION:  \nC_SEG_DLY_ER \n402E_02 - STEP 1/1  \nEngine roughness segments  \ncontrol process \nCALIBRATION:  \nC_N_MIN_ER  \nC_N_MAX_ER \n402E_03 - STEP 1/2 \nCylinder specific engine roughness  \ncomponents correction (*) \nNLC_CONF_GAIN_ADD_ER \nPRECALIBRATION: If Necessary  \nFAC_GAIN_ER[NC_CYL_NR]  \nFAC_ADD_ER[NC_CYL_NR]  \n402E_04 - STEP 1/2  \nEngine roughness DRV2 \ncomponents filter \n& gain determination  \nROUGH CALIBRATION: \nIP_FAC_DRV2_ER_AT \nIP_FAC_DRV2_ER_IS_AT \nIP_FAC_DRV2_ER_ \nMT \nIP_FAC_DRV2_ER_IS_MT  \n \nIP_CRLC_DRV2_ER_AT \nIP_CRLC_DRV2_ER_MT \nC_CRLC_DRV2_ZDLY_ER \nIP_FAC_DRV2_ZDLY_ER \nC_T_DRV2_ZDLY_ER \n402E_05 - NO STEP \nEngine roughness components \ncalcula\ntion \nNO CALIBRATION \n402E_06 - STEP 1/1 \nEngine roughness values \ndetermination \nCALIBRATION: \nC_FAC_SCA_ER_STND \nC_N_MAX_ER_STND \n402E - STEP 1/2 \nEngine roughness  \ncalculation  \nC_N_32_MAX_DRV2_ER_IS  \nIP_FAC_DRV2_ER_AT \nIP_FAC_DRV2_ER_IS_AT  \nIP_FAC_DRV2_ER_MT \nIP_FAC_DRV2_ER_IS_MT  \n \nIP_CRLC_DRV2_ER_AT \nIP_CRLC_DRV2_ER_MT \nC_CRLC_DRV2_ZDLY_ER \nIP_FAC_DRV2_ZDLY_ER  \nC_T_DRV2_ZDLY_ER \nC_N_32_MAX_DRV2_ER_IS  \nFile: 30Q01O01.00D\n7724Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2607, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "01239710-3adf-4b51-bd9a-e14a927d0c9d": {"__data__": {"id_": "01239710-3adf-4b51-bd9a-e14a927d0c9d", "embedding": null, "metadata": {"page_label": "154", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "47a6ee7e-16f4-491a-ae3e-66d007d8cbc0", "node_type": "4", "metadata": {"page_label": "154", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "bcb9339c6c52e5e431b5b6b7638a7cefdcf51842a8e79f0e53cd1cbb8f743d14", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\n29.10.3.2 Module calibration prerequisites\nIf NLC_CONF_GAIN_ADD_ER = 1, LOAD_MIS must be already calibrated for breakpoints calibration, see associ-\nated MISF calibration process.\n29.10.3.3 402E_01: Engine roughness segment reference\n\ufffd General Information\nDue to engine roughness de?nition, there is a delay of C_SEG_DLY_ER segments between ER actual value and\nthe segment that was observed by this ER value.\nSEG_NR_ER will be used to identify which cylinder is observed with the engine roughness system variable, it?s\nparticularly useful for mis?re cylinder identi?cation.\nThe segment counter SEG_NR_ER with the limit 0...(NC_CYL_NR - 1) is incremented in the same way than the\ncommon EMS segment counter SEG_NR.\n29.10.3.3.1 Calibration Step 402E_01 - Step 1 / 1\nTask type: calibration\nTo check correct cylinder identi?cation via SEG_NR_ER segment counter, you must observe ER_RAW or ER\nregarding to SEG_NR_ER values.\nMake an acquisition of ER_RAW, SEG_NR & SEG_NR_ER values, create a cylinder mis?re sequence with C_TI_\nAS[0...NC_CYL_NR] = 1 then 0 then 1.\nFor a proper identi?cation, in your acquisition ?le when you?ve produced C_TI_AS_0 = 0, the ER values must\ndecrease as a mis?re each NC_CYL_NR and on these TDC?s, SEG_NR_ER must be equal to 0.\nFor C_TI_AS_1 = 0, the ER values must decrease as a mis?re each NC_CYL_NR TDC?s and on these TDC?s, SEG_\nNR_ER must be equal to 1. Check in the same way all the other cylinders.\nIf C_TI_AS_[NC_CYL_NR] are not integrated on your project, unplug the correct cylinder with breaking box.\nBeware of equivalence between software and physical cylinder numbers.\nIf the segment counter SEG_NR_ER identify another cylinder, then correct the C_SEG_DLY_ER calibration data\naccording the SEG_NR value you observe when you create a mis?re.\nDefault calibration\nNC_CYL_NR C_SEG_DLY_ER  \n3 4 \n4 5 \n5 6 \n6 4 \n8 5 \n \n29.10.3.4 402E_02: Engine roughness segments control process\n\ufffd General Information\nAll ER components calculations are based on corrected segment time acquisitions buffer values SEG_T_COR_\nBUF.\nAs soon as an invalid segment has been detected during acquisition process (LV_ENA_SEG_T_MES = 0) or\nsegment adaptive calculation, ER calculation & mis?re detection have to be disabled (LV_ENA_ER = 0).\nEngine roughness validity is also set according a valid engine speed range de?ned between C_N_MIN_ER &\nC_N_MAX_ER\n29.10.3.4.1 Calibration Step 402E_02 - Step 1 / 1\nThe minimum engine speed for engine roughness calibration has to be lower than the requested minimum\nengine speed for mis?re monitoring (N_IS_SP - 150 rpm for US applications). The Idle speed setpoint for hot\nengine minus 200 rpm is recommended (e.g. idle speed = 700 rpm; set C_N_MIN_ER = 500 rpm).\nFile: 30Q01O01.00D\n7725Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3272, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a577c407-f260-4b4e-b686-bc8790416f4a": {"__data__": {"id_": "a577c407-f260-4b4e-b686-bc8790416f4a", "embedding": null, "metadata": {"page_label": "155", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "03595f6f-9fde-460f-b8f2-e913cadc8410", "node_type": "4", "metadata": {"page_label": "155", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "2ddff3d490fd0bf505b65100670116f37b4c4e8a2051d79b2af9c0f42a483ca3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "83192149-bad9-4c14-a8e7-d54d06e2a413", "node_type": "1", "metadata": {}, "hash": "80f21484f8ae8cd7689f5f07d733f79f42afd6309c0f0427a04826201a9ac122", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nThe maximum engine speed for engine roughness calibration has to be higher than the requested maximum\nengine speed for mis?re monitoring (Fuel cut-off engine speed for US application, 4500 rpm for Europe). E.g.\nfor C_N_MAX_ER = 4600 rpm for an EC application.\n29.10.3.5 402E_04: Engine roughness DRV2 components ?lter & gain determination\n\ufffd General Information\nThis function allows to determinate the calibration coef?cients relative to DRV2 components of the engine\nroughness, according different con?gurations:\nIf used (see project/customer legal requirements concerning mis?re monitoring after engine start), during zero\ndelay mis?re monitoring activation period, speci?c gain & ?lter coef?cients can be apply to DRV2 component\nto be able to detect mis?re just after engine start (dynamic correction modi?ed). This speci?c correction can\nbe applied during a calibration time C_T_ZDLY_MIS - C_T_DRV2_ZDLY_ER.\nElse, FAC_DRV2_ER & CRLC_DRV2_ER are de?ned according transmission type(AT/MT).\nThe mis?re detection criteria ER must oscillate around 0 when there is no mis?ring and have a negative value,\nrepresenting the negative torque applied on the crankshaft, when there is mis?ring.\n29.10.3.5.1 Calibration Step 402E_04 - Step 1 / 2 - Rough Calibration\n\ufffd Example of calibration:\nFAC_DRV2_ER = IP_FAC_DRV2_ER_xT = IP_FAC_DRV2_ER_IS_xT = 1.2 on the complete maps\nIP_CRLC_DRV2_ER_xT = 0.4 on the complete map\nC_CRLC_DRV2_ZDLY_ER = 0.95\nIP_FAC_DRV2_ZDLY_ER = 0.4 on the complete map\nC_T_DRV2_ZDLY_ER = 3.5s (with C_T_ZDLY_MIS= 5s, DRV2_ZDLY is 1.5s effective after engine start)\nC_N_32_MAX_DRV2_ER_IS = 1700 rpm\nNote: _xT stands for MT if L V_AT = 0 and stands for AT if L V_AT = 1\n\ufffd Calibration of FAC_DRV2_ER and CRLC_DRV2_ER in part load & idle speed mode\nTarget of the calibration:\nOptimise IP_FAC_DRV2_ER_xT, IP_FAC_DRV2_ER_IS_xT, IP_FAC_DRV2_ZDLY_ER and IP_CRLC_DRV2_ER_xT in or-\nder that the oscillations generated after a mis?ring or naturally by the engine are minimized or cancelled.\nFor that, it is aimed to oppose DRV2_MMV_ER to ER_RAW (DRV0_ER - DRV1_ER) when this later is negative to\nget ?nally ER near to 0.\nThe values IP_FAC_DRV2_ER_xT, IP_FAC_DRV2_ER_IS_xT are mainly responsible for the amplitude correction\nand it is nearly proportional to the amplitude of the crankshaft speed ?uctuation. The biggest the value of\nFAC_DRV2_ER is, the biggest the correction value will be.\nCRLC_DRV2_ER is mainly responsible for the correction ?tting to the frequency of the speed ?uctuation. The\nbiggest the value is, the fastest but also the shortest the correction!\nThe term DRV2_ER enables the correction of ER_RAW; but the correction is generally performed too early. That\nexplains the presence of the ?ltering value (CRLC_DRV2_ER) in order to adjust the correction position to ?t with\nthe real need. But the action of the ?ltering value reduces also the amplitude of the correction that is why the\nfactor (FAC_DRV2_ER) is used. Therefore, the factor is generally greater than 1.\nAdjust the ?ltering values IP_CRLC_DRV2_ER_xT in order that DRV2_MMV_ER is symmetrical to ER_RAW during\noscillations after single mis?ring by making the ?lter to \"trail\" more or less.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3603, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "83192149-bad9-4c14-a8e7-d54d06e2a413": {"__data__": {"id_": "83192149-bad9-4c14-a8e7-d54d06e2a413", "embedding": null, "metadata": {"page_label": "155", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "03595f6f-9fde-460f-b8f2-e913cadc8410", "node_type": "4", "metadata": {"page_label": "155", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "2ddff3d490fd0bf505b65100670116f37b4c4e8a2051d79b2af9c0f42a483ca3", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a577c407-f260-4b4e-b686-bc8790416f4a", "node_type": "1", "metadata": {"page_label": "155", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "6dbadc103c7210f75d76eeb5a31b0b4316316cb7dab005ccf5404c08a8fa994f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "But the action of the ?ltering value reduces also the amplitude of the correction that is why the\nfactor (FAC_DRV2_ER) is used. Therefore, the factor is generally greater than 1.\nAdjust the ?ltering values IP_CRLC_DRV2_ER_xT in order that DRV2_MMV_ER is symmetrical to ER_RAW during\noscillations after single mis?ring by making the ?lter to \"trail\" more or less. For that IP_FAC_DRV2_ER_xT &\nIP_FAC_DRV2_ER_IS_xT must be set to 1 or 1, 2.\nAdjust then the factor FAC_DRV2_ER in order that ER is always positive or null during oscillations. But take\ncare to not reduce too much the value of ER at mis?ring event by a too big value of DRV2_MMV_ER at this\nmoment.\nThe following pictures show some examples of different calibration values (single mis?re events with crankshaft\noscillations afterwards).\nWhen ER_RAW is observed during oscillations after one mis?re event, we can see that ER_RAW had negative\nvalues. These negative values (due to oscillations) have to be compensated by the term DRV2.\nFile: 30Q01O01.00D\n7726Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 3241, "end_char_idx": 4365, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "124f0f27-145c-44a6-9c0f-e71eb75c6b2f": {"__data__": {"id_": "124f0f27-145c-44a6-9c0f-e71eb75c6b2f", "embedding": null, "metadata": {"page_label": "156", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "942ae279-2f82-4b58-9db6-be312879c860", "node_type": "4", "metadata": {"page_label": "156", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "f90f2e976b554f132995cfd4c31ecaddd83aadc510da531b36894422e4c9f2fd", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\n-1200 \n-900 \n-600 \n-300 \n0\n300 \n600 \n900 \n1 4 7 10 13 16 19 22 25 28 31 34 37 40 43 46 49 52 55 58 61 \nTDC's \n8000 \n8500 \n9000 \n9500 \n10000 \n10500 \n11000 \n11500 \n12000 \n12500 \nER_RAW SEG_T_COR \nER_RAW  [\ufffds] \nSEG_T_COR [\ufffds] \nmisfire  \nTo B e \nCompensated  \nWhen CRLC_DRV2_ER and FAC_DRV2_ER are correctly calibrated, ER_RAW (DRV0_ER - DRV1_ER) should be\ncompensated by DRV2_MMV_ER and ER remains positive or near 0:\nFile: 30Q01O01.00D\n7727Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 978, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "43088a27-845b-476e-82ea-8b6ddca7f32e": {"__data__": {"id_": "43088a27-845b-476e-82ea-8b6ddca7f32e", "embedding": null, "metadata": {"page_label": "157", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0390a07f-ec4a-4aa7-a0bb-d693c22fd03c", "node_type": "4", "metadata": {"page_label": "157", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "7b6bc02573297db5b8d4018e2528eefde3f0fc556f65bd428b645445a415efcd", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\n-1100 \n-600 \n-100 \n400 \n900 \n1 4 7 10 13 16 19 22 25 28 31 34 37 40 43 46 49 52 55 58 61 \nTDC's \nER[\ufffds] \n8000 \n8500 \n9000 \n9500 \n10000 \n10500 \n11000 \n11500 \n12000 \n12500 \nSEG_T_COR [us] \nER_RAW DRV2_MMV_ER ER SEG_T_COR \nCRLC_DRV2_ER = 0,4 \nFAC_DRV2_ER = 1,2 \nmisfire \nCompensation of the negative \nvalue of DRV0 - DRV1 \nIn?uence of CRLC_DRV2_ER, FAC_DRV2_ER is set at 1,2.\nWhen CRLC_DRV2_ER is too small, DRV2_MMV_ER is delayed regarding ER_RAW and it compensates ER badly\nor decreases the ?nal value of ER at time where mis?re occurs:\nToo slow response time\n-1100 \n-900 \n-700 \n-500 \n-300 \n-100 \n100 \n300 \n500 \n700 \n900 \n1 4 7 10 13 16 19 22 25 28 31 34 37 40 43 46 49 52 55 58 61 \nTDC's \nER [us] \n8000 \n8500 \n9000 \n9500 \n10000 \n10500 \n11000 \n11500 \n12000 \n12500 \nSEG_T_COR [us] \nER_RAW DRV2_MMV_ER ER SEG_T_COR \nFile: 30Q01O01.00D\n7728Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1376, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "26e5d790-d92d-4c48-8c16-520ef5507f7b": {"__data__": {"id_": "26e5d790-d92d-4c48-8c16-520ef5507f7b", "embedding": null, "metadata": {"page_label": "158", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c8eebf23-565b-48b4-9e1b-5d349bcde4df", "node_type": "4", "metadata": {"page_label": "158", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "b506be119faabd3a222d6b22f1101989193e7a9b84007a3c1ba1d01509bdb035", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nWhen CRLC_DRV2_ER is too big, DRV2_MMV_ER is in advance regarding ER_RAW and it compensates badly\nER values:\nToo fast response time\n-1100 \n-600 \n-100 \n400 \n900 \n1 4 7 10 13 16 19 22 25 28 31 34 37 40 43 46 49 52 55 58 61 \nTDC's \nER [us] \n8000 \n8500 \n9000 \n9500 \n10000 \n10500 \n11000 \n11500 \n12000 \n12500 \nSEG_T_COR [us] \nER_RAW DRV2_MMV_ER ER SEG_T_COR \nFAC_DRV2_ER is OK  = 1,2 \nCRLC_DRV2_ER too big = 1 \n iin advance to correct \nDRV0 - DRV1 \nIn?uence of FAC_DRV2_ER, CRLC_DRV2_ER is set to 0,4.\nWhen FAC_DRV2_ER is too big, ER goes further from 0 and the value of ER is reduced at the time where a\nmis?re event occurs, that can cause misdetection.\nToo big correction no mis?re detection possible\n-1100 \n-900 \n-700 \n-500 \n-300 \n-100 \n100 \n300 \n500 \n700 \n900 \n1 4 7 10 13 16 19 22 25 28 31 34 37 40 43 46 49 52 55 58 61 \nTDC's \nER [us] \n8000 \n8500 \n9000 \n9500 \n10000 \n10500 \n11000 \n11500 \n12000 \n12500 \nSEG_T_COR [us] \nER_RAW DRV2_MMV_ER ER SEG_T_COR \nReduced value of \nmisfire \nWhen FAC_DRV2_ER is too small, ER can become negative during an oscillation and induce over-detection:\nToo small correction over-detection of mis?re possible\nFile: 30Q01O01.00D\n7729Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1699, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8e4b7967-eeff-4ea6-86c7-d6d7727def67": {"__data__": {"id_": "8e4b7967-eeff-4ea6-86c7-d6d7727def67", "embedding": null, "metadata": {"page_label": "159", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b6ada496-94d6-4fc4-bddc-409e81f74b25", "node_type": "4", "metadata": {"page_label": "159", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "1c0b019faa32ef84faac376e6c01d1fbde000c91352f24390211d82f3278f3db", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\n-1100 \n-900 \n-700 \n-500 \n-300 \n-100 \n100 \n300 \n500 \n700 \n900 \n1 4 7 10 13 16 19 22 25 28 31 34 37 40 43 46 49 52 55 58 61 \nTDC's \nER [us] \n8000 \n8500 \n9000 \n9500 \n10000 \n10500 \n11000 \n11500 \n12000 \n12500 \nSEG_T_COR [us] \nER_RAW DRV2_MMV_ER ER SEG_T_COR \nFAC_DRV2_ER too small = 0,2 \nCRLC_DRV2_ER is OK = 0,4 \n \nNo reaction of DRV2, \nER follows DRV0-DRV1 \nThe basic calibration should be performed on the chassis-dyno, and then a check on the street (several types\nof streets) is necessary. Make recordings at several gear ratios, several engine loads, several engine speeds\nand several mis?ring rates\nRecord the values of SEG_T_COR, DRV0_ER, DRV1_ER, DRV2_MMV_ER, ER_RAW & ER.\nN = breakpoints of the table\nLoad: limit of the positive torque and step of 100 mg/stk. to full load.\nGear ratios: 1st, 3rd, and 5th\nMis?ring rate: 50%, 25%, 3% (for NC_CYL_NR = 4)\nThen look for the best compromise between FAC_DRV2_ER and CRLC_DRV2_ER for each engine speed, engine\nload and transmission type.\nIf a speci?c DRV2_MMV_ER behaviour is necessary to compensate important oscillations due to idle speed\ncontroller at low engine speed, IP_FAC_DRV2_ER_IS_xT calibration maps are dedicated to such corrections.\nC_N_32_MAX_DRV2_ZDLY_ER is the maximum authorised engine speed to apply these idle calibrations, to be\nset according the highest idle engine speed you require for this area.\n29.10.3.6 Calibration Step 402E_04 - Step 2 / 2 - Fine Calibration\nThis calibration step occurs during (or after) a ?rst mis?re detection calibration phase (phase dedicated to\nmis?re detection thresholds determination).\n\ufffd Calibration of FAC_DRV2_ER and CRLC_DRV2_ER in nominal mode\nCheck that no wrong mis?re detections or non-mis?re detections are induced due to inappropriate nominal\nDRV2 calibrations. For that, check ER index behaviour during mis?re thresholds determination phase, check\nthe difference between ER_RAW and ER in case of mis?re, if too important, it means that you decrease too\nmuch the signal noise ratio in such case.\nCalibration of FAC_DRV2_ER, CRLC_DRV2_ER & C_T_DRV2_ZDLY_ER in engine start mode (ZDLY)\nFor US applications it?s now mandatory to monitor mis?re one engine cycle after engine start (ZDLY period)\n(legal de?nition of engine start = when engine speed reaches hot idle speed setpoint - 150 rpm). If we apply\nthe nominal DRV2 components at engine start, this monitoring will be impossible due to a strong correction\nof the ER values during the engine cranking (high possible ER values).\n\ufffd Calibration target of DRV2 components in ZDLY:\nThe Goal of this calibration step is to centre ER values around at engine start and be able to detect mis?re\nduring this period.\nFor this, light coef?cients are required for DRV2_ZDLY amount & ?ltering, see precalibrations.\nFile: 30Q01O01.00D\n7730Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3326, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6c4f05f6-40b3-489b-b189-0926939df11c": {"__data__": {"id_": "6c4f05f6-40b3-489b-b189-0926939df11c", "embedding": null, "metadata": {"page_label": "160", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d4fd3e4f-a00e-43b9-8a76-630fb2a1ca10", "node_type": "4", "metadata": {"page_label": "160", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "fa6497ad137fc47af959e14379041fb76f453ee664749faa3eccf88030052593", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f599da98-f255-4e2d-bee0-4f645710372c", "node_type": "1", "metadata": {}, "hash": "d835b0b0f552c4c5c92141229544feda6ad67807cc1bb7a34b057e12d6518aad", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nExecute several engine crankings with and without mis?re generation (mis?ring rate: 50%, 25%, 3% for NC_\nCYL_NR = 4) and observe ER trend during ?rst TDC?s. Adjust FAC_DRV2_ER amount with IP_FAC_DRV2_ZDLY_\nER calibration to have ER values centred on 0.\nIf a too important positive overshoot appears on ER (DRV2 correction too important), the mis?re detection will\nnot be possible.\nIf a too important negative overshoot appears on ER (DRV2 correction too little), there?s a risk of wrong mis?re\ndetection during engine cranking.\nObserve the mean time for engine stabilisation after cranking to switch to nominal engine running condition,\nthis mean time will determinate the time to switch from ZDLY to nominal DRV2 calibrations.\nPerform different engine crankings with different engine coolant temperatures (TCO) to be able to compensate\nthe ER rise-up in any case during the zero delay phases, especially with engine cold start.\nPrecalibrations:\nC_T_DRV2_ZDLY_ER = 3s, speci?c DRV2 correction applied only on ?rst 2 seconds\nC_CRLC_DRV2_ZDLY_ER = 0.94\nIP_FAC_DRV2_ZDLY_ER = 0.4 all map cells\n29.10.3.7 402E_03: Cylinder speci?c engine roughness components correction\n\ufffd General information:\nThe mis?re detection based on ER index can be complicated by the torsion/?exion vibrations especially with\nmultiple cylinder engines with a long crankshaft. This affects on mis?re detection ef?ciency, especially at high\nengine speed.\nTo balance this phenomenon, after segment timing correction with ER adaptive values (see ER segment cor-\nrection process), an irregular operation is determined from the measured cylinder segment times, cylinder\nspeci?c additive and multiplicative corrections are applied on the raw engine roughness value(ER_RAW).\nFAC_ADD_ER[NC_CYL_NR] and FAC_GAIN_ER[NC_CYL_NR] correction coef?cients are based on calibration ta-\nbles speci?c to each cylinder and to transmission type (MT/AT).\nThe measurement effect obtained by evaluating the crankshaft speed for the mis?re detection is especially low\nin high engine speeds. In addition interferences can occur in this area such as mechanical tolerances of the\ntarget wheel and torsion vibrations of the crankshaft. This can eventually lead to, that in higher engine speeds;\nthe conventional proceedings of the detection security can no longer be guaranteed for all cylinders.\nAfter a correction of the mechanical tooth error an irregular operation is determined from the measured cylin-\nder segment times. The interference caused by torsion vibrations is suppressed by adding a cylinder selective\ninterference value, which is dependent on the load and engine speed areas of the operating point. The added\ninterference variables are then determined on the engine test bench and put into cylinder individual maps.\nThe torsion depends on the drive train concept especially crankshaft and ?ywheel. If a change should occur\n(i.e. changed to a dual mass ?ywheel) then the calibration must be checked and if necessary, carried out\nagain.\nFunction available only if NLC_CONF_GAIN_ADD_ER = 1 in your ENRD con?guration date ?le.\n29.10.3.7.1 Calibration Step 402E_03 - Step 1 / 2 - Precalibration\nAll values in the maps IP_FAC_ADD_ER_xT[NC_CYL_NR] are ?lled with zeros, all values for IP_FAC_GAIN_ER_\nxT[NC_CYL_NR] are ?lled with ones. Therefore no torsion correction is effective. This adjustment is valid\nduring the whole measurement recording of the IP_FAC_ADD_ER_xT & IP_FAC_GAIN_ER_xT calibration.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3886, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f599da98-f255-4e2d-bee0-4f645710372c": {"__data__": {"id_": "f599da98-f255-4e2d-bee0-4f645710372c", "embedding": null, "metadata": {"page_label": "160", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d4fd3e4f-a00e-43b9-8a76-630fb2a1ca10", "node_type": "4", "metadata": {"page_label": "160", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "fa6497ad137fc47af959e14379041fb76f453ee664749faa3eccf88030052593", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6c4f05f6-40b3-489b-b189-0926939df11c", "node_type": "1", "metadata": {"page_label": "160", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "a19142843079eb44d73a8330cd9727d986af7ce79070059a1ce2f0e3661faa54", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Therefore no torsion correction is effective. This adjustment is valid\nduring the whole measurement recording of the IP_FAC_ADD_ER_xT & IP_FAC_GAIN_ER_xT calibration.\nNote: IP_FAC_ADD_ER_xT stands for IP_FAC_ADD_ER_AT for automatic transmissions & for IP_FAC_ADD_ER_MT\nfor manual transmissions\n29.10.3.7.2 Calibration Step 402E_03 - Step 2 / 2 - Calibration\nPrinciple:\nMeasurement of the cylinder engine roughness values with the stationary operating points, engine speed and\nload over at least 500 working cycles.\nNo appearance of mis?re.\nCalculation of the ER-mean value for every cylinder.\nFile: 30Q01O01.00D\n7731Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 3720, "end_char_idx": 4442, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "66328054-c1db-4dc3-bcab-c6613af9ef77": {"__data__": {"id_": "66328054-c1db-4dc3-bcab-c6613af9ef77", "embedding": null, "metadata": {"page_label": "161", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "acf9ce02-98a3-48ce-9e26-a9851befeabf", "node_type": "4", "metadata": {"page_label": "161", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "39dd3f296805276957f2e705ac198df13cb08860571c6101af47bacc4e617451", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nPosition of the engine speed: 3 operating points at low, middle and high loads (i.e. 33%, 55%, 85%) with a ?ne\nresolution in engine speeds (from 5000 rpm in 100 rpm intervals) beginning at 3000 rpm.\nFor the maps IP_FAC_GAIN_ER_xT [NC_CYL_NR] and IP_FAC_ADD_ER_xT [NC_CYL_NR], each cylinder can adjust\nits associated LDP table to ?x the most judicious engine speeds.\nExample:\nTo make explanations the clearest possible, LDP tables are the same for all the cylinders. However, once your\nLDP table frozen for one cylinder, you can completely change the position of the engine speed for another\ncylinder.\nN \n[rpm] \n2900 3008 3488 4000 4704 5696 6016 6240 \n \nValues in breakpoints: The value 0 is entered for masking all maps IP_FAC_ADD_ER_xT[NC_CYL_NR], for all loads\nin the lowest engine speed breakpoint and for the remaining breakpoints, measurements under stationary\nconditions and calculations of the cylinder individual ER-mean values.\nExample:\nMeasurements from over 500 ?ring cycles resulted in the following ER-mean values in\ufffds for the single cylinder\nat 6000 rpm and 200 mg/stk:\nCylinder 0: -1.3 Cylinder 1: -16.1 Cylinder 2: -8.6\nCylinder 3: 6.3 Cylinder 4: 2.6 Cylinder 5: 17.2.\nThe following values were entered on the 6000 rpm and 200 mg/stk breakpoints in the IP_FAC_ADD_ER_\nxT[NC_CYL_NR] maps:\nIP_FAC_ADD_ER_xT[0] : -1.3 IP_FAC_ADD_ER_xT[1] : -16.1 IP_FAC_ADD_ER_xT[2] : -8.6\nIP_FAC_ADD_ER_xT[3] : 6.3 IP_FAC_ADD_ER_xT[4] : 2.6 IP_FAC_ADD_ER_xT[5] : 17.2.\nER-Mean Value SEG 0 \n-120,0 \n-100,0 \n-80,0 \n-60,0 \n-40,0 \n-20,0 \n0,0 \n20,0 \n2000 2500 3000 3500 4000 4500 5000 5500 6000 \nEngine speed [1/min] \nER [\ufffds] \n125 mg/Hub \n250 mg/Hub \n380 mg/Hub \n3500 4000 \n4700 5700 \n6000 \nBreakpoints \nFile: 30Q01O01.00D\n7732Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2261, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "56d118df-59ff-4bf3-9ad4-5d7f7188da13": {"__data__": {"id_": "56d118df-59ff-4bf3-9ad4-5d7f7188da13", "embedding": null, "metadata": {"page_label": "162", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "aed51a8d-03ab-4718-a526-911a14b71699", "node_type": "4", "metadata": {"page_label": "162", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "9227f68b9a530e251318fd0748ebf4a67efa02bf2524ad6623912ec457fc23c3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nER-Mean Value SEG 1 \n0,0 \n10,0 \n20,0 \n30,0 \n40,0 \n50,0 \n60,0 \n70,0 \n80,0 \n90,0 \n2000 2500 3000 3500 4000 4500 5000 5500 6000 \nEngine speed [1/min] \nER [\ufffds] \n125 mg/Hub \n250 mg/Hub \n380 mg/Hub 3500 4000 \n4700 5700 6000 \nBreakpoints \nGraph: Position of the breakpoints with engine speed at [3500, 4000, 4700, 5700, 6000]. (Only two segments\nobserved)\nCalibration of the gain factor for torsion correction IP_FAC_GAIN_ER_xT[NC_CYL_NR]\nIn case of mis?re, the factors in the cylinder individual maps IP_FAC_GAIN_ER_xT[0] ... IP_FAC_GAIN_ER_xT[5]should\nlevel out the collapse of the ER-values for the various cylinders. The relevant map is selected by means of\nsegment number for the ER-value calculation SEG of the corresponding cylinders just as with the IP_FAC_ADD_\nER_xT[NC_CYL_NR] maps. All IP_FAC_GAIN_ER_xT[NC_CYL_NR] maps have common engine speed break-\npoints.\nDead application by ?lling with ones.\nThe factor value range should lie between 1 and approx. 1.8.\nPrecalibration\nMaps IP_FAC_ADD_ER_xT[NC_CYL_NR] are completely calibrated, all values IP_FAC_GAIN_ER_xT[NC_CYL_NR]\nare ?lled with one.\nThis adjustment is valid during the whole measurement recording of the IP_FAC_GAIN_ER_xT[NC_CYL_NR]\ncalibration.\nCalibration process\nPrinciple: Measuring of the ER cylinder individual with steady operating points engine speed and load with\ngeneration of continuous mis?re of cylinders. Various cylinders show different undershoots. Veri?cation of in-\ndividual mis?ring of the same cylinder of which through suf?cient intervals (e.g. every 4 ?ring cycles) in?uence\neach other.\n1. Execute measurement ?le like describe above with at least 500 ?ring cycles for every mis?ring cylinder\n(NC_CYL_NR measurement ?les per operating point).Engine speed starting at 3000 rpm with a 500 rpm\ninterval, starting at 5000 rpm with a 100 rpm interval (focus on high engine speed).\n2. Compute the ER mean values, ER_CYL[0] ... ER_CYL[5] only based on tdc?s with cylinders in mis?re for\neach operating point. If Software mis?re generator used, you can observe easily the mis?re generated\nwith ?ag L V_MIS_GEN.\n3. Choose the cylinder x with the highest absolute ER_CYL[x] value for overall operating points (here for\nexample: cyl 3). Develop the ER_CYL[3] / ER_CYL[x] ratio for x=0...5 on every operating point. They are in\naccordance to the factors for the IP_FAC_GAIN_ER_xT[NC_CYL_NR] maps.\n4. Check if the ratio ER_CYL[3] / ER_CYL[x] differs from the various load points. Set the engine speed\nbreakpoints so that the linear regression produces a good approximation. Use of lowest breakpoint\n(suggestion: 3000 rpm) with one for masking.\n5. Assignment of the cylinder x to the corresponding IP_FAC_GAIN_ER_xT[x] map\nExample: (6cyl engine)\n1. The measurements at 250 mg/stk produced the following mean values ER_CYL[x]\nFile: 30Q01O01.00D\n7733Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3361, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f9167514-cbbd-4be4-b271-f48ff39ef6ca": {"__data__": {"id_": "f9167514-cbbd-4be4-b271-f48ff39ef6ca", "embedding": null, "metadata": {"page_label": "163", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6d74e5dc-6e3b-4b00-ad90-d38fd29392a5", "node_type": "4", "metadata": {"page_label": "163", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "003888f469ea0bca5428a99a21d1b7a84928aaa7002c4df57de60945811111e1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e8c209be-a525-4aa3-9c46-7461be6e86c9", "node_type": "1", "metadata": {}, "hash": "235899af61522380882ca5bdf0727feea069ef0570e6d99fc55a8db4247dbbb2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\n ER_CYL[0]  ER_CYL[1]  ER_CYL[2]  ER_CYL[3]  ER_CYL[4]  ER_CYL[5 ] \n3000  -393.8  -431.3  -377.1  -434.7  -386.9  -422.8  \n3500 -262.4 -275.6 -248.1 -283.8 -266.3 -287.5 \n4500 -133.2 -146.7 -121.4 -152.2 -130.6 -147.1 \n4700  -112.2  -135.2  -99.8  -135.6  -113.1  -133.9  \n5000 -92.6 -116.6 -84.4 -112.0 -101.7 -114.1 \n5200  -82.2  -104. 5 -76.8  -105.8  -91.8  -101.0  \n5500  -73.7  -88.1  -64.7  -96.8  -75.4  -88.9  \n5700 -67.8 -77.9 -55.9 -84.8 -68.3 -84.4 \n5800 -64.9 -72.0 -58.8 -84.5 -69.9 -77.4 \n5900 -65.2 -70.4 -56.1 -79.0 -68.7 -76.5 \n6000 -64.0 -68.6 -46.8 -76.0 -59.1 -67.4 \n \n \n-500,0 \n-450,0 \n-400,0 \n-350,0 \n-300,0 \n-250,0 \n-200,0 \n-150,0 \n-100,0 \n-50,0 \n0,0 \n3000 3500 4000 4500 5000 5500 6000 \nEngine speed [rpm] \nER_CYL[i]  [\ufffds] \nER_CYL[0] \nER_CYL[1] \nER_CYL[2] \nER_CYL[3] \nER_CYL[4] \nER_CYL[5] \nER_CYL[i] mean values with Misfire at load 250 mg/strk \n1.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1307, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e8c209be-a525-4aa3-9c46-7461be6e86c9": {"__data__": {"id_": "e8c209be-a525-4aa3-9c46-7461be6e86c9", "embedding": null, "metadata": {"page_label": "163", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6d74e5dc-6e3b-4b00-ad90-d38fd29392a5", "node_type": "4", "metadata": {"page_label": "163", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "003888f469ea0bca5428a99a21d1b7a84928aaa7002c4df57de60945811111e1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f9167514-cbbd-4be4-b271-f48ff39ef6ca", "node_type": "1", "metadata": {"page_label": "163", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "82a5e00706450e6942ab62e04a4d7a1cb8076c1724e5bf7ebaf66a237166877c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The measurement at 380 mg/stk produced the following mean values ER_CYL[x]\n ER_CYL[0]  ER_CYL[1]  ER_CYL[2]  ER_CYL[3]  ER_CYL[4]  ER_CYL[5]  \n3000  -629.6  -677.6  -592.7  -700.1  -638.0  -680.4  \n3500 -413.1 -431.6 -398.6 -442.0 -417.4 -457.9 \n4000  -290.9  -29 3.5  -264.4  -313.6  -286.9  -305.9  \n4500  -198.2  -230.2  -180.7  -231.2  -200.5  -234.2  \n4700 -176.2 -200.7 -152.8 -198.5 -185.9 -191.7 \n5000  -140.0  -175.4  -130.9  -168.7  -154.0  -172.0  \n5200  -119.7  -162.2  -114.6  -152.5  -138.0  -155.2  \n5500 -103.1 -140.8 -92.5 -140.7 -115.0 -&permil;.7 \n5600  -96.8  -&permil; .9  -84.9  -&permil; .0  -105.5  -129.3  \n5700 -94.9 -125.1 -83.4 -132.0 -103.0 -121.5 \n5800 -89.5 -108.6 -76.0 -120.1 -94.1 -112.6 \n5900  -88.3  -110.6  -77.4  -116.5  -94.4  -109.6  \n6000 -90.3 -99.8 -73.8 -115.6 -96.5 -106.4 \n \nFile: 30Q01O01.00D\n7734Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 1308, "end_char_idx": 2258, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e974899b-9233-459e-b21a-0bbe1e0c826e": {"__data__": {"id_": "e974899b-9233-459e-b21a-0bbe1e0c826e", "embedding": null, "metadata": {"page_label": "164", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f5f689c3-0bcd-4b92-aa36-51a416b76073", "node_type": "4", "metadata": {"page_label": "164", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "59243c2f8e7cd90c1031352210d40c868f9cad4f10a862b410a9b0bddb9d5cc7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\n \n-800,0 \n-700,0 \n-600,0 \n-500,0 \n-400,0 \n-300,0 \n-200,0 \n-100,0 \n0,0 \n3000 3500 4000 4500 5000 5500 \nEngine speed [rpm] \nER_CYL[i] [\ufffds] \nER_CYL[0] \nER_CYL[1] \nER_CYL[2] \nER_CYL[3] \nER_CYL[4] \nER_CYL[5] \nER_CYL[i] mean values with Misfire at load 380 mg/strk \n1. Cylinder 3 shows the absolute largest undershoot in ER above all observed measurement points\n2. Normalisation ER_CYL[3] / ER_CYL[x]for operating point 5500 rpm. 380 mg/stk results\nCylinder 0 : 140.7 / 103.1 = 1.365 Cylinder 1 : 140.7 / 140.8 = 1\nCylinder 2 : 140.7 / 92.5 = 1.13 Cylinder 3 : 140.7 / 140.7 = 1\nCylinder 4 : 140.7 / 115 = 1.22 Cylinder 5 : 140.7 / &?.7 = 1.02\n1. The total results for measurement series at 380 mg/stk :\nER_CYL[3] / ER_CYL[x] ratios for misfire at 380 mg/strk \n0,90 \n1,00 \n1,10 \n1,20 \n1,30 \n1,40 \n1,50 \n1,60 \n1,70 \n3000 3500 4000 4500 5000 5500 6000 \nEngine speed [rpm] \nER_CYL[3] / ER_CYL[x] \nER_CYL[0] \nER_CYL[1] \nER_CYL[2] \nER_CYL[3] \nER_CYL[4] \nER_CYL[5] \n1. Here only cylinder 2 is observed:\nFile: 30Q01O01.00D\n7735Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1554, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c0642c1c-d2ae-4d2c-b823-b91632698237": {"__data__": {"id_": "c0642c1c-d2ae-4d2c-b823-b91632698237", "embedding": null, "metadata": {"page_label": "165", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d792d09c-03d4-4883-8dd2-7e51d50f2d63", "node_type": "4", "metadata": {"page_label": "165", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "b6ae47790ee23a419d7f0bfb611ae34d016f659914549e19935036678181127c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nER-ratio cyl. 2 \n1,00 \n1,10 \n1,20 \n1,30 \n1,40 \n1,50 \n1,60 \n1,70 \n3000 3500 4000 4500 5000 5500 6000 6500 \nEngine speed [1/min] \nER_CYL[3] / ER_CYL[4] \n250 mg/Hub \n380 mg/Hub \nbreakpoints \n1.13 \n1.52 \n1.46 \n1. Cylinder 2 (software order, see con?guration ?le for equivalence between software & physical number)\ncorresponds to the table IP_FAC_GAIN_ER_xT[2]\nN [rpm] 3000 3500 5700 6000 \nIP_FAC_GAIN_ER _xT [2]  1 1.13  1.52  1.46  \n \n1. Validation comment :\nCalibration on one vehicle per transmission type.\nValidation on at least two cars per transmission type, check that corrections obtained is valid for other\ncars with the same transmission type.\nRevalidation must be executed if any last minute crankshaft/DMF/transmission redesign occurs.\n29.10.3.8 402E_05: Engine roughness components calculation\n\ufffd General information:\nThe engine roughness calculation needs three individual components: a static component (DRV0_ER), a dy-\nnamic component (DRV1_ER) and a curvature component (DRV2_ER). These component de?nitions are spe-\nci?c to the engine cylinder number (see following related subchapters).\nDRV2_MMV_ER is the ?ltered curvature component correction (DRV2_ER) who allows adding an arti?cial pos-\nitive offset on ER value in case of dynamic curvature effects. This feature had a safety effect against wrong\ndetection in case of segment oscillations.\nER_RAW is the engine roughness value without curvature component (DRV2_MMV_ER) used by cylinder bal-\nancing and engine warm up monitoring modules.\n29.10.3.8.1 Calibration Step 402E_05 - Step 0 - No Calibration\nER components calculation is only managed regarding NC_CYL_NR con?guration data, no calibration data\ninvolved.\n29.10.3.9 402E_06: Engine roughness values determination\n\ufffd General information:\nER is the complete engine roughness value including all ER components (DRV0_ER, DRV1_ER & DRV2_MMV_\nER). Speci?ed & used by mis?re detection module.\nER_STND is the normalised engine roughness value versus engine speed that could be ampli?ed by a gain\nC_FAC_SCA_ER_STND. This is the nominal engine roughness value divided by the corresponding cubic cor-\nrected ER segment time (SEG_T_COR_BUF[NC_SEG_DLY_ER])3. The cubic segment time is calculated by using\na mantisse and an exponent.\nFile: 30Q01O01.00D\n7736Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2805, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "afdb0c12-e26e-49e7-8d4b-aa6c9d857969": {"__data__": {"id_": "afdb0c12-e26e-49e7-8d4b-aa6c9d857969", "embedding": null, "metadata": {"page_label": "166", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1a0d0a94-1992-4a21-8c4a-a9408a95d4f7", "node_type": "4", "metadata": {"page_label": "166", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "a310daf67e8c0992683f50d7b13051f2e8aee153d8401d27f49c53e6d3e710f4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nER index is used by MISF aggregate only if NLC_USE_ER_STND_MIS = 0. In other case MISF uses the ER_STND\nindex like for ENRC and CYLB aggregates.\n29.10.3.9.1 Calibration Step 402E_06 - Step 1/1 -Calibration\nMaximum engine speed to activate ER_STND calculation: C_N_MAX_ER_STND\nThis maximum engine speed is determined in function of the aggregates that uses this data.\nIf NLC_USE_ER_STND_MISF = 0, ENRC & CYLB not integrated. No modules will use ER_STND. As ER_STND use\ntriple multiplication and huge data formatting for normalisation who consume CPU resources at TDC update\nrate. It could be interesting to stop this calculation process especially at high engine speed. In such case\nrecommended calibration C_N_MAX_ER_STND = 0 rpm ->calculation cut-off.\nFor other con?gurations, it depends of the maximum engine speed needed for Aggregates using ER_STND\ndata. See table below for con?guration sum-up.\nNo ENRC & No CYLB integrated ENRC & No CYLB integrat ed CYLB & No ENRC integrated CYLB & ENRC integrated \nC_N_MAX_ER_STND = \n0 rpm \nC_N_MAX_ER_STND = \nMax(Eng Speed of ENRC) \nC_N_MAX_ER_STND = \nMax(Eng Speed of CYLB) \nC_N_MAX_ER_STND = \nMax(Max Eng Speed of CYLB, \nMax Eng Speed of ENRC) \nC_N_MAX_ER_STND = \n4500 + 100 rpm \nC_N_MAX_ER_STND = \nMax(4500 + 100 rpm, \nMax Eng. Speed of ENRC) \nC_N_MAX_ER_STND = \nMax(4500 + 100 rpm, \nMax Eng. Speed of CYLB) \nC_N_MAX_ER_STND = \nMax(4500 + 100 rpm, \nMax Eng. Speed of CYLB, \nMax Eng. Speed of ENRC) \nC_N_MAX_ER_STND = \nredline + 100 rpm \nC_N_MAX_ER_STND = \nredline + 100 rpm \nC_N_MAX_ER_STND = \nredline + 100 rpm \nC_N_MAX_ER_STND = \nredline + 100 rpm \nScaling factor for normalised engine roughness index ER_STND: C_FAC_SCA_ER_STND\nThis scaling factor have sense only when NLC_USE_ER_STND_MIS = 1 or ENRC integrated or CYLB integrated.\nTo determinate the best gain on ER_STND, please check that:\n? No over?ow occurs on ER_STND at low engine speed / high engine load with mis?res (biggest engine\nspeed drops possible).\n? ER_STND quantum (least resolution value) must be smaller than at least the tenth of the smallest mis?re\ndrop at highest engine speed of legal target (4500rpm for EC or Redline for US) and lowest legal engine\nload for monitoring (see zero load line de?nition in MISF aggregate methodology).\n29.10.4 Module 404R: Engine roughness adaptive learning process\n \nA0EL  \nEngine Roughness  \nDiagnosis  \n404Q  \nEngine Roughness  \nSegment Time  \nCorrection  \n402E  \nEngine Roughness  \nCalculation  \n402P  \nEngine Roughness  \nCalculation - \nApplication Incidences  \n404R  \nEngine Roughness  \nAdaptive Learning  \nProcess  \nA0EL  \nEngine Roughness  \nDiagnosis  \nA0EM  \nEngine Roughness  \nDiagnosis - \nApplication Incidences  \n100K  \nENRD Configuration  \nData  \nENSD  ENRD  MISF  \nENRC  \nCYLB  \nERRM  \nFile: 30Q01O01.00D\n7737Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3314, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7f114dcb-17f6-46ec-a602-6d17788c9b67": {"__data__": {"id_": "7f114dcb-17f6-46ec-a602-6d17788c9b67", "embedding": null, "metadata": {"page_label": "167", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a0d75184-4272-4052-9728-5b64e064026d", "node_type": "4", "metadata": {"page_label": "167", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "ddb4a212ac8cfffc08847bc8068fc72df4199e95faa17e097302ae5080ff6d5c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\n29.10.4.1 Module calibration ?owchart\n \n404R - STEP 1/2 \nEngine roughness \nadaptive learning \npro cess \n404R_01 - STEP 1/1  \nFade out conditions o f engine \nroughness segment adaptive process \nCALIBRATION: \nIP_MAF_DIF_MAX_ER_AD \nIP_LOAD_GRD_ER_AD \nIP_TPS_GRD_MAX_ER_AD \nC_T_MAF_DIF_DLY_ER_AD \nC_T_LOAD_GRD_DLY_ER_AD \nC_T_TPS_GRD_DLY_ER_AD \nC_T_ACCOUT_DLY_ER_AD \n404R_02 - STEP 1/2  \nEnd of line specific request for ER \nsegment adaptive values learning \nprocess (*) \nPRECALIBRATION: \nLC_SEG_AD_ER_REQ_EOL \nC_N_MAX_SEG_AD_ER_EOL_xT \nC_N_MIN_SEG_AD_ER _EOL_xT \nC_DRV1_MAX_SEG_AD_ER_EOL \nC_NR_SEG_AD_ACT_MIN_ER_EOL \nC_NR_SEG_DRV1_MIN_ER_EOL \n404R_03 - STEP 1/1  \nEngine roughness adaptive learning \nprocess management \nCALIBRATION: \nC_N_MAX_ L_ SEG_AD_ER_xT  \nC_N_MIN_ L_ SEG_AD_ER_xT \nC_N_SEG_T_AD_RAW_MAX_ER \nC_N_SEG_T_AD_RAW_MIN_ER  \nC_CRK_DIF_MAX_ER  \nC_DRV1_MAX_SEG_AD_ER  \nC_NR_SEG_AD_ACT_MIN_ER  \nC_NR_SEG_AD_AVL_ER  \nC_NR_SEG_DRV1_MIN_ER  \nC_CRLC_SEG_AD_ER  \nC_CRLC_FAST_ SEG_AD_ER  \nC_CRLC_SEG_AD_ER_EOL  \n404R_04 - STEP 1/1 \nEngine roughness adaptive values \ncalculation & filtering \nCALIBRATION: \nLC_SEG_AD_LIM_REAC_ER \nC_CRLC_SEG_AD_RAW_ER  \nC_SEG_AD_MAX_ER  \n404R_05 - STEP 1/2 \nEngine roughness adaptive values \ndifference on the same physical \nsegment out of range (*) \nPRECALIBRATION: \nC_SEG_AD_DIF_MAX_ER \n404R_02 - STEP 2/2  \nEnd of line specific request for ER \nsegment adaptive values learning \nprocess (*) \nCALIBRATION for EOL Plant:  \nC_N_MAX_SEG_AD_ER_EOL_xT \nC_N_MIN_SEG_AD_ER _EOL_xT \nC_DRV1_MAX_SEG_AD_ER_EOL  \nC_NR_SEG_AD_ACT_MIN_ER_EOL  \nC_NR_SEG_DRV1_MIN_ER_EOL \nLC_SEG_AD_ER_REQ_EOL \n404R - STEP 2/2 \nEngine roughness  \nadaptive learning \npro cess  \n404R_05 - STEP 2/2 \nEngine r oughness adaptive values \ndifference on the same physical  \nsegment out of range (*) \nCALIBRATION: \nC_SEG_AD_DIF_MAX_ER \nC_N_MAX_L_SEG_AD_ER_xT \nC_N_MAX_L_SEG_AD_ER_xT \n29.10.4.2 404R_03: Engine roughness adaptive learning process management\n\ufffd General Information\nThe ER adaptive learning process is composed with two adaptive processes:\n? A Fast adaptive process used for crankshaft/?ywheel behaviour monitoring SEG_AD_RAW_MMV_ER[NC_\nCYL_NR]: The ?raw? adaptive values learned are not saved, there are only used to stop the slow adaptive\nFile: 30Q01O01.00D\n7738Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2808, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7fd508ce-4006-433a-89e8-5fd15b89a47e": {"__data__": {"id_": "7fd508ce-4006-433a-89e8-5fd15b89a47e", "embedding": null, "metadata": {"page_label": "168", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "50170ea8-c885-4cd8-b3ed-829cb75e44ac", "node_type": "4", "metadata": {"page_label": "168", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "9be189439fec591e23b135d9cdf2226206cf11c1b7d9a8c847cc0465ee2350e5", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nprocess in case of important difference between SEG_AD_RAW_MMV_ER[NC_CYL_NR] values (fade-out\ncondition).\n? A Slow adaptive process used for ?ywheel mechanical noise learning SEG_AD_MMV_ER[NC_CYL_NR].\nThe adaptive values learned are used to correct basic segment time samples (SEG_T_MES).\nThe slow adaptive process is managed in two phases:\n? A fast adaptive process for end of line procedures (EOL) who allow a fast convergence to ER ?ywheel\nadaptive values.\n? At the end of the fast adaptive process, a slow adaptive process who will monitor ER adaptive values\nduring the engine lifetime.\nAt the beginning of the fast segment adaptation learning process, it is necessary to upper the engine rough-\nness value with an additional offset (THD_AD_ER), depending on the worst target wheel tolerances excepted to\navoid wrong mis?re detections due to ?ywheel mechanical tolerances. For instance, a ?ywheel with a 0.3\ufffdCrk\nmechanical tolerance on the ER segment corresponds to following segment drift:\nEngine Type ER Segment length \nInduced Drift with \ufffd \n0.3\ufffdCrk tolerance on \nER segment \n3 cyl engine 240\ufffdCrk 2.5? \n4 cyl engine 180\ufffdCrk 3.33? \n5 cyl engine 144\ufffdCrk 4.17? \n6 cyl engine 120\ufffdCrk 5? \n8 cyl engine 90\ufffdCrk 6.68? \n \nThe offset value (THD_AD_ER) by which the ER is increased at the beginning is gradually reduced to zero in a\nlinear way until the 95% correction is obtained.\nAn internal adaptation counter CTR_SEG_AD_ER controls this number of engine cycle steps.\n29.10.4.2.1 Calibration Step 404R_03 - Step 1/1 - Calibration\nThe calibration should be performed at the chassis-dyno with a max. tolerance target wheel but it is quite\ndif?cult to have one at its disposal, therefore any target wheel type can be used.\n\ufffd Example of calibration:\nC_N_MAX_H_SEG_AD_ER_xT= 5500 rpm\nC_N_MAX_MID_SEG_AD_ER_xT= 4500 rpm\nC_N_MAX_L_SEG_AD_ER_xT= 3000 rpm\nC_N_MIN_L_SEG_AD_ER_xT = 2000 rpm\nC_N_SEG_T_AD_RAW_MAX_ER = 3700 rpm\nC_N_SEG_T_AD_RAW_MIN_ER = 1800 rpm\nC_DRV1_MAX_SEG_AD_ER = 200\nC_NR_SEG_DRV1_MIN_ER = 1 or 2 times NC_CYL_NR\nC_NR_SEG_AD_ACT_MIN_ER = 1 or 2 times NC_CYL_NR\nC_CRLC_SEG_AD_ER = 0.05\nC_CRLC_FAST_SEG_AD_ER = 0.1\nC_CRLC_SEG_AD_ER_EOL = 0.75\nC_CRK_DIF_MAX_ER = Check with Maximum Flywheel Tolerances provided by manufacturer for serial produc-\ntion, not for prototypes.\nC_NR_SEG_AD_AVL_ER = when SEG_AD_MMV_ER[NC_CYL_NR] reaches 95% of their ?nal values = -ln(0.05) /\nC_CRLC_SEG_AD_ER_EOL = 3 / C_CRLC_SEG_AD_ER_EOL\nCalibration of C_N_SEG_T_AD_RAW_MAX_ER, C_N_MAX_H_SEG_AD_ER_xT,C_N_MAX_MID_SEG_AD_ER_xT,C_N_MAX_L_SEG_AD_ER_xT\nC_N_SEG_T_AD_RAW_MIN_ER & C_N_MIN_L_SEG_AD_ER_xT:\nFile: 30Q01O01.00D\n7739Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3148, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4fa13af6-190c-498e-bc4d-9faff157a54d": {"__data__": {"id_": "4fa13af6-190c-498e-bc4d-9faff157a54d", "embedding": null, "metadata": {"page_label": "169", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0f531bdd-620a-4a90-ba68-02ccf02aa1c0", "node_type": "4", "metadata": {"page_label": "169", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "ac534ca80f206edc5c413748ed84d27173ccefd6d3e23424756e10efd35535f1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "948ace53-ebf4-4bbc-bf73-986766c525d3", "node_type": "1", "metadata": {}, "hash": "ab85eeae731794eba895915973f99f1ca48c58adf545f4f9aaaeab9f3eb8ec74", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nCrankshaft oscillations (due to DMF, CVT ...) in some speed areas may disturb the adaptive process and may\ncause misdetections of mis?re afterwards. To check this, the engine must be run at different speeds.\nRemark: Check this item very carefully for engines with twin mass ?ywheels (DMF).\nSet C_CRLC_SEG_AD_ER at 0.2 and the engine speed max and min thresholds to: C_N_SEG_T_AD_RAW_MIN_\nER = C_N_MIN_L_SEG_AD_ER_xT = 900 rpm and C_N_SEG_T_AD_RAW_MAX_ER = C_N_MAX_L_SEG_AD_ER_xT =\n6000 rpm (or redline) to enable the fast and slow target wheel learning processes in the complete engine\nspeed range.\nRun the complete engine speed range from 6000 to 1000 rpm very slowly in fuel cut off at several gear ratio\nand several temperatures. Control that values of SEG_AD_MMV_ER[NC_CYL_NR] do not vary more than 0.5?\n(stability of the adaptation value) for the calibration of the engine speed threshold.\nFind the engine speed range where SEG_AD_MMV_ER[NC_CYL_NR] adaptive values are the more steady.\nIf some problems are observed (curves, resonance), the adaptation has to be forbidden on such an area. Very\noften below 2000 rpm, due to drive train oscillations, the adaptive values start to diverge and above 3500\nrpm adaptive values start to drift on some applications, to be checked.\nAnother point is to be sure that the adaptive processes are correctly executed and achieved during the End of\nLine process on chassis rolls in a way to have a full legal compliant car after EOL process. This point is a critical\none, especially with AT and CVT transmission vehicles.\nAn adaptive range from 2000 rpm to 3500 rpm is often obtained and preferable. Control that the fuel cut-off\nphase is active inside the selected engine speed range.\n\ufffd Calibration of C_CRLC_SEG_AD_ER:\nThese calibrations impact the stability of the slow adaptation values SEG_AD_MMV_ER[NC_CYL_NR]\nSelect afterwards an engine speed between both previous engine speed thresholds (ex: 2500 rpm) at fuel cut\noff.\nMake the ?ltering value C_CRLC_SEG_AD_ER vary for ex from 0.1 / 0.075 / 0.05 / 0.025 to 0.01.\nChoose the value for which the adaptive value SEG_AD_MMV_ER[NC_CYL_NR] is nearly constant (variation\nlower than 0.5?).\nRobustness against disturbances\nCheck on the street, in fuel cut-off mode (PUC engine state), with several gear ratios by increasing and decreas-\ning of the engine speed that the value of C_CRLC_SEG_AD_ER enables stable values of SEG_AD_MMV_ER[NC_\nCYL_NR]. Try several values of C_CRLC_SEG_AD_ER.\nRemark: The segment stability should be checked during hot trip with warm engine. Hot conditions weaken\ndrive train stiffness.\nResult\nThe chosen value of C_CRLC_SEG_AD_ER should be the best compromise between adaptation stability at\nsteady state conditions, fast learning and robustness against disturbances.\nA value of 0.05 has shown in several cases to be the best compromise between adaptation stability, fast\nlearning and robustness against disturbances. Notice that a value below this one could slow down too much\nthe target wheel learning process.\n\ufffd Calibration of C_CRLC_SEG_AD_ER_EOL & C_NR_SEG_AD_AVL_ER\nC_CRLC_SEG_AD_ER_EOL has to be chosen according two targets:\n? Number of TDC in fuel cut-off mode during the EOL process (normally not a critical point. often at least\n100 tdc?s in fuel cut-off)\n? Avoid learning too noisy adaptive values due to a too light ?ltering, even if corrected by slow adaptive\nprocess during engine lifetime.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3857, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "948ace53-ebf4-4bbc-bf73-986766c525d3": {"__data__": {"id_": "948ace53-ebf4-4bbc-bf73-986766c525d3", "embedding": null, "metadata": {"page_label": "169", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0f531bdd-620a-4a90-ba68-02ccf02aa1c0", "node_type": "4", "metadata": {"page_label": "169", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "ac534ca80f206edc5c413748ed84d27173ccefd6d3e23424756e10efd35535f1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4fa13af6-190c-498e-bc4d-9faff157a54d", "node_type": "1", "metadata": {"page_label": "169", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "817f4e3df983d63d98c598808e358c4fc4f6702253042a5bc2edb8f73eb7ea64", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Number of TDC in fuel cut-off mode during the EOL process (normally not a critical point. often at least\n100 tdc?s in fuel cut-off)\n? Avoid learning too noisy adaptive values due to a too light ?ltering, even if corrected by slow adaptive\nprocess during engine lifetime.\nC_NR_SEG_AD_AVL_ER is the needed number of engine cycles in EOL adaptive process to reach 95% of the\n?nal SEG_AD_MMV_ER[NC_CYL_NR] adaptive values obtained with C_CRLC_SEG_AD_ER_EOL(1st order ?lter)\nC_NR_SEG_AD_AVL_ER = -ln(0.05) / C_CRLC_SEG_AD_ER_EOL\n3 / C_CRLC_SEG_AD_ER_EOL\nFile: 30Q01O01.00D\n7740Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 3587, "end_char_idx": 4265, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "436f8e17-1746-45ad-af13-8b348221ad01": {"__data__": {"id_": "436f8e17-1746-45ad-af13-8b348221ad01", "embedding": null, "metadata": {"page_label": "170", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d6d0c991-8ab1-4e61-84db-4e1aff629103", "node_type": "4", "metadata": {"page_label": "170", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "1aa69fae248a3e24ad19b3382d67d9910a4648a44a25da3f6e7d75ffecfbbccf", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nCalibration of C_DRV1_MAX_SEG_AD_ER, C_NR_SEG_DRV1_MIN_ER & C_NR_SEG_AD_ACT_MIN_ER:\nDRV1_ER is representative of the deceleration or acceleration of the engine in fuel cut-off.\nTherefore for the robustness of the adaptation against disturbances, check on the street in deceleration phases\nand some brake events, with C_DRV1_MAX_SEG_AD_ER=200, if the adaptive values (SEG_AD_MMV_ER[NC_\nCYL_NR]) are disturbed in a great extent (It should stay nearly constant at the end of the adaptive phase) . If\nthe adaptive values are disturbed then measured the value of DRV1_ER in parallel to the adaptive value and\nreduces the value of C_DRV1_MAX_SEG_AD_ER if necessary.\nC_NR_SEG_DVR1_MIN_ER = 2 times NC_CYL_NR is recommended.\nC_NR_SEG_AD_ACT_MIN_ER is the delay in number of segment needed before starting the adaptive process\nafter a fuel cut-off.\nC_NR_SEG_AD_ACT_MIN_ER = 2 times NC_CYL_NR is recommended to avoid any phenomenon like extra com-\nbustions due to wall?lm or crankshaft oscillations after fuel cut-off.\n29.10.4.3 404R_02: EOL speci?c request for ER segment adaptive learning process\n\ufffd General Information\nDuring EOL process (LV_EOL_OBD = 1), it?s possible to bypass nominal conditions for slow adaptive learning\nprocess with speci?c EOL calibrations. These calibrations must be adapted to customer EOL plant.\n29.10.4.3.1 Calibration Step 404R_02 - Step 1/2 - Precalibration\nIn this calibration phase, check that LV_EOL_OBD isn?t not active to not bypass nominal adaptive process\nconditions or else set LC_SEG_AD_ER_REQ_EOL = 1 (if LV_EOL_OBD is set to 0, LV_SEG_AD_FDOUT_ER_EOL will\nbe forced to 1).\n29.10.4.3.2 Calibration Step 404R_02 - Step 2/2 - Calibration\nExample of calibration : (identical to nominal adaptive conditions)\nC_N_MAX_SEG_AD_ER_EOL_xT = 3500 rpm\nC_N_MIN_SEG_AD_ER _EOL_xT = 2000 rpm\nC_N_MIN_SEG_AD_ER _EOL_MT = 2000 rpm\nC_DRV1_MAX_SEG_AD_ER_EOL = 200 \ufffds\nC_NR_SEG_AD_ACT_MIN_ER_EOL = 1 or 2 times NC_CYL_NR\nC_NR_SEG_DRV1_MIN_ER_EOL = 1 or 2 times NC_CYL_NR\nLC_SEG_AD_ER_REQ_EOL = 1\n\ufffd Calibration\nAdapt to the customer EOL plan:\n? The engine speed range for adaptive process activation with C_N_MAX_SEG_AD_ER_EOL & C_N_MIN_\nSEG_AD_ER_EOL calibrations.\n? The Maximum DRV1 value C_DRV1_MAX_SEG_AD_ER_EOL & associated delay C_NR_SEG_DRV1_MIN_ER_\nEOL to disable process activation if DRV1 exceeds.\n? The delay C_NR_SEG_AD_ACT_MIN_ER_EOL to disable the adaptive process after beginning of the adap-\ntive process.\nNote : if LC_SEG_AD_ER_REQ_EOL is set to 0, EOL bypass for adaptive process will be always disable\n29.10.4.4 404R_01: Fade out conditions of engine roughness segment adaptive process\n\ufffd General Information\nLV_SEG_AD_FDOUT_ER combines all system conditions to generate a fade out condition as input for the\ngeneric segment slow adaptation process, who provide SEG_AD_MMV_ER[NC_CYL_NR] values.\nFile: 30Q01O01.00D\n7741Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3386, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "25cf6996-df05-464d-8634-52f0db5cdc57": {"__data__": {"id_": "25cf6996-df05-464d-8634-52f0db5cdc57", "embedding": null, "metadata": {"page_label": "171", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "aab56e0b-7a3f-4409-85e5-d8d23a846069", "node_type": "4", "metadata": {"page_label": "171", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "9cfa42e8ea2a981ebb9c6432230b771a557a34364a4d4074620deba1c1d45d11", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\n29.10.4.4.1 Calibration Step 404R_01 - Step 1/1 - Calibration\nCalibration of IP_MAF_DIF_MAX_ER_AD & C_T_MAF_DIF_DLY_ER_AD: maximum air-mass gradient for adap-\ntive process\nDue to trailing throttle / acceleration transition problems it is necessary to disable ER segment learning process\nfor a short period when the air-mass gradient per segment exceeds a calibratable valueIP_MAF_DIF_MAX_ER_\nAD(MAF)\nFade out behaviour summary:\nLV_INH_MAF_DIF_ER_AD \nMAF_DIF condition \nC_T_MAF_DIF_DLY_ER_AD \nMAF_DIF fadeout \ndedicated timer \nC_T_MAF_DIF_DLY_ER_AD \nEspecially for engines with dual mass ?ywheels (DMF), critical behaviours at change from positive to negative\ntorque on the power train could produce oscillations on crankshaft that could disturb slow adaptive process.\nCheck at the transitions from fuel cut off to part load and vice versa as well as all transition from low load to\nhigh load, if some speed ?uctuations are critical to adaptive process.\nMeasure in parallel the load and look at which load difference the speed ?uctuation is forced.\n1. Example: IP_MAF_DIF_MAX_ER_AD(MAF). C_T_MAF_DIF_DL Y_ER_AD= 0.6s\nMAF  IP_MAF_DIF_MAX_ER  \n87  2.2  \n103 5.0 \n169 20.0 \n218  40.0  \n261  65.4  \n272 201.5 \n \nCalibration of IP_LOAD_GRD_ER_AD & C_T_LOAD_GRD_DLY_ER_AD: maximum engine load gradient for adap-\ntive process\nDue to general intervention of the torque model it?s necessary to disable ER segment adaptation for a short\nperiod when the actual torque gradient exceeds a calibratable value, IP_LOAD_GRD_ER_AD(LOAD_MIS)\nFade out behaviour summary:\nLV_INH_LOAD_GRD_ER_AD \nLOAD_GRD_MIS condition \nC_T_LOAD_GRD_DLY_ER_AD \nLOAD_GRD_MIS \nfadeout dedicated timer \nC_T_LOAD_GRD_DLY_ER_AD \nFile: 30Q01O01.00D\n7742Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2248, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d22b2f0e-948f-40e9-b6df-803c72c7425f": {"__data__": {"id_": "d22b2f0e-948f-40e9-b6df-803c72c7425f", "embedding": null, "metadata": {"page_label": "172", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4237ac70-a787-4f8c-87fe-07fe87fd1cbd", "node_type": "4", "metadata": {"page_label": "172", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "ec47598e195608e39db695b225906ff5c6a9000f8cdd35d36912c33ab7828508", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nCalibration of IP_TPS_GRD_MAX_ER_AD & C_T_TPS_GRD_DLY_ER_AD: maximum throttle gradient for adap-\ntive process\nDue to trailing throttle / acceleration transient problems at low engine load it is necessary to disable ER seg-\nment adaptation for a short period when the throttle gradient exceeds a calibratable value,IP_TPS_GRD_MAX_\nER_AD\nFade out behaviour summary:\nLV_INH_TPS_GRD_ER_AD \nTPS_GRD condition \nC_T_TPS_GRD_DLY_ER_AD \nTPS_GRD \nfadeout dedicated timer \nC_T_TPS_GRD_DLY_ER_AD \nThe fade out through throttle gradient normally works at the transition from part load to fuel-cut-off. The air\nmass gradient is in this case too slow.\nExample: IP_TPS_GRD_MAX_ER_AD. C_T_TPS_GRD_DL Y_ER_AD= 0.8s\nTPS_GRD IP_TPS_GRD_MAX_ER_A \nD \n2.8  23.4  \n12.2 70.3 \n20.2 140.6 \n23.4  187.5  \n27.2  398.4  \n50.1 996.0 \n \nCalibration of C_T_ACCOUT_DLY_ER_AD Air - conditioning compressor activation\nWhen the air - conditioning compressor is switched on, an additional load is brie?y applied to the engine.\nThis load jump could cause an ER segment period jump and crankshaft vibration.\nTo de?ne C_T_ACCOUT_DLY_ER_AD, observe on SEG_AD_MMV_ER[NC_CYL_ER] the duration of the disturbance\nthat could occurs on the crankshaft when ACC is active.\nExample : C_T_ACCOUT_DLY_ER_AD = 0.75s\n29.10.4.5 404R_04: Engine roughness adaptive values calculation & ?ltering\n\ufffd General Information\nThis function allows to determinate the coef?cients for ER segment adaptive values ?lters used in the learning\nprocess. Three different stages can be differentiated:\n? Nominal ER segment adaptive values ?ltering mode, used to monitor adaptive values during engine\nlifetime.\n? Fast ER segment adaptive values ?ltering mode, used to quickly obtain valid adaptive values when the\nEMS is new.\n? EOL speci?c ?ltering mode, to be used on EOL or special service request.\nLV_SEG_AD_LIM_ER is set if at least one SEG_AD_MMV_ER[NC_CYL_NR] value exceeds C_SEG_AD_MAX_ER.\n29.10.4.5.1 Calibration Step 404R_04 - Step 1/1 - Calibration\n\ufffd Calibration of C_CRLC_RAW_SEG_AD_ER\nFile: 30Q01O01.00D\n7743Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2583, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6f9651db-c22c-4594-8886-851686c595b8": {"__data__": {"id_": "6f9651db-c22c-4594-8886-851686c595b8", "embedding": null, "metadata": {"page_label": "173", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a6a73d1c-f854-40ea-8ff2-68f097a21b74", "node_type": "4", "metadata": {"page_label": "173", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "9b13a42de96bf2d46c188ff2066e0628697d543ce2c459892b09eee3a13993bd", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness calculation and adaptation (gen)\nThe aim of the fast adaptive process that provides SEG_AD_RAW_MMV_ER is to monitor the behaviours of the\ncrankshaft that could produced wrong learning?s on slow adaptive process, like oscillations produced by Dual\nMass Flywheel (DMF) on a de?ned engine speed range.\nFiltering induced by C_CRLC_FAST_SEG_AD_ER coef?cient has to be enough light to observe such phenomenon,\nbut not too much to avoid over fade-out due to noises on the slow adaptive learning process. Must be lighter\nthan C_CRLC_SEG_AD_ER.\nExample: C_CRLC_SEG_AD_ER = 0.05 ; C_CRLC_FAST_SEG_AD_ER = 0.1\nLC_SEG_AD_LIM_REAC_ER allows to reactivate or not the absolute SEG_AD_MMV_ER[NC_CYL_NR] diagnosis.\nThis absolute diagnosis is set as soon as at least one of the segment adaptive values exceeds the C_SEG_AD_\nMAX_ER calibration.\nLC_SEG_AD_LIM_REAC_ER = 1, the diagnosis result is reinitialised each new activation of the segment adaptive\nprocess.\nGenerally C_SEG_AD_MAX_ER is set close to C_CRK_DIF_MAX_ER, the maximum Flywheel Tolerances provided\nby manufacturer for serial production, not for prototypes.\n29.10.4.6 404R_05: Engine roughness adaptive values difference on the same physical segment\nout of range\n\ufffd General information\nDue to possible feedback from Dual Mass Flywheel oscillations(see transmission/crankshaft design)in adaptive\nprocess engine speed range, ?uctuations on ER adaptive values of identical physical segments can induce\ndissimilarity in ER segment correction.\nIf difference between identical physical segments ER fast ?ltered adaptive values exceeds a calibratable gap\nC_SEG_AD_DIF_MAX_ER, a fade out of segment adaptive process is applied.\n29.10.4.6.1 Calibration Step 404R_05 - Step 1/2 - Precalibration\nIn a ?rst step, to avoid fade-out of segment adaptive process due to LV_SEG_AD_DIF_MAX_ER = 1, set C_SEG_\nAD_DIF_MAX_ER equals to C_CRK_DIF_MAX_ER\n29.10.4.6.2 Calibration Step 404R_05 - Step 2/2 - Calibration\nIf on your application, crankshaft oscillations phenomenon occurs during fuel cut-off due for instance to DMF\nor CVT shifting, observe on SEG_AD_RAW_MMV_ER[NC_CYL_NR] values which amount of ER adaptive values\ndifference on same physical segment could induce on SEG_AD_MMV_ER[NC_CYL_NR] drifts exceeding 0.5?.\nSEG_AD_RAW_MMV_ER[NC_CYL_NR] must change enough quickly(see calibration of ?lter coef?cient C_CRLC_\nSEG_AD_RAW_ER) to allow to detect this drift amount before having too much impact on slow ?ltered adaptive\nvalues SEG_AD_MMV_ER[NC_CYL_NR].\nThe slow adaptive process will be retriggered only when all SEG_AD_DIF_ER_x differences will be less than\nC_SEG_AD_DIF_MAX_ER.\nCheck than the drifts of SEG_AD_RAW_MMV_ER[NC_CYL_NR] values don?t come from a too wide engine speed\nrange for fast adaptive process (drifts can occurs at low and high engine speed), see C_N_SEG_T_AD_RAW_\nMAX_ER & C_N_SEG_T_AD_RAW_MIN_ER calibrations values.\nFile: 30Q01O01.00D\n7744Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3404, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "47d5afb1-b8a3-4f4d-8388-a819529cb09d": {"__data__": {"id_": "47d5afb1-b8a3-4f4d-8388-a819529cb09d", "embedding": null, "metadata": {"page_label": "174", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e29278f5-f97b-48e5-a9c4-64103089c05f", "node_type": "4", "metadata": {"page_label": "174", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "818cef20355cd0851afcfa60054e4c3341d0c34d0f3dd0781694274fec82ec55", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness OBDII (gen)\n29.11 Engine roughness OBDII (gen)\n29.11.1 Requirements\nENSD aggregate active and calibrated, no synchronisation errors/troubles\nIGRE, IGSP & INJR precalibrated\n29.11.2 Tuning hints for Engine roughness diagnosis (Module A0EL)\n \nA0EL  \nEngine Roughness  \nDiagnosis  \n404Q  \nEngine Roughness  \nSegment Time  \nCorrection  \n402E  \nEngine Roughness  \nCalculation  \n402P  \nEngine Roughness  \nCalculation - \nApplication Incidences  \n404R  \nEngine Roughness  \nAdaptive Learning  \nProcess  \nA0EL  \nEngine Roughness  \nDiagnosis  \nA0EM  \nEngine Roughness  \nDiagnosis - \nApplication Incidences  \n100K  \nENRD Configuration  \nData  \nENSD  ENRD  MISF  \nENRC  \nCYLB  \nERRM  \n29.11.2.1 Module calibration ?owchart\nA0EL - STEP 1/1 \nEngine roughness \ndiagnosis \nA0EL_02 \nEngine roughness segment adaptive \nvalues out of range error \nINTEGRATION CHECK \n& CALIBRATION: \nLC_CDN_DIAG_SEG_AD_ER \nC_ABC_INC_SEG_AD_ER \nC_ABC_MAX_SEG_AD_ER \nA0EL_01 \nEngine roughness segment time \nacquisition error \nINTEGRATION CHECK \n& CALIBRATION: \nC_ABC_INC_T_SEG_ER \nC_ABC_MAX_T_SEG_ER \n29.11.2.2 Module calibration prerequisites\nENSD robustness calibration executed\nECU C sample & crankshaft, sensor, ?ywheel design frozen\nNo diagnosis inhibition coming from Module A0EM: Engine roughness diagnosis - Application Incidences(see\nproject speci?c document based on D7 template 30Q01R01.00A). The project speci?c tuning hint dedicated\nto this module is called: ER OBDII (cus).\nFile: 30Q01Q01.00D\n7745Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1978, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a43d7678-5c5d-485f-b834-b1fd5a417924": {"__data__": {"id_": "a43d7678-5c5d-485f-b834-b1fd5a417924", "embedding": null, "metadata": {"page_label": "175", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "947ba91c-7a2d-4662-9e2f-ee95a61cc89e", "node_type": "4", "metadata": {"page_label": "175", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "328bece800d0883cf4500c5628f131872e316fdb85118217d60e37bdaaeda09a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness OBDII (gen)\n29.11.2.3 A0EL_01: Engine roughness segment time acquisition error\n29.11.2.3.1 Con?guration Data\n\u0001 \u0000 \u0002 \u0003 \u0004 \u0005 \u0006 \u0000 \u0006 \t \u0007 \b \n \u000b \u0005 \b\n\u000e \f \u0010 \u0011 \u0012 \r \u000f \u0013 \u0014\n\u0016 \u0015\u0017 \u0018 \u0019 \f \u0013\n\u0010 \u0011 \u0012 \r \u000f \u0013 \u0014\n\u001a \u001b \u001c \u001d \u001e \r \u001c\n\u0016 \u0015 \u0017 \u0018 \u0019 \f \u0013\n\u001f \u0018 \u0015   \n! \u0014 \"\n# $ %& ' ( & ) * * + ( & , - . / + % + * + 0 )  1 + %%+ ) ' 2 3 4 4 + ) ' 5 * 0 0 * 6 0 7 ( 0 7 & 0 ) & ) ' + ) &\n7 0 / ' 6 ) & %% %& ' ( & ) * , - . / + %+ * + 0 )  \n1 P0339  \n8 & 9 , ( : ; & <  \nP0339  \n8 & 9 , ( : ; & <  \nMIL_KEY \n/ \nCARB_ \nM \n 2  \n 3  \nT_SEG_ER     \n \n\ufffd General Information\nThe purpose of this error is to diagnose synchronisation errors on engine roughness segments measure-\nment.\nAn error symptom \" Missing/Adding 1 tooth or more on engine roughness segment acquisition \" is detected\nwhen a crankshaft synchronisation error caused by 1 or 2 missing/additional tooth occurs on one crankshaft\nrevolution.\nNote: In ENSD, most of the cases, the criterion to set LV_INH_MIS_CRK is smaller in term of missing/adding\nteeth number than the criterion to declare an engine desynchronisation. In consequence, LV_INH_MIS_CRK\ncan be set without engine desynchronisation.\n29.11.2.3.2 Calibration Step A0EL_01 - Step 1/1\nEvaluate in mission, with a large C_ABC_MAX_T_SEG_ER maximum value and C_ABC_INC_T_SEG_ER = 1, the\nfrequency of LV_INH_MIS_CRK occurrences.\nA too important number of occurrences on one trip could bring to light troubles in ENSD robustness tuning,\nsensor and ?ywheel troubles.\nThere?s a handshake between LV_INH_MIS_CRK (low-level validity information) and ENRD application validity\ninformations (LV_ENA_SEG_T_MES & LV_ENA_ER). As a ?nal effect, it will fade-out monitoring in MISF & control\nin ENRC & CYLB.\nIf occurrences of LV_INH_MIS_CRK are too important, ?nally it could reduce the mis?re monitoring coverage\non cycle (act as a fade-out in the function).\nFinally, to de?ne C_ABC_MAX_T_SEG_ER value, you need to evaluate a compromise between error over detec-\ntion and impact on monitoring ratio.\nNote: there?s no direct risk between mis?re wrong detections and the bit LV_INH_MIS_CRK, as this bit will\nautomatically shut-off the ER index calculation and inhibit the mis?re monitoring as well. This diagnosis is\nmainly used to inform a too important occurrence of this error, which could have an impact on the diagnosis\nratio for mis?re monitoring. Most of the case, an ENSD error will be set before LV_ERR_T_SEG_ER, except if each\ntime LV_INH_MIS_CRK is set without ENSD desynchronisation.\nFor associated Pcode, see if customer speci?c code already de?ned.\nFile: 30Q01Q01.00D\n7746Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3049, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7479661e-6ae2-417e-bafc-ef16a9942d46": {"__data__": {"id_": "7479661e-6ae2-417e-bafc-ef16a9942d46", "embedding": null, "metadata": {"page_label": "176", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7fccf2cd-1e42-40d8-b72f-91925f053bc3", "node_type": "4", "metadata": {"page_label": "176", "file_name": "29_ENRD-Engine_roughness_determination.pdf", "chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Technical Guide", "source_filename": "29_ENRD-Engine_roughness_determination.pdf"}, "hash": "c430c47871329ef985432cff45d710d9057e5a629a9e79242baf085336f5c1b7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nENRD, Engine roughness OBDII (gen)\n29.11.2.4 A0EL_02: Engine roughness segment adaptive values out of range error\n29.11.2.4.1 Con?guration Data\n\u0001 \u0000 \u0002 \u0003 \u0004 \u0005 \u0006 \u0000 \u0006 \t \u0007 \b \n \u000b \u0005 \b\n\u000e \f \u0010 \u0011 \u0012 \r \u000f \u0013 \u0014\n\u0016 \u0015\u0017 \u0018 \u0019 \f \u0013\n\u0010 \u0011 \u0012 \r \u000f \u0013 \u0014\n\u001a \u001b \u001c \u001d \u001e \r \u001c\n\u0016 \u0015 \u0017 \u0018 \u0019 \f \u0013\n\u001f \u0018 \u0015   \n! \u0014 \"\n# $ %& ' ( & ) * + , + - * + * . / ) 0 + 1 2 & % + *\n* 3 & 1 . ( . *  \n# $ %& ' ( & ) * + , + - * + * . / ) 0 + 1 2 & % + * * 3 & 1 . ( . *  1 P0336  \n4 & 5 + ( - 1 & 6  \nP0336  \n4 & 5 + ( - 1 & 6  \nMIL_KEY \n/ \nCARB_ \nM \n 2  \n 3  \nSEG_AD_ER     \n \n\ufffd General Information\nThe purpose is to diagnose the absolute range of ER segment adaptive values.\nIf during or at the end of the segment adaptive values learning process (L V_SEG_AD_ER = 1 or L V_SEG_AD_ER\n= 1 -> 0), at least one of the engine roughness segment adaptation values is at the limit (LV_SEG_AD_LIM_ER =\n1), the error symptom SEG_AD_ER \"engine roughness segment adaptation values at the limit\" is detected.\n29.11.2.4.2 Calibration Step A0EL_02 - Step 1/1\nIf LC_CDN_DIAG_SEG_AD_ER = 0, the adaptive values out of range information (LV_SEG_AD_LIM_ER) will be\ntaken in account only at the end of the adaptive process. For this solution, an important maximum ABC\ncounter calibration isn?t required (for instance C_ABC_MAX_SEG_AD_ER = 10).\nOtherwise, if LC_CDN_DIAG_SEG_AD_ER = 1, the diagnosis will be executed continuously. In this case the maxi-\nmum ABC counter calibration must be important if you would to be able to set the error based on more than\nonly one adaptive process.\nFor associated Pcode, see if customer speci?c code already de?ned.\nFile: 30Q01Q01.00D\n7747Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2076, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "856cbecf-1e1d-43d5-9568-c927a22baf18": {"__data__": {"id_": "856cbecf-1e1d-43d5-9568-c927a22baf18", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8f68d377-876f-45e8-b32d-4b7696e7d2ad", "node_type": "1", "metadata": {}, "hash": "569a3f72b27a59dcbc8c7c0291d875cd07707a1f5606e2b750e076b7d5aef7e9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "--- Page 2 ---\r\n\r\nThis image presents a block diagram, not a native Simulink diagram, but it represents an architectural overview of a system that could be implemented in Simulink. Therefore, I will proceed with the analysis.\r\n\r\n## Function\r\n\r\nThe primary function of this system, referred to as ENRD (Engine Roughness Data/Diagnosis), is to **process raw engine speed data to derive engine roughness information**. This information is then used by various downstream automotive functions such as misfire monitoring, engine roughness control, and cylinder balancing, to enhance combustion process management and engine performance. It includes adaptive learning to compensate for mechanical tolerances and diagnostic capabilities.\r\n\r\n## Inputs\r\n\r\nThe key inputs to this system are:\r\n\r\n*   **Raw Engine Segment Time Data (from ENSD):** Provided by an external system (`ENSD`), this is the fundamental data representing engine speed variations over time, likely used to infer rotational irregularities. The signal is labeled `ENRD_SIGCVSEQ0`.\r\n*   **ENRD Configuration Data (from 100K):** This module (`100K`) provides configuration parameters (`ENRD_CONFIO`) that tailor the operation of various modules within the ENRD system, specifically `404R`, `402P`, and `A0EM`.\r\n\r\n## Outputs\r\n\r\nThe system provides processed engine roughness and diagnostic information to several dependent external functions:\r\n\r\n*   **MISF (Misfire Monitoring):** Engine roughness data specifically tailored for detecting combustion misfires.\r\n*   **ENRC (Engine Roughness Control):** Engine roughness data used for active control strategies to reduce engine vibrations or irregularities.\r\n*   **CYBL (Cylinder Balancing):** Engine roughness data utilized to balance the power output or performance of individual cylinders.\r\n*   **ERRM (Error Management):** Diagnostic information or error flags related to the engine roughness system's operation or detected engine issues.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the ENRD system can be described step-by-step:\r\n\r\n1.  **Configuration and Initialization (100K):**\r\n    *   The `100K` module, labeled \"ENRD Configuration Data,\" serves as a central point for system configuration. It outputs configuration parameters (`ENRD_CONFIO`) which are fed into `404R` (Adaptive Learning Process), `402P` (Calculation Application Incidences), and `A0EM` (Diagnosis Application Incidences) modules, ensuring they operate according to predefined settings.\r\n\r\n2.  **Raw Segment Time Input (ENSD to 404Q):**\r\n    *   Raw engine segment time data (`ENRD_SIGCVSEQ0`) is received from an external system (`ENSD`, likely representing \"Engine Speed Data\" or similar) by the `404Q` module, \"Engine Roughness Segment Time Correction.\"\r\n\r\n3.  **Segment Time Correction (404Q):**\r\n    *   `404Q` processes the raw segment times. Its primary role is to manage and correct these segment times using adaptive learning values (`ENRD_ADCPRO`) provided by the `404R` module. This correction aims to compensate for mechanical noise or tolerances (e.g., from the flywheel).\r\n    *   The corrected segment time samples (`ENRD_SIGCVER0`) are then passed on to the `402E` module.\r\n\r\n4.  **Adaptive Learning Process (404R):**\r\n    *   `404R`, \"Engine Roughness Adaptive Learning Process,\" continuously generates and refines adaptive learning values (`ENRD_ADCPRO`). These values are crucial for `404Q` to effectively minimize noise originating from flywheel mechanical tolerances.\r\n    *   `404R` also consumes \"fade-out requests\" from `402P` (`ENRD_SIGCVER1`), which might dynamically adjust or disable parts of the adaptive learning based on application-specific conditions.\r\n\r\n5.  **Engine Roughness Calculation (402E and 402P):**\r\n    *   `402E`, \"Engine Roughness Calculation,\" receives the corrected segment time samples (`ENRD_SIGCVER0`) from `404Q`. Based on these, it calculates the engine roughness indexes, which quantify the engine's operational smoothness.\r\n    *   `402P`, \"Engine Roughness Calculation - Application Incidences,\" acts as an application-specific wrapper for `402E`. It handles specific requirements and manages \"fade-out requests\" that affect the generic roughness calculation core. These fade-out requests are also forwarded to `404R`.\r\n\r\n6.  **Engine Roughness Diagnosis (A0EL and A0EM):**\r\n    *   `A0EL`, \"Engine Roughness Diagnosis,\" receives the calculated engine roughness indexes from `402E`. It performs the core diagnosis function on this roughness data.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 4480, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8f68d377-876f-45e8-b32d-4b7696e7d2ad": {"__data__": {"id_": "8f68d377-876f-45e8-b32d-4b7696e7d2ad", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "856cbecf-1e1d-43d5-9568-c927a22baf18", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "c46b2ae878de7dc7ae4acbb95cbba68fb3f9c86712ee839a7d8860d202c28609", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "bd54b312-6ca5-4e5d-a0ec-63b669024a23", "node_type": "1", "metadata": {}, "hash": "baee4899cce095bec53c3de731e570980528efd6e4c89bdd7fabc64249fa6ec8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "It handles specific requirements and manages \"fade-out requests\" that affect the generic roughness calculation core. These fade-out requests are also forwarded to `404R`.\r\n\r\n6.  **Engine Roughness Diagnosis (A0EL and A0EM):**\r\n    *   `A0EL`, \"Engine Roughness Diagnosis,\" receives the calculated engine roughness indexes from `402E`. It performs the core diagnosis function on this roughness data. The output `ENRD_SIGDG0` represents the generic diagnostic result.\r\n    *   `A0EM`, \"Engine Roughness Diagnosis - Application Incidences,\" serves as an application-specific module for `A0EL`. It handles specific requirements and \"fade-out requests\" related to the diagnosis, using configuration data from `100K`. Its output `ENRD_SIGDG1` represents application-specific diagnostic information.\r\n\r\n7.  **Output to Downstream Systems:**\r\n    *   The diagnostic information from `A0EL` (`ENRD_SIGDG0`) and `A0EM` (`ENRD_SIGDG1`) is then routed to various external systems that rely on engine roughness data:\r\n        *   **MISF (Misfire Monitoring):** To detect misfires.\r\n        *   **ENRC (Engine Roughness Control):** For active engine control.\r\n        *   **CYBL (Cylinder Balancing):** For optimizing cylinder performance.\r\n        *   **ERRM (Error Management):** To log or respond to system errors or diagnostic events.\r\n\r\n\r\n--- Page 12 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram's primary function is to **initialize a set of critical parameters and variables related to engine roughness (ER) segment time acquisition and correction**. It assigns predefined constant or default values to these variables at system startup or during a specific initialization phase, as indicated by the title \"29.3.1 Initialization\" and the accompanying text \"ENRD. Engine roughness segment time correction\". These initialized values likely serve as default states or placeholders until actual sensor data or calculated values become available during engine operation.\r\n\r\n## Inputs\r\n\r\nIn the context of an initialization diagram, the \"inputs\" are the initial values themselves that are being assigned to the system's variables. These are generated by the constant blocks and array initializers on the left side of the diagram:\r\n\r\n*   **`0` (Constant):** Used to initialize `SEG_NR_MES`, `LV_ENA_SEG_T_MES`, and `SEG_AD_COR_ER`. These likely represent disabled states, zero offsets, or default reference values.\r\n*   **`1999999.7` (Constant):** Used to initialize `SEG_T_MES`, `SEG_T_COR`, `SEG_T_MES_CH`, and `SEG_T_COR_CH`. This large value often signifies an 'uninitialized', 'invalid', or 'very large default' state, implying that a valid measurement or calculation has not yet occurred for these time-related parameters.\r\n*   **`[NC_CYL_NR]` (Array Size):** A parameter defining the number of cylinders, which determines the size of the `SEG_T_MES_CYL` array. Each element of this array is initialized to `1999999.7`.\r\n*   **`[NC_SIZE_SEG_T_COR_BUF]` (Array Size):** A parameter defining the buffer size, which determines the size of the `SEG_T_COR_BUF` and `SEG_T_COR_BUF_CH` arrays. Each element of these arrays is initialized to `1999999.7`.\r\n\r\nThese initial values are then passed as a bundle or set of signals to the \"1 ini\" block.\r\n\r\n## Outputs\r\n\r\nThe concept of \"outputs\" in an initialization diagram can be interpreted in two ways:\r\n\r\n1.  **Initialized System State:** The primary \"output\" is the modified state of the system, where all the specified variables and arrays have been assigned their initial values. These initialized variables become available for subsequent operational logic.\r\n2.  **Initialization Confirmation/Handle (Implied):** The block labeled \"1\" with an output port also labeled \"ini\" (on the right) might represent a signal indicating successful completion of the initialization process, or perhaps a handle/reference to the initialized data structure or subsystem. However, without further connections or context, its exact purpose as an explicit output signal for further processing is ambiguous. For the purpose of system initialization, the critical outcome is the internal state change.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of this Simulink diagram for initialization is as follows:\r\n\r\n1.  **Define Individual Initial Values:**\r\n    *   Separate constant blocks are used to generate the numerical values `0` and `1999999.7`.", "mimetype": "text/plain", "start_char_idx": 4082, "end_char_idx": 8436, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "bd54b312-6ca5-4e5d-a0ec-63b669024a23": {"__data__": {"id_": "bd54b312-6ca5-4e5d-a0ec-63b669024a23", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8f68d377-876f-45e8-b32d-4b7696e7d2ad", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "a8e04904de73d385e36bad1761355c07d1ed8096e8613b554dd6ad9c26649fb9", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0aacf498-7293-4b4f-a4ee-13397b9806bb", "node_type": "1", "metadata": {}, "hash": "519df1a4c1e1d4c8d9c495e06f8cb85d9eab78ef0f711f71ec114f15b5f38879", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "However, without further connections or context, its exact purpose as an explicit output signal for further processing is ambiguous. For the purpose of system initialization, the critical outcome is the internal state change.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of this Simulink diagram for initialization is as follows:\r\n\r\n1.  **Define Individual Initial Values:**\r\n    *   Separate constant blocks are used to generate the numerical values `0` and `1999999.7`.\r\n    *   For array-type variables (`SEG_T_MES_CYL`, `SEG_T_COR_BUF`, `SEG_T_COR_BUF_CH`), specialized array initialization blocks are used. These blocks take a numerical constant (`1999999.7`) for their element values and depend on pre-defined parameters (`[NC_CYL_NR]` and `[NC_SIZE_SEG_T_COR_BUF]`) to determine the array dimensions.\r\n2.  **Assign to Variables/Signals:** Each generated initial value is assigned to a specific signal or variable:\r\n    *   `SEG_NR_MES` gets `0`.\r\n    *   `LV_ENA_SEG_T_MES` gets `0`.\r\n    *   `SEG_T_MES` gets `1999999.7`.\r\n    *   `SEG_T_MES_CYL` (array) gets `1999999.7` for each element, based on `[NC_CYL_NR]` size.\r\n    *   `SEG_AD_COR_ER` gets `0`.\r\n    *   `SEG_T_COR` gets `1999999.7`.\r\n    *   `SEG_T_COR_BUF` (array) gets `1999999.7` for each element, based on `[NC_SIZE_SEG_T_COR_BUF]` size.\r\n    *   `SEG_T_MES_CH` gets `1999999.7`.\r\n    *   `SEG_T_COR_CH` gets `1999999.7`.\r\n    *   `SEG_T_COR_BUF_CH` (array) gets `1999999.7` for each element, based on `[NC_SIZE_SEG_T_COR_BUF]` size.\r\n3.  **Bundle and Transfer for Initialization:** All these individually initialized signals are then directed to a central block labeled \"1\" with an input port named \"ini\". This signifies that these values are being passed into an overarching initialization routine or data storage mechanism.\r\n4.  **Execute Initialization Routine:** The \"1 ini\" block presumably represents the actual initialization logic. It takes these incoming initial values and stores them in the appropriate memory locations, registers, or data structures that will be used by the engine roughness segment time correction system during its operation.\r\n5.  **Completion (Implied):** Once these values are set, the system is considered initialized for these specific parameters, ready for subsequent functional execution.\r\n\r\n\r\n--- Page 13 ---\r\n\r\nThis image contains two distinct figures: Figure 29.3.3 which is a timing diagram illustrating events and time segments, and Figure 29.3.4 which is a block diagram. The request specifically asks to analyze a \"Simulink diagram\". Figure 29.3.4 is a block diagram with mathematical operations and signal flow, characteristic of a Simulink-style representation. Therefore, the analysis will focus on Figure 29.3.4.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram (Figure 29.3.4) is to calculate the \"Measured Engine Roughness Segment Number\" (`SEG_NR_MES`). This calculation determines the specific segment index for engine roughness measurement by adjusting the current segment number based on a defined delay and ensuring the index wraps around within the total number of cylinders. This is crucial for correctly associating engine roughness data with specific cylinder events in a cyclic engine operation.\r\n\r\n## Inputs\r\n\r\n1.  **SEG_NR**: Represents the current engine roughness segment number.\r\n2.  **NC_SEG_DLY_ER_MES**: Specifies a numerical delay in segments for the engine roughness measurement.\r\n3.  **NC_CYL_NR**: Represents the total number of cylinders in the engine, which defines the modulo base for the segment numbering cycle.\r\n\r\n## Outputs\r\n\r\n1.  **SEG_NR_MES**: The calculated Measured Engine Roughness Segment Number, representing the effective segment index after accounting for delay and cyclic wrap-around.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow calculates `SEG_NR_MES` based on the provided inputs in a step-by-step manner:\r\n\r\n1.  **Delay Adjustment**: The `SEG_NR` (current segment number) is reduced by `NC_SEG_DLY_ER_MES` (segment measurement delay). This indicates that the measurement being processed corresponds to a segment that occurred earlier than the current segment by the amount of the delay. The operation is `SEG_NR - NC_SEG_DLY_ER_MES`.", "mimetype": "text/plain", "start_char_idx": 7973, "end_char_idx": 12172, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0aacf498-7293-4b4f-a4ee-13397b9806bb": {"__data__": {"id_": "0aacf498-7293-4b4f-a4ee-13397b9806bb", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "bd54b312-6ca5-4e5d-a0ec-63b669024a23", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "07c34bf577254b65252b279384b41a31110a17c290fe6ce8a3eafc196eba6d7b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c6a7f714-73d3-4be1-8697-1536e1310092", "node_type": "1", "metadata": {}, "hash": "1e0efa51d278326acd7383d7bbf76a071493e4ea4d090f0667b2f663d6bd7667", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**Delay Adjustment**: The `SEG_NR` (current segment number) is reduced by `NC_SEG_DLY_ER_MES` (segment measurement delay). This indicates that the measurement being processed corresponds to a segment that occurred earlier than the current segment by the amount of the delay. The operation is `SEG_NR - NC_SEG_DLY_ER_MES`.\r\n2.  **Cyclic Wrap-Around (Modulo Operation)**: The result from the delay adjustment is then fed into a 'mod' (modulo) block. This block performs a modulo operation using `NC_CYL_NR` (number of cylinders) as the divisor. This operation ensures that the resulting segment number (`SEG_NR_MES`) remains within the valid range of segment indices (e.g., 0 to `NC_CYL_NR - 1`), effectively handling the cyclic nature of engine operation where segment numbers repeat after a full engine cycle.\r\n3.  **Output Assignment**: The final result of the modulo operation is assigned to the `SEG_NR_MES` output, which is the measured engine roughness segment number.\r\n\r\nIn summary, the diagram implements the mathematical operation:\r\n`SEG_NR_MES = (SEG_NR - NC_SEG_DLY_ER_MES) mod NC_CYL_NR`\r\n\r\n\r\n--- Page 17 ---\r\n\r\nThis diagram is a Simulink model, depicting a logical flow for signal processing within an automotive system.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram, titled \"ENRD. Engine roughness segment time correction,\" is to calculate a corrected engine roughness segment value (`SEG_AD_COR_ER`). It achieves this by applying different correction algorithms or default values based on the enablement of segment time measurement and the specific type of transmission active (Automatic, CVT, DCT), or by falling back to general default correction mechanisms. The goal is to provide a robust and accurate roughness segment correction based on operational context.\r\n\r\n## Inputs\r\n1.  **LV_ENA_SEG_T_MES**: A boolean signal indicating whether the engine segment time measurement is enabled.\r\n2.  **LV_AT**: A boolean signal indicating if Automatic Transmission (AT) specific logic should be applied.\r\n3.  **LV_CVT**: A boolean signal indicating if Continuously Variable Transmission (CVT) specific logic should be applied.\r\n4.  **LV_DCT**: A boolean signal indicating if Dual-Clutch Transmission (DCT) specific logic should be applied.\r\n5.  **SEG_NR_MES**: The measured engine segment number, which is a primary input to the correction algorithms.\r\n6.  **N_32**: An engine speed or rotation count (32-bit value), used in the correction calculations.\r\n7.  **NC_CYL_NR**: The number of cylinders in the engine, also used in the correction calculations.\r\n\r\n## Outputs\r\n1.  **SEG_AD_COR_ER**: The final output, representing the adjusted and corrected engine roughness segment value.\r\n\r\n## Logic Flow\r\n\r\nThe diagram implements a cascaded conditional logic structure to determine the appropriate `SEG_AD_COR_ER` value:\r\n\r\n1.  **Segment Time Measurement Enablement Check**:\r\n    *   The topmost `If` block checks the condition associated with `LV_ENA_SEG_T_MES`.\r\n    *   **If `LV_ENA_SEG_T_MES` is true (conditional path \"if\")**: The logic proceeds to the next level of transmission-specific checks.\r\n    *   **If `LV_ENA_SEG_T_MES` is false (conditional path \"else\")**: A constant value of `0` is passed directly to the `Merge` block, meaning no correction is applied, and the roughness error is considered zero if the measurement is disabled.\r\n\r\n2.  **Transmission Type Prioritization (within enabled measurement path)**:\r\n    *   **Check `LV_AT`**: A conditional `fcn_call()` is executed if `LV_AT` is true. The diagram shows that the inputs `SEG_NR_MES`, `N_32`, and `NC_CYL_NR` are then fed into a block labeled `CDN_VLD_CVT X.2.3.3`. *Note: The use of `CDN_VLD_CVT` here under the `LV_AT` path might be a diagrammatic inconsistency; it would logically be expected to be `CDN_VLD_AT` for an Automatic Transmission scenario. We will describe what is shown.* The output from this `CDN_VLD_CVT` block (which computes `SEG_AD_COR_ER`) is passed to the `Merge` block.\r\n    *   **Else If `LV_CVT`**: If `LV_AT` is false, the next `If` block checks if `LV_CVT` is true.", "mimetype": "text/plain", "start_char_idx": 11851, "end_char_idx": 15940, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c6a7f714-73d3-4be1-8697-1536e1310092": {"__data__": {"id_": "c6a7f714-73d3-4be1-8697-1536e1310092", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0aacf498-7293-4b4f-a4ee-13397b9806bb", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "ef9d202b7ecbf8de1c877819f0a0590add8d6494da0b14d4a6441b74e9afa9cb", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "101c7e1b-3085-4d40-babd-e564664f2ff6", "node_type": "1", "metadata": {}, "hash": "3c96b0110f60fb0df2f5b9905edde82d998e2f8c81a3235518a1e2c2223caaf6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "We will describe what is shown.* The output from this `CDN_VLD_CVT` block (which computes `SEG_AD_COR_ER`) is passed to the `Merge` block.\r\n    *   **Else If `LV_CVT`**: If `LV_AT` is false, the next `If` block checks if `LV_CVT` is true.\r\n        *   If `LV_CVT` is true: A conditional `fcn_call()` is executed. The inputs `SEG_NR_MES`, `N_32`, and `NC_CYL_NR` are fed into the `CDN_VLD_CVT X.2.3.3` block. The calculated `SEG_AD_COR_ER` from this block is passed to the `Merge` block.\r\n    *   **Else If `LV_DCT`**: If both `LV_AT` and `LV_CVT` are false, the next `If` block checks if `LV_DCT` is true.\r\n        *   If `LV_DCT` is true: A conditional `fcn_call()` is executed. The inputs `SEG_NR_MES`, `N_32`, and `NC_CYL_NR` are fed into the `CDN_VLD_DCT X.2.3.4` block. The calculated `SEG_AD_COR_ER` from this block is passed to the `Merge` block.\r\n    *   **Else (No Specific Transmission Type Active)**: If `LV_AT`, `LV_CVT`, and `LV_DCT` are all false, the logic falls through to default correction paths:\r\n        *   **Default Valid Correction (`CDN_VLD X.2.3.1`)**: The inputs `SEG_NR_MES`, `N_32`, and `NC_CYL_NR` are fed into the `CDN_VLD X.2.3.1` block. The calculated `SEG_AD_COR_ER` from this block is passed to the `Merge` block. This block likely represents a general correction valid for unspecified transmission types.\r\n        *   **Default Not Valid Correction (`CDN_NOT_VLD X.2.3.2`)**: If conditions within the `CDN_VLD` path further lead to an \"else\" scenario (not explicitly shown as an `If` block but implied by the flow), the inputs `SEG_NR_MES`, `N_32`, and `NC_CYL_NR` are fed into the `CDN_NOT_VLD X.2.3.2` block. This block represents a fallback for when no valid specific or general correction can be applied, and its calculated `SEG_AD_COR_ER` is passed to the `Merge` block.\r\n\r\n3.  **Merge**: All potential output signals (`SEG_AD_COR_ER` from various correction blocks or the constant `0`) converge into a `Merge` block. This block ensures that only the active signal from the executed conditional path is propagated as the final `SEG_AD_COR_ER` output.\r\n\r\n\r\n--- Page 19 ---\r\n\r\nThis is indeed a Simulink-like diagram, commonly used for modeling automotive control logic.\r\n\r\n## Function\r\nThe primary function of this diagram is to calculate a boolean flag, `LV_TMP_SEL_AT_1`, based on the current measured segment number (`SEG_NR_MES`) and the number of cylinders (`NC_CYL_NR`). It acts as a selection logic, asserting `LV_TMP_SEL_AT_1` to `TRUE` if specific combinations of these two input parameters are met. Given the context \"ENRD. Engine roughness segment time correction\", this output likely controls or indicates a specific operating condition related to engine roughness and segment time correction in an automatic transmission system.\r\n\r\n## Inputs\r\n1.  **SEG_NR_MES**: A discrete or integer signal representing the measured segment number.\r\n2.  **NC_CYL_NR**: A discrete or integer signal representing the number of engine cylinders.\r\n\r\n## Outputs\r\n1.  **LV_TMP_SEL_AT_1**: A boolean (true/false) signal, indicating whether a temporary selection condition is active for automatic transmission segment 1.\r\n\r\n## Logic Flow\r\n\r\nThe logic flow can be broken down into several parallel comparison branches, which are then combined to produce the final output:\r\n\r\n1.  **Direct Segment Number Check:**\r\n    *   The `SEG_NR_MES` input is compared with the constant value `1` using an equality (`==`) comparison block.\r\n    *   The boolean result of this comparison (`SEG_NR_MES == 1`) is fed directly as one of the inputs to the final `OR` gate.\r\n\r\n2.", "mimetype": "text/plain", "start_char_idx": 15702, "end_char_idx": 19289, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "101c7e1b-3085-4d40-babd-e564664f2ff6": {"__data__": {"id_": "101c7e1b-3085-4d40-babd-e564664f2ff6", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c6a7f714-73d3-4be1-8697-1536e1310092", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "fcbcc4aa4e5e5ef9fd32adcaa98c1a31e3031fb238e1ca0c962a2fd3b2057080", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c236e39a-4d88-4c7c-ad2e-de775d31bc5b", "node_type": "1", "metadata": {}, "hash": "d7e23f5318c1c00fd7920d5e20d70eeadc0058eb6ed39b51d7a286e135566241", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**Direct Segment Number Check:**\r\n    *   The `SEG_NR_MES` input is compared with the constant value `1` using an equality (`==`) comparison block.\r\n    *   The boolean result of this comparison (`SEG_NR_MES == 1`) is fed directly as one of the inputs to the final `OR` gate.\r\n\r\n2.  **Paired Segment Number and Cylinder Number Checks (AND Combinations):**\r\n    *   There are five parallel branches, each performing two equality comparisons and then combining their results with an `AND` gate.\r\n    *   **Branch 1 (3 & 4):**\r\n        *   `SEG_NR_MES` is compared with `3`.\r\n        *   `NC_CYL_NR` is compared with `4`.\r\n        *   The results of `(SEG_NR_MES == 3)` and `(NC_CYL_NR == 4)` are fed into an `AND` gate.\r\n        *   The output `((SEG_NR_MES == 3) AND (NC_CYL_NR == 4))` is fed as an input to the final `OR` gate.\r\n    *   **Branch 2 (6 & 5):**\r\n        *   `SEG_NR_MES` is compared with `6`.\r\n        *   `NC_CYL_NR` is compared with `5`.\r\n        *   The results `(SEG_NR_MES == 6)` and `(NC_CYL_NR == 5)` are fed into an `AND` gate.\r\n        *   The output `((SEG_NR_MES == 6) AND (NC_CYL_NR == 5))` is fed as an input to the final `OR` gate.\r\n    *   **Branch 3 (8 & 6):**\r\n        *   `SEG_NR_MES` is compared with `8`.\r\n        *   `NC_CYL_NR` is compared with `6`.\r\n        *   The results `(SEG_NR_MES == 8)` and `(NC_CYL_NR == 6)` are fed into an `AND` gate.\r\n        *   The output `((SEG_NR_MES == 8) AND (NC_CYL_NR == 6))` is fed as an input to the final `OR` gate.\r\n    *   **Branch 4 (10 & 7):**\r\n        *   `SEG_NR_MES` is compared with `10`.\r\n        *   `NC_CYL_NR` is compared with `7`.\r\n        *   The results `(SEG_NR_MES == 10)` and `(NC_CYL_NR == 7)` are fed into an `AND` gate.\r\n        *   The output `((SEG_NR_MES == 10) AND (NC_CYL_NR == 7))` is fed as an input to the final `OR` gate.\r\n    *   **Branch 5 (12 & 8):**\r\n        *   `SEG_NR_MES` is compared with `12`.\r\n        *   `NC_CYL_NR` is compared with `8`.\r\n        *   The results `(SEG_NR_MES == 12)` and `(NC_CYL_NR == 8)` are fed into an `AND` gate.\r\n        *   The output `((SEG_NR_MES == 12) AND (NC_CYL_NR == 8))` is fed as an input to the final `OR` gate.\r\n\r\n3.  **Final OR Combination:**\r\n    *   All six boolean results (one direct `==` output and five `AND` gate outputs) are routed to a single, multi-input `OR` gate.\r\n    *   If *any* of these six conditions are true, the `OR` gate outputs `TRUE`. Otherwise, it outputs `FALSE`.\r\n    *   The output of the `OR` gate is assigned to `LV_TMP_SEL_AT_1`.\r\n\r\nIn essence, `LV_TMP_SEL_AT_1` becomes `TRUE` if `SEG_NR_MES` is `1`, OR if `SEG_NR_MES` is `3` and `NC_CYL_NR` is `4`, OR if `SEG_NR_MES` is `6` and `NC_CYL_NR` is `5`, and so on for the remaining paired conditions. This setup implements a conditional selection based on specific configurations of the segment number and cylinder count.\r\n\r\n\r\n--- Page 20 ---\r\n\r\nThis is a Simulink diagram.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to determine a boolean flag, `LV_TMP_SEL_AT_2`, based on specific combinations of two input integer values: `SEG_NR_MES` (Measured Segment Number) and `NO_CYL_NR` (Number of Cylinders).", "mimetype": "text/plain", "start_char_idx": 19008, "end_char_idx": 22166, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c236e39a-4d88-4c7c-ad2e-de775d31bc5b": {"__data__": {"id_": "c236e39a-4d88-4c7c-ad2e-de775d31bc5b", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "101c7e1b-3085-4d40-babd-e564664f2ff6", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "3c5c00c5262e1af2efeb9857c3af74c43a2b38448b46762ddd14ea6ff8c494e4", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "bc39f453-6b5a-423c-8371-f743fe26a015", "node_type": "1", "metadata": {}, "hash": "89359d58ee105738811e046b8401f377477d36b9a06705b65bdb120b63f70eee", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This setup implements a conditional selection based on specific configurations of the segment number and cylinder count.\r\n\r\n\r\n--- Page 20 ---\r\n\r\nThis is a Simulink diagram.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to determine a boolean flag, `LV_TMP_SEL_AT_2`, based on specific combinations of two input integer values: `SEG_NR_MES` (Measured Segment Number) and `NO_CYL_NR` (Number of Cylinders). It acts as a logical selector, asserting `TRUE` if the input values match any of the predefined pairs of segment number and cylinder count. The context \"ENRD. Engine roughness segment time correction\" suggests this logic might be used to activate or select a specific mode or parameter set within an engine control unit related to engine roughness processing, dependent on the engine configuration and its operational segment.\r\n\r\n## Inputs\r\n\r\n1.  **SEG_NR_MES:** An integer value representing a \"Measured Segment Number\". This input is fed into the left column of equality comparison blocks.\r\n2.  **NO_CYL_NR:** An integer value representing the \"Number of Cylinders\". This input is fed into the middle column of equality comparison blocks.\r\n\r\n## Outputs\r\n\r\n1.  **LV_TMP_SEL_AT_2:** A single boolean (logical) output. This output is `TRUE` if any of the specified conditions are met, and `FALSE` otherwise. The name suggests it's a \"Local Variable Temporary Selection (at) 2\".\r\n\r\n## Logic Flow\r\n\r\nThe diagram employs a parallel comparison and logical combination structure:\r\n\r\n1.  **Parallel Equality Comparisons for `SEG_NR_MES`:**\r\n    *   The `SEG_NR_MES` input is compared against a fixed set of integer constants (2, 3, 5, 6, 8, 10, 12, and others not fully visible but extending downwards) using multiple equality (`==`) blocks. Each comparison yields a boolean result (TRUE if equal, FALSE otherwise).\r\n\r\n2.  **Parallel Equality Comparisons for `NO_CYL_NR`:**\r\n    *   Similarly, the `NO_CYL_NR` input is compared against its own fixed set of integer constants (2, 3, 5, 6, 8, 10, 12 for the upper block, then 5, 6, 6, 8, 7, 10, 8, 12 for the lower block) using equality (`==`) blocks. Each comparison yields a boolean result.\r\n\r\n3.  **AND Gate Combinations:**\r\n    *   For each horizontal \"row\" of logic, the boolean output from a `SEG_NR_MES` comparison is combined with the boolean output from a `NO_CYL_NR` comparison using an `AND` gate.\r\n    *   For example, the topmost `AND` gate evaluates `(SEG_NR_MES == 2) AND (NO_CYL_NR == 2)`.\r\n    *   The second `AND` gate evaluates `(SEG_NR_MES == 3) AND (NO_CYL_NR == 3)`.\r\n    *   This pattern continues for all visible `AND` gates, checking for specific `(SEG_NR_MES, NO_CYL_NR)` pairs.\r\n    *   Each `AND` gate output is `TRUE` only if *both* its inputs (i.e., both equality comparisons in that specific row) are `TRUE`.\r\n\r\n4.  **OR Gate Final Combination:**\r\n    *   All the boolean outputs from the individual `AND` gates are then fed into a single, large `OR` gate.\r\n    *   This `OR` gate determines the final output `LV_TMP_SEL_AT_2`.\r\n\r\n5.  **Output Determination:**\r\n    *   `LV_TMP_SEL_AT_2` will be `TRUE` if *any* of the conditions evaluated by the `AND` gates are `TRUE`.", "mimetype": "text/plain", "start_char_idx": 21741, "end_char_idx": 24909, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "bc39f453-6b5a-423c-8371-f743fe26a015": {"__data__": {"id_": "bc39f453-6b5a-423c-8371-f743fe26a015", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c236e39a-4d88-4c7c-ad2e-de775d31bc5b", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "26da5465d03d6d0f02f727937fbcd6c82ab19d6a1ce9e3ca0f1778c8dfc5339a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f875ab58-950a-4881-a90a-95e9976e4f91", "node_type": "1", "metadata": {}, "hash": "bae9bf5548ae0f51af406a0492bd876c4650f31e6945b41a8548fabab5ee4319", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**OR Gate Final Combination:**\r\n    *   All the boolean outputs from the individual `AND` gates are then fed into a single, large `OR` gate.\r\n    *   This `OR` gate determines the final output `LV_TMP_SEL_AT_2`.\r\n\r\n5.  **Output Determination:**\r\n    *   `LV_TMP_SEL_AT_2` will be `TRUE` if *any* of the conditions evaluated by the `AND` gates are `TRUE`. In other words, if `SEG_NR_MES` and `NO_CYL_NR` match *any one* of the predefined pairs (e.g., (2,2), (3,3), (5,5), (6,6), (8,8), (10,10), (12,12), (5,5), (6,6), (6,6), (8,8), (7,7), (10,10), (8,8), (12,12) - assuming the constant on the left side of the equality blocks matches the one on the right for each AND gate pair, though there are some mixed examples like `SEG_NR_MES==7` with `NO_CYL_NR==7` which are not directly visible for `SEG_NR_MES==7` but implied by the other `NO_CYL_NR` values), the output becomes `TRUE`. If none of the defined pairs match, `LV_TMP_SEL_AT_2` remains `FALSE`.\r\n\r\n\r\n--- Page 21 ---\r\n\r\nThis image contains two Simulink-style diagrams, both showing logical operations. I will analyze the first diagram (Figure 29.3.11) in detail, as the second (Figure 29.3.12) follows an identical logical structure with different constant values for comparison.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram (Figure 29.3.11, \"Calculation of LV_TMP_SEL_AT_3\") is to determine a boolean (logical) flag, `LV_TMP_SEL_AT_3`, based on specific numerical equality conditions for two input signals: `SEG_NR_MES` (Measured Segment Number) and `NC_CYL_NR` (Number of Cylinders). This flag likely indicates whether a particular set of criteria related to engine operation (possibly for roughness correction, as suggested by the surrounding document text \"Engine roughness segment time correction\") is met.\r\n\r\n## Inputs\r\n\r\n*   **SEG_NR_MES (1):** This input represents a measured segment number, likely an integer.\r\n*   **NC_CYL_NR (2):** This input represents the number of cylinders, also likely an integer.\r\n\r\n## Outputs\r\n\r\n*   **LV_TMP_SEL_AT_3 (1):** This is a boolean (true/false) output signal, indicating if any of the specified conditions for temporary selection criteria are met.\r\n\r\n## Logic Flow\r\n\r\nThe diagram calculates the `LV_TMP_SEL_AT_3` output through a series of equality comparisons, AND operations, and a final OR operation:\r\n\r\n1.  **Input Acquisition:** The current values for `SEG_NR_MES` and `NC_CYL_NR` are read from their respective input ports.\r\n\r\n2.  **Segment Number Comparisons:** The `SEG_NR_MES` input is compared for equality (`==`) against a set of predefined constant values. This generates five boolean (true/false) results:\r\n    *   `CondA1 = (SEG_NR_MES == 3)`\r\n    *   `CondA2 = (SEG_NR_MES == 5)`\r\n    *   `CondA3 = (SEG_NR_MES == 8)`\r\n    *   `CondA4 = (SEG_NR_MES == 10)`\r\n    *   `CondA5 = (SEG_NR_MES == 12)`\r\n\r\n3.  **Cylinder Number Comparisons:** The `NC_CYL_NR` input is also compared for equality (`==`) against another set of predefined constant values. This generates five boolean results that are used in the subsequent AND gates:\r\n    *   `CondB1 = (NC_CYL_NR == 7)`\r\n    *   `CondB2 = (NC_CYL_NR == 8)` (first instance)\r\n    *   `CondB3 = (NC_CYL_NR == 8)` (second instance)\r\n    *   `CondB4 = (NC_CYL_NR == 10)`\r\n    *   `CondB5 = (NC_CYL_NR == 9)`\r\n    (Note: The `NC_CYL_NR == 12` comparison result is generated but does not appear to be connected to any of the AND gates in this specific diagram's logic flow for `LV_TMP_SEL_AT_3`).\r\n\r\n4.", "mimetype": "text/plain", "start_char_idx": 24555, "end_char_idx": 28030, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f875ab58-950a-4881-a90a-95e9976e4f91": {"__data__": {"id_": "f875ab58-950a-4881-a90a-95e9976e4f91", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "bc39f453-6b5a-423c-8371-f743fe26a015", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "e23daaf8085df4fcbf0fdcabfc0207608a784ec9e0a70dfe27766a061dc6802f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "89dd6d41-37b6-4675-8b1e-e49b27c3de95", "node_type": "1", "metadata": {}, "hash": "a696fddacec53a08096ae74df681252d613685e815f1369e4a60aa81c2183aaa", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "4.  **Paired Condition Evaluation (AND Gates):** The results from the `SEG_NR_MES` comparisons are logically ANDed with the results from the `NC_CYL_NR` comparisons in specific pairs. This creates five intermediate boolean conditions:\r\n    *   `Result1 = CondA1 AND CondB1` (i.e., `(SEG_NR_MES == 3) AND (NC_CYL_NR == 7)`)\r\n    *   `Result2 = CondA2 AND CondB2` (i.e., `(SEG_NR_MES == 5) AND (NC_CYL_NR == 8)`)\r\n    *   `Result3 = CondA3 AND CondB3` (i.e., `(SEG_NR_MES == 8) AND (NC_CYL_NR == 8)`)\r\n    *   `Result4 = CondA4 AND CondB4` (i.e., `(SEG_NR_MES == 10) AND (NC_CYL_NR == 10)`)\r\n    *   `Result5 = CondA5 AND CondB5` (i.e., `(SEG_NR_MES == 12) AND (NC_CYL_NR == 9)`)\r\n\r\n5.  **Final Selection (OR Gate):** All five intermediate boolean results (`Result1` through `Result5`) are fed into a single OR gate. If *any* of these combined conditions are true, the output of the OR gate becomes true.\r\n    *   `LV_TMP_SEL_AT_3 = Result1 OR Result2 OR Result3 OR Result4 OR Result5`\r\n\r\n6.  **Output Generation:** The final boolean value produced by the OR gate is assigned to the `LV_TMP_SEL_AT_3` output signal.\r\n\r\n\r\n--- Page 22 ---\r\n\r\nThis image displays two Simulink-like block diagrams, each representing a logical calculation for a specific boolean flag (`LV_TMP_SEL_AT_5` and `LV_TMP_SEL_AT_6`). These diagrams are typically used in automotive embedded software development to define control logic.\r\n\r\n## Function\r\n\r\nThe primary function of these diagrams is to determine the state of two distinct temporary selection flags, `LV_TMP_SEL_AT_5` and `LV_TMP_SEL_AT_6`, based on the current engine operating segment number (`SEG_NR_MES`) and the engine's number of cylinders (`NC_CYL_NR`). These flags likely serve as conditions to enable or disable specific functionalities or select particular processing paths within an engine management system, possibly related to engine roughness segment time correction, as indicated by the \"ENRD\" header.\r\n\r\n## Inputs\r\n\r\n*   **`SEG_NR_MES`**: An integer representing the measured engine segment number. (Common to both diagrams)\r\n*   **`NC_CYL_NR`**: An integer representing the number of cylinders in the engine. (Common to both diagrams)\r\n\r\n## Outputs\r\n\r\n*   **`LV_TMP_SEL_AT_5`**: A boolean flag (TRUE/FALSE) indicating a specific selection condition related to engine roughness correction for the 'AT_5' case.\r\n*   **`LV_TMP_SEL_AT_6`**: A boolean flag (TRUE/FALSE) indicating a specific selection condition related to engine roughness correction for the 'AT_6' case.\r\n\r\n## Logic Flow\r\n\r\nThe logic flow describes how the input signals are processed to generate the output flags.\r\n\r\n### Diagram 1: Calculation of `LV_TMP_SEL_AT_5`\r\n\r\n1.  **Input Comparison Group 1:**\r\n    *   The `SEG_NR_MES` input is compared for equality with the constant value `5` (`SEG_NR_MES == 5`).\r\n    *   The `NC_CYL_NR` input is compared for equality with the constant value `12` (`NC_CYL_NR == 12`).\r\n    *   The results of these two comparisons are fed into an **AND** gate. The output of this AND gate is `TRUE` only if both `SEG_NR_MES` is `5` AND `NC_CYL_NR` is `12`.\r\n2.  **Input Comparison Group 2:**\r\n    *   The `SEG_NR_MES` input is compared for equality with the constant value `11` (`SEG_NR_MES == 11`).\r\n    *   The `NC_CYL_NR` input is again compared for equality with the constant value `12` (`NC_CYL_NR == 12`).\r\n    *   The results of these two comparisons are fed into another **AND** gate. The output of this AND gate is `TRUE` only if both `SEG_NR_MES` is `11` AND `NC_CYL_NR` is `12`.\r\n3.", "mimetype": "text/plain", "start_char_idx": 28028, "end_char_idx": 31563, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "89dd6d41-37b6-4675-8b1e-e49b27c3de95": {"__data__": {"id_": "89dd6d41-37b6-4675-8b1e-e49b27c3de95", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f875ab58-950a-4881-a90a-95e9976e4f91", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "e4f73ce061c4522f58780243f74af4cc776df3c3addad7cbb14caa54ac3df52c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0b7fb695-fdf6-4779-b627-949214d737b4", "node_type": "1", "metadata": {}, "hash": "9ffad04f3ec8c6a2f30908d13efd0f0a1354b6ef28308f52932bac86b852cbc8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The `NC_CYL_NR` input is again compared for equality with the constant value `12` (`NC_CYL_NR == 12`).\r\n    *   The results of these two comparisons are fed into another **AND** gate. The output of this AND gate is `TRUE` only if both `SEG_NR_MES` is `11` AND `NC_CYL_NR` is `12`.\r\n3.  **Final Output `LV_TMP_SEL_AT_5`:**\r\n    *   The outputs from both AND gates (from step 1 and step 2) are fed into an **OR** gate.\r\n    *   The `LV_TMP_SEL_AT_5` flag is set to `TRUE` if either ( `SEG_NR_MES == 5` AND `NC_CYL_NR == 12` ) OR ( `SEG_NR_MES == 11` AND `NC_CYL_NR == 12` ) is `TRUE`. Otherwise, it is `FALSE`.\r\n\r\n### Diagram 2: Calculation of `LV_TMP_SEL_AT_6`\r\n\r\n1.  **Multiple Input Comparison Groups:**\r\n    *   This diagram features five distinct pairs of comparisons, each feeding into its own **AND** gate. Each AND gate represents a specific combination of `SEG_NR_MES` and `NC_CYL_NR` that could trigger the selection.\r\n    *   **AND Gate A:** (`SEG_NR_MES == 2`) AND (`NC_CYL_NR == 4`)\r\n    *   **AND Gate B:** (`SEG_NR_MES == 3`) AND (`NC_CYL_NR == 6`)\r\n    *   **AND Gate C:** (`SEG_NR_MES == 4`) AND (`NC_CYL_NR == 8`)\r\n    *   **AND Gate D:** (`SEG_NR_MES == 5`) AND (`NC_CYL_NR == 10`)\r\n    *   **AND Gate E:** (`SEG_NR_MES == 6`) AND (`NC_CYL_NR == 12`)\r\n    *   Each of these AND gates outputs `TRUE` only if both conditions connected to it are met.\r\n2.  **Final Output `LV_TMP_SEL_AT_6`:**\r\n    *   The outputs from all five AND gates (A, B, C, D, E) are fed into a single large **OR** gate.\r\n    *   The `LV_TMP_SEL_AT_6` flag is set to `TRUE` if *any one* of the five AND conditions is `TRUE`. Otherwise, it is `FALSE`.\r\n\r\n\r\n--- Page 23 ---\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to calculate an engine roughness segment adaptive correction/error value, `SEG_AD_COR_ER`, under the condition that \"MT\" (Measurement Time or Mode) is valid. This calculation is part of an \"Engine roughness segment time correction\" system (ENRD) and involves selecting a correction value based on a measured segment number and other system parameters. It essentially acts as a multi-stage conditional selector and lookup mechanism, providing a specific correction value or a default zero.\r\n\r\n## Inputs\r\n\r\n*   **`SEG_NR_MES`**: (Input Port 1) Measured Segment Number or index. This is a primary input determining which correction path might be active and serves as the x-axis input for lookup tables.\r\n*   **`NC_CYL_NR`**: (Input Port 3) Number of Cylinders. Used as an input to the conditional function calls (`fcn_call`).\r\n*   **`LV_TMP_SEL_MT_1` through `LV_TMP_SEL_MT_6`**: Temporary Selection values for different measurement segments/modes (1 to 6). These are inputs to the `fcn_call()` blocks, contributing to the conditional logic for each segment.\r\n*   **`IP_SEG_AD_COR_ER_MT_1` through `IP_SEG_AD_COR_ER_MT_5`**: (Implicit Inputs) These are 1-D Lookup Tables (indicated by the waveform icon, V.5.15) which store the actual correction values. Their contents define the output based on the `x_val` input.\r\n\r\n## Outputs\r\n\r\n*   **`SEG_AD_COR_ER`**: (Output Port 1) The calculated Engine Roughness Segment Adaptive Correction/Error value. This is the final output of the subsystem.\r\n\r\n## Logic Flow\r\n\r\nThe diagram implements a prioritized conditional selection mechanism, often structured as an \"If-Else If-Else\" cascade, which is then merged to produce a single output.\r\n\r\n1.  **Initial Segment Number Check:**\r\n    *   The input `SEG_NR_MES` is first compared to `0`.", "mimetype": "text/plain", "start_char_idx": 31275, "end_char_idx": 34778, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0b7fb695-fdf6-4779-b627-949214d737b4": {"__data__": {"id_": "0b7fb695-fdf6-4779-b627-949214d737b4", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "89dd6d41-37b6-4675-8b1e-e49b27c3de95", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "6f3815b90631536988ff341a5a07905dd18848854fee9a080437d03b1b9f1ce5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "28a582fe-93eb-4c34-81b9-b88b95e9029c", "node_type": "1", "metadata": {}, "hash": "7902b95209e63ab1c8b4c570f1c606a628f0f26eecfbb84e2a6ae86af45ac966", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This is the final output of the subsystem.\r\n\r\n## Logic Flow\r\n\r\nThe diagram implements a prioritized conditional selection mechanism, often structured as an \"If-Else If-Else\" cascade, which is then merged to produce a single output.\r\n\r\n1.  **Initial Segment Number Check:**\r\n    *   The input `SEG_NR_MES` is first compared to `0`.\r\n    *   **If `SEG_NR_MES == 0`**: The output `SEG_AD_COR_ER` is immediately set to `0`. This is the highest priority condition.\r\n    *   **Else (If `SEG_NR_MES != 0`)**: The flow proceeds to a series of parallel conditional branches, effectively forming an \"else if\" structure for different segment selections. The `SEG_NR_MES` value is also type-cast to N_32 (likely a 32-bit integer) for use as `x_val` in lookup tables.\r\n\r\n2.  **Segment-Specific Correction Determination (for `SEG_NR_MES != 0`):**\r\n    There are six distinct branches, each evaluating a condition for a specific segment (`SEL_1` through `SEL_6`). The first branch whose condition is met dictates the output.\r\n\r\n    *   **Branch 1 (SEL_1):**\r\n        *   A `fcn_call()` block evaluates a condition (`cond_if`) using `SEG_NR_MES`, `LV_TMP_SEL_MT_1`, and `NC_CYL_NR`.\r\n        *   **If `cond_if` is true**: The `SEG_NR_MES` value (as `x_val`) is used to look up a correction value from the `IP_SEG_AD_COR_ER_MT_1` 1-D Lookup Table. This `IP_val` is then passed to the `Merge` block.\r\n        *   **Else**: The flow implicitly passes control to the next branch (SEL_2) as part of the \"else if\" chain.\r\n\r\n    *   **Branches 2 through 5 (SEL_2 to SEL_5):**\r\n        *   This logic repeats for `SEL_2`, `SEL_3`, `SEL_4`, and `SEL_5`. Each branch evaluates its `fcn_call()` condition (using `LV_TMP_SEL_MT_X` specific to that branch).\r\n        *   If its condition is true, `SEG_NR_MES` is used to look up a value from its corresponding lookup table (`IP_SEG_AD_COR_ER_MT_X`). This value is passed to the `Merge` block.\r\n        *   If its condition is false, the flow proceeds to the next branch.\r\n\r\n    *   **Branch 6 (SEL_6):**\r\n        *   Similar to previous branches, a `fcn_call()` block evaluates a condition using `SEG_NR_MES`, `LV_TMP_SEL_MT_6`, and `NC_CYL_NR`.\r\n        *   **If `cond_if` is true**: The output for this branch is a constant `0`. This implies that if `SEL_6` is active, no adaptive correction is applied, or it's specifically reset to zero.\r\n        *   **Else**: If `cond_if` is false for `SEL_6` (and all previous conditions `SEG_NR_MES == 0`, `SEL_1` to `SEL_5` were also false), then a default `0` is passed to the `Merge` block.\r\n\r\n3.  **Merging Outputs:**\r\n    *   A `Merge` block collects the outputs from all the conditional branches. Due to the \"If-Else If-Else\" nature, only one specific branch's output will be active and passed through the `Merge` block at any given time.\r\n    *   The value selected by the `Merge` block is then assigned to the final output, `SEG_AD_COR_ER`.\r\n\r\n\r\n--- Page 24 ---\r\n\r\nThis image presents a block diagram, which is characteristic of a Simulink model or a similar graphical programming environment used in automotive embedded software development. It outlines a logical process for determining a specific flag or state.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to calculate a boolean flag named `LV_TMP_SEL_MT_1`. This flag is asserted (set to true) if any of a series of specific conditions related to the measured engine segment number and the number of engine cylinders are met. Based on the surrounding text (\"ENRD: Engine roughness segment time correction\"), this logic likely serves to enable or select a temporary correction or measurement segment for engine roughness analysis, depending on the engine's configuration (cylinder count) and its current operating phase (segment number).", "mimetype": "text/plain", "start_char_idx": 34448, "end_char_idx": 38231, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "28a582fe-93eb-4c34-81b9-b88b95e9029c": {"__data__": {"id_": "28a582fe-93eb-4c34-81b9-b88b95e9029c", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0b7fb695-fdf6-4779-b627-949214d737b4", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "098454bbaee7aa34985861953c4b37cf2a70d8a52343db8782d78cd90a1cefad", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "981a6e8b-866d-4c2f-92c7-27a93f1f4287", "node_type": "1", "metadata": {}, "hash": "2419426aeb5e8253805d9cd6b7cdacc0913718ed2c0e7ba57d7e924dcbdf2f19", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This flag is asserted (set to true) if any of a series of specific conditions related to the measured engine segment number and the number of engine cylinders are met. Based on the surrounding text (\"ENRD: Engine roughness segment time correction\"), this logic likely serves to enable or select a temporary correction or measurement segment for engine roughness analysis, depending on the engine's configuration (cylinder count) and its current operating phase (segment number).\r\n\r\n## Inputs\r\n\r\n*   **`SEG_NR_MES`**: (Segment Number Measured) - An integer input representing the current or measured engine segment number. This value is compared against various constant segment numbers.\r\n*   **`NC_CYL_NR`**: (Number of Cylinders) - An integer input representing the number of cylinders in the engine. This value is used in conjunction with the segment number comparison to form specific conditions.\r\n\r\n## Outputs\r\n\r\n*   **`LV_TMP_SEL_MT_1`**: (Local Variable Temporary Select MT 1) - A boolean output flag. This flag is set to `TRUE` if the combined conditions in any of the parallel logic paths are met, and `FALSE` otherwise.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow involves multiple parallel evaluation paths, each culminating in an `AND` operation. The results of these parallel `AND` operations are then combined by a final `OR` operation to produce the single output `LV_TMP_SEL_MT_1`.\r\n\r\nHere's a step-by-step breakdown:\r\n\r\n1.  **Input Acquisition**: The system receives two integer inputs: `SEG_NR_MES` and `NC_CYL_NR`.\r\n\r\n2.  **Parallel Condition Evaluation (8 paths)**: The diagram consists of eight distinct parallel branches. Each branch evaluates a specific condition based on `SEG_NR_MES` and `NC_CYL_NR`:\r\n    *   `SEG_NR_MES` is compared for equality (`==`) with a specific constant integer in each path (e.g., `SEG_NR_MES == 1`, `SEG_NR_MES == 3`, etc.). This generates a boolean result for each comparison.\r\n    *   `NC_CYL_NR` is implicitly compared for equality (`==`) with a specific constant integer in each path. Although not explicitly shown with an `==` block for `NC_CYL_NR`, the convention in such diagrams, particularly in automotive context, implies that the numbered blocks connected to the `NC_CYL_NR` line act as a condition check for `NC_CYL_NR == [number]`. This also generates a boolean result.\r\n    *   The boolean result from the `SEG_NR_MES` comparison and the boolean result from the `NC_CYL_NR` comparison are then combined using an `AND` logical operator for each path. This means that a specific path's condition is met only if *both* the segment number matches *and* the cylinder count matches the predefined values for that path.\r\n\r\n    Let's detail the conditions for each of the eight `AND` blocks (from top to bottom):\r\n    *   **Path 1:** (`SEG_NR_MES == 1`) AND (`NC_CYL_NR == 4`)\r\n    *   **Path 2:** (`SEG_NR_MES == 3`) AND (`NC_CYL_NR == 4`)\r\n    *   **Path 3:** (`SEG_NR_MES == 4`) AND (`NC_CYL_NR == 6`)\r\n    *   **Path 4:** (`SEG_NR_MES == 4`) AND (`NC_CYL_NR == 5`)\r\n    *   **Path 5:** (`SEG_NR_MES == 6`) AND (`NC_CYL_NR == 8`)\r\n    *   **Path 6:** (`SEG_NR_MES == 6`) AND (`NC_CYL_NR == 10`)\r\n    *   **Path 7:** (`SEG_NR_MES == 5`) AND (`NC_CYL_NR == 7`)\r\n    *   **Path 8:** (`SEG_NR_MES == 8`) AND (`NC_CYL_NR == 12`)\r\n\r\n3.  **Final OR Operation**: The boolean outputs of all eight `AND` blocks are fed into a single `OR` logical operator. If *any* of the conditions defined by the eight parallel `AND` paths are true, the `OR` block will output `TRUE`.\r\n\r\n4.  **Output Generation**: The final boolean result from the `OR` gate is assigned to the `LV_TMP_SEL_MT_1` output flag.", "mimetype": "text/plain", "start_char_idx": 37753, "end_char_idx": 41390, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "981a6e8b-866d-4c2f-92c7-27a93f1f4287": {"__data__": {"id_": "981a6e8b-866d-4c2f-92c7-27a93f1f4287", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "28a582fe-93eb-4c34-81b9-b88b95e9029c", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "d667a0c8c19e0f8363dec8dfa0e4d8e6fdd2454e9d970b674cc5c06b5c57a251", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "48abbcff-602d-4cf4-b760-a8a2a7895280", "node_type": "1", "metadata": {}, "hash": "b1e8910a4debd237bb0b2488a8a9498ad9fcd3d3eab1f218f33ff5b0cb2ad393", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**Final OR Operation**: The boolean outputs of all eight `AND` blocks are fed into a single `OR` logical operator. If *any* of the conditions defined by the eight parallel `AND` paths are true, the `OR` block will output `TRUE`.\r\n\r\n4.  **Output Generation**: The final boolean result from the `OR` gate is assigned to the `LV_TMP_SEL_MT_1` output flag.\r\n\r\nIn summary, the `LV_TMP_SEL_MT_1` flag will be set to `TRUE` if the engine operates in a specific measured segment (e.g., segment 1, 3, 4, 5, 6, 8) *and* the engine has a particular number of cylinders (e.g., 4, 5, 6, 7, 8, 10, 12) corresponding to one of the defined combinations in the diagram. This allows for a flexible selection logic based on different engine configurations and operating modes.\r\n\r\n\r\n--- Page 25 ---\r\n\r\nThis image displays a Simulink diagram, which is a graphical programming environment for modeling, simulating, and analyzing dynamic systems.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to calculate a boolean (true/false) flag named `LV_TMP_SEL_MT_2`. This flag is set to `true` if specific combinations of the input values `SEG_NR_MES` and `NC_CYL_NR` are met. Given the overall context \"ENRD: Engine roughness segment time correction,\" this logic likely serves as a selector or enabler for a particular engine roughness measurement type or correction strategy, dependent on the number of measured segments and the engine's cylinder count. Essentially, it acts as a complex lookup table to validate specific engine configurations or operating modes.\r\n\r\n## Inputs\r\n1.  **SEG_NR_MES**: An integer signal, likely representing the \"Measured Segment Number\" or \"Number of Measured Segments.\" It is compared against a fixed set of integer constants (2, 3, 5, 6, 8, 10, 12).\r\n2.  **NC_CYL_NR**: An integer signal, likely representing the \"Number of Cylinders\" in the engine. It is compared against a fixed set of integer constants (5, 6, 6, 8, 7, 10, 12, 5, 6, 6, 8, 7, 10, 8, 12 - noting some values are repeated for different conditions).\r\n\r\n## Outputs\r\n1.  **LV_TMP_SEL_MT_2**: A boolean (true/false) signal. This is the calculated output flag, which indicates whether any of the defined conditions for `SEG_NR_MES` and `NC_CYL_NR` are met. Its name suggests a \"Local Variable Temporary Selection, Measurement Type 2.\"\r\n\r\n## Logic Flow\r\n\r\nThe diagram implements a combinational logic circuit based on equality comparisons and boolean `AND` and `OR` operations.\r\n\r\n1.  **Equality Comparisons for `SEG_NR_MES`**: The input `SEG_NR_MES` is fed into a vertical series of equality comparison (`==`) blocks. Each block compares `SEG_NR_MES` against a specific constant integer value (2, 3, 5, 6, 8, 10, 12). The output of each comparison is a boolean (true if equal, false otherwise). There are 7 such comparison blocks for `SEG_NR_MES`.\r\n\r\n2.  **Equality Comparisons for `NC_CYL_NR`**: Similarly, the input `NC_CYL_NR` is fed into another vertical series of equality comparison (`==`) blocks. Each block compares `NC_CYL_NR` against a specific constant integer value. There are 14 (or potentially 15, depending on the interpretation of the last constant '12' for NC_CYL_NR) such comparison blocks visible, with constants like 5, 6, 8, 7, 10, 12, etc.\r\n\r\n3.  **AND Gate Combinations**: The outputs from the `SEG_NR_MES` comparison blocks and the `NC_CYL_NR` comparison blocks are then combined pairwise using `AND` gates. There are 14 `AND` gates in total. Each `AND` gate receives one boolean input from a `SEG_NR_MES` comparison and one boolean input from an `NC_CYL_NR` comparison.", "mimetype": "text/plain", "start_char_idx": 41038, "end_char_idx": 44616, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "48abbcff-602d-4cf4-b760-a8a2a7895280": {"__data__": {"id_": "48abbcff-602d-4cf4-b760-a8a2a7895280", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "981a6e8b-866d-4c2f-92c7-27a93f1f4287", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "12fd585c8192a06567a4791b9103f61f3514b363eca228bd23b981d4c6ec92b1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "edbbc3fe-1ce8-4f53-8122-c1518c902ad2", "node_type": "1", "metadata": {}, "hash": "576e3e04f24c1836579b0ca6d7be6f75b0f52595b9a1822f30f001cf942a91c3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  **AND Gate Combinations**: The outputs from the `SEG_NR_MES` comparison blocks and the `NC_CYL_NR` comparison blocks are then combined pairwise using `AND` gates. There are 14 `AND` gates in total. Each `AND` gate receives one boolean input from a `SEG_NR_MES` comparison and one boolean input from an `NC_CYL_NR` comparison. For an `AND` gate to output `true`, both its inputs must be `true` (i.e., `SEG_NR_MES` must equal its specific constant AND `NC_CYL_NR` must equal its specific constant for that particular `AND` gate).\r\n    *   **Example conditions (based on visual pairing, particularly for the top section):**\r\n        *   `(SEG_NR_MES == 2) AND (NC_CYL_NR == 5)`\r\n        *   `(SEG_NR_MES == 3) AND (NC_CYL_NR == 6)`\r\n        *   `(SEG_NR_MES == 5) AND (NC_CYL_NR == 6)`\r\n        *   ... and so on for 14 different combinations. (The exact pairing for all 14 `AND` gates is difficult to discern perfectly from the image resolution, but the principle is consistent.)\r\n\r\n4.  **Final OR Gate**: The boolean outputs from all 14 `AND` gates are then fed into a single, large `OR` gate.\r\n\r\n5.  **Output `LV_TMP_SEL_MT_2`**: The `OR` gate's output directly determines the value of `LV_TMP_SEL_MT_2`. If *any* of the 14 `AND` conditions are `true`, then `LV_TMP_SEL_MT_2` will be `true`. Otherwise, if all 14 `AND` conditions are `false`, `LV_TMP_SEL_MT_2` will be `false`.\r\n\r\nIn summary, the diagram checks if the current engine configuration (defined by `SEG_NR_MES` and `NC_CYL_NR`) matches any of a predefined set of valid or active configurations. If a match is found, the `LV_TMP_SEL_MT_2` flag is activated.\r\n\r\n\r\n--- Page 26 ---\r\n\r\nThis image displays two distinct Simulink diagrams, each representing a logical calculation.\r\n\r\n## Function\r\nThe primary function of each diagram is to determine a boolean (true/false) output signal (`LV_TMP_SEL_MT_3` and `LV_TMP_SEL_MT_4`, respectively) based on specific combinations of two input integer values: `SEG_NR_MES` (Segment Number Measured) and `NC_CYL_NR` (Number of Cylinder). Essentially, these diagrams act as conditional selectors, enabling a temporary measurement or process if certain predefined segment and cylinder configurations are met. The overall context, \"Engine roughness segment time correction,\" suggests these selection flags might activate specific logic related to engine roughness analysis for particular operating points or cylinder states.\r\n\r\n## Inputs\r\n**For both diagrams (LV_TMP_SEL_MT_3 and LV_TMP_SEL_MT_4):**\r\n1.  **SEG_NR_MES (Signal 1, green block):** An integer input representing a measured engine segment number.\r\n2.  **NC_CYL_NR (Signal 2, green block):** An integer input representing a cylinder number.\r\n\r\n## Outputs\r\n**For the first diagram (LV_TMP_SEL_MT_3):**\r\n1.  **LV_TMP_SEL_MT_3 (Signal 1, blue block):** A boolean output (true if any of the conditions are met, false otherwise).\r\n\r\n**For the second diagram (LV_TMP_SEL_MT_4):**\r\n1.  **LV_TMP_SEL_MT_4 (Signal 1, blue block):** A boolean output (true if any of the conditions are met, false otherwise).\r\n\r\n## Logic Flow\r\n\r\nThe logical flow for both diagrams follows the same pattern, differing only in the specific constant values used for comparison.\r\n\r\n**Logic Flow for LV_TMP_SEL_MT_3:**\r\n\r\n1.  **Input Comparison Stage:**\r\n    *   The `SEG_NR_MES` input is compared for equality (`==`) with five distinct constant integer values: 3, 5, 8, 10, and 12. Each comparison results in a boolean (true if equal, false otherwise).\r\n    *   Simultaneously, the `NC_CYL_NR` input is compared for equality (`==`) with five distinct constant integer values: 7, 8, 10, 9, and 12. Each comparison also results in a boolean.\r\n\r\n2.  **AND Logic Stage:**\r\n    *   Five `AND` logical blocks receive inputs from the comparison stage.", "mimetype": "text/plain", "start_char_idx": 44287, "end_char_idx": 48058, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "edbbc3fe-1ce8-4f53-8122-c1518c902ad2": {"__data__": {"id_": "edbbc3fe-1ce8-4f53-8122-c1518c902ad2", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "48abbcff-602d-4cf4-b760-a8a2a7895280", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "f8a26d82fa0fa6ffe622ec653c90a478d368db40004ac9a9e0412f7336ced015", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "46faadab-5d39-474c-ab8c-34b0aaecbcf0", "node_type": "1", "metadata": {}, "hash": "f0203d3e02a55a4fe99e0c709076f41e01ed19240d16d0c83db7f356bb2a95f7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Each comparison results in a boolean (true if equal, false otherwise).\r\n    *   Simultaneously, the `NC_CYL_NR` input is compared for equality (`==`) with five distinct constant integer values: 7, 8, 10, 9, and 12. Each comparison also results in a boolean.\r\n\r\n2.  **AND Logic Stage:**\r\n    *   Five `AND` logical blocks receive inputs from the comparison stage. Each `AND` block combines one boolean result from the `SEG_NR_MES` comparisons and one boolean result from the `NC_CYL_NR` comparisons, as follows:\r\n        *   `AND1` output = (`SEG_NR_MES == 3`) AND (`NC_CYL_NR == 7`)\r\n        *   `AND2` output = (`SEG_NR_MES == 5`) AND (`NC_CYL_NR == 8`)\r\n        *   `AND3` output = (`SEG_NR_MES == 8`) AND (`NC_CYL_NR == 10`)\r\n        *   `AND4` output = (`SEG_NR_MES == 10`) AND (`NC_CYL_NR == 9`)\r\n        *   `AND5` output = (`SEG_NR_MES == 12`) AND (`NC_CYL_NR == 12`)\r\n    *   Each `AND` block will output `true` only if both of its input conditions are `true`.\r\n\r\n3.  **OR Logic Stage:**\r\n    *   All five boolean outputs from the `AND` logic stage are fed into a single `OR` logical block.\r\n    *   The `OR` block will output `true` if *any* of its five input conditions are `true`. If all five `AND` conditions are `false`, the `OR` block will output `false`.\r\n\r\n4.  **Output Assignment:**\r\n    *   The final boolean result from the `OR` gate is assigned to the output signal `LV_TMP_SEL_MT_3`.\r\n\r\n**Logic Flow for LV_TMP_SEL_MT_4:**\r\n\r\nThe logic flow for `LV_TMP_SEL_MT_4` is structurally identical to `LV_TMP_SEL_MT_3`, but with different constant values for the comparisons:\r\n\r\n1.  **Input Comparison Stage:**\r\n    *   `SEG_NR_MES` is compared for equality with constants: 4, 5, 10, 12, and 9.\r\n    *   `NC_CYL_NR` is compared for equality with constants: 9, 10, 10, 12, and 8.\r\n\r\n2.  **AND Logic Stage:**\r\n    *   Five `AND` logical blocks combine these comparisons:\r\n        *   `AND1` output = (`SEG_NR_MES == 4`) AND (`NC_CYL_NR == 9`)\r\n        *   `AND2` output = (`SEG_NR_MES == 5`) AND (`NC_CYL_NR == 10`) (First 10 for NC_CYL_NR)\r\n        *   `AND3` output = (`SEG_NR_MES == 10`) AND (`NC_CYL_NR == 10`) (Second 10 for NC_CYL_NR)\r\n        *   `AND4` output = (`SEG_NR_MES == 12`) AND (`NC_CYL_NR == 12`)\r\n        *   `AND5` output = (`SEG_NR_MES == 9`) AND (`NC_CYL_NR == 8`)\r\n\r\n3.  **OR Logic Stage:**\r\n    *   All five boolean outputs from the `AND` logic stage are fed into a single `OR` logical block.\r\n\r\n4.  **Output Assignment:**\r\n    *   The final boolean result from the `OR` gate is assigned to the output signal `LV_TMP_SEL_MT_4`.\r\n\r\n\r\n--- Page 28 ---\r\n\r\nThis image is a Simulink diagram representing a control logic.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to calculate `SEG_AD_COR_ER` (Segment Adaptive Correction for Engine Roughness) based on several input conditions, particularly related to engine segments, cylinder count, and potentially different states of a Continuously Variable Transmission (CVT). It uses a series of prioritized conditional checks to select the appropriate correction value, which may come from a 1D look-up table or be a default value of `0`.\r\n\r\n## Inputs\r\n*   **SEG_NR_MES** (Port 1): A numerical input representing the measured engine segment number.\r\n*   **N_32** (Port 2): A numerical input, likely representing a state variable (e.g., engine speed, load) that serves as the x-axis input for the 1D look-up tables.", "mimetype": "text/plain", "start_char_idx": 47696, "end_char_idx": 51101, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "46faadab-5d39-474c-ab8c-34b0aaecbcf0": {"__data__": {"id_": "46faadab-5d39-474c-ab8c-34b0aaecbcf0", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "edbbc3fe-1ce8-4f53-8122-c1518c902ad2", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "aa2939935901eeaa469a999a1706bc4719f6311703cb3ae8aadfdeb54339a05d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1e0b7567-5d32-423a-83d8-3f307d6b700e", "node_type": "1", "metadata": {}, "hash": "c292e4380569783904184061badf5892d4060f910d13139bfdaa73406275f98d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Inputs\r\n*   **SEG_NR_MES** (Port 1): A numerical input representing the measured engine segment number.\r\n*   **N_32** (Port 2): A numerical input, likely representing a state variable (e.g., engine speed, load) that serves as the x-axis input for the 1D look-up tables.\r\n*   **NC_CYL_NR** (Port 3): A numerical input representing the number of engine cylinders.\r\n*   **LV_TMP_SEL_CVT_1** to **LV_TMP_SEL_CVT_6**: Six distinct numerical inputs or signals, likely representing temporary selection criteria or flags related to different CVT states or operating modes for each segment. These are local to each selection branch.\r\n*   **IP_SEG_AD_COR_ER_CVT_1** to **IP_SEG_AD_COR_ER_CVT_5**: Five 1D Look-up Tables that store pre-defined correction values (`IP_val`) as a function of `N_32` (`x_val`).\r\n\r\n## Outputs\r\n*   **SEG_AD_COR_ER** (Port 1): The calculated segment adaptive correction for engine roughness.\r\n\r\n## Logic Flow\r\n\r\nThe diagram implements a prioritized conditional selection mechanism to determine the final `SEG_AD_COR_ER` value. This is achieved through a series of `If` blocks whose outputs feed into a `Merge` block. The dashed lines indicate the flow of control or a cascading `else if` logic.\r\n\r\n1.  **Initial Check (Top Branch):**\r\n    *   The `SEG_NR_MES` input is compared to `0`.\r\n    *   **If `SEG_NR_MES == 0` is true:** The output `SEG_AD_COR_ER` is set to `0`. This is the highest priority condition.\r\n    *   **Else (`SEG_NR_MES != 0`):** The logic proceeds to evaluate the next set of conditions.\r\n\r\n2.  **Segment-Specific Conditional Selection (Branches SEL_1 to SEL_6):**\r\n    If `SEG_NR_MES` is not `0`, the system then checks a series of conditions, likely in a prioritized `else-if` fashion. Each `SEL_X` block (where `X` is 1 to 6) represents a specific selection criterion:\r\n\r\n    *   **For SEL_1 (and similarly for SEL_2 through SEL_5):**\r\n        *   An internal function (`fcn_call()`) evaluates a condition (`cond_if`) based on `SEG_NR_MES`, `LV_TMP_SEL_CVT_1`, and `NC_CYL_NR`.\r\n        *   **If `cond_if` for SEL_1 is true (and previous conditions were false):**\r\n            *   The input `N_32` (from Port 2) is fed as the `x_val` to the `IP_SEG_AD_COR_ER_CVT_1` 1D Look-up Table.\r\n            *   The `IP_val` (output of the look-up table) is then passed to the `Merge` block.\r\n        *   **Else (`cond_if` for SEL_1 is false):** The logic proceeds to evaluate the condition for SEL_2.\r\n\r\n    *   This pattern repeats for `SEL_2`, `SEL_3`, `SEL_4`, and `SEL_5`, each with its corresponding `LV_TMP_SEL_CVT_X` and `IP_SEG_AD_COR_ER_CVT_X` look-up table.\r\n\r\n    *   **For SEL_6 (Last Selection Branch):**\r\n        *   An internal function (`fcn_call()`) evaluates a condition (`cond_if`) based on `SEG_NR_MES`, `LV_TMP_SEL_CVT_6`, and `NC_CYL_NR`.\r\n        *   **If `cond_if` for SEL_6 is true (and all previous conditions were false):**\r\n            *   The output `SEG_AD_COR_ER` is set to `0`. This acts as a final fallback or default correction if specific conditions for `IP_SEG_AD_COR_ER_CVT_1` to `IP_SEG_AD_COR_ER_CVT_5` are not met.\r\n        *   **Else (`cond_if` for SEL_6 is false):** The diagram does not explicitly show what happens if all conditions (including `SEL_6`) are false. However, for a `Merge` block to function, one input path must always be active, implying that the conditions are designed to be exhaustive, or a default value is implicitly propagated.\r\n\r\n3.", "mimetype": "text/plain", "start_char_idx": 50829, "end_char_idx": 54261, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1e0b7567-5d32-423a-83d8-3f307d6b700e": {"__data__": {"id_": "1e0b7567-5d32-423a-83d8-3f307d6b700e", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "46faadab-5d39-474c-ab8c-34b0aaecbcf0", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "1a779cbf5d2d6f97cb78ae6bdccd64aa4c4fbe35ad75a8db010a7a67f31dd012", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "cfd560ca-53d6-4590-b12a-5745db897f4b", "node_type": "1", "metadata": {}, "hash": "fb0440ff870918574c8bb96ac2d9f70fc775a95448b3627a22d6d8cb8e023d47", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **Else (`cond_if` for SEL_6 is false):** The diagram does not explicitly show what happens if all conditions (including `SEL_6`) are false. However, for a `Merge` block to function, one input path must always be active, implying that the conditions are designed to be exhaustive, or a default value is implicitly propagated.\r\n\r\n3.  **Merging Results:**\r\n    *   All the potential output values (the `0` from the initial check, the `IP_val`s from the look-up tables for `SEL_1` to `SEL_5`, and the `0` from `SEL_6`) are fed into a `Merge` block.\r\n    *   The `Merge` block ensures that only one of these conditionally active signals is passed through as the final `SEG_AD_COR_ER` output, corresponding to the highest priority condition that was met.\r\n\r\n\r\n--- Page 29 ---\r\n\r\nThis image is indeed a Simulink diagram.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to calculate a boolean output flag, `LV_TMP_SEL_CVT_1`, based on the values of two input parameters: `SEG_NR_MES` (Segment Number Measured) and `NC_CYL_NR` (Number of Cylinders). This flag is set to `true` if `SEG_SEG_NR_MES` is equal to 1, OR if specific predefined combinations of `SEG_NR_MES` and `NC_CYL_NR` are met. The overall context, as indicated by \"ENRD. Engine roughness segment time correction\" in the document header, suggests this logic is used to determine a specific operational mode or selection related to engine roughness and potentially variable timing or a CVT system.\r\n\r\n## Inputs\r\n\r\n*   **SEG_NR_MES (Segment Number Measured):** An integer input, likely representing a measured engine segment number or operating region. (Green port 1)\r\n*   **NC_CYL_NR (Number of Cylinders):** An integer input, representing the number of cylinders in the engine. (Green port 2)\r\n\r\n## Outputs\r\n\r\n*   **LV_TMP_SEL_CVT_1:** A boolean (true/false) output flag, which indicates whether one of the specified conditions for its selection is met. (Blue port 1)\r\n\r\n## Logic Flow\r\n\r\nThe logical flow calculates `LV_TMP_SEL_CVT_1` through a series of equality comparisons, AND logic, and a final OR logic operation:\r\n\r\n1.  **Direct Condition:** The input `SEG_NR_MES` is compared to the constant value `1` using an equality (`==`) operator. The result of this comparison (`SEG_NR_MES == 1`) forms the first potential condition to activate the output flag.\r\n\r\n2.  **Combined Conditions:** Multiple parallel branches evaluate combined conditions involving both inputs:\r\n    *   For each branch, `SEG_NR_MES` is compared to a specific constant value (e.g., `3`, `4`, `5`, `6`, `7`, `8`, `9`).\r\n    *   Simultaneously, `NC_CYL_NR` is compared to another specific constant value (e.g., `4`, `6`, `8`, `10`, `12`, `14`, `16`).\r\n    *   The boolean results of these two comparisons for each branch are then fed into an `AND` logical operator. This means a branch condition is `true` only if *both* its `SEG_NR_MES` and `NC_CYL_NR` equality checks are `true`.\r\n    The specific combined conditions evaluated are:\r\n        *   `(SEG_NR_MES == 3) AND (NC_CYL_NR == 4)`\r\n        *   `(SEG_NR_MES == 4) AND (NC_CYL_NR == 6)`\r\n        *   `(SEG_NR_MES == 5) AND (NC_CYL_NR == 8)`\r\n        *   `(SEG_NR_MES == 6) AND (NC_CYL_NR == 10)`\r\n        *   `(SEG_NR_MES == 7) AND (NC_CYL_NR == 12)`\r\n        *   `(SEG_NR_MES == 8) AND (NC_CYL_NR == 14)`\r\n        *   `(SEG_NR_MES == 9) AND (NC_CYL_NR == 16)`\r\n\r\n3.  **Final Output Determination:** All the boolean results from the direct condition (`SEG_NR_MES == 1`) and each of the `AND` gates (the combined conditions) are fed into a single, large `OR` logical operator.", "mimetype": "text/plain", "start_char_idx": 53927, "end_char_idx": 57510, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "cfd560ca-53d6-4590-b12a-5745db897f4b": {"__data__": {"id_": "cfd560ca-53d6-4590-b12a-5745db897f4b", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1e0b7567-5d32-423a-83d8-3f307d6b700e", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "07ca3646a7b1b7279f6711ddb3dcbdfcbaa5b720fefb72846fa912ad90196885", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d2fe64bd-d84e-4d88-8d58-749ffc41d672", "node_type": "1", "metadata": {}, "hash": "e87f96fd1a41d67741bf2a095144b7c7ff3363a13dca7a1032b35675b7ff125c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**Final Output Determination:** All the boolean results from the direct condition (`SEG_NR_MES == 1`) and each of the `AND` gates (the combined conditions) are fed into a single, large `OR` logical operator.\r\n    *   The output `LV_TMP_SEL_CVT_1` becomes `true` if *any* of these individual or combined conditions are met. Otherwise, `LV_TMP_SEL_CVT_1` remains `false`.\r\n\r\nIn essence, the diagram implements a lookup or selection logic, enabling `LV_TMP_SEL_CVT_1` under specific configurations defined by the engine's segment number and cylinder count.\r\n\r\n\r\n--- Page 30 ---\r\n\r\nThis image is a Simulink-style block diagram, not a text page or table.\r\n\r\n## Function\r\nThe primary function of this diagram is to calculate a boolean flag, `LV_TMP_SEL_CVT_2`, based on the values of two input parameters: `SEG_NR_MES` (Segment Number Measurement) and `NC_CYL_NR` (Number of Cylinders). It acts as a selection logic, activating the flag if certain predefined combinations of segment number and cylinder count are met. Given the title \"ENRD. Engine roughness segment time correction,\" this flag likely indicates whether a specific engine roughness correction or calculation strategy should be applied for a particular engine configuration and measurement segment.\r\n\r\n## Inputs\r\n1.  **SEG_NR_MES**: An integer input representing a measured segment number or type.\r\n2.  **NC_CYL_NR**: An integer input representing the number of cylinders in the engine.\r\n\r\n## Outputs\r\n1.  **LV_TMP_SEL_CVT_2**: A boolean (true/false or 1/0) output flag. It is active (true) if any of the specified conditions are met.\r\n\r\n## Logic Flow\r\nThe diagram evaluates a series of logical conditions in parallel and combines their results using a final OR operation. The logic can be broken down into the following steps:\r\n\r\n1.  **Segment Number Comparison:**\r\n    *   The input `SEG_NR_MES` is compared for equality (`==`) with two constant values: `2` and `3`. These comparisons yield two boolean results: `(SEG_NR_MES == 2)` and `(SEG_NR_MES == 3)`.\r\n\r\n2.  **Number of Cylinders Comparison:**\r\n    *   The input `NC_CYL_NR` is compared for equality (`==`) with several constant integer values representing different cylinder counts: `5`, `6`, `8`, `10`, `12`, and `7`. Each comparison yields a boolean result, e.g., `(NC_CYL_NR == 5)`.\r\n\r\n3.  **AND Conditions (Specific Combinations):**\r\n    *   The results from the `SEG_NR_MES` comparisons are combined with the results from the `NC_CYL_NR` comparisons using `AND` gates. This creates multiple specific conditions. There are two main groups of these conditions:\r\n        *   **Group A (when `SEG_NR_MES == 2`):**\r\n            *   `(SEG_NR_MES == 2) AND (NC_CYL_NR == 5)`\r\n            *   `(SEG_NR_MES == 2) AND (NC_CYL_NR == 6)`\r\n            *   `(SEG_NR_MES == 2) AND (NC_CYL_NR == 8)`\r\n            *   `(SEG_NR_MES == 2) AND (NC_CYL_NR == 10)`\r\n            *   `(SEG_NR_MES == 2) AND (NC_CYL_NR == 12)`\r\n            (Note: The diagram shows two distinct `AND` gates for `NC_CYL_NR == 5` and two for `NC_CYL_NR == 6` when `SEG_NR_MES == 2`. While logically redundant, they represent distinct paths in the diagram.)\r\n\r\n        *   **Group B (when `SEG_NR_MES == 3`):**\r\n            *   `(SEG_NR_MES == 3) AND (NC_CYL_NR == 8)`\r\n            *   `(SEG_NR_MES == 3) AND (NC_CYL_NR == 7)`\r\n            *   `(SEG_NR_MES == 3) AND (NC_CYL_NR == 10)`\r\n            *   `(SEG_NR_MES == 3) AND (NC_CYL_NR == 12)`\r\n\r\n4.  **OR Combination:**\r\n    *   All the boolean results from the individual `AND` conditions (from both Group A and Group B) are fed into a single `OR` gate.\r\n\r\n5.", "mimetype": "text/plain", "start_char_idx": 57303, "end_char_idx": 60892, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d2fe64bd-d84e-4d88-8d58-749ffc41d672": {"__data__": {"id_": "d2fe64bd-d84e-4d88-8d58-749ffc41d672", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "cfd560ca-53d6-4590-b12a-5745db897f4b", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "ca682f0437c84c23cb095e00c3a84d2edab46f47ee217a7176f79f57b5109617", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "fa42da1a-5492-4a12-9647-de4b5fd45173", "node_type": "1", "metadata": {}, "hash": "bec05df2957c617c34c629fd255524cbde9d20f4486bae4eca4566a1f614cb80", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**OR Combination:**\r\n    *   All the boolean results from the individual `AND` conditions (from both Group A and Group B) are fed into a single `OR` gate.\r\n\r\n5.  **Output Calculation:**\r\n    *   The final output `LV_TMP_SEL_CVT_2` is `TRUE` if *any* of the specific `AND` conditions are met, and `FALSE` otherwise.\r\n\r\nIn summary, the output `LV_TMP_SEL_CVT_2` will be true if the engine has `5, 6, 8, 10, or 12` cylinders and the measured segment number is `2`, OR if the engine has `7, 8, 10, or 12` cylinders and the measured segment number is `3`.\r\n\r\n\r\n--- Page 31 ---\r\n\r\nThis image displays two distinct Simulink-style logic diagrams, both performing a selection function based on engine parameters, likely for an engine roughness segment time correction strategy as indicated by the document header \"ENRD. Engine roughness segment time correction\".\r\n\r\n---\r\n\r\n## Function\r\nThe primary function of each diagram is to calculate a boolean (true/false) selection flag (`LV_TMP_SEL_CVT_3` or `LV_TMP_SEL_CVT_4`) by evaluating specific combinations of an engine segment number and the number of cylinders. These flags likely control or influence temporary settings or modes within a Continuous Variable Transmission (CVT) system, specifically related to managing engine roughness or vibrations across different operating segments and engine configurations.\r\n\r\n---\r\n\r\n## Inputs\r\nBoth diagrams utilize the same two input variables:\r\n*   **`SEG_NR_MES`**: (Segment Number Measured) - An integer value representing the current engine operating segment.\r\n*   **`NC_CYL_NR`**: (Number of Cylinders) - An integer value indicating the engine's cylinder count.\r\n\r\n---\r\n\r\n## Outputs\r\nEach diagram produces a single boolean output:\r\n*   **`LV_TMP_SEL_CVT_3`**: (Local Variable Temporary Selection CVT 3) - A boolean flag for the first diagram.\r\n*   **`LV_TMP_SEL_CVT_4`**: (Local Variable Temporary Selection CVT 4) - A boolean flag for the second diagram.\r\n\r\n---\r\n\r\n## Logic Flow\r\n\r\nBoth diagrams follow a similar logical structure:\r\n1.  **Equality Comparisons:** Each input (`SEG_NR_MES` and `NC_CYL_NR`) is fed into multiple \"equality\" blocks (`==`). Each `==` block compares the input value against a specific hardcoded integer constant. The output of each `==` block is a boolean (true if equal, false otherwise).\r\n2.  **AND Gate Combinations:** The boolean outputs from the `SEG_NR_MES` comparisons and `NC_CYL_NR` comparisons are paired vertically and fed into `AND` logic gates. Each `AND` gate produces a true output only if both its inputs (one from `SEG_NR_MES` comparison and one from `NC_CYL_NR` comparison) are true.\r\n3.  **OR Gate Aggregation:** The outputs of all the `AND` gates are then routed into a single `OR` logic gate. This `OR` gate produces a true output if *any* of its inputs (i.e., any of the `AND` conditions) are true.\r\n4.  **Final Output:** The output of the `OR` gate directly determines the state of the respective selection flag (`LV_TMP_SEL_CVT_3` or `LV_TMP_SEL_CVT_4`).", "mimetype": "text/plain", "start_char_idx": 60732, "end_char_idx": 63726, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fa42da1a-5492-4a12-9647-de4b5fd45173": {"__data__": {"id_": "fa42da1a-5492-4a12-9647-de4b5fd45173", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d2fe64bd-d84e-4d88-8d58-749ffc41d672", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "dcf403a85063944ca3251a9b89a03d11188b5cedb7fb7091bd3b9f9b71380f9b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5fe635f2-bfe2-4988-90a6-a359b58fea3c", "node_type": "1", "metadata": {}, "hash": "d2031bc68b5627a4df4a423cece3db6c7367ea7cb30939b187f67dda31604454", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This `OR` gate produces a true output if *any* of its inputs (i.e., any of the `AND` conditions) are true.\r\n4.  **Final Output:** The output of the `OR` gate directly determines the state of the respective selection flag (`LV_TMP_SEL_CVT_3` or `LV_TMP_SEL_CVT_4`).\r\n\r\n### Detailed Logic Flow for `LV_TMP_SEL_CVT_3`:\r\nThe output `LV_TMP_SEL_CVT_3` will be TRUE if any of the following conditions are met:\r\n*   (`SEG_NR_MES` is 3) AND (`NC_CYL_NR` is 7)\r\n*   (`SEG_NR_MES` is 5) AND (`NC_CYL_NR` is 8)\r\n*   (`SEG_NR_MES` is 8) AND (`NC_CYL_NR` is 8)\r\n*   (`SEG_NR_MES` is 10) AND (`NC_CYL_NR` is 10)\r\n*   (`SEG_NR_MES` is 12) AND (`NC_CYL_NR` is 9)\r\n\r\n### Detailed Logic Flow for `LV_TMP_SEL_CVT_4`:\r\nThe output `LV_TMP_SEL_CVT_4` will be TRUE if any of the following conditions are met:\r\n*   (`SEG_NR_MES` is 4) AND (`NC_CYL_NR` is 9)\r\n*   (`SEG_NR_MES` is 5) AND (`NC_CYL_NR` is 10)\r\n*   (`SEG_NR_MES` is 10) AND (`NC_CYL_NR` is 10)\r\n*   (`SEG_NR_MES` is 12) AND (`NC_CYL_NR` is 12)\r\n\r\nIn essence, these diagrams act as lookup tables or conditional logic evaluators that activate a specific flag when the engine's operating segment and cylinder count match one of several predefined sets of criteria. The differing constant values and pairings between the two diagrams suggest they define distinct selection logic for potentially different scenarios or control strategies (e.g., `CVT_3` vs. `CVT_4`).\r\n\r\n\r\n--- Page 32 ---\r\n\r\n## Function\r\n\r\nThe Simulink diagrams primarily serve to calculate two boolean selection flags, `LV_TMP_SEL_CVT_5` and `LV_TMP_SEL_CVT_6`. These flags are determined by specific combinations of the measured engine segment number (`SEG_NR_MES`) and the engine's number of cylinders (`NC_CYL_NR`). Given the context \"ENRD. Engine roughness segment time correction,\" these flags are likely used to enable or select particular processing or correction logic within an engine control system, perhaps for different engine configurations or operating points related to roughness measurement or compensation.\r\n\r\n## Inputs\r\n\r\n*   **`SEG_NR_MES`**: An integer representing the currently measured engine segment number.\r\n*   **`NC_CYL_NR`**: An integer representing the number of cylinders in the engine.\r\n\r\n## Outputs\r\n\r\n*   **`LV_TMP_SEL_CVT_5`**: A boolean (true/false) flag, calculated by the first diagram (29.3.2.3.3.5).\r\n*   **`LV_TMP_SEL_CVT_6`**: A boolean (true/false) flag, calculated by the second diagram (29.3.2.3.3.6).\r\n\r\n## Logic Flow\r\n\r\nThe logical flow for each output variable is as follows:\r\n\r\n### Calculation of `LV_TMP_SEL_CVT_5` (Diagram 29.3.2.3.3.5)\r\n\r\n1.  **Segment Number Check 1**: The input `SEG_NR_MES` is compared for equality with the constant value `5`. This results in a boolean value (true if `SEG_NR_MES` is 5, false otherwise).\r\n2.  **Cylinder Number Check 1**: The input `NC_CYL_NR` is compared for equality with the constant value `12`. This results in a boolean value (true if `NC_CYL_NR` is 12, false otherwise).\r\n3.  **AND Condition 1**: The results from Step 1 and Step 2 are fed into an `AND` logical gate. This block outputs true only if both `SEG_NR_MES == 5` AND `NC_CYL_NR == 12` are true.\r\n4.  **Segment Number Check 2**: `SEG_NR_MES` is compared for equality with the constant value `11`.\r\n5.  **Cylinder Number Check 2**: `NC_CYL_NR` is again compared for equality with the constant value `12`.\r\n6.  **AND Condition 2**: The results from Step 4 and Step 5 are fed into a second `AND` logical gate.", "mimetype": "text/plain", "start_char_idx": 63462, "end_char_idx": 66923, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5fe635f2-bfe2-4988-90a6-a359b58fea3c": {"__data__": {"id_": "5fe635f2-bfe2-4988-90a6-a359b58fea3c", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "fa42da1a-5492-4a12-9647-de4b5fd45173", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "b5f80aa23e03a0aae9561b082e65dee5e10c92480298e9cfb2372d26ec80325e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "fb57c07d-9340-4f0c-a0ab-8abb2d3f561e", "node_type": "1", "metadata": {}, "hash": "271fe8f3a61b4835b886c1445f973896a9f17f7871e744580dca00ee774196c2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "4.  **Segment Number Check 2**: `SEG_NR_MES` is compared for equality with the constant value `11`.\r\n5.  **Cylinder Number Check 2**: `NC_CYL_NR` is again compared for equality with the constant value `12`.\r\n6.  **AND Condition 2**: The results from Step 4 and Step 5 are fed into a second `AND` logical gate. This block outputs true only if both `SEG_NR_MES == 11` AND `NC_CYL_NR == 12` are true.\r\n7.  **Final OR Condition**: The boolean outputs from \"AND Condition 1\" and \"AND Condition 2\" are fed into an `OR` logical gate.\r\n8.  **Output Assignment**: The final output of the `OR` gate is assigned to the `LV_TMP_SEL_CVT_5` variable.\r\n    *   In summary: `LV_TMP_SEL_CVT_5` is true if `((SEG_NR_MES == 5 AND NC_CYL_NR == 12) OR (SEG_NR_MES == 11 AND NC_CYL_NR == 12))`, which simplifies to `((SEG_NR_MES == 5 OR SEG_NR_MES == 11) AND NC_CYL_NR == 12)`.\r\n\r\n### Calculation of `LV_TMP_SEL_CVT_6` (Diagram 29.3.2.3.3.6)\r\n\r\nThis diagram involves five parallel sets of comparisons and `AND` operations, whose results are then combined by a single `OR` operation.\r\n\r\n1.  **Parallel Comparison Pairs**:\r\n    *   `SEG_NR_MES` is compared with `2`. `NC_CYL_NR` is compared with `4`. These two results feed into `AND` gate 1.\r\n    *   `SEG_NR_MES` is compared with `3`. `NC_CYL_NR` is compared with `6`. These two results feed into `AND` gate 2.\r\n    *   `SEG_NR_MES` is compared with `4`. `NC_CYL_NR` is compared with `8`. These two results feed into `AND` gate 3.\r\n    *   `SEG_NR_MES` is compared with `5`. `NC_CYL_NR` is compared with `10`. These two results feed into `AND` gate 4.\r\n    *   `SEG_NR_MES` is compared with `6`. `NC_CYL_NR` is compared with `12`. These two results feed into `AND` gate 5.\r\n\r\n2.  **Individual AND Conditions**: Each of the five `AND` gates described above outputs true only if both of its input comparisons are true. For example, `AND` gate 1 is true only if `SEG_NR_MES == 2` AND `NC_CYL_NR == 4`.\r\n\r\n3.  **Final OR Condition**: The boolean outputs from all five individual `AND` gates are fed into a single large `OR` logical gate.\r\n\r\n4.  **Output Assignment**: The final output of this `OR` gate is assigned to the `LV_TMP_SEL_CVT_6` variable.\r\n    *   In summary: `LV_TMP_SEL_CVT_6` is true if any of the following conditions are met:\r\n        *   ` (SEG_NR_MES == 2 AND NC_CYL_NR == 4) ` OR\r\n        *   ` (SEG_NR_MES == 3 AND NC_CYL_NR == 6) ` OR\r\n        *   ` (SEG_NR_MES == 4 AND NC_CYL_NR == 8) ` OR\r\n        *   ` (SEG_NR_MES == 5 AND NC_CYL_NR == 10) ` OR\r\n        *   ` (SEG_NR_MES == 6 AND NC_CYL_NR == 12) `\r\n\r\n\r\n--- Page 34 ---\r\n\r\nThis image is a Simulink diagram.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to calculate a boolean or selection flag, `LV_TMP_SEL_DCT_1`, based on the values of two input signals: `SEG_NR_MES` (likely a measured segment number) and `NC_CYL_NR` (likely the number of cylinders in the engine). The diagram implements a complex logical OR condition that becomes true if `SEG_NR_MES` equals '1', or if specific combinations of `SEG_NR_MES` and `NC_CYL_NR` are met. Given the context \"ENRD.", "mimetype": "text/plain", "start_char_idx": 66614, "end_char_idx": 69699, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fb57c07d-9340-4f0c-a0ab-8abb2d3f561e": {"__data__": {"id_": "fb57c07d-9340-4f0c-a0ab-8abb2d3f561e", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5fe635f2-bfe2-4988-90a6-a359b58fea3c", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "7fa6fd0a7f9916bef83e4e9c118ce44f24d3d1f5bb25deb0b9a459e77dba4984", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "567fcbce-6811-4970-b9c3-9ee0cf05326d", "node_type": "1", "metadata": {}, "hash": "3ff1a5dbde1d38ec7ca82dfacd600ed840a28565eee0f4780ac2ca088fff2778", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The diagram implements a complex logical OR condition that becomes true if `SEG_NR_MES` equals '1', or if specific combinations of `SEG_NR_MES` and `NC_CYL_NR` are met. Given the context \"ENRD. Engine roughness segment time correction\", this flag likely enables or disables a particular temporary setting, correction, or operational mode related to engine roughness analysis, possibly specific to certain engine configurations (cylinder count) and measurement segments.\r\n\r\n## Inputs\r\n\r\n1.  **SEG_NR_MES**: A signal representing a measured segment number or an index.\r\n2.  **NC_CYL_NR**: A signal representing the number of cylinders.\r\n\r\n## Outputs\r\n\r\n1.  **LV_TMP_SEL_DCT_1**: A boolean (true/false or 1/0) or integer signal that indicates whether a specific set of conditions related to `SEG_NR_MES` and `NC_CYL_NR` is met.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into several parallel comparison and AND operations, which are then combined by a final OR operation:\r\n\r\n1.  **Direct `SEG_NR_MES` Condition:**\r\n    *   The `SEG_NR_MES` input is compared directly to the constant value '1'.\r\n    *   Result: `Condition1 = (SEG_NR_MES == 1)`\r\n\r\n2.  **Combined `SEG_NR_MES` and `NC_CYL_NR` Conditions (via AND gates):**\r\n    *   **Condition Set 1:**\r\n        *   `SEG_NR_MES` is compared to the constant '3'.\r\n        *   `NC_CYL_NR` is compared to the constant '4'.\r\n        *   These two comparison results are fed into an `AND` gate.\r\n        *   Result: `Condition2 = (SEG_NR_MES == 3) AND (NC_CYL_NR == 4)`\r\n    *   **Condition Set 2:**\r\n        *   `SEG_NR_MES` is compared to the constant '4'.\r\n        *   `NC_CYL_NR` is compared to the constant '6'.\r\n        *   These two comparison results are fed into an `AND` gate.\r\n        *   Result: `Condition3 = (SEG_NR_MES == 4) AND (NC_CYL_NR == 6)`\r\n    *   **Condition Set 3:**\r\n        *   `SEG_NR_MES` is compared to the constant '5'.\r\n        *   `NC_CYL_NR` is compared to the constant '8'.\r\n        *   These two comparison results are fed into an `AND` gate.\r\n        *   Result: `Condition4 = (SEG_NR_MES == 5) AND (NC_CYL_NR == 8)`\r\n    *   **Condition Set 4:**\r\n        *   `SEG_NR_MES` is compared to the constant '6'.\r\n        *   `NC_CYL_NR` is compared to the constant '10'.\r\n        *   These two comparison results are fed into an `AND` gate.\r\n        *   Result: `Condition5 = (SEG_NR_MES == 6) AND (NC_CYL_NR == 10)`\r\n    *   **Condition Set 5:**\r\n        *   `SEG_NR_MES` is compared to the constant '7'.\r\n        *   `NC_CYL_NR` is compared to the constant '12'.\r\n        *   These two comparison results are fed into an `AND` gate.\r\n        *   Result: `Condition6 = (SEG_NR_MES == 7) AND (NC_CYL_NR == 12)`\r\n\r\n3.  **Final `OR` Operation:**\r\n    *   All the results from `Condition1`, `Condition2`, `Condition3`, `Condition4`, `Condition5`, and `Condition6` are fed into a single `OR` gate.\r\n    *   The output `LV_TMP_SEL_DCT_1` becomes true (1) if any of these conditions are true. Otherwise, `LV_TMP_SEL_DCT_1` is false (0).", "mimetype": "text/plain", "start_char_idx": 69506, "end_char_idx": 72521, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "567fcbce-6811-4970-b9c3-9ee0cf05326d": {"__data__": {"id_": "567fcbce-6811-4970-b9c3-9ee0cf05326d", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "fb57c07d-9340-4f0c-a0ab-8abb2d3f561e", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2a9d12e3520f078f5414381d0bbda584857bb083e6fcd0e71eced42f1f70a11b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9258dab1-738f-4838-9032-291e091f0c24", "node_type": "1", "metadata": {}, "hash": "ed4c9e94e62110f9c4f736b5e9f4d77998f9cf12266fa83648fd5e059abb0bf5", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**Final `OR` Operation:**\r\n    *   All the results from `Condition1`, `Condition2`, `Condition3`, `Condition4`, `Condition5`, and `Condition6` are fed into a single `OR` gate.\r\n    *   The output `LV_TMP_SEL_DCT_1` becomes true (1) if any of these conditions are true. Otherwise, `LV_TMP_SEL_DCT_1` is false (0).\r\n\r\nIn summary, `LV_TMP_SEL_DCT_1` is set to 1 if `SEG_NR_MES` is 1, OR if `SEG_NR_MES` is 3 and `NC_CYL_NR` is 4, OR if `SEG_NR_MES` is 4 and `NC_CYL_NR` is 6, OR if `SEG_NR_MES` is 5 and `NC_CYL_NR` is 8, OR if `SEG_NR_MES` is 6 and `NC_CYL_NR` is 10, OR if `SEG_NR_MES` is 7 and `NC_CYL_NR` is 12.\r\n\r\n\r\n--- Page 35 ---\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to calculate a boolean selection flag, `LV_TMP_SEL_DCT_2`, based on two input conditions: a measured segment number (`SEG_NR_MES`) and the number of cylinders (`NC_CYL_NR`). The flag becomes true if the number of cylinders is considered \"active\" (e.g., non-zero) AND the measured segment number matches any one of a predefined list of specific values. This calculation likely contributes to determining an operating mode, correction factor, or diagnostic state, potentially related to engine roughness and dual-clutch transmission (DCT) control, as suggested by the surrounding context.\r\n\r\n## Inputs\r\n\r\n1.  **SEG_NR_MES (Measured Segment Number):** An integer value representing a specific engine segment or operational state measurement.\r\n2.  **NC_CYL_NR (Number of Cylinders):** An integer value indicating the engine's cylinder count.\r\n\r\n## Outputs\r\n\r\n1.  **LV_TMP_SEL_DCT_2 (Temporary Selection Flag for DCT_2):** A boolean value (true or false) indicating whether the specified conditions are met.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be described in the following steps:\r\n\r\n1.  **Segment Number Equality Checks:** The `SEG_NR_MES` input is simultaneously compared for equality against a predefined set of constant integer values. These values are: 2, 3, 5, 6, 8, 10, 12, 5, 6, 6, 8, 7, 10, 8, 12.\r\n    *   Each comparison `(SEG_NR_MES == Constant_i)` results in a distinct boolean output (true if `SEG_NR_MES` matches the constant, false otherwise).\r\n\r\n2.  **Cylinder Number Conditional ANDing:**\r\n    *   The `NC_CYL_NR` input is routed to the upper input of all subsequent \"AND\" logic gates. In block diagrams, if a numerical input like `NC_CYL_NR` is fed directly into a boolean logic gate, it is typically implicitly converted to a boolean: non-zero values are interpreted as `true`, and a zero value as `false`. This effectively means `NC_CYL_NR` acts as an enable condition.\r\n    *   Each boolean result from the `SEG_NR_MES` equality checks (from step 1) is fed into the lower input of a corresponding \"AND\" gate.\r\n    *   Each \"AND\" gate then performs a logical `AND` operation: `(NC_CYL_NR as boolean) AND (SEG_NR_MES == Constant_i)`. This means that for any specific `SEG_NR_MES` comparison to contribute to the final output, `NC_CYL_NR` must be non-zero (or `true`).\r\n\r\n3.  **OR Aggregation:** All the boolean outputs from the individual \"AND\" gates (approximately 15 `AND` gates are visible, corresponding to the 15 `SEG_NR_MES` comparisons) are then fed into a single, large \"OR\" logic gate.\r\n\r\n4.  **Final Output Determination:** The \"OR\" gate's output becomes `true` if *any* of its inputs are `true`.", "mimetype": "text/plain", "start_char_idx": 72209, "end_char_idx": 75536, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9258dab1-738f-4838-9032-291e091f0c24": {"__data__": {"id_": "9258dab1-738f-4838-9032-291e091f0c24", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "567fcbce-6811-4970-b9c3-9ee0cf05326d", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "95c894a4f713e4bc8122e3e19177a6693d625c3be4512d35e96847b3799505a6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3ae22abf-1746-4a6d-abd0-7b732b5b2c0c", "node_type": "1", "metadata": {}, "hash": "1f6c7a1f1cdc2926cf844b6788d4dd598cf954891c122d6c378d914bbf741479", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  **OR Aggregation:** All the boolean outputs from the individual \"AND\" gates (approximately 15 `AND` gates are visible, corresponding to the 15 `SEG_NR_MES` comparisons) are then fed into a single, large \"OR\" logic gate.\r\n\r\n4.  **Final Output Determination:** The \"OR\" gate's output becomes `true` if *any* of its inputs are `true`. Therefore, `LV_TMP_SEL_DCT_2` will be `true` if `NC_CYL_NR` is non-zero AND `SEG_NR_MES` matches *at least one* of the specified constant values (2, 3, 5, 6, 8, 10, 12, 5, 6, 6, 8, 7, 10, 8, 12). Otherwise, `LV_TMP_SEL_DCT_2` will be `false`.\r\n\r\n\r\n--- Page 36 ---\r\n\r\nThe provided image displays two distinct, yet structurally similar, logic diagrams, both appearing to be standard automotive control logic blocks, akin to what would be designed in Simulink or a similar model-based design environment. These diagrams are named \"Calculation of LV_TMP_SEL_DCT_3\" and \"Calculation of LV_TMP_SEL_DCT_4\", respectively. Both contribute to \"ENRD. Engine roughness segment time correction,\" as indicated by the header.\r\n\r\n---\r\n\r\n### ## Function\r\n\r\nThe primary function of each diagram is to calculate a boolean (true/false) selection flag (`LV_TMP_SEL_DCT_3` or `LV_TMP_SEL_DCT_4`) based on specific combinations of two integer input variables: `SEG_NR_MES` (Segment Number Measured) and `NC_CYL_NR` (Number of Cylinders). These flags likely determine the application of specific temperature-related (TMP) or Dual Clutch Transmission (DCT) logic or calibrations within an engine control unit, contingent on the engine configuration and operating segment.\r\n\r\n---\r\n\r\n### ## Inputs\r\n\r\nBoth diagrams share the same two input variables:\r\n\r\n1.  **SEG_NR_MES (Input block '1'):** An integer value representing a \"segment number\" or \"measured segment.\" This could relate to an engine operating region, a gear, or a specific test phase.\r\n2.  **NC_CYL_NR (Input block '2'):** An integer value representing the \"number of cylinders\" in the engine.\r\n\r\n---\r\n\r\n### ## Outputs\r\n\r\nEach diagram produces a single boolean output:\r\n\r\n1.  **LV_TMP_SEL_DCT_3 (Output block '1' in the first diagram):** A boolean flag (`true`/`false`) indicating a selection condition for DCT-related logic, likely associated with temperature or specific engine segment configurations.\r\n2.  **LV_TMP_SEL_DCT_4 (Output block '1' in the second diagram):** A boolean flag (`true`/`false`) indicating another, distinct selection condition for DCT-related logic, also likely associated with temperature or specific engine segment configurations.\r\n\r\n---\r\n\r\n### ## Logic Flow\r\n\r\nBoth diagrams follow a common logical structure: multiple specific `AND` conditions are evaluated, and if any of these `AND` conditions are true, the final output flag is set to `true` (via an `OR` gate).\r\n\r\n#### **Logic Flow for LV_TMP_SEL_DCT_3 (Figure 29.3.32)**\r\n\r\n1.  **Individual Condition Checks:**\r\n    *   The `SEG_NR_MES` input is compared for equality (`==` blocks) against a set of predefined constant integer values: 3, 5, 8, 10, 12. Each comparison (`SEG_NR_MES == constant`) produces a boolean result.\r\n    *   The `NC_CYL_NR` input is simultaneously compared for equality (`==` blocks) against another set of predefined constant integer values: 7, 8, 8, 10, 9. Each comparison (`NC_CYL_NR == constant`) produces a boolean result.\r\n\r\n2.  **AND Gate Combinations:**\r\n    The boolean results from these equality checks are then paired and fed into five `AND` gates. Each `AND` gate produces a `true` output only if *both* of its inputs are `true`.", "mimetype": "text/plain", "start_char_idx": 75201, "end_char_idx": 78722, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3ae22abf-1746-4a6d-abd0-7b732b5b2c0c": {"__data__": {"id_": "3ae22abf-1746-4a6d-abd0-7b732b5b2c0c", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9258dab1-738f-4838-9032-291e091f0c24", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "8768972c4dd010048226394230f543f4c8548313e1792610c7168734be87d781", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "61bfe36a-c381-4fc2-a46a-1787b984d59a", "node_type": "1", "metadata": {}, "hash": "2ac7950c8324244cd13bebd9696c47326552c89d45a62fa3e48d435836656bc3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Each comparison (`NC_CYL_NR == constant`) produces a boolean result.\r\n\r\n2.  **AND Gate Combinations:**\r\n    The boolean results from these equality checks are then paired and fed into five `AND` gates. Each `AND` gate produces a `true` output only if *both* of its inputs are `true`. The specific pairings are:\r\n    *   `(SEG_NR_MES == 3)` AND `(NC_CYL_NR == 7)`\r\n    *   `(SEG_NR_MES == 5)` AND `(NC_CYL_NR == 8)` (first instance of 8)\r\n    *   `(SEG_NR_MES == 8)` (first instance of 8) AND `(NC_CYL_NR == 8)` (second instance of 8)\r\n    *   `(SEG_NR_MES == 10)` (first instance of 10) AND `(NC_CYL_NR == 10)` (first instance of 10)\r\n    *   `(SEG_NR_MES == 12)` (first instance of 12) AND `(NC_CYL_NR == 9)` (first instance of 9)\r\n\r\n3.  **OR Gate Output:**\r\n    The five boolean outputs from these `AND` gates are then fed into a single `OR` gate. The `OR` gate outputs `true` if *at least one* of its inputs is `true`.\r\n\r\n4.  **Final Assignment:**\r\n    The final boolean output of the `OR` gate is assigned to the `LV_TMP_SEL_DCT_3` variable.\r\n    **In summary:** `LV_TMP_SEL_DCT_3` will be `true` if any of the five specified `(SEG_NR_MES == X) AND (NC_CYL_NR == Y)` conditions are met.\r\n\r\n#### **Logic Flow for LV_TMP_SEL_DCT_4 (Figure 29.3.33)**\r\n\r\n1.  **Individual Condition Checks:**\r\n    *   The `SEG_NR_MES` input is compared for equality (`==` blocks) against a set of predefined constant integer values: 4, 5, 10, 12.\r\n    *   The `NC_CYL_NR` input is simultaneously compared for equality (`==` blocks) against another set of predefined constant integer values: 9, 10, 10, 12.\r\n\r\n2.  **AND Gate Combinations:**\r\n    These boolean results are paired and fed into four `AND` gates:\r\n    *   `(SEG_NR_MES == 4)` AND `(NC_CYL_NR == 9)`\r\n    *   `(SEG_NR_MES == 5)` AND `(NC_CYL_NR == 10)` (first instance of 10)\r\n    *   `(SEG_NR_MES == 10)` (first instance of 10) AND `(NC_CYL_NR == 10)` (second instance of 10)\r\n    *   `(SEG_NR_MES == 12)` (first instance of 12) AND `(NC_CYL_NR == 12)` (first instance of 12)\r\n\r\n3.  **OR Gate Output:**\r\n    The four boolean outputs from these `AND` gates are then fed into a single `OR` gate.\r\n\r\n4.  **Final Assignment:**\r\n    The final boolean output of the `OR` gate is assigned to the `LV_TMP_SEL_DCT_4` variable.\r\n    **In summary:** `LV_TMP_SEL_DCT_4` will be `true` if any of the four specified `(SEG_NR_MES == X) AND (NC_CYL_NR == Y)` conditions are met.\r\n\r\n\r\n--- Page 37 ---\r\n\r\n## Function\r\n\r\nThe Simulink diagram presents two independent logical computations, \"Calculation of LV_TMP_SEL_DCT_5\" and \"Calculation of LV_TMP_SEL_DCT_6\". Their primary function is to generate boolean (true/false) flags based on specific combinations of a measured engine segment number (`SEG_NR_MES`) and the engine's cylinder count (`NC_CYL_NR`). These flags likely serve as enabling conditions or selectors for different \"engine roughness segment time correction\" algorithms or adaptive values, as indicated by the surrounding text context. The overall goal is to address systematic inaccuracies in engine roughness measurements.\r\n\r\n## Inputs\r\n\r\n1.  **`SEG_NR_MES` (Segment Number Measured):** An integer value representing the current segment number obtained from the engine roughness measurement system. (Input block labeled '1' in both diagrams)\r\n2.  **`NC_CYL_NR` (Number of Cylinders):** An integer value representing the total number of cylinders in the engine configuration. (Input block labeled '2' in both diagrams)\r\n\r\n## Outputs\r\n\r\n1.", "mimetype": "text/plain", "start_char_idx": 78439, "end_char_idx": 81919, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "61bfe36a-c381-4fc2-a46a-1787b984d59a": {"__data__": {"id_": "61bfe36a-c381-4fc2-a46a-1787b984d59a", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3ae22abf-1746-4a6d-abd0-7b732b5b2c0c", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "1d43a45d4412f9c5adf400700cca828cb22e26732769d601064f0b8cfba2b351", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "33a64dab-3338-4a73-9717-591002912636", "node_type": "1", "metadata": {}, "hash": "4c2ce9373295d1be898150087b9e876cd2fc4376560c4e64ca663b0fedfcc7cc", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Inputs\r\n\r\n1.  **`SEG_NR_MES` (Segment Number Measured):** An integer value representing the current segment number obtained from the engine roughness measurement system. (Input block labeled '1' in both diagrams)\r\n2.  **`NC_CYL_NR` (Number of Cylinders):** An integer value representing the total number of cylinders in the engine configuration. (Input block labeled '2' in both diagrams)\r\n\r\n## Outputs\r\n\r\n1.  **`LV_TMP_SEL_DCT_5` (Temporary Select DCT 5):** A boolean (true/false) signal. This output is true if the input conditions specific to \"DCT_5\" are met. (Output block labeled '1' in the first diagram)\r\n2.  **`LV_TMP_SEL_DCT_6` (Temporary Select DCT 6):** A boolean (true/false) signal. This output is true if the input conditions specific to \"DCT_6\" are met. (Output block labeled '1' in the second diagram)\r\n\r\n## Logic Flow\r\n\r\nThe logical flow is described separately for each output signal:\r\n\r\n### Logic for `LV_TMP_SEL_DCT_5`\r\n\r\nThis calculation determines if `LV_TMP_SEL_DCT_5` should be true based on two distinct sets of conditions combined by an `OR` operator:\r\n\r\n1.  **First Condition Set:**\r\n    *   The `SEG_NR_MES` input is compared for equality (`==`) with the constant value `5`.\r\n    *   The `NC_CYL_NR` input is compared for equality (`==`) with the constant value `12`.\r\n    *   The results of these two comparisons are fed into an `AND` logical gate. This sub-condition is true only if `SEG_NR_MES` is exactly `5` AND `NC_CYL_NR` is exactly `12`.\r\n\r\n2.  **Second Condition Set:**\r\n    *   The `SEG_NR_MES` input is compared for equality (`==`) with the constant value `11`.\r\n    *   The `NC_CYL_NR` input is compared for equality (`==`) with the constant value `12`.\r\n    *   The results of these two comparisons are fed into another `AND` logical gate. This sub-condition is true only if `SEG_NR_MES` is exactly `11` AND `NC_CYL_NR` is exactly `12`.\r\n\r\n3.  **Final Output `LV_TMP_SEL_DCT_5`:** The boolean results from the \"First Condition Set\" and the \"Second Condition Set\" are fed into a single `OR` logical gate. Therefore, `LV_TMP_SEL_DCT_5` will be true if either the first condition set is true OR the second condition set is true.\r\n\r\n### Logic for `LV_TMP_SEL_DCT_6`\r\n\r\nThis calculation determines if `LV_TMP_SEL_DCT_6` should be true based on five distinct sets of conditions, any of which can make the output true (combined by an `OR` operator):\r\n\r\n1.  **Condition Set A:**\r\n    *   (`SEG_NR_MES` == `2`) AND (`NC_CYL_NR` == `4`)\r\n\r\n2.  **Condition Set B:**\r\n    *   (`SEG_NR_MES` == `3`) AND (`NC_CYL_NR` == `6`)\r\n\r\n3.  **Condition Set C:**\r\n    *   (`SEG_NR_MES` == `4`) AND (`NC_CYL_NR` == `8`)\r\n\r\n4.  **Condition Set D:**\r\n    *   (`SEG_NR_MES` == `5`) AND (`NC_CYL_NR` == `10`)\r\n\r\n5.  **Condition Set E:**\r\n    *   (`SEG_NR_MES` == `6`) AND (`NC_CYL_NR` == `12`)\r\n\r\n6.  **Final Output `LV_TMP_SEL_DCT_6`:** The boolean results from each of these five `AND` gates (Condition Sets A through E) are all fed into a multi-input `OR` logical gate. Consequently, `LV_TMP_SEL_DCT_6` will be true if any one of these five specific condition sets (A, B, C, D, or E) evaluates to true.\r\n\r\n\r\n--- Page 38 ---\r\n\r\nThis image displays a functional block diagram illustrating a process for correcting engine roughness segment times, not a Simulink diagram directly. However, the representation is analogous to what one would model in Simulink, using blocks for data processing and signal lines for data flow.\r\n\r\n## Function\r\n\r\nThe primary function of this system is to perform **Engine Roughness Segment Time Correction**.", "mimetype": "text/plain", "start_char_idx": 81508, "end_char_idx": 85059, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "33a64dab-3338-4a73-9717-591002912636": {"__data__": {"id_": "33a64dab-3338-4a73-9717-591002912636", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "61bfe36a-c381-4fc2-a46a-1787b984d59a", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "b4a44d8d365e86c3a211be7ddbba2f352dd0b4c4d2523c84797da08d316211d7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7a95d468-2151-41fe-bdfc-c5fe66613596", "node_type": "1", "metadata": {}, "hash": "9a686f2b130021cb0cfa3c8647a00d60a4948ab18bcb2f4f78e0f0dd50d9913b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "--- Page 38 ---\r\n\r\nThis image displays a functional block diagram illustrating a process for correcting engine roughness segment times, not a Simulink diagram directly. However, the representation is analogous to what one would model in Simulink, using blocks for data processing and signal lines for data flow.\r\n\r\n## Function\r\n\r\nThe primary function of this system is to perform **Engine Roughness Segment Time Correction**. It takes raw engine segment times as input, applies an adaptive correction based on stored adaptive values and an adaptive correction factor, and outputs a stream of corrected segment times. These corrected times are buffered in a FIFO stack for further processing by an Engine Roughness (ER) calculation process. This system aims to refine the accuracy of engine roughness measurements by compensating for known variations or learned offsets.\r\n\r\n## Inputs\r\n\r\n1.  **`T_SEG_ER`**: Raw engine roughness segment time. This is the primary input representing the uncorrected time for an engine segment.\r\n2.  **`SEG_NR_MES`**: Segment measurement number or index. This value is used to select the appropriate adaptive value from the `SEG_AD_MMV_ER` array. It likely increments with each segment measured.\r\n3.  **`SEG_AD_MMV_ER[x]`**: An array of ER adaptive values stored in non-volatile memory (EMS non-volatile memory). These values are learned or calibrated offsets specific to different engine segments or conditions, indexed by `SEG_NR_MES`.\r\n4.  **`SEG_AD_COR_ER`**: An ER adaptive values correction factor. This is an additional adaptive correction value applied uniformly or as part of the overall adaptive correction.\r\n\r\n## Outputs\r\n\r\n1.  **`SEG_T_COR`**: Current ER corrected segment time. This is the immediate result of the correction calculation for the current segment.\r\n2.  **`SEG_T_COR_BUF[k]`**: A FIFO (First-In, First-Out) stack/buffer of ER corrected segment times. This buffer stores a history of `SEG_T_COR` values, with its size (`NC_SIZE_SEG_T_COR_BUF`) determined by the engine type. This buffer's content is then fed \"To ER Calculation Process\".\r\n\r\n## Logic Flow\r\n\r\nThe logical flow for the ER segments correction process proceeds as follows:\r\n\r\n1.  **Raw Segment Time Input (`T_SEG_ER`)**: The system receives a raw engine roughness segment time, `T_SEG_ER`.\r\n2.  **Raw Segment Times Buffering (`SEG_T_MES_CYL[x]`)**: `T_SEG_ER` is fed into a stack or buffer named `SEG_T_MES_CYL[x]`, labeled as \"ER raw segment times stack\". The size of this stack is `NC_CYL_NR`, likely representing the number of cylinders or relevant segments. A value, `SEG_T_MES`, representing the current or relevant raw segment time (possibly after some internal processing or selection from the stack), is extracted from this buffer.\r\n3.  **Adaptive Value Selection**: Concurrently, the `SEG_NR_MES` (segment measurement number) is used to index into the `SEG_AD_MMV_ER[x]` array, which contains adaptive values stored in non-volatile memory. This retrieves the specific adaptive value relevant to the current `SEG_NR_MES`.\r\n4.  **Correction Calculation (`SEG_T_COR`)**: The core correction is applied using the following formula:\r\n    `SEG_T_COR = SEG_T_MES * (1 - [SEG_AD_MMV_ER[SEG_NR_MES] + SEG_AD_COR_ER])`\r\n    *   The term `(SEG_AD_MMV_ER[SEG_NR_MES] + SEG_AD_COR_ER)` represents the total adaptive correction factor for the current segment.\r\n    *   This total correction factor is subtracted from 1, and the result is multiplied by the `SEG_T_MES` to yield the corrected segment time, `SEG_T_COR`. This implies that `SEG_AD_MMV_ER` and `SEG_AD_COR_ER` are fractional values that modulate `SEG_T_MES`.\r\n5.  **Corrected Segment Times Buffering (`SEG_T_COR_BUF[k]`)**: The newly calculated `SEG_T_COR` value is then pushed onto a FIFO stack called `SEG_T_COR_BUF[k]`, labeled as \"ER corrected segment times stack\". The size of this buffer (`NC_SIZE_SEG_T_COR_BUF`) is dynamic and depends on the engine configuration (e.g., number of cylinders).\r\n6.  **Output for Further Processing**: The entire `SEG_T_COR_BUF[k]` (or selected values from it) is then passed \"To ER Calculation Process\", indicating its use as input for subsequent, higher-level engine roughness calculations.", "mimetype": "text/plain", "start_char_idx": 84634, "end_char_idx": 88837, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7a95d468-2151-41fe-bdfc-c5fe66613596": {"__data__": {"id_": "7a95d468-2151-41fe-bdfc-c5fe66613596", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "33a64dab-3338-4a73-9717-591002912636", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "21479cc68c527cdcdb852247e9b675771c5e1f27bd9a7caf162ee0766140beae", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f9f52a5c-8b64-4887-88a3-874dfb11496c", "node_type": "1", "metadata": {}, "hash": "c66d4cc50f08742bf530699f19a25ffc765bab673ab0a460efb55813d541a01e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The size of this buffer (`NC_SIZE_SEG_T_COR_BUF`) is dynamic and depends on the engine configuration (e.g., number of cylinders).\r\n6.  **Output for Further Processing**: The entire `SEG_T_COR_BUF[k]` (or selected values from it) is then passed \"To ER Calculation Process\", indicating its use as input for subsequent, higher-level engine roughness calculations.\r\n\r\n\r\n--- Page 39 ---\r\n\r\nThis image displays a Simulink diagram representing a subsystem for engine roughness segment time correction.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram, as indicated by the title \"ENRD. Engine roughness segment time correction\", is to perform time correction for engine roughness segments. It features a conditional enable/disable mechanism: when enabled, it processes various segment-related inputs through a core calculation block; when disabled, it outputs a default initialization value. It also manages buffer-related segment data for both general correction and specific channels.\r\n\r\n## Inputs\r\n\r\n*   **`LV_ENA_SEG_T_MES`**: Boolean signal to enable or disable the segment time measurement and correction logic. (Level Enable Segment Time Measurement)\r\n*   **`SEG_T_COR_BUF_in`**: Input for the segment time correction buffer.\r\n*   **`SEG_NR_MES`**: Number of measurements for the segment.\r\n*   **`SEG_AD_MMV_ER`**: Analog-to-digital (A/D) measurement error for the segment (possibly related to mean/median value).\r\n*   **`SEG_AD_COR_ER`**: Analog-to-digital (A/D) correction error for the segment.\r\n*   **`SEG_T_MES`**: Measured segment time.\r\n*   **`SEG_T_MES_CH`**: Measured segment time for a specific channel.\r\n*   **`SEG_T_COR_BUF_CH_in`**: Input for the segment time correction buffer for a specific channel.\r\n*   **`SEG_AD_MMV_ER_CH`**: Analog-to-digital (A/D) measurement error for the segment, specific to a channel.\r\n*   **`1999999.7`**: A constant numerical value, likely used as a default or initialization for outputs when the system is disabled.\r\n*   **`[NC_SIZE_SEG_T_COR_BUF]`**: A constant block representing the number of channels or size for the segment time correction buffer, providing an array or configuration value, initialized to `1999999.7`.\r\n\r\n## Outputs\r\n\r\n*   **`SEG_T_COR`** (1): The calculated segment time correction value.\r\n*   **`SEG_T_COR_CH`** (3): The calculated segment time correction value for a specific channel.\r\n*   **`SEG_T_COR_BUF_out`** (2): The output of the segment time correction buffer.\r\n*   **`SEG_T_COR_BUF_CH_out`** (4): The output of the segment time correction buffer for a specific channel.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the diagram can be described in the following steps:\r\n\r\n1.  **Enable/Disable Control**:\r\n    *   The `LV_ENA_SEG_T_MES` (Level Enable Segment Time Measurement) boolean signal is processed by a `NOT` block, inverting its logical state.\r\n    *   This inverted signal then feeds into the `cond_if` port of an `If` block, controlling the conditional execution paths.\r\n\r\n2.  **Conditional Value Selection (If Block Branches)**:\r\n    *   **If `LV_ENA_SEG_T_MES` is FALSE** (meaning the `NOT` output is TRUE, triggering the `if` branch): A constant value `1999999.7` is selected. This acts as a default or reset value for the outputs.\r\n    *   **If `LV_ENA_SEG_T_MES` is TRUE** (meaning the `NOT` output is FALSE, triggering the `else` branch): The output of the `[NC_SIZE_SEG_T_COR_BUF]` block is selected. This block, initialized to `1999999.7`, likely represents configuration parameters or an initial state for the enabled operation.\r\n\r\n3.  **Core Calculation (`STACK_SEG_T_COR`)**:\r\n    *   A subsystem block labeled `STACK_SEG_T_COR` (identified as `X.2.4.1`) takes multiple inputs: `SEG_T_COR_BUF_in`, `SEG_NR_MES`, `SEG_AD_MMV_ER`, `SEG_AD_COR_ER`, `SEG_T_MES`, `SEG_T_MES_CH`, `SEG_T_COR_BUF_CH_in`, and `SEG_AD_MMV_ER_CH`.\r\n    *   This block is responsible for the main \"stack segment time correction\" calculations. It produces four outputs: `SEG_T_COR`, `SEG_T_COR_CH`, `SEG_T_COR_BUF_out`, and `SEG_T_COR_BUF_CH_out`.", "mimetype": "text/plain", "start_char_idx": 88477, "end_char_idx": 92502, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f9f52a5c-8b64-4887-88a3-874dfb11496c": {"__data__": {"id_": "f9f52a5c-8b64-4887-88a3-874dfb11496c", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7a95d468-2151-41fe-bdfc-c5fe66613596", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "bcf9ba93b7e7facf085fc20cd0d7d93c0ed7181b080ef17e5c50cdfc8f76d498", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1ea0a4f6-6217-4668-85ab-a79ce88b02d6", "node_type": "1", "metadata": {}, "hash": "08c14e875a7dd906a5797014ae8e671504b9ea75299b140d51f957106001b275", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   This block is responsible for the main \"stack segment time correction\" calculations. It produces four outputs: `SEG_T_COR`, `SEG_T_COR_CH`, `SEG_T_COR_BUF_out`, and `SEG_T_COR_BUF_CH_out`.\r\n\r\n4.  **Output Routing and Merging (V.5.2 and Merge Blocks)**:\r\n    *   A block labeled `V.5.2` acts as a central conditional router or multiplexer. It receives inputs from both branches of the `If` block (the `1999999.7` constant and the `[NC_SIZE_SEG_T_COR_BUF]` block's output) and all four outputs from the `STACK_SEG_T_COR` block.\r\n    *   Based on the state of `LV_ENA_SEG_T_MES`:\r\n        *   **If `LV_ENA_SEG_T_MES` is FALSE (disabled)**: The `V.5.2` block routes the default value `1999999.7` to all four subsequent `Merge` blocks. The outputs from `STACK_SEG_T_COR` are effectively bypassed.\r\n        *   **If `LV_ENA_SEG_T_MES` is TRUE (enabled)**: The `V.5.2` block routes the respective outputs from the `STACK_SEG_T_COR` block (`SEG_T_COR`, `SEG_T_COR_CH`, `SEG_T_COR_BUF_out`, `SEG_T_COR_BUF_CH_out`) to their corresponding `Merge` blocks. The output from `[NC_SIZE_SEG_T_COR_BUF]` is also routed, potentially as a default or configuration input for some of the merge paths or within V.5.2's internal logic.\r\n    *   Finally, four `Merge` blocks combine the selected signals from `V.5.2` to produce the final four system outputs: `SEG_T_COR`, `SEG_T_COR_CH`, `SEG_T_COR_BUF_out`, and `SEG_T_COR_BUF_CH_out`. This effectively means the system outputs either the default value (when disabled) or the calculated correction values (when enabled).\r\n\r\n\r\n--- Page 40 ---\r\n\r\nThis image contains two distinct Simulink-style diagrams, both related to engine roughness segment time correction.\r\n\r\n## Function\r\nThe primary function of this system is to calculate corrected segment times for engine roughness analysis (`SEG_T_COR` and `SEG_T_COR_CH`) and to manage associated data buffers. The calculation involves adjusting measured segment times based on error signals and performing unit conversions. The buffer management subsystem, detailed in the second diagram, performs a partial reversal and copy of elements within the segment time buffers.\r\n\r\n## Inputs\r\n1.  **SEG_NR_MES**: Measured raw segment time (likely non-channel specific).\r\n2.  **SEG_AD_MMV_ER**: Error signal associated with the measured segment time (`SEG_NR_MES`).\r\n3.  **SEG_AD_COR_ER**: General correction error signal, applied to both paths.\r\n4.  **SEG_AD_MMV_ER_CH**: Channel-specific error signal for measured segment time.\r\n5.  **SEG_T_COR_BUF_in**: Input buffer containing previous corrected segment times.\r\n6.  **SEG_T_COR_BUF_CH_in**: Input buffer containing previous channel-specific corrected segment times.\r\n7.  **NC_SIZE_SEG_T_COR_BUF**: The defined size of the segment time correction buffer.\r\n\r\n## Outputs\r\n1.  **SEG_T_COR**: Calculated corrected segment time (non-channel specific).\r\n2.  **SEG_T_COR_CH**: Calculated corrected channel-specific segment time.\r\n3.  **SEG_T_COR_BUF_out**: Output buffer containing updated corrected segment times.\r\n4.  **SEG_T_COR_BUF_CH_out**: Output buffer containing updated channel-specific corrected segment times.\r\n\r\n## Logic Flow\r\n\r\nThe overall logic is divided into two main parts: the calculation of current corrected segment times and the management of historical segment time buffers.\r\n\r\n### Part 1: SEG_T_COR calculation (Figure 29.3.38 - Top and Middle sections)\r\n\r\n1.  **Measured Segment Time Processing (Top Path for `SEG_T_COR`):**\r\n    *   `SEG_NR_MES` and `SEG_AD_MMV_ER` are combined by a multiplexer (`V. 2.5`), suggesting they might form a vector or a pair of related values.\r\n    *   This combined signal is then added to `SEG_AD_COR_ER`. This sum represents an intermediate corrected measured segment time, labeled as `SEG_T_MES`.\r\n    *   `SEG_T_MES` undergoes a unit conversion step. Although it appears to be multiplied and then divided by the constant `4194304`, the label \"Division by factor 4194304 to take care unit mismatch\" indicates this block's purpose is to handle unit discrepancies, possibly involving specific data type conversions or implicit scaling.", "mimetype": "text/plain", "start_char_idx": 92310, "end_char_idx": 96414, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1ea0a4f6-6217-4668-85ab-a79ce88b02d6": {"__data__": {"id_": "1ea0a4f6-6217-4668-85ab-a79ce88b02d6", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f9f52a5c-8b64-4887-88a3-874dfb11496c", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "ab95a0aa5435639167cbc7fce1046a6ea3cabda1bb9f7c56a4b75cd3a90830e7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "cca53680-cfec-4acb-8714-8440d37f7148", "node_type": "1", "metadata": {}, "hash": "09b1e57b186c4694137d1e690bbab0fc52a9cb9add03d25a236db9d0e75467e7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This sum represents an intermediate corrected measured segment time, labeled as `SEG_T_MES`.\r\n    *   `SEG_T_MES` undergoes a unit conversion step. Although it appears to be multiplied and then divided by the constant `4194304`, the label \"Division by factor 4194304 to take care unit mismatch\" indicates this block's purpose is to handle unit discrepancies, possibly involving specific data type conversions or implicit scaling.\r\n    *   The result then passes through a gain block (`V. 6.1`) to produce the final `SEG_T_COR`.\r\n\r\n2.  **Channel-Specific Measured Segment Time Processing (Bottom Path for `SEG_T_COR_CH`):**\r\n    *   This path is analogous to the top path. `SEG_AD_MMV_ER_CH` is processed similarly to `SEG_NR_MES` and `SEG_AD_MMV_ER` (likely multiplexed with a default value or another signal, although only one input is explicitly labeled).\r\n    *   This signal is also added to the common `SEG_AD_COR_ER`.\r\n    *   The resulting sum (`SEG_T_MES_CH`) undergoes an identical unit conversion step using the factor `4194304`.\r\n    *   The final result passes through a gain block (`V. 6.1`) to produce `SEG_T_COR_CH`.\r\n\r\n### Part 2: Buffer Management (Figure 29.3.38 - Lower section, detailed by Figure 29.3.39)\r\n\r\n1.  **Buffer Size Adjustment:** The input buffer size `NC_SIZE_SEG_T_COR_BUF` is decremented by `1`. This adjusted size (`NC_SIZE_SEG_T_COR_BUF - 1`) is used to define the iteration range for a zero-based indexed loop, commonly representing the maximum index.\r\n\r\n2.  **For Loop Subsystem:** The input buffers `SEG_T_COR_BUF_in` and `SEG_T_COR_BUF_CH_in` are fed into a 'for' loop subsystem. This subsystem processes the elements of these buffers to generate the output buffers `SEG_T_COR_BUF_out` and `SEG_T_COR_BUF_CH_out`. The detailed operation of this 'for' loop is described in \"Figure 29.3.39: Read vectors\".\r\n\r\n3.  **Detailed Buffer Read/Write (Figure 29.3.39 - Generic `SEG_T_COR_BUF_xx` operation):**\r\n    *   **Loop Iteration:** A 'For Iterator' block (`N`) is configured to run `NC_SIZE_SEG_T_COR_BUF - 1` times, with the loop variable `i` taking values from `1` to `(NC_SIZE_SEG_T_COR_BUF - 1)`.\r\n    *   **Element Reading:** In each iteration `i`:\r\n        *   A read index `read_idx` is calculated as `NC_SIZE_SEG_T_COR_BUF - 1 - i`. This means `read_idx` goes from `(NC_SIZE_SEG_T_COR_BUF - 2)` down to `0`.\r\n        *   The element at `SEG_T_COR_BUF_xx_in[read_idx]` is read from the input vector using a \"Read Vector\" block (`V. 5.5`). This effectively reads elements from the second-to-last position down to the first position of the input buffer. The very last element (index `NC_SIZE_SEG_T_COR_BUF - 1`) of the input buffer is not read.\r\n    *   **Element Writing:**\r\n        *   A write index `write_idx` is calculated as `i - 1`. This means `write_idx` goes from `0` up to `(NC_SIZE_SEG_T_COR_BUF - 2)`.\r\n        *   The previously read element is then written to `SEG_T_COR_BUF_xx_out[write_idx]` using a \"Write Vector\" block (`V. 5.5`). This writes to positions from the first (index 0) up to the second-to-last position of the output buffer. The very last element of the output buffer is not written by this loop.\r\n    *   **Overall Effect:** This detailed buffer logic copies a subset of elements from the input buffer (`SEG_T_COR_BUF_xx_in`) into the output buffer (`SEG_T_COR_BUF_xx_out`), but in a reversed order. Specifically, `SEG_T_COR_BUF_xx_out[0]` receives `SEG_T_COR_BUF_xx_in[NC_SIZE_SEG_T_COR_BUF - 2]`, `SEG_T_COR_BUF_xx_out[1]` receives `SEG_T_COR_BUF_xx_in[NC_SIZE_SEG_T_COR_BUF - 3]`, and so on, until `SEG_T_COR_BUF_xx_out[NC_SIZE_SEG_T_COR_BUF - 2]` receives `SEG_T_COR_BUF_xx_in[0]`.", "mimetype": "text/plain", "start_char_idx": 95985, "end_char_idx": 99642, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "cca53680-cfec-4acb-8714-8440d37f7148": {"__data__": {"id_": "cca53680-cfec-4acb-8714-8440d37f7148", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1ea0a4f6-6217-4668-85ab-a79ce88b02d6", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "4e6fd6252eb0915748b0dd89e76b030344a56925187f299c1c21ce1f2aadbe9d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f7039c13-d610-4bd2-ab0d-607724b2b0f3", "node_type": "1", "metadata": {}, "hash": "bd4935ce218bac9fe111a568ec8561c449710858385d50ea5dcb6a29f149d53d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This operation reverses the order of all elements except the very last one, which is neither read nor written by this loop.\r\n\r\n\r\n--- Page 45 ---\r\n\r\nThis image clearly displays a Simulink-like block diagram, representing a subsystem within an automotive control system.\r\n\r\n## Function\r\nThe primary function of this Simulink subsystem, titled \"ENRD. Engine roughness calculation,\" is to **calculate and process various engine roughness metrics and associated diagnostic information**. It takes in a multitude of raw engine sensor data, system states, and control parameters, then processes them through specialized computation blocks (`ER_SEG_REF`, `ER_CPT_CLC`) to output detailed roughness values, ratios, and status flags, likely used for engine control, misfire detection, and diagnostics. The reference text further clarifies its role in identifying observed cylinders for misfire detection.\r\n\r\n## Inputs\r\nThe subsystem receives a comprehensive set of inputs, which can be categorized into control signals and various sensor/system state signals:\r\n\r\n**Control/Initialization Inputs:**\r\n*   `ENRD_SIGCVER0_RST`: Reset signal for version 0 of the engine roughness calculation.\r\n*   `ENRD_SIGCVER0_ERU2ES`: Signal for transitioning ERU (Engine Roughness Unit) to ES (Engine Speed/State).\r\n*   `ENRD_SIGCVER0_SEG`: Segment-related control signal.\r\n\r\n**Engine & System State Inputs (feeding into `sys_eve` and other block inputs):**\r\n*   `THD_AD_ER`: Threshold for Analog-to-Digital conversion for Engine Roughness.\r\n*   `FAC_DRV2_ER`: Factor for Drive 2 (likely related to crankshaft or cylinder) for Engine Roughness.\r\n*   `CRLC_DRV2_ER`: Crankshaft Position/Angle Calculation for Drive 2 for Engine Roughness.\r\n*   `LOAD_MIS`: Load condition relevant for misfire detection.\r\n*   `LV_AT`: Local Variable for engine operating point or status.\r\n*   `LV_SYN_ENG`: Local Variable for engine synchronization status.\r\n*   `NC_CYL_NR`: Number of engine cylinders.\r\n*   `N_32`: Engine speed (likely 32-bit representation).\r\n*   `SEG_NR`: Current segment number of engine operation.\r\n*   `LV_ENA_SEG_T_MES`: Local Variable to enable segment time measurement.\r\n*   `SEG_T_COR`: Segment time correction value.\r\n*   `SEG_T_COR_BUF`: Buffer for segment time correction.\r\n*   `SEG_T_COR_CH`: Channel-specific segment time correction.\r\n*   `LV_ER_WIN_CH_ACT`: Local Variable for Engine Roughness Window Channel Active status.\r\n*   `LV_CVT`: Local Variable related to Continuous Variable Transmission or Crankshaft Velocity Tracking.\r\n*   `LV_DCT`: Local Variable related to Dual Clutch Transmission or Dwell Control Time.\r\n*   `IDX_TRANS_TYP`: Index for transmission type.\r\n*   `NC_NR_TRANS_TYP`: Number of transmission types.\r\n*   `NC_NR_LOAD_MIS_1_ENRD`: Number of load misfire segments (for ENRD, segment 1).\r\n*   `NC_NR_N_32_4_ENRD`: Number of N_32 segments (for ENRD, segment 4).\r\n*   `NC_NR_N_32_5_ENRD`: Number of N_32 segments (for ENRD, segment 5).\r\n*   `er_seg_ref_1`: An internal feedback or specific reference input for segment referencing.\r\n*   `er_cpt_clc`: An internal feedback or specific input for roughness computation.\r\n\r\n## Outputs\r\nThe subsystem generates a variety of engine roughness related outputs, indicated by the blue output blocks:\r\n*   `<DRV0_ER>`, `<DRV1_ER>`, `DRV2_ER`, `DRV2_MMV_ER`: Various drive-related engine roughness values (e.g., per crank angle or cylinder group).\r\n*   `ER: O V`: General engine roughness output value.\r\n*   `<ER_CYL>` (`ER_CYL: O V`): Engine roughness per cylinder output value.\r\n*   `<ER_HB>` (`ER_HB: O V`): Engine roughness for \"Half-Bridge\" or specific calculation output value.\r\n*   `ER_RATIO_1`, `ER_RATIO_2`, `ER_RATIO_3`: Different ratios or normalized roughness values.\r\n*   `<ER_RAW>` (`ER_RAW: O V`): Raw engine roughness output value.\r\n*   `<ER_STND>` (`ER_STND: O V`): Standardized engine roughness output value.\r\n*   `ER_STND_CYL`: Standardized engine roughness per cylinder value.", "mimetype": "text/plain", "start_char_idx": 99643, "end_char_idx": 103583, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f7039c13-d610-4bd2-ab0d-607724b2b0f3": {"__data__": {"id_": "f7039c13-d610-4bd2-ab0d-607724b2b0f3", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "cca53680-cfec-4acb-8714-8440d37f7148", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "db310d8aa449f556a8577cdb70a4db3ca1e76e68cb3aaae071eff0fe8ecc5553", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "928db243-b639-4757-8066-1b4e0235777e", "node_type": "1", "metadata": {}, "hash": "d8c24aa581adff011ae987578a792c21b5782ceabf0da0e0a3af1d063c98bf94", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `ER_RATIO_1`, `ER_RATIO_2`, `ER_RATIO_3`: Different ratios or normalized roughness values.\r\n*   `<ER_RAW>` (`ER_RAW: O V`): Raw engine roughness output value.\r\n*   `<ER_STND>` (`ER_STND: O V`): Standardized engine roughness output value.\r\n*   `ER_STND_CYL`: Standardized engine roughness per cylinder value.\r\n*   `<ER_STND_HB>` (`ER_STND_HB: O V`): Standardized engine roughness for \"Half-Bridge\" or specific calculation output value.\r\n*   `FAC_ADD_ER`, `FAC_GAIN_ER`: Factor for adding and gaining engine roughness.\r\n*   `<LV_ENA_ER>` (`LV_ENA_ER: O V`): Local Variable indicating if engine roughness calculation is enabled.\r\n*   `<LV_ER_CH_CLC>` (`LV_ER_CH_CLC: O V`): Local Variable for engine roughness channel calculation status.\r\n*   `LV_ER_RATIO: O V`: Local Variable for the engine roughness ratio output value.\r\n*   `<SEG_NR_ER>` (`SEG_NR_ER: O V`): Segment number observed for engine roughness, useful for cylinder identification.\r\n\r\n## Logic Flow\r\n1.  **Input Acquisition**: The module gathers a wide array of raw engine and system state signals (e.g., `N_32` for speed, `NC_CYL_NR` for cylinder count, various `_ER` specific inputs like `THD_AD_ER`, `FAC_DRV2_ER`, `CRLC_DRV2_ER`) and control signals (`ENRD_SIGCVER0_RST`, etc.). These are fed into the subsystem's boundary.\r\n\r\n2.  **Signal Aggregation**: Many of the disparate input signals appear to be bundled into a conceptual \"system event\" bus (`sys_eve`) and other unnamed signal bundles (indicated by thick lines feeding into the sub-blocks) before being directed to the core processing units.\r\n\r\n3.  **Segment Referencing (`ER_SEG_REF` - X.1)**:\r\n    *   This sub-block receives the aggregated `sys_eve` and specific inputs like `er_seg_ref_1` and an unnamed `input` signal.\r\n    *   Its primary role is to establish and manage segments of engine operation relevant for roughness analysis. This likely involves defining time or crank-angle windows, synchronizing with engine events, and referencing specific portions of the engine cycle or cylinder firing sequence.\r\n    *   It outputs `er_seg_ref`, which represents the currently referenced engine segment information.\r\n\r\n4.  **Roughness Computation (`ER_CPT_CLC` - X.2)**:\r\n    *   This sub-block receives the `er_seg_ref` from `ER_SEG_REF` (X.1), the `sys_eve` bus, and its own internal feedback/input `er_cpt_clc` and another `input` signal.\r\n    *   Based on the defined segments (`er_seg_ref`) and the latest system/engine data (`sys_eve`), this block performs the core computations to determine engine roughness. This could involve analyzing variations in crankshaft speed, combustion pressure, or other relevant sensor data within the defined segments. The feedback `er_cpt_clc` suggests stateful calculations, accumulations, or filtering.\r\n    *   It outputs `er_cpt_clc`, which represents the calculated engine roughness data.\r\n\r\n5.  **Output Generation**:\r\n    *   The primary outputs from the core processing blocks, `er_seg_ref` and `er_cpt_clc`, are then fed to the output interface of the main subsystem.\r\n    *   Within this interface, these calculated roughness data and segment references are further processed, formatted, and potentially split into multiple, specific output signals. This results in the comprehensive set of outputs such as various `DRV_ER` values, `ER_CYL` (cylinder-specific roughness), `ER_RAW` (raw roughness), `ER_STND` (standardized roughness), `ER_RATIO` values, and diagnostic/status flags like `LV_ENA_ER` and `SEG_NR_ER`. These distinct outputs provide different perspectives and levels of detail for downstream control, diagnostic, or display systems.\r\n\r\n\r\n--- Page 46 ---\r\n\r\n## Function\r\nThis Simulink diagram describes the implementation of an engine roughness segment counter, `SEG_NR_ER`. Its primary function is to track segments for engine roughness calculation, operating within a range from 0 to `NC_CYL_NR - 1`.", "mimetype": "text/plain", "start_char_idx": 103272, "end_char_idx": 107164, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "928db243-b639-4757-8066-1b4e0235777e": {"__data__": {"id_": "928db243-b639-4757-8066-1b4e0235777e", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f7039c13-d610-4bd2-ab0d-607724b2b0f3", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "ef47cce09c15b30cfc14dce7814177bfcc6dd5d099fd65eb197d529c3dcdc018", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c161568b-acd1-4788-ade8-0ce062150395", "node_type": "1", "metadata": {}, "hash": "0498e8f32513465fae601ef880833d4cd19db3f9d2cf492a80a2fe79c624d2e5", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "These distinct outputs provide different perspectives and levels of detail for downstream control, diagnostic, or display systems.\r\n\r\n\r\n--- Page 46 ---\r\n\r\n## Function\r\nThis Simulink diagram describes the implementation of an engine roughness segment counter, `SEG_NR_ER`. Its primary function is to track segments for engine roughness calculation, operating within a range from 0 to `NC_CYL_NR - 1`. The counter's behavior (initialization, activation, deactivation, and recurrence/increment) is governed by various engine and system conditions, and it is designed to increment similarly to a common segment counter (`SEG_NR`). The module outputs processed segment reference signals for further use in engine roughness calculations.\r\n\r\n## Inputs\r\n*   **`sys_eve`**: A system event or clock signal, likely triggering the synchronous execution of the logic.\r\n*   **`<ER_SEG_REF_RST>`**: An input signal to reset the engine roughness segment reference.\r\n*   **`<ER_SEG_REF_ERU2ES>`**: An input signal related to an Emergency Unit 2 Enable/Start event, potentially forcing an initialization or specific state.\r\n*   **`<ER_SEG_REF_SEG>`**: A recurrence signal for segment counting, indicating when the segment counter should be triggered or incremented.\r\n*   **`<LV_SYN_ENG>`**: Engine synchronization status. A value of `1` typically indicates engine synchronization, leading to activation, while `0` indicates no synchronization, leading to deactivation.\r\n*   **`<SEG_NR>`**: The common segment number, which `SEG_NR_ER` is intended to mimic or synchronize with in its counting behavior.\r\n*   **`<LV_ER_WIN_CH_ACT>`**: A flag indicating if the Engine Roughness Window Channel is active, influencing the counter's operation and initialization.\r\n*   **`<NC_CYL_NR>`**: The number of cylinders in the engine, which defines the upper limit of the `SEG_NR_ER` counter (the counter will count from 0 up to `NC_CYL_NR - 1`).\r\n\r\n## Outputs\r\n*   **`er_seg_ref`**: The primary output representing the engine roughness segment reference.\r\n*   **`er_seg_ref_1`**: An additional or potentially derived/filtered output signal for the engine roughness segment reference.\r\n*   **`<SEG_NR_ER>` (internal to bus)**: The current value of the engine roughness segment counter.\r\n*   **`<LV_ER_CH_CLC>` (internal to bus)**: A flag or status signal related to the engine roughness channel calculation.\r\n\r\n## Logic Flow\r\n\r\n1.  **Application Conditions Logic (APP_CDN V.7.6):**\r\n    *   This block acts as the control logic, taking various system inputs (`sys_eve`, `<ER_SEG_REF_RST>`, `<ER_SEG_REF_ERU2ES>`, `<ER_SEG_REF_SEG>`, `<LV_SYN_ENG>`).\r\n    *   It evaluates these inputs to generate internal control flags: `fc_RST`, `fc_ERU2ES`, `fc_SEG`, `fc_OPM_SEG` (for activation), `deactivation`, and `fc_INI` (for initialization).\r\n    *   Based on the provided \"Application Conditions\":\r\n        *   `fc_INI` is triggered by `RST`, `ERU2ES`, or `Deactivation` states.\r\n        *   `fc_OPM_SEG` (activation) is active when `<LV_SYN_ENG>` is `1`.\r\n        *   `deactivation` is active when `<LV_SYN_ENG>` is `0`.\r\n        *   `fc_SEG` is likely triggered by the `<ER_SEG_REF_SEG>` input for recurrence.\r\n\r\n2.  **Initialization Phase (INI X.1.1):**\r\n    *   When the `fc_INI` flag from `APP_CDN` is active, the `INI X.1.1` block is enabled.\r\n    *   As detailed in \"Figure 29.4.3 Initialization\":\r\n        *   The segment counter `SEG_NR_ER` is initialized to `0`.\r\n        *   The `LV_ER_CH_CLC` flag is also set to its initial state, potentially influenced by `LV_ER_WIN_CH_ACT` at initialization.\r\n    *   These initialized values become the current state of `SEG_NR_ER` and `LV_ER_CH_CLC`.\r\n\r\n3.  **Operational Segment Phase (OPM_SEG X.1.2):**\r\n    *   When the `fc_OPM_SEG` flag from `APP_CDN` is active (meaning the engine is synchronized), the `OPM_SEG X.1.2` block is enabled.", "mimetype": "text/plain", "start_char_idx": 106765, "end_char_idx": 110619, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c161568b-acd1-4788-ade8-0ce062150395": {"__data__": {"id_": "c161568b-acd1-4788-ade8-0ce062150395", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "928db243-b639-4757-8066-1b4e0235777e", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "ebe0e3869d259b746ca8ef91d523f0bc448762d77aa2a767f52b85418f7ac3de", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "724ed2ed-5eeb-4340-a82d-1b487d3db38b", "node_type": "1", "metadata": {}, "hash": "91afb6f9e4a525ffe7f39007dcfc4116a75446e437061538561b917f39dab8fe", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   These initialized values become the current state of `SEG_NR_ER` and `LV_ER_CH_CLC`.\r\n\r\n3.  **Operational Segment Phase (OPM_SEG X.1.2):**\r\n    *   When the `fc_OPM_SEG` flag from `APP_CDN` is active (meaning the engine is synchronized), the `OPM_SEG X.1.2` block is enabled.\r\n    *   This block takes `LV_SYN_ENG`, `SEG_NR` (the common segment counter), `LV_ER_WIN_CH_ACT`, and `NC_CYL_NR` as inputs.\r\n    *   It is responsible for actively incrementing the `SEG_NR_ER` counter from `0` up to `NC_CYL_NR - 1`. This incrementing happens \"in the same way as the common segment counter SEG_NR,\" suggesting a synchronous update or a tracking mechanism.\r\n    *   It also continuously updates the `LV_ER_CH_CLC` flag based on its operational logic.\r\n    *   The `SEG_NR_ER` and `LV_ER_CH_CLC` outputs from this block represent the actively updated values.\r\n\r\n4.  **Bus Merging (BusMerge V.5.35):**\r\n    *   The `BusMerge` block combines the relevant state variables, `SEG_NR_ER` and `LV_ER_CH_CLC`. In a typical state-machine architecture, either the `INI` block (during initialization) or the `OPM_SEG` block (during active operation) would write to these state variables, and `BusMerge` aggregates their current values into a single bus signal.\r\n\r\n5.  **Output Processing (V.6.4):**\r\n    *   The bus containing the current `SEG_NR_ER` and `LV_ER_CH_CLC` is fed into a final processing block labeled `V.6.4`.\r\n    *   This block performs any necessary final transformations, formatting, or derivation to produce the actual output signals.\r\n    *   It then outputs the two final engine roughness segment reference signals: `er_seg_ref` and `er_seg_ref_1`.\r\n\r\n\r\n--- Page 47 ---\r\n\r\n## Function\r\nThis Simulink diagram (Figure 29.4.4) defines a formula section for `seg_nr_er`, which likely stands for \"segment number engine roughness\". Its primary function is to consolidate and process several input signals related to engine roughness calculation, including a segment number, engine roughness window activation status, and cylinder count, into a structured bus output (`opm_seg`) for further system integration or analysis within an engine control unit context.\r\n\r\n## Inputs\r\nThe diagram receives the following inputs:\r\n*   `<SEG_NR>`: Represents an initial or raw segment number.\r\n*   `<LV_ER_WIN_CH_ACT>` (first instance): Likely a boolean or flag indicating the activation state of an engine roughness calculation window or channel.\r\n*   `<NC_CYL_NR>`: Represents the number of cylinders in the engine.\r\n*   `<LV_ER_WIN_CH_ACT>` (second instance): Another instance of the engine roughness window/channel activation flag, indicating it might be processed differently or used in a separate sub-calculation.\r\n\r\n## Outputs\r\nThe diagram produces a single bus output:\r\n*   `opm_seg`: A bus signal containing three processed values: `SEG_NR_ER`, `CLC`, and `LV_ER_CH_CLC`.\r\n\r\n## Logic Flow\r\nThe logical flow of the diagram proceeds as follows:\r\n\r\n1.  **Input Reception:** An \"input\" block (labeled `f()`, possibly representing a function call or a subsystem input port) receives the four aforementioned signals: `<SEG_NR>`, two instances of `<LV_ER_WIN_CH_ACT>`, and `<NC_CYL_NR>`.\r\n\r\n2.  **First Processing Block (CLC):**\r\n    *   The signals `<SEG_NR>`, the first `<LV_ER_WIN_CH_ACT>`, and `<NC_CYL_NR>` are fed into a processing block labeled `CLC` (and identified as `X.1.2.1`). This block likely represents a sub-function, a lookup table, or a custom algorithm.\r\n    *   This `CLC` block computes and outputs two signals:\r\n        *   `SEG_NR_ER`: The processed segment number for engine roughness.\r\n        *   `CLC`: An intermediate calculated value, possibly related to the channel or segment logic.\r\n\r\n3.  **Second Processing Block (CLC_ER_CH):**\r\n    *   The second instance of the `<LV_ER_WIN_CH_ACT>` signal is fed into another processing block labeled `CLC_ER_CH` (and identified as `X.1.2.2`).", "mimetype": "text/plain", "start_char_idx": 110340, "end_char_idx": 114241, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "724ed2ed-5eeb-4340-a82d-1b487d3db38b": {"__data__": {"id_": "724ed2ed-5eeb-4340-a82d-1b487d3db38b", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c161568b-acd1-4788-ade8-0ce062150395", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "a8b14c7fbc9db0b1398f2c47e58678ddd7e3e710a24b9eca96f16cc8851593b6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f60aa2b1-7b7b-4d48-9d49-42a726d5ff18", "node_type": "1", "metadata": {}, "hash": "16c4bc5302100919d9f683d75bde9f7887592ea002432f798169e17b29199fc2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `CLC`: An intermediate calculated value, possibly related to the channel or segment logic.\r\n\r\n3.  **Second Processing Block (CLC_ER_CH):**\r\n    *   The second instance of the `<LV_ER_WIN_CH_ACT>` signal is fed into another processing block labeled `CLC_ER_CH` (and identified as `X.1.2.2`).\r\n    *   This `CLC_ER_CH` block computes and outputs a single signal:\r\n        *   `LV_ER_CH_CLC`: A calculated level for the engine roughness channel.\r\n\r\n4.  **Bus Consolidation (BusMerge):**\r\n    *   The three processed signals\u2014`SEG_NR_ER` (from the `CLC` block), `CLC` (also from the `CLC` block), and `LV_ER_CH_CLC` (from the `CLC_ER_CH` block)\u2014are then routed to a `BusMerge` block (labeled `V.6.6`).\r\n    *   The `BusMerge` block combines these individual signals into a single structured data type, forming a bus.\r\n\r\n5.  **Output Generation:**\r\n    *   The unified bus signal, named `opm_seg`, is then passed to an \"Outport\" block (labeled `1`). This signifies `opm_seg` as the final output of this particular Simulink diagram section.\r\n\r\n\r\n--- Page 49 ---\r\n\r\nThis image is a Simulink diagram representing an initialization routine for an automotive system, specifically related to \"Engine roughness calculation\" (ENRD).\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to initialize various parameters and variables associated with engine roughness calculation. This includes setting scalar values to zero and initializing arrays (potentially per-cylinder parameters) to either zero or one, based on predefined sizes. It sets up the default states for these variables at the start of operation.\r\n\r\n## Inputs\r\n*   **`NC_CYL_NR`**: This is an implicit input used by the array initialization blocks. It represents the \"Number of Cylinders\" and determines the size of several arrays.\r\n*   **`NLC_ER_CON_MISF` (V.6.11)**: A control signal or flag that dictates the conditional initialization logic for `LV_ER_RATIO` and potentially other ratio-related variables. It appears to be a boolean or an enumerated state.\r\n*   **`V.6.5`**: An implicit input to the Multiport Switch within the `#else` branch, used to select which input to pass through. Its source or meaning is not explicitly shown but is part of the conditional logic.\r\n*   **`ini`**: This signal (labeled '1') appears to be an input to this initialization subsystem, potentially triggering or coordinating the initialization process.\r\n\r\n## Outputs\r\nAll signals connected to the vertical bar on the right are outputs of this initialization subsystem:\r\n*   **`DRV0_ER`**: Engine Roughness Drive Value 0.\r\n*   **`DRV1_ER`**: Engine Roughness Drive Value 1.\r\n*   **`DRV2_ER`**: Engine Roughness Drive Value 2.\r\n*   **`DRV2_MMV_ER`**: Engine Roughness Drive Value 2, MMV (Mean Misfire Volume?).\r\n*   **`ER_RAW`**: Raw Engine Roughness.\r\n*   **`ER`**: Processed Engine Roughness.\r\n*   **`ER_STND`**: Standardized Engine Roughness.\r\n*   **`ER_HB`**: Engine Roughness High-Band.\r\n*   **`ER_STND_HB`**: Standardized Engine Roughness High-Band.\r\n*   **`FAC_GAIN_ER`**: Engine Roughness Gain Factor (array).\r\n*   **`FAC_ADD_ER`**: Engine Roughness Additive Factor (array).\r\n*   **`ER_CYL`**: Per-cylinder Engine Roughness (array).\r\n*   **`ER_STND_CYL`**: Per-cylinder Standardized Engine Roughness (array).\r\n*   **`LV_ENA_ER`**: Engine Roughness Enable Flag.\r\n*   **`cpt_lv_ena_seg_t_mes`**: Counter for Low-Voltage Enable Segment Time Measurement.\r\n*   **`ER_RATIO_1`**: Engine Roughness Ratio 1.\r\n*   **`ER_RATIO_2`**: Engine Roughness Ratio 2.\r\n*   **`ER_RATIO_3`**: Engine Roughness Ratio 3.\r\n*   **`LV_ER_RATIO`**: Low-Voltage Engine Roughness Ratio.\r\n*   **`ini`**: The input `ini` is also passed through as an output, indicating a potential 'initialized' state or for cascading.", "mimetype": "text/plain", "start_char_idx": 113947, "end_char_idx": 117696, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f60aa2b1-7b7b-4d48-9d49-42a726d5ff18": {"__data__": {"id_": "f60aa2b1-7b7b-4d48-9d49-42a726d5ff18", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "724ed2ed-5eeb-4340-a82d-1b487d3db38b", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "ecc087608c77f843a25eb31008a7f28d6cd8920a196b6d4c009dc3aa73e59359", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c10561f7-194a-4cb7-a7de-1782473e7380", "node_type": "1", "metadata": {}, "hash": "f9912a2463880906cd843e671e461d49dc28285abaf258dea247227c87f1de71", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **`ER_RATIO_1`**: Engine Roughness Ratio 1.\r\n*   **`ER_RATIO_2`**: Engine Roughness Ratio 2.\r\n*   **`ER_RATIO_3`**: Engine Roughness Ratio 3.\r\n*   **`LV_ER_RATIO`**: Low-Voltage Engine Roughness Ratio.\r\n*   **`ini`**: The input `ini` is also passed through as an output, indicating a potential 'initialized' state or for cascading.\r\n\r\n## Logic Flow\r\nThe diagram initializes various signals using constant values and conditional logic:\r\n\r\n1.  **Direct Scalar Initialization**:\r\n    *   Many scalar output signals are directly connected to \"0\" constant blocks. These include `DRV0_ER`, `DRV1_ER`, `DRV2_ER`, `DRV2_MMV_ER`, `ER_RAW`, `ER`, `ER_STND`, `ER_HB`, `ER_STND_HB`, `LV_ENA_ER`, and `cpt_lv_ena_seg_t_mes`. They are all initialized to `0`.\r\n\r\n2.  **Array Initialization based on `NC_CYL_NR`**:\r\n    *   Four array variables are initialized based on the `NC_CYL_NR` (Number of Cylinders) input. These are likely per-cylinder parameters.\r\n    *   **`FAC_GAIN_ER`**: Initialized to `1` for all elements of the array.\r\n    *   **`FAC_ADD_ER`**: Initialized to `0` for all elements of the array.\r\n    *   **`ER_CYL`**: Initialized to `0` for all elements of the array.\r\n    *   **`ER_STND_CYL`**: Initialized to `0` for all elements of the array.\r\n\r\n3.  **Conditional Ratio Initialization**:\r\n    *   **`ER_RATIO_1`, `ER_RATIO_2`, `ER_RATIO_3`**: These three output signals are directly initialized to `0` from constant blocks.\r\n    *   **`LV_ER_RATIO`**: This signal is initialized through a conditional `If-Else` block controlled by `NLC_ER_CON_MISF` (V.6.11).\r\n        *   **If `#if` (condition `NLC_ER_CON_MISF` is true/active)**: A constant `0` is passed to a `Merge` block.\r\n        *   **Else `#else` (condition `NLC_ER_CON_MISF` is false/inactive)**:\r\n            *   Within this branch, there's a `Multiport Switch` (V.6.5) whose control input is implied to be related to `NLC_ER_CON_MISF == 1` (V.6.6). This switch has four inputs. The first input is unconnected (implicitly 0), and the subsequent three inputs are `0` constant values.\r\n            *   The output of this `Multiport Switch` (which will always be `0` in this initialization context, regardless of the selection) is passed to the `Merge` block.\r\n        *   **`Merge` Block (V.6.2)**: This block combines the outputs of the `If` and `Else` branches. In this specific initialization diagram, both branches ultimately feed a `0` value to the `Merge` block. Therefore, `LV_ER_RATIO` is always initialized to `0`. This pattern suggests that while the structure allows for complex conditional logic, during initial setup, these ratio-related variables are simply zeroed out.\r\n\r\n4.  **`ini` Signal Pass-through**: The `ini` input signal is passed through block `1` and becomes an output of the subsystem, potentially indicating the completion of the initialization step or for further chaining.\r\n\r\n\r\n--- Page 50 ---\r\n\r\nThe image contains two Simulink diagrams. The request asks to analyze \"this Simulink diagram image\", implying a focus on the primary or most detailed one. I will analyze the second diagram, titled \"29.4.2.2.1 Condition check for calculation\" (Figure 29.4.10), as it depicts more complex logic.\r\n\r\n## Function\r\n\r\nThis Simulink diagram's primary function is to evaluate a set of conditions and, based on the outcome, trigger one of two different calculation paths to determine validity signals. It checks whether a segment time measurement (`cpt_lv_ena_seg_t_mes_in`) and a specific value (`N_32`) fall within predefined operational bounds.", "mimetype": "text/plain", "start_char_idx": 117361, "end_char_idx": 120891, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c10561f7-194a-4cb7-a7de-1782473e7380": {"__data__": {"id_": "c10561f7-194a-4cb7-a7de-1782473e7380", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f60aa2b1-7b7b-4d48-9d49-42a726d5ff18", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "3a24e3b289c355e31f6e01c032385e9a093a8d0a4b6db687c3f766d5ab907c92", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "523d09d5-a899-4b6f-88a9-32e5d0f2cfb3", "node_type": "1", "metadata": {}, "hash": "f46d645d4d87ceaefadb6a8a4e6d7f4843c36e518d70546c5fe473e6e4d2fc46", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Function\r\n\r\nThis Simulink diagram's primary function is to evaluate a set of conditions and, based on the outcome, trigger one of two different calculation paths to determine validity signals. It checks whether a segment time measurement (`cpt_lv_ena_seg_t_mes_in`) and a specific value (`N_32`) fall within predefined operational bounds. The result of these checks dictates which \"valid\" or \"not valid\" processing subsystem (`CDN_VLD` or `CDN_NOT_VLD`) is executed, ultimately combining their outputs into a structured bus signal for further use in engine roughness calculation (as per the \"ENRD, Engine roughness calculation\" header).\r\n\r\n## Inputs\r\n\r\n1.  **`cpt_lv_ena_seg_t_mes_in`**: A floating-point or integer value representing an enabled segment time measurement.\r\n2.  **`NC_SIZE_SEG_T_COR_BUF`**: A buffered size value for segment time correction, used as a threshold.\r\n3.  **`C_N_32_MAX_ER`**: A constant representing the maximum allowed error for the `N_32` value.\r\n4.  **`C_N_32_MIN_ER`**: A constant representing the minimum allowed error for the `N_32` value.\r\n5.  **`N_32`**: A value that needs to be checked against its error limits.\r\n6.  **`input`**: A general-purpose input signal passed to both `CDN_VLD` and `CDN_NOT_VLD` subsystems.\r\n7.  **`feedback`**: A feedback signal passed to both `CDN_VLD` and `CDN_NOT_VLD` subsystems.\r\n\r\n## Outputs\r\n\r\n1.  **`clc`**: A bus signal that merges the outputs of the conditionally executed subsystems (`cdn_vld` and `cdn_not_vld`). This bus likely contains various status flags and processed data indicating the overall calculation validity and specific details from the active path.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into the following steps:\r\n\r\n1.  **Segment Time Measurement Condition Check:**\r\n    *   The input signal `cpt_lv_ena_seg_t_mes_in` is incremented by `1`.\r\n    *   This incremented value is then compared (using a `>=` relational operator) against `NC_SIZE_SEG_T_COR_BUF`. This comparison yields a boolean result.\r\n\r\n2.  **`N_32` Range Condition Check:**\r\n    *   The input `N_32` is passed through a Min/Max block. This block effectively clips `N_32` to the range defined by `C_N_32_MIN_ER` (minimum error) and `C_N_32_MAX_ER` (maximum error). Specifically, it calculates `min(max(N_32, C_N_32_MIN_ER), C_N_32_MAX_ER)`. Let's call this clipped value `N_32_clipped`.\r\n    *   `N_32_clipped` is then compared (using an `==` relational operator) with the original `N_32`. If `N_32_clipped == N_32`, it implies that `N_32` was already within its defined error limits, and this comparison yields a boolean result.\r\n\r\n3.  **Combined Condition (`cond_if`):**\r\n    *   The boolean result from the \"Segment Time Measurement Condition Check\" (Step 1) and the boolean result from the \"`N_32` Range Condition Check\" (Step 2) are fed into an `AND` logical block.\r\n    *   The output of the `AND` block is `cond_if`. This signal is `true` only if both preceding conditions are met, signifying that the primary conditions for a \"valid\" calculation are satisfied.\r\n\r\n4.  **Conditional Subsystem Execution (If/Else Block):**\r\n    *   The `cond_if` signal controls an `If` block, which gates the execution of two downstream action subsystems.\r\n    *   **If `cond_if` is `true` (the 'if' path):**\r\n        *   The `CDN_VLD` (Condition Valid) subsystem (referenced as X.2.2.1.1) is executed.\r\n        *   It receives `input` and `feedback` signals.\r\n        *   Its output is `cdn_vld`.\r\n    *   **If `cond_if` is `false` (the 'else' path):**\r\n        *   The `CDN_NOT_VLD` (Condition Not Valid) subsystem (referenced as X.2.2.1.2) is executed. The label `f()` associated with `cdn_not_vld` likely indicates some specific function or processing within this subsystem.", "mimetype": "text/plain", "start_char_idx": 120550, "end_char_idx": 124296, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "523d09d5-a899-4b6f-88a9-32e5d0f2cfb3": {"__data__": {"id_": "523d09d5-a899-4b6f-88a9-32e5d0f2cfb3", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c10561f7-194a-4cb7-a7de-1782473e7380", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "ae52733b9e8c13fe18ecaafa7d3620e2910585cdcb6e5906eb94c04f48728112", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e08752e4-b7a5-4f9f-ae49-eb3dcf0ad139", "node_type": "1", "metadata": {}, "hash": "6596ed8bc7ba8b66d2fc659beb657ddfd7dda98d675c90f163e418abcda007c2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   Its output is `cdn_vld`.\r\n    *   **If `cond_if` is `false` (the 'else' path):**\r\n        *   The `CDN_NOT_VLD` (Condition Not Valid) subsystem (referenced as X.2.2.1.2) is executed. The label `f()` associated with `cdn_not_vld` likely indicates some specific function or processing within this subsystem.\r\n        *   It receives `input` and `feedback` signals.\r\n        *   Its output is `cdn_not_vld`.\r\n\r\n5.  **Output Bus Merging:**\r\n    *   The outputs `cdn_vld` (from the 'if' path) and `cdn_not_vld` (from the 'else' path) are then combined into a single structured bus using a `BusMerge` block (V.5.35).\r\n    *   This merged bus is the final output of the diagram, named `clc`, ensuring that subsequent parts of the system receive comprehensive validity information regardless of which conditional path was active.\r\n\r\n\r\n--- Page 51 ---\r\n\r\n## Function\r\nThis Simulink diagram, titled \"ENRD. Engine roughness calculation\" and depicting \"DRVx_ER calculations\" for a \"3 cylinder engine\", serves as a core module for calculating various engine roughness-related parameters. Its primary function is to process a wide array of engine state, sensor, and control inputs, along with feedback from previous calculations, to determine current engine roughness, cylinder-specific roughness components, and related flags/ratios. The system seems to perform initial calculations, derive gain/additive factors, and then compute standard and raw roughness values, ultimately consolidating these into a comprehensive output bus.\r\n\r\n## Inputs\r\nThe diagram receives its inputs from two primary input ports, 'input' and 'feedback', and implicitly from external signals used by `CLC_3`.\r\n\r\n**From 'input' Port (Bus 1):**\r\n*   `NC_CYL_NR`: Number of cylinders.\r\n*   `FAC_DRV2_ER`: Factor for drive 2 engine roughness.\r\n*   `LV_ER_WIN_CH_ACT`: Level engine roughness window change active.\r\n*   `SEG_T_COR_BUF`: Segment temperature correction buffer.\r\n*   `SEG_T_COR`: Segment temperature correction.\r\n*   `SEG_T_COR_BUF_CH`: Segment temperature correction buffer channel.\r\n*   `SEG_T_COR_CH`: Segment temperature correction channel.\r\n*   `IDX_TRANS_TYP`: Index transmission type.\r\n*   `N_32`: Engine speed (32-bit).\r\n*   `LOAD_MIS`: Load value for misfire detection.\r\n\r\n**From 'feedback' Port (Bus 2):**\r\n*   `lv_er_overflow`: Level engine roughness overflow (from previous cycle/calculation).\r\n*   `DRV0_ER`: Drive 0 engine roughness (feedback).\r\n*   `DRV1_ER`: Drive 1 engine roughness (feedback).\r\n*   `DRV2_ER`: Drive 2 engine roughness (feedback).\r\n*   `DRV2_MMV_ER`: Drive 2 minimum maximum value engine roughness (feedback).\r\n*   `SEG_NR_ER`: Segment number engine roughness (feedback).\r\n*   `CRLC_DRV2_ER`: Calculated drive 2 engine roughness (feedback).\r\n*   `LV_AT`: Level automatic transmission (feedback).\r\n*   `N_32`: Engine speed (32-bit, feedback).\r\n*   `LOAD_MIS`: Load value for misfire detection (feedback).\r\n*   `LV_CVT`: Level continuously variable transmission (feedback).\r\n*   `LV_DCT`: Level dual-clutch transmission (feedback).\r\n\r\n**Implicit/External Inputs (used by CLC_3, not from main input/feedback blocks):**\r\n*   `THD_AD_ER`: Threshold for adaptive engine roughness.\r\n*   `ER_HB`: Engine roughness high-band.\r\n\r\n## Outputs\r\nThe diagram consolidates all its calculated results into a single output bus named `cdn_vld` (via BusMerge V.5.35).\r\n\r\n**Components of the `cdn_vld` Output Bus:**\r\n*   `DRV0_ER`: Drive 0 engine roughness (calculated).\r\n*   `DRV1_ER`: Drive 1 engine roughness (calculated).\r\n*   `DRV2_ER`: Drive 2 engine roughness (calculated).\r\n*   `lv_er_overflow` (from CLC_1): Level engine roughness overflow (calculated by CLC_1).\r\n*   `ER_RATIO_1`: Engine roughness ratio 1.\r\n*   `ER_RATIO_2`: Engine roughness ratio 2.\r\n*   `ER_RATIO_3`: Engine roughness ratio 3.\r\n*   `LV_ER_RATIO`: Level engine roughness ratio.", "mimetype": "text/plain", "start_char_idx": 123987, "end_char_idx": 127830, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e08752e4-b7a5-4f9f-ae49-eb3dcf0ad139": {"__data__": {"id_": "e08752e4-b7a5-4f9f-ae49-eb3dcf0ad139", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "523d09d5-a899-4b6f-88a9-32e5d0f2cfb3", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "4c326a0d4108d125637e2c35c2e532aa5fa477f7bf03add9c78f1b0c58495500", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7d860fac-79e5-4ba9-95d4-ee948a8df153", "node_type": "1", "metadata": {}, "hash": "4773432ecda4eedc4ae11d8a533a59533ec68cc4741fc1a219266e45d248df13", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `lv_er_overflow` (from CLC_1): Level engine roughness overflow (calculated by CLC_1).\r\n*   `ER_RATIO_1`: Engine roughness ratio 1.\r\n*   `ER_RATIO_2`: Engine roughness ratio 2.\r\n*   `ER_RATIO_3`: Engine roughness ratio 3.\r\n*   `LV_ER_RATIO`: Level engine roughness ratio.\r\n*   `FAC_GAIN_ER`: Factor gain engine roughness.\r\n*   `FAC_ADD_ER`: Factor additive engine roughness.\r\n*   `DRV2_MMV_ER`: Drive 2 minimum maximum value engine roughness (calculated by CLC_2).\r\n*   `ER_RAW`: Engine roughness raw value.\r\n*   `lv_er_overflow` (from CLC_2): Level engine roughness overflow (calculated by CLC_2). *Note: This is distinct from the `lv_er_overflow` from CLC_1, despite sharing the same name in the merged bus.*\r\n*   `ER`: Engine roughness (general).\r\n*   `ER_CYL`: Engine roughness per cylinder.\r\n*   `ER_STND`: Engine roughness standard.\r\n*   `ER_STND_CYL`: Engine roughness standard per cylinder.\r\n*   `ER_HB`: Engine roughness high-band (calculated).\r\n*   `ER_STND_HB`: Engine roughness standard high-band.\r\n*   `LV_ENA_ER`: Level enable engine roughness.\r\n*   `ini_clc`: Initialization flag/value for CLC.\r\n\r\n## Logic Flow\r\nThe diagram illustrates a modular calculation structure using several Function-Call Subsystems (CLC_1, CLC_2, CLC_3, INI_CLC) and bus management blocks.\r\n\r\n1.  **Initial Parameter Processing (CLC_1):**\r\n    *   The `CLC_1` subsystem (X.2.2.1.1.1) receives all signals from the 'input' bus.\r\n    *   It performs initial calculations or selections to determine the current `DRV0_ER`, `DRV1_ER`, `DRV2_ER`, `lv_er_overflow`, and various `ER_RATIO_x` and `LV_ER_RATIO` values.\r\n    *   Its outputs are then aggregated into a bus and made available for subsequent steps and the final output. The `lv_er_overflow` output from CLC_1 is specifically fed as an input (`lv_er_overflow_in`) to both CLC_2 and CLC_3.\r\n\r\n2.  **Gain and Additive Factor Calculation (CLC_2):**\r\n    *   The `CLC_2` subsystem (X.2.2.1.1.2) receives several feedback signals (e.g., `DRV2_MMV_ER`, `SEG_NR_ER`, `CRLC_DRV2_ER`, `LV_AT`, `N_32`, `LOAD_MIS`, `LV_CVT`, `LV_DCT`) and the `lv_er_overflow` from CLC_1.\r\n    *   It also receives `DRV0_ER`, `DRV1_ER`, `DRV2_ER` from CLC_1's output.\r\n    *   CLC_2 processes these inputs to calculate `FAC_GAIN_ER`, `FAC_ADD_ER`, an updated `DRV2_MMV_ER` (named `DRV2_MMV_ER_out`), `ER_RAW`, and its own `lv_er_overflow` (named `lv_er_overflow_out`).\r\n    *   The `ER_RAW` output from CLC_2 is then fed as an input to CLC_3.\r\n\r\n3.  **Engine Roughness Derivation (CLC_3):**\r\n    *   The `CLC_3` subsystem (X.2.2.1.1.3) is the most complex in terms of inputs, drawing from the initial 'input' bus (`LV_ER_WIN_CH_ACT`, `SEG_T_COR_BUF`, `SEG_T_COR_BUF_CH`), the 'feedback' bus (`DRV2_MMV_ER_in`, `SEG_NR_ER`, `N_32`), and outputs from CLC_1 (`lv_er_overflow`) and CLC_2 (`ER_RAW`).\r\n    *   It also receives `THD_AD_ER` and `ER_HB` (likely constants or system parameters not originating from the main input blocks shown).\r\n    *   CLC_3 performs the primary engine roughness calculations, outputting `ER`, `ER_CYL`, `ER_STND`, `ER_STND_CYL`, `ER_HB`, `ER_STND_HB`, and `LV_ENA_ER`.", "mimetype": "text/plain", "start_char_idx": 127556, "end_char_idx": 130671, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7d860fac-79e5-4ba9-95d4-ee948a8df153": {"__data__": {"id_": "7d860fac-79e5-4ba9-95d4-ee948a8df153", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e08752e4-b7a5-4f9f-ae49-eb3dcf0ad139", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "c354eb6b822e4b0d4e26f66676ca885e026a8c9f62f632a7a87e2eb5ac6a38a8", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0c59de60-c7a7-40cc-abc7-78933cde7b5a", "node_type": "1", "metadata": {}, "hash": "806dc88a3ca7163fb4bd49eb5aa2e66f96ef019f31f88e11be1e911d0f18e43a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   It also receives `THD_AD_ER` and `ER_HB` (likely constants or system parameters not originating from the main input blocks shown).\r\n    *   CLC_3 performs the primary engine roughness calculations, outputting `ER`, `ER_CYL`, `ER_STND`, `ER_STND_CYL`, `ER_HB`, `ER_STND_HB`, and `LV_ENA_ER`.\r\n    *   It also outputs a signal `fc_INI_CLC`, which appears to be a function call trigger or input for the initialization block.\r\n\r\n4.  **Initialization/Configuration (INI_CLC):**\r\n    *   The `INI_CLC` subsystem (X.2.2.1.1.4) takes `fc_INI_CLC` from CLC_3.\r\n    *   It likely performs initialization routines or provides an initialization value for the overall CLC system, outputting `ini_clc`.\r\n\r\n5.  **Output Aggregation (BusMerge V.5.35):**\r\n    *   All relevant outputs from `CLC_1`, `CLC_2`, `CLC_3`, and `INI_CLC` are selected via Bus Selector blocks (V.5.7).\r\n    *   These selected signals are then merged together by the `BusMerge` block (V.5.35) to form the final `cdn_vld` output bus, which encapsulates the comprehensive results of the engine roughness calculation.\r\n\r\n\r\n--- Page 52 ---\r\n\r\nThis image displays a block diagram, highly characteristic of a Simulink model or a similar data flow diagram used in automotive embedded system design. It outlines a process for engine roughness calculation and diagnosis.\r\n\r\n## Function\r\n\r\nThe primary function of this diagram is to calculate and monitor engine roughness for diagnostic purposes. It processes time-series data of segment-related values (`SEG_T_COR`) to derive various roughness indicators (`ER`, `DRV0_ER`, `DRV1_ER`, `DRV2_ER`), compares them against thresholds, and buffers relevant data for future analysis or output. The ultimate goal is to generate a diagnostic signal (`ER(p)`) for a specific engine segment, accounting for processing delays.\r\n\r\n## Inputs\r\n\r\n*   **SEG_T_COR (n-4 to n+4, and similar indices):** This is the fundamental input, representing a time-correlated value for specific engine segments (identified by Cylinder Number and Segment Number). `n` represents a reference time or segment index, with `n-x` indicating past samples and `n+x` indicating future samples.\r\n*   **Cylinder Number (A, B, C):** Categorical input indicating which cylinder data belongs to.\r\n*   **Segment Number (0, 1, 2):** Categorical input indicating the specific segment within a cylinder's cycle.\r\n*   **Segment Sample (n, n+1, etc.):** An index or timestamp for the data segments.\r\n*   **N_Load:** Implied input (Engine Speed and Load) used for calculating `THD_ER`.\r\n*   **Cyl A Admission conditions:** A condition or flag specific to cylinder A, influencing the `THD_ER` calculation.\r\n*   **ER_RAW (n):** A raw engine roughness value for segment `n`, used in the `DRV2_ER` calculation.\r\n*   **FAC_DRV2_ER:** A factor used to scale the raw `DRV2_ER` component.\r\n*   **DRV2_MMW_ER (n):** A compensation or correction term for `DRV2_ER`, possibly a moving window error.\r\n*   **THD_AD_ER (n):** A threshold adjustment error term, added to `DRV2_ER`.\r\n\r\n## Outputs\r\n\r\n*   **ER(p+1):** The final, processed Engine Roughness diagnostic output, likely representing a significant roughness event or an overall roughness indicator at a diagnostic point `p+1`.\r\n*   **Buffer SEG_T_COR_BUF[NC_SIZE_SEG_T_COR_BUF]:** A buffer containing a historical sequence of `SEG_T_COR` values. This array (shown partially as `SEG_T_COR_BUF[0]` to `SEG_T_COR_BUF[6]`) provides a memory of past segment values, crucial for calculations involving historical data and for potential external monitoring or logging.\r\n\r\n## Logic Flow\r\n\r\nThe system processes a continuous stream of `SEG_T_COR` values, indexed by segment sample `n`, cylinder, and segment number. The logical flow can be broken down as follows:\r\n\r\n1.  **Segment Data Acquisition:** `SEG_T_COR` values are continuously sampled and indexed (e.g., `SEG_T_COR(n-4)` to `SEG_T_COR(n+4)`).", "mimetype": "text/plain", "start_char_idx": 130377, "end_char_idx": 134265, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0c59de60-c7a7-40cc-abc7-78933cde7b5a": {"__data__": {"id_": "0c59de60-c7a7-40cc-abc7-78933cde7b5a", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7d860fac-79e5-4ba9-95d4-ee948a8df153", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "011b224d940a114137f7e198f8473cccdfecc1785602e28268a6bf20a17f35da", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8517f1e0-6727-4c48-9076-2631130e8265", "node_type": "1", "metadata": {}, "hash": "a28953a3a803b1d46818a35c5ea00acc0d37a80dfe42ecb3327a9122cb9159ee", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Logic Flow\r\n\r\nThe system processes a continuous stream of `SEG_T_COR` values, indexed by segment sample `n`, cylinder, and segment number. The logical flow can be broken down as follows:\r\n\r\n1.  **Segment Data Acquisition:** `SEG_T_COR` values are continuously sampled and indexed (e.g., `SEG_T_COR(n-4)` to `SEG_T_COR(n+4)`). These values are associated with `Cylinder Number` (A, B, C) and `Segment Number` (0, 1, 2).\r\n\r\n2.  **Preliminary Roughness Indicators (ER(p-x)):**\r\n    *   Various `ER(p-x)` values are generated from the `SEG_T_COR` stream. While the exact calculation for these is not explicitly detailed in a formula block, they are derived from the `SEG_T_COR` values at different time offsets. For instance, `ER(p-8)` is derived from `SEG_T_COR(n-4)`, and `ER(p+1)` is derived from `SEG_T_COR(n+4)`. These likely represent instantaneous or simple roughness measurements.\r\n\r\n3.  **Derivative Roughness Calculations:**\r\n    *   **DRV0_ER (n):** Calculated as `3 * SEG_T_COR (n) - SEG_T_COR (n+1)`. This is a form of weighted difference, possibly highlighting changes between the current and the next segment value.\r\n    *   **DRV1_ER (n):** Calculated as `SEG_T_COR (n-1) - SEG_T_COR (n)`. This represents the direct difference between the previous and current segment value, a basic rate of change.\r\n    *   **DRV2_ER (n):** This is a more complex, compensated roughness value:\r\n        *   First, a raw value `DRV2_ER_RAW (n)` is calculated as `max(0, SEG_T_COR (n-1) - [SEG_T_COR (n) + SEG_T_COR (n+3)])`. This involves a comparison of a past segment value against the sum of the current and a future segment value, with negative results clipped to zero. This could be looking for specific types of dips or irregularities.\r\n        *   Then, `DRV2_ER (n)` is computed as `FAC_DRV2_ER * DRV2_ER_RAW (n) + DRV2_MMW_ER (n) + THD_AD_ER (n)`. This formula applies a scaling factor to the raw value and adds compensation terms, suggesting a robust calculation that adjusts for various operating conditions or noise.\r\n\r\n4.  **Threshold Determination (THD_ER):**\r\n    *   `THD_ER (n)` is calculated as a function of `N_Load` (engine speed and load) and \"Cyl A Admission conditions\". This dynamic threshold is critical for evaluating whether calculated roughness values are significant enough to warrant a diagnosis.\r\n\r\n5.  **Data Buffering:**\r\n    *   The `SEG_T_COR` values are stored in a circular buffer, `Buffer SEG_T_COR_BUF`. This buffer holds a history of segment values, crucial for calculations like `DRV2_ER` which reference past and future `SEG_T_COR` values.\r\n\r\n6.  **Diagnostic Output Generation with Delay:**\r\n    *   The diagram explicitly states: `ER(p)=ER(n+3) is used to diagnose segment n`. This indicates a diagnostic latency. The roughness value `ER(n+3)` (which is generated based on a segment `n+3`) is actually used to diagnose segment `n`.\r\n    *   A block titled \"Delay Between ER index & diagnosed cylinder = 3 Segments\" reinforces this.\r\n    *   The final output, `ER(p+1)`, represents the diagnostic roughness signal at a given diagnostic instance `p+1`, incorporating the necessary delays and processing from the various roughness calculations. This delayed output allows the system to gather sufficient future data to make an informed diagnosis about past events.\r\n\r\n\r\n--- Page 55 ---\r\n\r\nThis image is a block diagram representing an algorithm or control logic, very similar in style to what one would create in Simulink or other block-diagramming environments for embedded systems. It is not a generic text page or table.\r\n\r\n## Function\r\n\r\nThe primary function of this diagram, as indicated by the title \"ENRD. Engine roughness calculation\" and the implicit diagnostic steps, is to **calculate and diagnose engine roughness**. It processes crankshaft angular velocity variations (represented by \"Segment Torsion Correction\") to detect irregularities in combustion across different engine segments and cylinders.", "mimetype": "text/plain", "start_char_idx": 133937, "end_char_idx": 137890, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8517f1e0-6727-4c48-9076-2631130e8265": {"__data__": {"id_": "8517f1e0-6727-4c48-9076-2631130e8265", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0c59de60-c7a7-40cc-abc7-78933cde7b5a", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "1b11647f0428e9ae828ca777681bae63d4f0b15d0637e2e1830dae7a15ce60de", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "eeaded11-5844-4ec9-b7cb-04261b1425eb", "node_type": "1", "metadata": {}, "hash": "ad81075fa825f34a48dc1381ef17a62b9a9ec91c2612c3702242c76546e185ff", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "It is not a generic text page or table.\r\n\r\n## Function\r\n\r\nThe primary function of this diagram, as indicated by the title \"ENRD. Engine roughness calculation\" and the implicit diagnostic steps, is to **calculate and diagnose engine roughness**. It processes crankshaft angular velocity variations (represented by \"Segment Torsion Correction\") to detect irregularities in combustion across different engine segments and cylinders. This system appears to derive several measures of roughness (DRV0_ER, DRV1_ER, DRV2_ER) and uses a delayed main roughness value (ER(p)) along with a dynamic threshold (THD_ER(n)) to identify potential issues within specific engine segments. The \"Implant scheme for 8 cylinder engine\" at the bottom suggests this is a module within a larger engine control system, adaptable or specifically tailored for an 8-cylinder engine, even though a \"6 Cylinder Engine\" block is present in the diagram itself, perhaps indicating a generic module or a specific sub-component context.\r\n\r\n## Inputs\r\n\r\n1.  **SEG_T_COR(n):** Current Segment Torsion Correction value. This is the fundamental raw input, likely derived from crankshaft position sensor data, representing the instantaneous angular acceleration/deceleration of the crankshaft for the current segment 'n'.\r\n2.  **SEG_T_COR(n-1) to SEG_T_COR(n-4):** Historical Segment Torsion Correction values from previous segments.\r\n3.  **ER(p-1) to ER(p-8):** Historical Engine Roughness values, buffered from previous calculations.\r\n4.  **Cylinder Number (A, B, C, D, E, F):** Inputs representing the current cylinder firing sequence or identification.\r\n5.  **Segment Number (0, 1, 2, 3, 4, 5):** Inputs representing the current segment index within an engine cycle.\r\n6.  **N.Load:** Engine load, used to calculate the dynamic threshold `THD_ER(n)`.\r\n7.  **Cyl D Admission conditions:** Specific conditions related to cylinder D's air admission, also influencing `THD_ER(n)`.\r\n8.  **FAC DRV2_ER:** A factor used in the calculation of `DRV2_ER(n)`.\r\n9.  **DRV2_MMV_ER:** A mean or reference value used in the calculation of `DRV2_ER(n)`.\r\n10. **ER_RAW(n):** Raw Engine Roughness value, used in the calculation of `DRV2_ER(n)`.\r\n11. **THD_AD_ER:** An additional threshold, used in the calculation of `DRV2_ER(n)`.\r\n12. **6 Cylinder Engine (Block Input/Parameter):** Implies parameters or configuration specific to a 6-cylinder engine's operation (e.g., firing order, number of segments per revolution).\r\n\r\n## Outputs\r\n\r\n1.  **ER(p+1):** The newly calculated Engine Roughness value, which then enters the ER buffer for future (p-x) references.\r\n2.  **ER(p):** The specific Engine Roughness value (equivalent to ER(n+3)) designated for diagnosing segment 'n'.\r\n3.  **DRV0_ER(n):** A derived Engine Roughness value, calculated from the current and previous segment torsion corrections.\r\n4.  **DRV1_ER(n):** Another derived Engine Roughness value, comparing current torsion with a value from 3 segments prior.\r\n5.  **DRV2_ER(n):** A more complex derived Engine Roughness value, potentially for specific diagnostic conditions.\r\n6.  **SEG_T_COR_BUF[0] to SEG_T_COR_BUF[6]:** The buffered history of Segment Torsion Correction values. These are intermediate storage but represent the state of the system's historical data.\r\n7.  **Diagnosis for segment n (implicit):** Although not explicitly shown as a labeled output, the text \"ER(p)=ER(n+3) is used to diagnose segment n\" implies a diagnostic outcome or flag for each segment.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into the following steps:\r\n\r\n1.  **Input Sampling and Buffering (SEG_T_COR):**\r\n    *   The system continuously receives `SEG_T_COR(n)`, the Segment Torsion Correction for the current segment.\r\n    *   This value, along with previous `SEG_T_COR` values (n-1 to n-4), is fed into the various calculation blocks.\r\n    *   A shift buffer, `SEG_T_COR_BUF`, stores historical `SEG_T_COR` values, from `BUF[6]` to `BUF[0]`. New values enter the buffer, and the oldest values are shifted out.", "mimetype": "text/plain", "start_char_idx": 137461, "end_char_idx": 141485, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "eeaded11-5844-4ec9-b7cb-04261b1425eb": {"__data__": {"id_": "eeaded11-5844-4ec9-b7cb-04261b1425eb", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8517f1e0-6727-4c48-9076-2631130e8265", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "afe3a02f659d16a0b8eefe5dee6efdef615b15bb6f093184f6af2b47a91611ed", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "92e8b267-4bc7-451d-a994-58a5c7a93aba", "node_type": "1", "metadata": {}, "hash": "9c4908758a5578a9848a9f3562560125feefd9b2713d066d258f7b30b341196d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   This value, along with previous `SEG_T_COR` values (n-1 to n-4), is fed into the various calculation blocks.\r\n    *   A shift buffer, `SEG_T_COR_BUF`, stores historical `SEG_T_COR` values, from `BUF[6]` to `BUF[0]`. New values enter the buffer, and the oldest values are shifted out. The diagram shows how specific `SEG_T_COR(n-x)` values map to buffer indices.\r\n\r\n2.  **Cylinder and Segment Synchronization:**\r\n    *   The `Cylinder Number` (A-F) and `Segment Number` (0-5) blocks indicate that the processing is synchronized with the engine's operational cycle, allowing the system to associate specific roughness calculations with specific cylinders or phases. The \"6 Cylinder Engine\" block likely defines engine-specific parameters for this synchronization.\r\n\r\n3.  **Derived Roughness Calculation - DRV0_ER(n):**\r\n    *   `DRV0_ER(n)` is computed as `6 * (SEG_T_COR(n) - SEG_T_COR(n-1))`. This calculates a scaled difference between the current segment's torsion and the immediate preceding segment's torsion, possibly highlighting rapid changes or misfire events.\r\n\r\n4.  **Derived Roughness Calculation - DRV1_ER(n):**\r\n    *   `DRV1_ER(n)` is calculated as `SEG_T_COR(n) - SEG_T_COR(n-3)`. This compares the current segment's torsion with the torsion from 3 segments prior. In a 6-cylinder engine with 6 segments per revolution, this might compare corresponding phases of different cylinders or consecutive firings of the same cylinder depending on the segment definition.\r\n\r\n5.  **Derived Roughness Calculation - DRV2_ER(n):**\r\n    *   `DRV2_ER(n)` is computed using a more elaborate formula: `FAC DRV2_ER * max(0, [SEG_T_COR(n) - SEG_T_COR(n-3)]) - SEG_T_COR(n) - ER_RAW(n) + DRV2_MMV_ER(n) + THD_AD_ER(n)`. This calculation incorporates the difference from 3 segments ago (only if positive, due to `max(0,...)`), raw roughness, a mean value, and an additional threshold, suggesting a more complex diagnostic metric.\r\n\r\n6.  **Dynamic Threshold Calculation (THD_ER(n)):**\r\n    *   `THD_ER(n)` is determined dynamically as a function of `N.Load` (engine load) and `Cyl D Admission conditions`. This allows the acceptable roughness level to adapt to varying engine operating states.\r\n\r\n7.  **Main Engine Roughness (ER) Calculation and Buffering:**\r\n    *   A series of subtractions generate intermediate values that feed into the `ER` buffer chain. For example, `(SEG_T_COR(n) - SEG_T_COR(n-2))` is one such intermediate difference.\r\n    *   These intermediate differences, combined with the buffered `ER(p-x)` values, contribute to the calculation of `ER(p+1)`. The diagram shows `ER(p+1)` being an output, which then presumably shifts into `ER(p)`, then `ER(p-1)`, and so on, maintaining a history of roughness values (`ER(p-1)` to `ER(p-8)`).\r\n    *   The `ER(p)` block is explicitly identified as `ER(n+3)`, indicating a delay of 3 segments between the actual physical event (segment 'n') and when its corresponding roughness value (`ER(p)`) becomes available for diagnosis. This delay is confirmed by the \"Delay Between ER index & diagnosed cylinder = 3 Segments\" block.\r\n\r\n8.  **Roughness Diagnosis:**\r\n    *   The calculated `ER(p)` (which represents `ER(n+3)`) is used as the primary diagnostic value for `segment n`. This delayed processing allows for stable roughness values after filtering or averaging, improving diagnostic accuracy by reducing sensitivity to transient noise. The diagnosed segment 'n' would then be compared against the dynamic threshold `THD_ER(n)` (though this explicit comparison is not drawn, it's a standard practice for threshold-based diagnostics).\r\n\r\n\r\n--- Page 60 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram, titled \"ENRD. Engine roughness calculation\", primarily functions to calculate and process various aspects of engine roughness. It takes several raw or pre-processed engine and transmission parameters, computes a core raw roughness value, bounds it within physical limits, determines associated gain and additive compensation factors, and detects potential roughness overflow conditions. It also aggregates different components of a filtered roughness signal (`DRV2_MMV_ER`).", "mimetype": "text/plain", "start_char_idx": 141198, "end_char_idx": 145329, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "92e8b267-4bc7-451d-a994-58a5c7a93aba": {"__data__": {"id_": "92e8b267-4bc7-451d-a994-58a5c7a93aba", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "eeaded11-5844-4ec9-b7cb-04261b1425eb", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "d9e2513e14e634337e032333ec894842b637636038f161508d02ab2d64b7f712", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "cf27dddc-c391-4c84-a304-d88a783784a0", "node_type": "1", "metadata": {}, "hash": "3de514e1b277cf7a1d73d8ee59711f4ca5bb1722efacc11e91834ea74e42ec85", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Engine roughness calculation\", primarily functions to calculate and process various aspects of engine roughness. It takes several raw or pre-processed engine and transmission parameters, computes a core raw roughness value, bounds it within physical limits, determines associated gain and additive compensation factors, and detects potential roughness overflow conditions. It also aggregates different components of a filtered roughness signal (`DRV2_MMV_ER`).\r\n\r\n## Inputs\r\n\r\n1.  **`DRV2_ER`**: A component of a roughness signal, possibly filtered or processed.\r\n2.  **`CRLC_DRV2_ER`**: Another component related to the `DRV2_ER` signal.\r\n3.  **`DRV2_MMV_ER_in`** (Input Port 3 to a summation): An incoming mean-value roughness signal.\r\n4.  **`NLC_CONF_GAIN_ADD_ER`**: A control signal (likely a boolean flag) that determines conditional logic related to gain and add factors.\r\n5.  **`DRV0_ER`** (Input Port 2 to `f()` subsystem): A specific raw engine roughness input.\r\n6.  **`DRV1_ER`** (Input Port 3 to `f()` subsystem): Another specific raw engine roughness input.\r\n7.  **`SEG_NR_ER`** (Input Port 6 to `f()` subsystem): Segment number related to roughness measurement.\r\n8.  **`LV_AT`** (Input Port 8 to `f()` subsystem): Load value for Automatic Transmission (AT).\r\n9.  **`N_32`** (Input Port 9 to `f()` subsystem): Engine speed or a related rotational input.\r\n10. **`LOAD_MIS`** (Input Port 10 to `f()` subsystem): Engine load value associated with misfire detection.\r\n11. **`LV_CVT`** (Input Port 11 to `f()` subsystem): Load value for Continuously Variable Transmission (CVT).\r\n12. **`LV_DCT`** (Input Port 12 to `f()` subsystem): Load value for Dual Clutch Transmission (DCT).\r\n13. **`lv_er_overflow_in`** (Input Port 1 to overflow logic): A reference or baseline value for engine roughness overflow comparison.\r\n14. **`V.5.2`**: A parameter or lookup table value, conditionally selected.\r\n15. **`V.5.6 phys_max`**: A physical maximum limit for the raw engine roughness.\r\n16. **`V.5.6 phys_min`**: A physical minimum limit for the raw engine roughness.\r\n17. **`threshold: 0.5`**: A constant threshold used in the overflow detection logic.\r\n18. **`CDN_VLD X.2.2.1.1.2.1`**: A bus or group of validity signals implicitly used by the `f()` subsystem.\r\n\r\n## Outputs\r\n\r\n1.  **`DRV2_MMV_ER_out`** (Output Port 3): The calculated mean-value engine roughness for the DRV2 component.\r\n2.  **`lv_er_overflow_out`** (Output Port 5): A boolean flag indicating whether an engine roughness overflow condition has been detected.\r\n3.  **`ER_RAW`** (Output Port 4): The raw engine roughness signal, bounded by physical limits.\r\n4.  **`FAC_GAIN_ER`** (Output Port 1): A calculated gain factor used for engine roughness compensation.\r\n5.  **`FAC_ADD_ER`** (Output Port 2): A calculated additive factor used for engine roughness compensation.\r\n\r\n## Logic Flow\r\n\r\n1.  **DRV2 Mean-Value Roughness Calculation:**\r\n    *   `DRV2_ER` (potentially scaled by a factor 'x') and `CRLC_DRV2_ER` are summed together.\r\n    *   An 'If' block evaluates the condition `NLC_CONF_GAIN_ADD_ER`. Based on this condition, a specific value from `V.5.2` (likely from a lookup table or constant based on the condition) is selected.\r\n    *   The result of the first summation, `DRV2_MMV_ER_in`, and the selected `V.5.2` value are summed again.\r\n    *   This final sum is output as `DRV2_MMV_ER_out`.\r\n\r\n2.  **Core Roughness Processing (`f()` Subsystem):**\r\n    *   A central subsystem block labeled `f()` receives numerous inputs: `DRV0_ER`, `DRV1_ER`, `SEG_NR_ER`, `LV_AT`, `N_32`, `LOAD_MIS`, `LV_CVT`, `LV_DCT`, and the `CDN_VLD` signals.", "mimetype": "text/plain", "start_char_idx": 144869, "end_char_idx": 148476, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "cf27dddc-c391-4c84-a304-d88a783784a0": {"__data__": {"id_": "cf27dddc-c391-4c84-a304-d88a783784a0", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "92e8b267-4bc7-451d-a994-58a5c7a93aba", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "6e0b8683661d5688abfab14521edaf4d757ff45d2b2353950e713c8b4ea720a4", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6709d9cb-d44e-46e7-bae1-98d098d6f63b", "node_type": "1", "metadata": {}, "hash": "04ba395d6d2d28ae3204891e715884404bc00c261cf2acfef29ec9f63f3d6288", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   This final sum is output as `DRV2_MMV_ER_out`.\r\n\r\n2.  **Core Roughness Processing (`f()` Subsystem):**\r\n    *   A central subsystem block labeled `f()` receives numerous inputs: `DRV0_ER`, `DRV1_ER`, `SEG_NR_ER`, `LV_AT`, `N_32`, `LOAD_MIS`, `LV_CVT`, `LV_DCT`, and the `CDN_VLD` signals.\r\n    *   This subsystem performs a complex calculation, likely involving lookup tables and arithmetic operations, to determine the core engine roughness (`ER_RAW`), a gain factor (`FAC_GAIN_ER`), and an additive factor (`FAC_ADD_ER`).\r\n\r\n3.  **Output of Gain and Add Factors:**\r\n    *   The `FAC_GAIN_ER` output from the `f()` subsystem is directly propagated to the external output `FAC_GAIN_ER`.\r\n    *   The `FAC_ADD_ER` output from the `f()` subsystem is directly propagated to the external output `FAC_ADD_ER`.\r\n\r\n4.  **Raw Roughness (ER_RAW) Bounding:**\r\n    *   The `ER_RAW` output from the `f()` subsystem is fed into a `Min/Max` block.\r\n    *   This block limits the `ER_RAW` value, ensuring it stays within the defined physical boundaries set by `V.5.6 phys_min` (minimum) and `V.5.6 phys_max` (maximum). The output of this block, labeled `y`, represents the bounded raw roughness.\r\n    *   This bounded `ER_RAW` (from output `y` of the Min/Max block) is then routed through a `Merge` block to become the final `ER_RAW` output.\r\n\r\n5.  **Engine Roughness Overflow Detection:**\r\n    *   The bounded `ER_RAW` (`y` from the `Min/Max` block) is compared against `lv_er_overflow_in` by subtracting `lv_er_overflow_in` from `y`.\r\n    *   The resulting difference is then compared to a constant `threshold` of `0.5`.\r\n    *   If the difference exceeds `0.5`, `lv_er_overflow_out` is set to true (or 1), indicating an overflow or significant deviation in engine roughness.\r\n\r\n\r\n--- Page 61 ---\r\n\r\nThis image displays a Simulink diagram illustrating a system for calculating engine roughness correction factors and the resulting corrected engine roughness. The primary goal is to determine gain and additive factors (`FAC_GAIN_ER` and `FAC_ADD_ER`) based on various engine operating conditions and transmission types, and then apply these to a raw engine roughness signal.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to calculate and apply engine roughness correction factors (gain and additive) based on the vehicle's transmission type (Automatic, CVT, DCT, or Manual), engine speed, engine load, and a segment number. It ultimately outputs the raw engine roughness, the calculated additive factor, and the *corrected engine roughness*.\r\n\r\n## Inputs\r\n\r\n*   **LV_AT (4):** Boolean flag indicating if Automatic Transmission is active.\r\n*   **LV_CVT (7):** Boolean flag indicating if Continuously Variable Transmission is active.\r\n*   **LV_DCT (8):** Boolean flag indicating if Dual-Clutch Transmission is active.\r\n*   **SEG_NR_ER (1):** Segment number for engine roughness calculation, likely used as an index for lookup tables.\r\n*   **N_32 (5):** Engine speed (e.g., RPM), used as an x-axis input for 2D lookup tables.\r\n*   **LOAD_MIS (6):** Engine load, used as a y-axis input for 2D lookup tables.\r\n*   **DRV0_ER:** Component 0 of the raw engine roughness signal.\r\n*   **DRV1_ER:** Component 1 of the raw engine roughness signal.\r\n\r\n## Outputs\r\n\r\n*   **ER_RAW (1):** The raw engine roughness signal, calculated as the sum of `DRV0_ER` and `DRV1_ER`.\r\n*   **FAC_GAIN_ER (2):** The final *corrected engine roughness* value, stored in an array of size `[NC_CYL_NR]`. (Note: The name `FAC_GAIN_ER` for this output is misleading given its calculation; it actually represents the final corrected roughness, not just a gain factor).\r\n*   **FAC_ADD_ER (3):** The calculated *additive factor* for engine roughness, stored in an array of size `[NC_CYL_NR]`.", "mimetype": "text/plain", "start_char_idx": 148184, "end_char_idx": 151949, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6709d9cb-d44e-46e7-bae1-98d098d6f63b": {"__data__": {"id_": "6709d9cb-d44e-46e7-bae1-98d098d6f63b", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "cf27dddc-c391-4c84-a304-d88a783784a0", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "a786181f7250dcdde5abca16fa5969154c633a7ab0236937035d23efc79091a6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6a3a2062-d539-429d-a000-e2a6b6f823e0", "node_type": "1", "metadata": {}, "hash": "a3fb3cbbae5b331e75dc2e41cc19db4f525182914d4eee47547decc491541d30", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "(Note: The name `FAC_GAIN_ER` for this output is misleading given its calculation; it actually represents the final corrected roughness, not just a gain factor).\r\n*   **FAC_ADD_ER (3):** The calculated *additive factor* for engine roughness, stored in an array of size `[NC_CYL_NR]`.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into the following steps:\r\n\r\n1.  **Raw Engine Roughness Calculation:**\r\n    *   The input signals `DRV0_ER` and `DRV1_ER` are summed together to produce `ER_RAW`. This `ER_RAW` is exposed as an output of the system.\r\n\r\n2.  **Conditional Transmission Type Determination:**\r\n    *   The diagram uses conditional logic (implied by `fcn_call()` blocks and `cond_if`/`else` branches controlled by `LV_AT`, `LV_CVT`, `LV_DCT`) to select the appropriate set of correction factors based on the active transmission type. The dashed lines indicate control signals or conditionally enabled execution paths. If none of `LV_AT`, `LV_CVT`, or `LV_DCT` are true, it implicitly defaults to \"MT\" (Manual Transmission) factors.\r\n\r\n3.  **Lookup Table Interpolation for Correction Factors:**\r\n    *   For each transmission type (AT, MT, CVT, DCT) and for both gain and additive factors, 2D lookup tables (e.g., `IP_FAC_GAIN_ER_AT V.7.3`, `IP_FAC_ADD_ER_MT V.7.3`, etc.) are used.\r\n    *   These lookup tables take `N_32` (engine speed) as the x-coordinate and `LOAD_MIS` (engine load) as the y-coordinate for interpolation.\r\n    *   `SEG_NR_ER` (segment number) is used as an index (`idx_x`) to select the specific 2D map or slice within the lookup table.\r\n    *   This step generates a set of potential `IP_val` (interpolated values) for both gain factors and additive factors corresponding to different transmission types.\r\n\r\n4.  **Selection and Merging of Active Factors:**\r\n    *   Based on the active transmission type (determined in step 2), the appropriate gain factor `IP_val` (e.g., from `IP_FAC_GAIN_ER_AT` if `LV_AT` is true) is selected through `V.5.2` blocks (likely conditional subsystems or selectors).\r\n    *   All selected gain factor values from the `V.5.2` blocks are then combined by a `Merge` block, producing a single `FAC_GAIN_ER_x` signal.\r\n    *   The same selection and merging process occurs for the additive factor values (e.g., from `IP_FAC_ADD_ER_AT`), resulting in a single `FAC_ADD_ER_x` signal from another `Merge` block.\r\n\r\n5.  **Application of Correction Factors:**\r\n    *   The `ER_RAW` signal (calculated in step 1) is multiplied by the selected `FAC_GAIN_ER_x` signal.\r\n    *   The selected `FAC_ADD_ER_x` signal is then added to the product from the previous step. This combined calculation (`ER_RAW * FAC_GAIN_ER_x + FAC_ADD_ER_x`) yields the *fully corrected engine roughness*.\r\n\r\n6.  **Output Assignment:**\r\n    *   The *fully corrected engine roughness* (calculated in step 5) is routed as the `u` input to a `V.5.5` block, which then outputs it as `FAC_GAIN_ER (2)`. This output is an array of size `[NC_CYL_NR]` and uses zero-based indexing, implying per-cylinder corrected roughness.\r\n    *   The selected additive factor (`FAC_ADD_ER_x`) is routed as the `u` input to another `V.5.5` block, which outputs it as `FAC_ADD_ER (3)`. This output is also an array of size `[NC_CYL_NR]` and represents the per-cylinder additive factor.\r\n\r\n\r\n--- Page 62 ---\r\n\r\nThis image is a Simulink block diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to **determine and process engine roughness (ER) values**. It calculates raw, total, per-cylinder, and normalized engine roughness, incorporating adaptive offsets, physical limits, and segment-time-based normalization. The system manages per-cylinder data storage and provides flags for calculation enablement and overflow conditions. This calculation is critical for misfire detection and engine control systems.\r\n\r\n## Inputs\r\n1.", "mimetype": "text/plain", "start_char_idx": 151666, "end_char_idx": 155521, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6a3a2062-d539-429d-a000-e2a6b6f823e0": {"__data__": {"id_": "6a3a2062-d539-429d-a000-e2a6b6f823e0", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6709d9cb-d44e-46e7-bae1-98d098d6f63b", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "0e9f5ec12df4f7370961e189c24a36a4913c7cfa44a695c2099778c6a8874116", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d0a83d03-801e-4b71-8679-308b71147019", "node_type": "1", "metadata": {}, "hash": "7d51e6c22c6916aa1a96179f3be267651b0b9be52b772858b73096ab95f348d0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Function\r\nThe primary function of this Simulink diagram is to **determine and process engine roughness (ER) values**. It calculates raw, total, per-cylinder, and normalized engine roughness, incorporating adaptive offsets, physical limits, and segment-time-based normalization. The system manages per-cylinder data storage and provides flags for calculation enablement and overflow conditions. This calculation is critical for misfire detection and engine control systems.\r\n\r\n## Inputs\r\n1.  **`_SEG_NR_ER`**: Segment number or cylinder index, used for buffering per-cylinder data. (Data Store Read)\r\n2.  **`ER_RAW`**: Raw engine roughness signal.\r\n3.  **`DRV2_MMV_ER_in`**: A component of engine roughness (e.g., from specific measurement or model).\r\n4.  **`THD_AD_ER`**: An adaptive offset or threshold for engine roughness, likely added during learning phases.\r\n5.  **`N_32`**: Engine speed, likely in units of 1/32 RPM.\r\n6.  **`C_32_MAX_ER_STND`**: A maximum normalized roughness threshold related to engine speed N_32.\r\n7.  **`C_FAC_SCA_ER_STND`**: A scaling factor for the normalized roughness calculation.\r\n8.  **`C_SEG_DLY_ER_CH`**: A channel-specific delay for the segment time buffer index.\r\n9.  **`C_SEG_DLY_ER`**: A general delay for the segment time buffer index.\r\n10. **`SEG_T_COR_BUF_CH`**: A buffer containing channel-specific segment time correction values.\r\n11. **`SEG_T_COR_BUF`**: A buffer containing general segment time correction values.\r\n12. **`LV_ER_WIN_CH_ACT`**: A flag indicating if an ER window for a specific channel is active.\r\n13. **`fc_INI_CLC`**: A flag to initialize or force calculation.\r\n14. **`NC_CYL_NR`**: (Implicit input/constant) The number of cylinders, defining the size of per-cylinder buffers.\r\n\r\n## Outputs\r\n1.  **`ER_CYL`**: The engine roughness value for the current cylinder.\r\n2.  **`ER_HB`**: The overall (total) engine roughness value, possibly representing a high-byte or processed version.\r\n3.  **`lv_er_overflow_in`**: A boolean flag indicating if the total engine roughness exceeds a certain threshold.\r\n4.  **`ER_STND_HB`**: The overall (total) normalized engine roughness value, possibly a high-byte or processed version.\r\n5.  **`ER_STND`**: The overall (total) normalized engine roughness value.\r\n6.  **`ER_STND_CYL`**: The normalized engine roughness value for the current cylinder.\r\n\r\n## Logic Flow\r\n\r\nThe diagram's logic flow can be broken down into two main parallel paths for raw/total roughness and normalized roughness.\r\n\r\n**Part 1: Engine Roughness (ER) Calculation**\r\n\r\n1.  **Initial Summation**: `ER_RAW` (raw roughness), `DRV2_MMV_ER_in` (a component of roughness), and `THD_AD_ER` (adaptive offset) are summed together. This sum represents a preliminary roughness value for the current cylinder.\r\n2.  **Per-Cylinder Roughness Storage**: The preliminary roughness sum is written into a zero-based indexed buffer named `ER_CYL` (block `V.5.5`). The index is provided by `_SEG_NR_ER`, which selects the storage location corresponding to the current cylinder. The output of this buffer is `ER_CYL`, representing the per-cylinder roughness.\r\n3.  **Total Roughness Limiting**: The `ER_CYL` value (for the current cylinder) is then passed through a `MinMax` block. This block clamps `ER_CYL` between predefined physical minimum (`V.5.6 phys_min ER`) and maximum (`V.5.6 phys_max ER`) values, ensuring the roughness remains within plausible physical bounds. The output of this limiting process is designated `ER`.\r\n4.  **Roughness Overflow Detection**: The `ER` value is then compared against a threshold of `0.5`. If `ER` is greater than `0.5`, the boolean output `lv_er_overflow_in` is set to true, indicating an potential overflow condition.\r\n5.  **`ER_HB` Output**: The `ER` value is passed through a `Merge` block and output as `ER_HB`. This could be a direct output or potentially merged from other paths if the diagram were part of a larger system.", "mimetype": "text/plain", "start_char_idx": 155029, "end_char_idx": 158949, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d0a83d03-801e-4b71-8679-308b71147019": {"__data__": {"id_": "d0a83d03-801e-4b71-8679-308b71147019", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6a3a2062-d539-429d-a000-e2a6b6f823e0", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "de22fe704fd6333fce66d91a75d108df55a221ea3287407866062128ede6b26d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c5efcc04-aec1-4600-82a6-295c6d526886", "node_type": "1", "metadata": {}, "hash": "481ed9a436744c1ef1565810d907226379acd01b4be9da939ea6747cc0df56f8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "If `ER` is greater than `0.5`, the boolean output `lv_er_overflow_in` is set to true, indicating an potential overflow condition.\r\n5.  **`ER_HB` Output**: The `ER` value is passed through a `Merge` block and output as `ER_HB`. This could be a direct output or potentially merged from other paths if the diagram were part of a larger system.\r\n\r\n**Part 2: Normalized Engine Roughness (ER_STND) Calculation**\r\n\r\n1.  **Enablement Logic (`LV_ENA_ER`)**:\r\n    *   The engine speed `N_32` is compared with `C_32_MAX_ER_STND`.\r\n    *   A function `fcn_call()` processes this comparison along with `fc_INI_CLC` (initialization flag) and an internal `cond_if` signal.\r\n    *   The output of `fcn_call()` (or `0` if `cond_if` is false) determines the value of `LV_ENA_ER` (output 7). `LV_ENA_ER` controls whether the normalized roughness calculations proceed.\r\n2.  **Segment Time Buffer Access and Processing**:\r\n    *   The system accesses `SEG_T_COR_BUF` and `SEG_T_COR_BUF_CH` using indices `C_SEG_DLY_ER` and `C_SEG_DLY_ER_CH` respectively. These buffer reads (blocks `V.6.4`) include a \"Check ~= 0\" mechanism, implying index validation and handling of out-of-bounds access (e.g., clamping the index or returning a default value).\r\n    *   The output from the `SEG_T_COR_BUF` read (indexed by `C_SEG_DLY_ER`) is raised to the power of 3 (block `V.5.5` labeled `u^3`).\r\n    *   This result is then fed into a `V.5.2` block (likely an inverse, `1/u` with a check for `u ~= 0`).\r\n3.  **Normalization Factor Calculation**:\r\n    *   The scaling factor `C_FAC_SCA_ER_STND` is multiplied by `2`.\r\n    *   This scaled factor is then divided by the result of the segment time processing (the output of the inverse block from step 7). This division yields the normalization factor for roughness.\r\n4.  **Total Normalized Roughness Calculation (`ER_STND`)**:\r\n    *   The `ER` value (from Part 1) is multiplied by the calculated normalization factor.\r\n    *   This multiplication is conditionally enabled by `LV_ENA_ER`. If `LV_ENA_ER` is inactive (`0`), the output of the switch (`V.5.2` blocks) is `0`, effectively setting `ER_STND` to `0`. If `LV_ENA_ER` is active, the product is used.\r\n    *   The result, after passing through a `Merge` block, is output as `ER_STND`.\r\n5.  **`ER_STND_HB` Output**: The `ER_STND` value is passed through another `Merge` block and output as `ER_STND_HB`, similar to `ER_HB`.\r\n6.  **Per-Cylinder Normalized Roughness Storage**: The calculated `ER_STND` value (or `0` if disabled) is written into a zero-based indexed buffer named `ER_STND_CYL` (block `V.5.5`). The index `_SEG_NR_ER` again ensures per-cylinder storage. The output of this buffer is `ER_STND_CYL`.\r\n\r\n\r\n--- Page 63 ---\r\n\r\nThis image is a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink subsystem, titled \"Initialization if condition valid\" within the \"ENRD. Engine roughness calculation\" context, is to provide an initial or reset state for a comprehensive set of engine roughness (ER) related parameters and signals. It aggregates various direct measurements, calculated factors, and status flags into a single output bus (`ini_clc`). A conditional logic path handles specific initializations, particularly setting certain ratio and enablement signals to zero, potentially triggered by a misfire condition.", "mimetype": "text/plain", "start_char_idx": 158609, "end_char_idx": 161923, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c5efcc04-aec1-4600-82a6-295c6d526886": {"__data__": {"id_": "c5efcc04-aec1-4600-82a6-295c6d526886", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d0a83d03-801e-4b71-8679-308b71147019", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "d359a41717ae05b62f6fbbb57d4657fe8f88f59fc2d24b2f25c61a45358d6912", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "2d6fc852-8889-47fa-bee7-05cecbd18417", "node_type": "1", "metadata": {}, "hash": "597bf43375b21a81521b9568010b99859e208a2e33282b6f64d37185e0c74f1c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Engine roughness calculation\" context, is to provide an initial or reset state for a comprehensive set of engine roughness (ER) related parameters and signals. It aggregates various direct measurements, calculated factors, and status flags into a single output bus (`ini_clc`). A conditional logic path handles specific initializations, particularly setting certain ratio and enablement signals to zero, potentially triggered by a misfire condition.\r\n\r\n## Inputs\r\n*   **Direct Engine Roughness Signals:**\r\n    *   `DRV0_ER`\r\n    *   `DRV1_ER`\r\n    *   `DRV2_ER`\r\n    *   `DRV2_MMV_ER`\r\n    *   `ER_RAW`\r\n    *   `ER`\r\n    *   `ER_STND`\r\n    *   `ER_HB`\r\n    *   `ER_STND_HB`\r\n*   **Misfire Condition Flag:**\r\n    *   `NLC_ER_CON_MISF` (V.6.11): An integer or boolean signal indicating a misfire detection condition.\r\n\r\n## Outputs\r\nThe main output is the `ini_clc` (V.6.2) bus, which aggregates all the following signals:\r\n\r\n*   **Direct Engine Roughness Signals (passed through):**\r\n    *   `DRV0_ER`\r\n    *   `DRV1_ER`\r\n    *   `DRV2_ER`\r\n    *   `DRV2_MMV_ER`\r\n    *   `ER_RAW`\r\n    *   `ER`\r\n    *   `ER_STND`\r\n    *   `ER_HB`\r\n    *   `ER_STND_HB`\r\n*   **Engine Roughness Factor Arrays (initialized):**\r\n    *   `FAC_GAIN_ER`: An array (sized by `NC_CYL_NR`) initialized to 1.\r\n    *   `FAC_ADD_ER`: An array (sized by `NC_CYL_NR`) initialized to 0.\r\n    *   `ER_CYL`: An array (sized by `NC_CYL_NR`) initialized to 0.\r\n    *   `ER_STND_CYL`: An array (sized by `NC_CYL_NR`) initialized to 0.\r\n*   **Conditional/Reset Signals (initialized to 0):**\r\n    *   `LV_ENA_ER`\r\n    *   `ER_RATIO_1`\r\n    *   `ER_RATIO_2`\r\n    *   `ER_RATIO_3`\r\n    *   `LV_ER_RATIO`\r\n\r\n## Logic Flow\r\n\r\n1.  **Direct Signal Pass-Through:** The raw or pre-calculated engine roughness signals (`DRV0_ER` through `ER_STND_HB`) are routed directly to the `ini_clc` output bus without any internal processing or modification within this specific diagram. They represent a set of initial states being aggregated.\r\n\r\n2.  **Unconditional Array Initialization:**\r\n    *   Four arrays, `FAC_GAIN_ER`, `FAC_ADD_ER`, `ER_CYL`, and `ER_STND_CYL`, are initialized. The `[NC_CYL_NR] array` notation implies their size is dynamic, based on the number of engine cylinders.\r\n    *   `FAC_GAIN_ER` is initialized with a value of `1`.\r\n    *   `FAC_ADD_ER`, `ER_CYL`, and `ER_STND_CYL` are initialized with a value of `0`.\r\n    *   These initialized arrays are then fed into the `ini_clc` output bus.\r\n\r\n3.  **Conditional Initialization for Ratio and Enablement Signals:**\r\n    *   A conditional `#if` block evaluates the input `NLC_ER_CON_MISF` (V.6.11).\r\n    *   **If `NLC_ER_CON_MISF == 1` (Misfire condition detected):** The `#if` branch is activated. This path leads to a multi-port switch (V.6.5) which, in this configuration, directs the flow to constant '0' blocks (V.6.8). Consequently, the signals `LV_ENA_ER`, `ER_RATIO_1`, `ER_RATIO_2`, and `ER_RATIO_3` are all initialized to `0`. Similarly, `LV_ER_RATIO` is also set to `0` via a Merge block.\r\n    *   **Else (If `NLC_ER_CON_MISF != 1`):** The `#else` branch is activated. This path also leads to constant '0' blocks (V.6.8) for `LV_ENA_ER`, `ER_RATIO_1`, `ER_RATIO_2`, and `ER_RATIO_3`. `LV_ER_RATIO` is also set to `0`.", "mimetype": "text/plain", "start_char_idx": 161474, "end_char_idx": 164717, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2d6fc852-8889-47fa-bee7-05cecbd18417": {"__data__": {"id_": "2d6fc852-8889-47fa-bee7-05cecbd18417", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c5efcc04-aec1-4600-82a6-295c6d526886", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "b8b29ad2fae902bcc0b350e72bff3e7ef4e42c314e20960acb54692715d9f418", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a2adbbac-a774-4251-9dd8-1a6437f2c70d", "node_type": "1", "metadata": {}, "hash": "04ce3b03911ca48cf8f49c4c5fc5f94ff05303591b014010f8bb935e0b3766fa", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **Else (If `NLC_ER_CON_MISF != 1`):** The `#else` branch is activated. This path also leads to constant '0' blocks (V.6.8) for `LV_ENA_ER`, `ER_RATIO_1`, `ER_RATIO_2`, and `ER_RATIO_3`. `LV_ER_RATIO` is also set to `0`.\r\n    *   **Result of Conditional Logic:** Based on the visible diagram, regardless of the `NLC_ER_CON_MISF` input, the signals `LV_ENA_ER`, `ER_RATIO_1`, `ER_RATIO_2`, `ER_RATIO_3`, and `LV_ER_RATIO` are all initialized to `0` within this subsystem. This suggests that this block either acts as a general reset for these specific parameters, or the multi-port switch has more complex logic (not fully visible) that defaults to `0` under all visible conditions.\r\n\r\n4.  **Output Aggregation:** All the initialized arrays, passed-through signals, and conditionally (or unconditionally, as shown) set ratio/enablement signals are gathered and bundled together into the single `ini_clc` bus, which represents the complete initialized state of the engine roughness calculation parameters.\r\n\r\n\r\n--- Page 64 ---\r\n\r\nThis is a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram, titled \"Initialisations\" within the context of \"ENRD. Engine roughness calculation,\" is to set initial values for various parameters and arrays related to engine roughness monitoring and calculation. This typically occurs at system startup, reset, or when specific conditions trigger a re-initialization. Many outputs are initialized to zero, while some array parameters are initialized based on the number of engine cylinders, and a specific condition (`NLC_ER_CON_MISF`) determines the initial state of certain enabling flags and ratios.\r\n\r\n## Inputs\r\n*   **NLC_ER_CON_MISF**: A Boolean or integer flag that controls the conditional initialization of several `LV_ENA_ER` and `ER_RATIO_X` signals. (Value `1` indicates a specific state, leading to one initialization path).\r\n*   **NC_CYL_NR**: A parameter representing the number of engine cylinders, used to define the size or context for the initialization of array-type signals like `FAC_GAIN_ER`, `FAC_ADD_ER`, `ER_CYL`, and `ER_STND_CYL`. (Indicated by `[NC_CYL_NR]` blocks).\r\n\r\n## Outputs\r\n*   **DRV0_ER**\r\n*   **DRV1_ER**\r\n*   **DRV2_ER**\r\n*   **DRV2_MMV_ER**\r\n*   **ER_RAW**\r\n*   **ER**\r\n*   **ER_STND**\r\n*   **ER_HB**\r\n*   **ER_STND_HB**\r\n*   **cdn_not_vld**\r\n*   **FAC_GAIN_ER** (array)\r\n*   **FAC_ADD_ER** (array)\r\n*   **ER_CYL** (array)\r\n*   **ER_STND_CYL** (array)\r\n*   **LV_ENA_ER**\r\n*   **ER_RATIO_1**\r\n*   **ER_RATIO_2**\r\n*   **ER_RATIO_3**\r\n*   **LV_ER_RATIO**\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into three main sections:\r\n\r\n1.  **Scalar Parameter Initialization (Top Section):**\r\n    *   Nine scalar signals: `DRV0_ER`, `DRV1_ER`, `DRV2_ER`, `DRV2_MMV_ER`, `ER_RAW`, `ER`, `ER_STND`, `ER_HB`, and `ER_STND_HB` are all directly initialized to a constant value of `0` using respective \"0\" constant blocks.\r\n    *   The `cdn_not_vld` signal is directly initialized to a constant value of `1`. This likely signifies that the condition for valid operation is not met at the initial state.\r\n\r\n2.  **Array Parameter Initialization (Middle Section):**\r\n    *   Four array signals: `FAC_GAIN_ER`, `FAC_ADD_ER`, `ER_CYL`, and `ER_STND_CYL` are initialized.\r\n    *   The initialization value for `FAC_GAIN_ER` is indicated as `init = 1` and `V.5.6`, suggesting a default value (e.g., all elements to 1) for an array dimensioned by `NC_CYL_NR`.", "mimetype": "text/plain", "start_char_idx": 164494, "end_char_idx": 167938, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a2adbbac-a774-4251-9dd8-1a6437f2c70d": {"__data__": {"id_": "a2adbbac-a774-4251-9dd8-1a6437f2c70d", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "2d6fc852-8889-47fa-bee7-05cecbd18417", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "13da35404b3a288784d66820a18c2d9fa65ba109ecdd1b1512a414609eec31e9", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6fb1f793-3383-4da2-b9ca-7813278bb05c", "node_type": "1", "metadata": {}, "hash": "087073671f5ce55834bcde53100699f9ebc6e42c5a68e9ab0729595d0675cd52", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The initialization value for `FAC_GAIN_ER` is indicated as `init = 1` and `V.5.6`, suggesting a default value (e.g., all elements to 1) for an array dimensioned by `NC_CYL_NR`.\r\n    *   The initialization values for `FAC_ADD_ER`, `ER_CYL`, and `ER_STND_CYL` are indicated as `init = 0` and `V.5.6`, suggesting default values (e.g., all elements to 0) for arrays dimensioned by `NC_CYL_NR`. The `V.5.6` likely refers to a function or block that performs this array initialization based on the specified `init` value.\r\n\r\n3.  **Conditional Parameter Initialization (Bottom Section):**\r\n    *   This section uses an `if/else` conditional block, driven by the input signal `NLC_ER_CON_MISF`. The explicit condition `NLC_ER_CON_MISF == 1` is shown for the 'if' branch.\r\n    *   **If Branch (`NLC_ER_CON_MISF == 1`):**\r\n        *   The signals `LV_ENA_ER`, `ER_RATIO_1`, `ER_RATIO_2`, and `ER_RATIO_3` are all initialized to a constant value of `0`.\r\n        *   The `LV_ER_RATIO` signal is also initialized to `0` through a `Merge` block, receiving `0` from this branch.\r\n    *   **Else Branch (`NLC_ER_CON_MISF != 1`):**\r\n        *   The signals `LV_ENA_ER`, `ER_RATIO_1`, `ER_RATIO_2`, and `ER_RATIO_3` are also initialized to a constant value of `0`, as indicated by \"0\" constant blocks labeled `V.6.8` that feed into these outputs.\r\n        *   The `LV_ER_RATIO` signal is also initialized to `0` through the `Merge` block, receiving `0` from this branch.\r\n    *   **Summary of Conditional Branch:** In the depicted diagram, both the `if` and `else` branches of the `NLC_ER_CON_MISF` condition result in `LV_ENA_ER`, `ER_RATIO_1`, `ER_RATIO_2`, `ER_RATIO_3`, and `LV_ER_RATIO` being initialized to `0`. This implies that regardless of the `NLC_ER_CON_MISF` status, these particular outputs are always initialized to zero by this diagram. The `if/else` structure might be present for potential future modifications or to differentiate the logical path, even if the current outcome is the same.\r\n\r\n\r\n--- Page 82 ---\r\n\r\nThis image is indeed a Simulink diagram representing an automotive control system.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to implement an **Engine Roughness Adaptive Learning Process (ENRD)**. This system continuously monitors and analyzes engine operational parameters to determine and adaptively learn engine roughness characteristics. It aims to provide accurate, filtered, and segmented roughness data, including adaptive values and thresholds, likely for engine control, diagnostics (e.g., misfire detection, combustion stability), and potentially for adjusting engine operation to reduce vibrations or optimize performance. The system incorporates mechanisms for non-volatile memory (NVM) storage to persist learned adaptations across ignition cycles.\r\n\r\n## Inputs\r\nThe system receives a wide array of inputs, categorized as follows:\r\n\r\n1.  **System Control & Timing Inputs (from ADCPRO blocks):**\r\n    *   `ENRD_ADCPRO_RST`: System reset signal.\r\n    *   `ENRD_ADCPRO_10MS`: A 10ms periodic trigger or synchronization signal.\r\n    *   `ENRD_ADCPRO_SEG`: A signal related to segmentation control.\r\n    *   `ENRD_ADCPRO_NVMINI`: Non-Volatile Memory (NVM) initialization command.\r\n    *   `ENRD_ADCPRO_NVMRES`: NVM reset command.\r\n    *   `ENRD_ADCPRO_NVMSTO`: NVM store command.\r\n\r\n2.  **Engine, Vehicle, and Environmental Data Inputs (via the left-side bus):**\r\n    *   `DRV1_ER`: Driver 1's engine roughness (possibly a demand or reference).\r\n    *   `LV_AT`: Live value related to Automatic Transmission.\r\n    *   `LV_ENA_ER`: Live value for enabling engine roughness processing.\r\n    *   `LV_ENA_EQL`: Live value for enabling equalization.\r\n    *   `LV_INH_APP_ER_AD`: Live value to inhibit application-specific engine roughness adaptation.", "mimetype": "text/plain", "start_char_idx": 167758, "end_char_idx": 171552, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6fb1f793-3383-4da2-b9ca-7813278bb05c": {"__data__": {"id_": "6fb1f793-3383-4da2-b9ca-7813278bb05c", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a2adbbac-a774-4251-9dd8-1a6437f2c70d", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "9314819b8f099f6762526bdc4beacaee7556eea8eabff8e1da6f689bbf4e2a4e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "622bcfb3-efde-4b27-bea9-a10362e7aa86", "node_type": "1", "metadata": {}, "hash": "b6c0d8cc0b7544a5864a031f1ed59845206e78f436b72c1792edcd6ba91d3269", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `LV_AT`: Live value related to Automatic Transmission.\r\n    *   `LV_ENA_ER`: Live value for enabling engine roughness processing.\r\n    *   `LV_ENA_EQL`: Live value for enabling equalization.\r\n    *   `LV_INH_APP_ER_AD`: Live value to inhibit application-specific engine roughness adaptation.\r\n    *   `LV_INH_OBD_ER_AD`: Live value to inhibit On-Board Diagnostics (OBD) related engine roughness adaptation.\r\n    *   `LV_INJ_CUT`: Live value indicating injector cut-off status.\r\n    *   `TPS_GRD`: Throttle Position Sensor (TPS) ground signal or related data.\r\n    *   `MAF_DIF`: Mass Air Flow (MAF) difference.\r\n    *   `LV_STATE_RR_EQL`: Live value for road roughness equalization state.\r\n    *   `LV_STATE_RR`: Live value for road roughness state.\r\n    *   `LV_SYN_ENG`: Live value for engine synchronization status.\r\n    *   `NC_CYL_NR`: Number of cylinders.\r\n    *   `SEG_AD_MMV_ER_APP`: Segment adaptive Multi-Master Value (MMV) engine roughness application data.\r\n    *   `SEG_NR_MES`: Segment number of measurements.\r\n    *   `SEG_T_COR`: Segment time correction.\r\n    *   `SEG_T_MES_CYL`: Segment time measurement per cylinder.\r\n    *   `LOAD_GRD_MIS`: Load grid misfire status.\r\n    *   `LOAD_MIS`: Load misfire status.\r\n    *   `LV_ACCOUT_RLY`: Live value for account replay.\r\n    *   `LV_ENA_SEG_T_MES`: Live value to enable segment time measurement.\r\n    *   `MAF`: Mass Air Flow sensor reading.\r\n    *   `TPS_AV`: Throttle Position Sensor average value.\r\n    *   `SEG_T_MES_CH`: Segment time measurement channel.\r\n    *   `SEG_T_MES`: Segment time measurement.\r\n    *   `LV_REQ_SEG_AD_MMV_ER`: Live value requesting segment adaptive MMV engine roughness.\r\n    *   `LV_CVT`: Live value related to Continuous Variable Transmission.\r\n    *   `LV_DCT`: Live value related to Dual Clutch Transmission.\r\n    *   `LV_ST_END`: Live value indicating the end state.\r\n\r\n3.  **Internal Feedback/Control Inputs (to specific processing blocks X.1-X.7):**\r\n    *   `sys_sve`: A system save/enable signal, common to multiple processing blocks.\r\n    *   `fdout_er`: Feedback for the FD_OUT_ER block.\r\n    *   `end_er_seg`: Feedback for the END_ER_SEG block.\r\n    *   `er_ad`: Feedback for the ER_AD block.\r\n    *   `fil`: Feedback for the FIL block.\r\n    *   `phy_seg`: Feedback for the PHY_SEG block.\r\n    *   `act_ada_val`: Feedback for the ACT_ADA_VAL block.\r\n    *   `sel_win`: Feedback for the SEL_WIN block.\r\n\r\n## Outputs\r\nThe system produces several outputs, primarily conveying processed engine roughness information:\r\n\r\n*   `LV_PR_WIN_CH_AD`: Live value for pre-window channel adaptation.\r\n*   `LV_SEG_AD_AVL_ER`: Live value indicating availability of segment adaptive engine roughness.\r\n*   `LV_SEG_AD_DIF_MAX_ER`: Live value for the maximum difference of segment adaptive engine roughness.\r\n*   `LV_SEG_AD_ER`: Live value for segment adaptive engine roughness (a primary output).\r\n*   `LV_SEG_AD_LIM_ER`: Live value for the limit of segment adaptive engine roughness.\r\n*   `LV_SEG_T_MES_CYL_READY`: Live value indicating readiness of segment time measurement per cylinder.\r\n*   `SEG_AD_MMV_ER`: Segment adaptive Multi-Master Value engine roughness (overall value).\r\n*   `SEG_AD_MMV_ER_CH`: Segment adaptive Multi-Master Value engine roughness channel.\r\n*   `SEG_AD_MMV_ER_H`: Segment adaptive Multi-Master Value engine roughness (High).\r\n*   `SEG_AD_MMV_ER_L`: Segment adaptive Multi-Master Value engine roughness (Low).\r\n*   `SEG_AD_MMV_ER_MID`: Segment adaptive Multi-Master Value engine roughness (Mid).\r\n*   `THD_AD_ER`: Threshold for adaptive engine roughness.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the Engine Roughness Adaptive Learning Process can be described in the following steps:\r\n\r\n1.  **Initialization and Non-Volatile Memory (NVM) Management:**\r\n    *   The system receives various ADCPRO signals, which act as triggers and control inputs.", "mimetype": "text/plain", "start_char_idx": 171257, "end_char_idx": 175124, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "622bcfb3-efde-4b27-bea9-a10362e7aa86": {"__data__": {"id_": "622bcfb3-efde-4b27-bea9-a10362e7aa86", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6fb1f793-3383-4da2-b9ca-7813278bb05c", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "6781d361f51f18e484d1b08353d13d408c59b3bee8bd199556dbe45d8a8b5f5d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1b973b69-6366-4bd8-a08f-c9a7498c7e8e", "node_type": "1", "metadata": {}, "hash": "bb88971476774a44909eb98f463a021826bf2edae88c0fc9b6eb676c500073b9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `SEG_AD_MMV_ER_MID`: Segment adaptive Multi-Master Value engine roughness (Mid).\r\n*   `THD_AD_ER`: Threshold for adaptive engine roughness.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the Engine Roughness Adaptive Learning Process can be described in the following steps:\r\n\r\n1.  **Initialization and Non-Volatile Memory (NVM) Management:**\r\n    *   The system receives various ADCPRO signals, which act as triggers and control inputs. These include `ENRD_ADCPRO_RST` for system reset and `ENRD_ADCPRO_10MS` for periodic timing.\r\n    *   NVM-related signals (`ENRD_ADCPRO_NVMINI`, `NVMRES`, `NVMSTO`) are crucial for managing the persistence of learned adaptive values. At startup, stored data might be loaded (`NVMINI`), and during operation or shutdown, current adaptive values can be saved (`NVMSTO`).\r\n\r\n2.  **Diverse Input Data Acquisition:**\r\n    *   A comprehensive set of engine and vehicle operational parameters, sensor readings (e.g., `MAF`, `TPS_AV`), and control flags (e.g., `LV_ENA_ER`, `LV_INJ_CUT`) are fed into the system via the left-side signal bus. These inputs provide the context for engine roughness evaluation.\r\n\r\n3.  **Specialized Processing Blocks (X.1-X.7):**\r\n    *   The diverse input signals, along with internal `sys_sve` commands and specific feedback loops, are routed to several specialized processing blocks:\r\n        *   **FD_OUT_ER (X.1):** Likely calculates or filters frequency-domain output for engine roughness.\r\n        *   **END_ER_SEG (X.2):** Determines the end of an engine roughness segment, which is critical for segment-based analysis.\r\n        *   **ER_AD (X.3):** Performs the core adaptive learning algorithm for engine roughness, adjusting internal models or parameters based on current and historical data.\r\n        *   **FIL (X.4):** Implements filtering logic to smooth or condition various signals, possibly related to roughness or operational parameters.\r\n        *   **PHY_SEG (X.5):** Processes data related to physical segments of engine operation or physical properties contributing to roughness.\r\n        *   **ACT_ADA_VAL (X.6):** Manages or calculates the actual adaptive values being used or generated.\r\n        *   **SEL_WIN (X.7):** Selects specific operational windows or timeframes for analysis, ensuring adaptations occur under relevant conditions.\r\n    *   The \"feedback\" inputs to these blocks suggest iterative processing or closed-loop control within each sub-function, where the output of a previous cycle or a specific value influences the current calculation. The `sys_sve` input to all these blocks implies they are capable of saving relevant internal states or learned parameters to NVM.\r\n\r\n4.  **Signal Management and Consolidation (Signal Manager V.5.9):**\r\n    *   The outputs from the individual processing blocks (X.1-X.7), along with other direct inputs from the main left bus (e.g., `SEG_AD_MMV_ER_APP`, `SEG_NR_MES`), are fed into the \"Signal Manager\" block (V.5.9).\r\n    *   This central manager acts as an orchestrator, integrating the various processed signals. It likely performs tasks such as:\r\n        *   Applying thresholds and limits to adaptive values.\r\n        *   Selecting the most relevant adaptive values based on operational mode or conditions.\r\n        *   Combining different roughness metrics (e.g., high, low, mid MMV values).\r\n        *   Generating status and readiness flags.\r\n\r\n5.  **Output Generation:**\r\n    *   The \"Signal Manager\" then outputs the final, comprehensive set of adaptive engine roughness parameters. These include overall adaptive roughness (`LV_SEG_AD_ER`), segmented MMV values (`SEG_AD_MMV_ER`, `_H`, `_L`, `_MID`), specific limits (`LV_SEG_AD_LIM_ER`), and readiness indicators (`LV_SEG_T_MES_CYL_READY`).\r\n    *   These outputs are then utilized by other systems within the ECU for functions such as fine-tuning engine timing, fuel injection, optimizing combustion, performing misfire diagnostics, or adjusting vehicle stability control based on perceived engine vibration levels.\r\n\r\n\r\n--- Page 83 ---\r\n\r\nThis image presents a functional block diagram, which, while not a direct screenshot of a Simulink model with specific block icons, represents a system component that would typically be implemented using Simulink in an automotive context. The diagram clearly defines inputs and suggests a logical operation for combining conditions.", "mimetype": "text/plain", "start_char_idx": 174690, "end_char_idx": 179062, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1b973b69-6366-4bd8-a08f-c9a7498c7e8e": {"__data__": {"id_": "1b973b69-6366-4bd8-a08f-c9a7498c7e8e", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "622bcfb3-efde-4b27-bea9-a10362e7aa86", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "47aa805a7bb0430533b033fc1755b3edb94458351de6c886ff20ba6a16d1b7e0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7320a70f-6302-4410-a42b-ddd1b52d88f4", "node_type": "1", "metadata": {}, "hash": "9cb40532135a751228059da6efbdd61f343fd7f507b2dca70fc41217a4600b6d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "--- Page 83 ---\r\n\r\nThis image presents a functional block diagram, which, while not a direct screenshot of a Simulink model with specific block icons, represents a system component that would typically be implemented using Simulink in an automotive context. The diagram clearly defines inputs and suggests a logical operation for combining conditions.\r\n\r\n## Function\r\nThe primary function of the `SEG_AD_FDOUT_ER_CDN` block is to aggregate various \"fade-out\" or \"inhibition\" conditions related to the engine roughness segment adaptive learning process. It acts as a \"carrier\" to merge these individual conditions into a single, comprehensive signal that indicates whether the segment adaptation process should be faded out or inhibited. Essentially, it determines if any critical condition is met that warrants stopping or reducing the adaptation of engine roughness segments.\r\n\r\n## Inputs\r\nThe diagram clearly lists 8 distinct input signals, numbered from 0 to 7:\r\n\r\n1.  **LV_INH_MAF_DIF_ER_AD**: Live Value, Inhibition due to Mass Airflow (MAF) difference, Engine Roughness, Adaptation.\r\n2.  **LV_INH_LOAD_GRD_MAX_ER_AD**: Live Value, Inhibition due to maximum Load Gradient, Engine Roughness, Adaptation.\r\n3.  **LV_INH_TPS_GRD_ER_AD**: Live Value, Inhibition due to Throttle Position Sensor (TPS) gradient, Engine Roughness, Adaptation.\r\n4.  **LV_INH_ACC_ER_AD**: Live Value, Inhibition due to Acceleration, Engine Roughness, Adaptation.\r\n5.  **LV_STATE_RR**: Live Value, State related to Road Roughness (potentially indicating a condition where engine roughness cannot be accurately measured due to road conditions).\r\n6.  **LV_SEG_AD_DIF_MAX_ER**: Live Value, Segment Adaptation difference maximum, Engine Roughness (likely indicates the adaptation has reached its maximum allowable deviation).\r\n7.  **LV_INH_APP_ER_AD**: Live Value, Inhibition due to Accelerator Pedal Position (APP), Engine Roughness, Adaptation.\r\n8.  **LV_INH_OBD_ER_AD**: Live Value, Inhibition due to On-Board Diagnostics (OBD) related conditions, Engine Roughness, Adaptation.\r\n\r\nThese inputs are typically boolean flags, where 'true' indicates an active fade-out or inhibition condition.\r\n\r\n## Outputs\r\nAlthough not explicitly drawn as an output line, the description \"Carrier used for fade-out conditions merge\" implies a single, aggregated output signal. This output would represent the combined fade-out status. A typical output would be:\r\n\r\n*   **SEG_AD_FDOUT_ER_ACTIVE** (implied): A boolean flag that is 'true' if any of the input fade-out conditions are active, and 'false' otherwise. This signal would then be used by the engine roughness adaptive learning process to control its adaptation behavior.\r\n\r\n## Logic Flow\r\nThe logical flow of the `SEG_AD_FDOUT_ER_CDN` block, as inferred from its description and the \"Application Conditions,\" is as follows:\r\n\r\n1.  **Activation and Deactivation:** The entire process is controlled by the `LV_ENA_SEG_T_MES` signal.\r\n    *   The function is **activated** when `LV_ENA_SEG_T_MES == 1`.\r\n    *   The function is **deactivated** when `LV_ENA_SEG_T_MES == 0`.\r\n    *   Upon **initialisation** (RST) or deactivation, the fade-out status is typically reset to an inactive state (e.g., 'false').\r\n\r\n2.  **Recurrence:** When activated, the function executes periodically every **10 milliseconds** (`10MS, SEG`).\r\n\r\n3.  **Input Evaluation:** At each recurrence cycle, the system reads the current state of all 8 input signals (LV_INH_MAF_DIF_ER_AD through LV_INH_OBD_ER_AD). Each of these signals represents an independent condition that, if true, necessitates a fade-out of the engine roughness adaptation.\r\n\r\n4.  **Merge Logic (Logical OR):** The core logic is a \"merge\" of these conditions. In the context of inhibition or fade-out, this almost universally implies a **Logical OR** operation. If *any* of the 8 input conditions are true, the overall fade-out condition becomes true.\r\n    *   `SEG_AD_FDOUT_ER_ACTIVE = LV_INH_MAF_DIF_ER_AD OR LV_INH_LOAD_GRD_MAX_ER_AD OR ... OR LV_INH_OBD_ER_AD`\r\n\r\n5.  **Output Generation:** The result of this logical OR operation is then assigned to the implied output signal (e.g., `SEG_AD_FDOUT_ER_ACTIVE`).", "mimetype": "text/plain", "start_char_idx": 178711, "end_char_idx": 182881, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7320a70f-6302-4410-a42b-ddd1b52d88f4": {"__data__": {"id_": "7320a70f-6302-4410-a42b-ddd1b52d88f4", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1b973b69-6366-4bd8-a08f-c9a7498c7e8e", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "750f0fb67584ad91bb713b238da28cca615e2b5ec3e025818604a9d23f93a7df", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "36146979-cba8-43a8-b519-29384461f057", "node_type": "1", "metadata": {}, "hash": "dcff5522cdc35f8c3c9dbc432acfce80c8eef08f96f9b4819990ad8c356c70fe", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "If *any* of the 8 input conditions are true, the overall fade-out condition becomes true.\r\n    *   `SEG_AD_FDOUT_ER_ACTIVE = LV_INH_MAF_DIF_ER_AD OR LV_INH_LOAD_GRD_MAX_ER_AD OR ... OR LV_INH_OBD_ER_AD`\r\n\r\n5.  **Output Generation:** The result of this logical OR operation is then assigned to the implied output signal (e.g., `SEG_AD_FDOUT_ER_ACTIVE`). This signal would then inform subsequent stages of the engine roughness adaptive learning process that adaptation should be faded out or inhibited until all active fade-out conditions are no longer present.\r\n\r\n\r\n--- Page 84 ---\r\n\r\nThis image is indeed a Simulink diagram representing a control system for an engine.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram, as indicated by its title \"ENRD. Engine roughness adaptive learning process,\" is to detect and manage engine roughness. It implements a stateful process that operates in segments (likely 10ms intervals) to analyze various engine parameters, identify potential roughness-related errors, and provide signals for fault detection and inhibition of adaptive learning processes. The system likely incorporates adaptive logic through its feedback mechanism to learn and adjust to engine characteristics over time.\r\n\r\n## Inputs\r\n\r\nThe system receives inputs from various sources, categorized as follows:\r\n\r\n1.  **System Events (from `sys_eve` block):**\r\n    *   `<FDOUT_ER_RST>`: A reset signal for fault detection output errors.\r\n    *   `<FDOUT_ER_10MS>`: An event signal related to fault detection at 10ms intervals.\r\n    *   `<FDOUT_ER_SEG>`: An event signal related to segmented fault detection.\r\n2.  **Activation/Deactivation Control:**\r\n    *   `<LV_ENA_SEG_T_MES>`: A scalar value that enables or disables the segmented time measurement, controlling the activation/deactivation of the main recurrence block. This signal is also part of the \"Input\" bus for the OPM block.\r\n3.  **Engine Sensor and Internal Process Data (from \"Input\" bus, port 2):**\r\n    *   `<LV_ENA_SEG_T_MES>`: (Redundant with the direct input, but likely for use within the OPM block's context).\r\n    *   `<MAF_DIF>`: Mass Air Flow difference.\r\n    *   `<MAF>`: Current Mass Air Flow.\r\n    *   `<LOAD_GRD_MIS>`: Load gradient mismatch.\r\n    *   `<TPS_AV>`: Throttle Position Sensor average.\r\n    *   `<TPS_GRD>`: Throttle Position Sensor gradient.\r\n    *   `<LV_ACCOUT_RLY>`: Acceleration output relay status.\r\n    *   `<LV_STATE_RR>`: System state related to roughness.\r\n    *   `<LV_INH_OBD_ER_AD>`: Inhibit signal for On-Board Diagnostics error adaptation.\r\n    *   `<LV_INH_APP_ER_AD>`: Inhibit signal for application error adaptation.\r\n    *   `<LV_SEG_AD_DIF_MAX_ER>`: Segment adaptation difference maximum error.\r\n4.  **Feedback Signals (from \"feedback\" bus, port 3):**\r\n    *   `fc_OPM_10MS`: Control signal for OPM block at 10ms interval.\r\n    *   `fc_OPM_SEG`: Control signal for OPM block in segmented mode.\r\n    *   `input`: Internal feedback signal, possibly related to previous input state of OPM.\r\n    *   `opm`: The output of the OPM block itself, fed back for adaptive or recursive processing.\r\n\r\n## Outputs\r\n\r\nThe primary output of the system is a bus named `fdout_er` (Fault Detection Output Error), which contains the following signals:\r\n\r\n*   `<LV_SEG_AD_FDOUT_ER>`: Segment adaptation fault detection output error.\r\n*   `<SEG_AD_FDOUT_ER_CDN>`: Segment adaptation fault detection output error condition.\r\n*   `<SEG_AD_FDOUT_ER_CDN_NR>`: Segment adaptation fault detection output error condition (normalized/number).\r\n*   `<LV_INH_MAF_DIF_ER_AD>`: Inhibit Mass Air Flow difference error adaptation.\r\n*   `<LV_INH_LOAD_GRD_MAX_ER_AD>`: Inhibit Load Gradient Maximum error adaptation.\r\n*   `<LV_INH_TPS_GRD_ER_AD>`: Inhibit Throttle Position Sensor gradient error adaptation.\r\n*   `<LV_INH_ACC_ER_AD>`: Inhibit Acceleration error adaptation.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the diagram can be broken down into these steps:\r\n\r\n1.  **Recurrence and State Management (Orange \"Recurrence\" block):**\r\n    *   This block acts as the central timing and state manager for the engine roughness process.", "mimetype": "text/plain", "start_char_idx": 182529, "end_char_idx": 186652, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "36146979-cba8-43a8-b519-29384461f057": {"__data__": {"id_": "36146979-cba8-43a8-b519-29384461f057", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7320a70f-6302-4410-a42b-ddd1b52d88f4", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "95dcfb6b631f949fce1867ce863eb6bc2b39f9def4ee6793355d89681f1ac628", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "99a93c22-71cf-4b4d-8b5c-56ec4f939783", "node_type": "1", "metadata": {}, "hash": "128584420c7b0b5e0cf232d4a925bdcd60806afc2c3941a977ba78744f996807", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `<LV_INH_TPS_GRD_ER_AD>`: Inhibit Throttle Position Sensor gradient error adaptation.\r\n*   `<LV_INH_ACC_ER_AD>`: Inhibit Acceleration error adaptation.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the diagram can be broken down into these steps:\r\n\r\n1.  **Recurrence and State Management (Orange \"Recurrence\" block):**\r\n    *   This block acts as the central timing and state manager for the engine roughness process.\r\n    *   It responds to `sys_eve` signals (`FDOUT_ER_RST`, `FDOUT_ER_10MS`, `FDOUT_ER_SEG`) for event-triggered actions.\r\n    *   It defines a `Recurrence` of \"10MS SEG,\" indicating its primary operation cycle is 10ms segments.\r\n    *   It handles `Init` (Initialization) when a `RST` signal is present.\r\n    *   It `Activation` occurs when `LV_ENA_SEG_T_MES` is `1`.\r\n    *   It `Deactivation` occurs when `LV_ENA_SEG_T_MES` is `0`.\r\n    *   This block generates several control signals: `fc_RST`, `fc_10MS`, `fc_SEG`, `fc_INI`, and `fc_OPM`. These signals are used to synchronize and control the execution of downstream initialization and operational blocks.\r\n\r\n2.  **Initialization Phase (INI X.1.1 block):**\r\n    *   The `INI` block receives its trigger from `fc_INI`, which is provided by the Recurrence block.\r\n    *   This block is responsible for setting up initial conditions, variables, or states for the engine roughness detection process.\r\n    *   Its output, labeled `ini`, is then passed to a `BusMerge` block.\r\n\r\n3.  **Operation Phase (OPM X.1.2 block):**\r\n    *   The `OPM` block performs the core engine roughness adaptive learning logic.\r\n    *   It receives various engine-related parameters (e.g., `MAF_DIF`, `TPS_AV`, `LOAD_GRD_MIS`) through the \"Input\" bus.\r\n    *   It is triggered and synchronized by the `fc_OPM_10MS` and `fc_OPM_SEG` signals from the Recurrence block, ensuring it operates according to the defined 10ms segmented schedule.\r\n    *   Crucially, the `OPM` block incorporates a feedback loop: its own output (`opm`) and other internal states (`input`, `fc_OPM_10MS`, `fc_OPM_SEG` via the \"feedback\" bus) are fed back into its inputs. This feedback mechanism is fundamental for adaptive learning, allowing the system to adjust its behavior based on previous outputs or historical data.\r\n    *   The `opm` output represents the calculated operational state or parameters of the engine roughness detection.\r\n\r\n4.  **Bus Merging (BusMerge V.6.0 block):**\r\n    *   This block combines the outputs of the `INI` (`ini`) and `OPM` (`opm`) blocks into a single bus.\r\n    *   This merged bus likely represents the comprehensive state of the engine roughness process, including both its initialized values and its continuously updated operational results.\r\n\r\n5.  **Output Generation (Output Bus Creator):**\r\n    *   The signals from the `BusMerge` block (and possibly directly from `LV_ENA_SEG_T_MES`) are directed to a final bus creator.\r\n    *   This creator assembles all the relevant fault detection and inhibition flags into the `fdout_er` output bus, making them available to other parts of the engine control system. These flags provide detailed information about detected errors and indicate when certain adaptive functions should be temporarily halted (inhibited).\r\n\r\n\r\n--- Page 85 ---\r\n\r\nThis is indeed a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram, titled \"Initialization\" within the context of an \"Engine roughness adaptive learning process\" (ENRD), is to initialize a specific set of variables or parameters. It aggregates several constant values into a single bus signal, named `ini`, which likely serves as an initial state or configuration input for subsequent processing within the adaptive learning system.\r\n\r\n## Inputs\r\nThe inputs to this specific diagram are several constant values:\r\n*   **1**: Assigned to `LV_SEG_AD_FDOUT_ER`. This could represent a boolean flag (e.g., active/enabled) or a default counter value for an engine roughness fault output.\r\n*   **255**: Assigned to `SEG_AD_FDOUT_ER_CDN`. This likely represents a countdown or counter value for engine roughness fault output, potentially a maximum or initial reset value (e.g., 255 counts).", "mimetype": "text/plain", "start_char_idx": 186237, "end_char_idx": 190391, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "99a93c22-71cf-4b4d-8b5c-56ec4f939783": {"__data__": {"id_": "99a93c22-71cf-4b4d-8b5c-56ec4f939783", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "36146979-cba8-43a8-b519-29384461f057", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "277c7fc9e78f7df09758b16e33cee7fa3828e7d995f18ae9fde65925ae0f3292", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d8d2e934-48a7-4dd7-b89f-79eabd685e61", "node_type": "1", "metadata": {}, "hash": "d3a80ec92acf6ca213c3547a9f140b8494b7e799bbf9502318b41b5c612ff0fe", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This could represent a boolean flag (e.g., active/enabled) or a default counter value for an engine roughness fault output.\r\n*   **255**: Assigned to `SEG_AD_FDOUT_ER_CDN`. This likely represents a countdown or counter value for engine roughness fault output, potentially a maximum or initial reset value (e.g., 255 counts).\r\n*   **8**: Assigned to `SEG_AD_FDOUT_ER_CDN_NR`. This could be a non-resetting countdown/counter value for engine roughness, perhaps indicating a retry limit or a different type of counter.\r\n*   **0**: Assigned to `timer_out_tps`. This initializes a timer output related to the Throttle Position Sensor (TPS) to zero.\r\n*   **0**: Assigned to `timer_out_maf`. This initializes a timer output related to the Mass Airflow (MAF) sensor to zero.\r\n\r\nThe \"V. 6.4\" shown beneath each constant likely refers to the data type, scaling, or versioning of these constants.\r\n\r\n## Outputs\r\nThe main output of this specific diagram is a single, bundled signal:\r\n*   **`ini`**: A bus signal that encapsulates all the individual constant values mentioned above (`LV_SEG_AD_FDOUT_ER`, `SEG_AD_FDOUT_ER_CDN`, `SEG_AD_FDOUT_ER_CDN_NR`, `timer_out_tps`, `timer_out_maf`). This bus is then passed to a subsequent block labeled `f()`.\r\n\r\n## Logic Flow\r\n1.  **Constant Definition**: Five distinct constant values (1, 255, 8, 0, 0) are defined. Each constant is associated with a specific internal variable name relevant to the engine roughness adaptive learning process, such as fault flags, counters, or timers.\r\n2.  **Signal Aggregation**: These five individual constant signals are fed into a Simulink \"Bus Creator\" block. The Bus Creator is a crucial block for structuring data in complex Simulink models, allowing multiple disparate signals to be grouped into a single, composite signal.\r\n3.  **Bus Creation**: The Bus Creator bundles these individual signals into a single output bus signal, which is explicitly labeled `ini`. This `ini` bus now logically contains all the specified initial values.\r\n4.  **Subsequent Processing**: The `ini` bus is then directed as an input to a block labeled `f()`. This `f()` block typically represents a function call, a subsystem, or a Model Reference that will utilize these initialized values to set up the adaptive learning process or its internal states. The \"Initialization\" diagram, therefore, prepares the necessary initial data package for the next stage of the control logic.\r\n\r\n\r\n--- Page 86 ---\r\n\r\nThis image is a Simulink-like block diagram.\r\n\r\n## Function\r\nThis Simulink diagram describes a control logic within an engine roughness (ER) adaptive learning process, specifically focusing on conditions under which the ER segment learning should be inhibited or managed. Its primary function is to monitor various engine parameters, such as mass air flow (MAF) gradient, throttle position sensor (TPS) gradient, and engine load, to determine if the ER adaptation process needs to be temporarily disabled or its \"fade-out\" behavior adjusted during specific transient conditions (e.g., rapid acceleration or deceleration, as implied by \"trailing throttle / acceleration transition problems\" in the accompanying text). The overall goal is to prevent erroneous learning during unstable engine operation.\r\n\r\n## Inputs\r\nThe diagram receives the following key inputs:\r\n\r\n*   **`fc_OPM_10MS`**: A frequency counter or timer for a 10-millisecond operating mode.\r\n*   **`fc_OPM_SEG`**: A frequency counter or timer related to an operating segment.\r\n*   **`input` (Bus signal)**: This bus contains various raw or pre-processed sensor data and control variables:\r\n    *   **`<MAF_DIF>`**: Mass Air Flow (MAF) difference or gradient.\r\n    *   **`<MAF>`**: Current Mass Air Flow.\r\n    *   **`<TPS_GRD>`**: Throttle Position Sensor (TPS) gradient (rate of change).\r\n    *   **`<TPS_AV>`**: Average Throttle Position Sensor value.\r\n    *   **`<timer_out_tps_in>`**: Input timer value related to TPS.\r\n    *   **`<timer_out_maf_in>`**: Input timer value related to MAF.\r\n    *   **`<LOAD_GRD_MIS>`**: Miscellaneous Load Gradient.\r\n    *   **`<LOAD_MIS>`**: Miscellaneous Load value.\r\n    *   **`<LV_ACCOUT_RLY>`**: Level signal related to an accountability or relay state.", "mimetype": "text/plain", "start_char_idx": 190067, "end_char_idx": 194276, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d8d2e934-48a7-4dd7-b89f-79eabd685e61": {"__data__": {"id_": "d8d2e934-48a7-4dd7-b89f-79eabd685e61", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "99a93c22-71cf-4b4d-8b5c-56ec4f939783", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "7e53680806803ecf0519229ded30dddab5e4d455733324ecc864fdd304fb832d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "76b7eedc-9adb-4dd0-8219-2e867e9a4e5e", "node_type": "1", "metadata": {}, "hash": "a5be233d25e3f50f5d44c8ca9ed6d8a47d7a14ec14efe48b0706db24b2d1cfd0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **`<timer_out_tps_in>`**: Input timer value related to TPS.\r\n    *   **`<timer_out_maf_in>`**: Input timer value related to MAF.\r\n    *   **`<LOAD_GRD_MIS>`**: Miscellaneous Load Gradient.\r\n    *   **`<LOAD_MIS>`**: Miscellaneous Load value.\r\n    *   **`<LV_ACCOUT_RLY>`**: Level signal related to an accountability or relay state.\r\n*   **`feedback` (Bus signal)**: This bus contains internal state variables or flags from other parts of the system:\r\n    *   **`<LV_STATE_RR>`**: Level state for roughness recognition.\r\n    *   **`<LV_SEG_AD_DIF_MAX_ER>`**: Level segment adaptation differential for maximum ER.\r\n    *   **`<LV_INH_APP_ER_AD>`**: Level inhibit application for ER adaptation.\r\n    *   **`<LV_INH_OBD_ER_AD>`**: Level inhibit On-Board Diagnostics (OBD) for ER adaptation.\r\n\r\n## Outputs\r\nThe diagram produces a single output bus named `opm`, which consolidates several signals:\r\n\r\n*   **`timer_out_tps`**: Timer output related to TPS processing.\r\n*   **`timer_out_maf`**: Timer output related to MAF processing.\r\n*   **`LV_INH_TPS_GRD_ER_AD`**: Level Inhibit flag for ER adaptation due to TPS gradient (active high when inhibition is required).\r\n*   **`LV_INH_MAF_DIF_ER_AD`**: Level Inhibit flag for ER adaptation due to MAF difference/gradient (active high when inhibition is required).\r\n*   **`LV_INH_LOAD_GRD_MAX_ER_AD`**: Level Inhibit flag for ER adaptation due to maximum load gradient (active high when inhibition is required).\r\n*   **`LV_INH_ACC_ER_AD`**: Level Inhibit flag for ER adaptation due to air consumption control (likely active high when inhibition is required).\r\n*   **`SEG_AD_FDOUT_ER_CDN_NR`**: Segment Adaptation Fade-Out ER Condition Not Reached.\r\n*   **`LV_SEG_AD_FDOUT_ER`**: Level Segment Adaptation Fade-Out ER.\r\n*   **`SEG_AD_FDOUT_ER_CDN`**: Segment Adaptation Fade-Out ER Condition.\r\n\r\n## Logic Flow\r\n\r\nThe logic flow can be broken down into several functional blocks:\r\n\r\n1.  **Operating Mode/Timer Management (Top Left):**\r\n    *   `fc_OPM_10MS` and `fc_OPM_SEG` are fed into an `F1` block (likely a multiplexer or logic unit) along with an internally generated `fc_call` signal. This section provides timing and operating mode context for subsequent calculations.\r\n\r\n2.  **Input Signal Demultiplexing:**\r\n    *   The `input` bus is demultiplexed, allowing individual signals like `MAF_DIF`, `TPS_GRD`, `LOAD_GRD_MIS`, and `LV_ACCOUT_RLY` to be used by specific processing blocks.\r\n\r\n3.  **Maximum Air Mass Gradient Processing (MAX_AIR_MASS X.1.2.1):**\r\n    *   This block receives `MAF_DIF`, `MAF`, `TPS_GRD`, `TPS_AV`, `timer_out_tps_in`, `timer_out_maf_in`, and `fc_call`.\r\n    *   It calculates and outputs `timer_out_tps` and `LV_INH_TPS_GRD_ER_AD` based on TPS gradient and related timer inputs. This logic likely checks if the TPS gradient exceeds a threshold, generating an inhibition flag.\r\n    *   It also calculates and outputs `timer_out_maf` and `LV_INH_MAF_DIF_ER_AD` based on MAF difference/gradient and related timer inputs. This logic checks if the air mass gradient exceeds a calibration value, generating an inhibition flag as described in the accompanying text.\r\n\r\n4.  **Maximum Actuator Load Processing (MAX_ACT_LOAD X.1.2.2):**\r\n    *   This block takes `LOAD_GRD_MIS`, `LOAD_MIS`, and `fc_call` as inputs.\r\n    *   It determines and outputs `LV_INH_LOAD_GRD_MAX_ER_AD`. This flag is likely set if the engine load gradient or level exceeds a predefined maximum, signifying a condition where ER adaptation should be inhibited.\r\n\r\n5.  **Air Consumption Control (AIR_CON_COM X.1.2.3):**\r\n    *   This block processes `LV_ACCOUT_RLY` and `fc_call`.", "mimetype": "text/plain", "start_char_idx": 193941, "end_char_idx": 197558, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "76b7eedc-9adb-4dd0-8219-2e867e9a4e5e": {"__data__": {"id_": "76b7eedc-9adb-4dd0-8219-2e867e9a4e5e", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d8d2e934-48a7-4dd7-b89f-79eabd685e61", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "6dda917ca343bb695cce437c5a36e7d13b8a3d7fb35789b7b782c5a31dce4703", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4c435522-b6c0-4a13-a42e-0aff9ec25740", "node_type": "1", "metadata": {}, "hash": "80c502f78a323f899a4a270bd2aa421fbe724ddbf1b361465db42bbbd1df9617", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   It determines and outputs `LV_INH_LOAD_GRD_MAX_ER_AD`. This flag is likely set if the engine load gradient or level exceeds a predefined maximum, signifying a condition where ER adaptation should be inhibited.\r\n\r\n5.  **Air Consumption Control (AIR_CON_COM X.1.2.3):**\r\n    *   This block processes `LV_ACCOUT_RLY` and `fc_call`.\r\n    *   It outputs `LV_INH_ACC_ER_AD`, which is an inhibition flag possibly related to air consumption or accountability, ensuring ER adaptation does not occur under certain air consumption control states.\r\n\r\n6.  **Fade-out Management (FDOUT_MGM X.1.2.4):**\r\n    *   This block receives inputs from the `feedback` bus (`LV_STATE_RR`, `LV_SEG_AD_DIF_MAX_ER`, `LV_INH_APP_ER_AD`, `LV_INH_OBD_ER_AD`) and `fc_call` (from the mode/timer management). It also directly incorporates `LV_INH_ACC_ER_AD` from the previous block.\r\n    *   It outputs `SEG_AD_FDOUT_ER_CDN_NR`, `LV_SEG_AD_FDOUT_ER`, and `SEG_AD_FDOUT_ER_CDN`. This block is responsible for managing the \"fade-out\" behavior, meaning how long an inhibition lasts or how the ER adaptation gradually resumes after an inhibitory condition passes. It likely uses the various feedback signals to determine the appropriate fade-out state and duration.\r\n\r\n7.  **Output Bus Assembly:**\r\n    *   All the generated `timer_out_tps`, `timer_out_maf`, and various `LV_INH_..._ER_AD` and `SEG_AD_FDOUT_...` signals are collected and multiplexed into the final `opm` output bus, which then provides these critical state and control flags to other parts of the engine control system.\r\n\r\n\r\n--- Page 87 ---\r\n\r\nThis image is a Simulink diagram, specifically showing a subsystem or function within an automotive control system.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to calculate and output several timer-related signals and crucial inhibition flags for an \"Engine roughness adaptive learning process\" (as indicated by the \"ENRD\" header). It processes inputs from Throttle Position Sensor (TPS) and Mass Air Flow (MAF) sensors, along with internal timer states, to determine when adaptive learning should be inhibited based on conditions like TPS gradient, MAF values, and MAF differences. The top timing diagram explicitly illustrates a \"fadeout\" behavior for the MAF difference inhibition signal, suggesting a complex dynamic logic for these flags.\r\n\r\n## Inputs\r\nThe subsystem receives the following inputs:\r\n*   **`fc_call`**: A function call trigger, indicating that this subsystem runs on a specific periodic schedule (e.g., `<fc_OPM_10MS>` which likely means every 10 milliseconds).\r\n*   **`timer_out_tps_in`** (Input block 6): An input signal representing the current state or value of a TPS-related timer, which is further processed internally.\r\n*   **`TPS_AV`** (Input block 5): The average value of the Throttle Position Sensor signal.\r\n*   **`TPS_GRD`** (Input block 4): The gradient (rate of change) of the Throttle Position Sensor signal.\r\n*   **`timer_out_maf_in`** (Input block 7): An input signal representing the current state or value of a MAF-related timer, which is further processed internally.\r\n*   **`MAF`** (Input block 3): The current Mass Air Flow sensor reading.\r\n*   **`MAF_DIF`** (Input block 2): The difference or deviation in the Mass Air Flow, likely used to detect abnormal or transient conditions.\r\n\r\n## Outputs\r\nThe subsystem produces the following outputs:\r\n*   **`timer_out_tps_out`** (Output block 1): The processed output of the TPS-related timer.\r\n*   **`LV_INH_TPS_GRD_ER_AD`** (Output block 3): A boolean flag (Local Variable, Inhibit, TPS Gradient, Engine Roughness, Adaptive) indicating whether adaptive learning should be inhibited due to conditions related to the TPS gradient.\r\n*   **`timer_out_maf_out`** (Output block 2): The processed output of the MAF-related timer.\r\n*   **`LV_INH_MAF_DIF_ER_AD`** (Output block 4): A boolean flag (Local Variable, Inhibit, MAF Difference, Engine Roughness, Adaptive) indicating whether adaptive learning should be inhibited due to conditions related to the MAF difference.", "mimetype": "text/plain", "start_char_idx": 197226, "end_char_idx": 201277, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4c435522-b6c0-4a13-a42e-0aff9ec25740": {"__data__": {"id_": "4c435522-b6c0-4a13-a42e-0aff9ec25740", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "76b7eedc-9adb-4dd0-8219-2e867e9a4e5e", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "b17dbe4058e2b905b17c350ad148465c8aad0db9593c3bdef64c9f556aa2ed29", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c929021c-83ad-4622-907a-382b93558374", "node_type": "1", "metadata": {}, "hash": "453cf3a0b97de7b053920f0a211193525c479fbe386385e976f973c74eec74c7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **`timer_out_maf_out`** (Output block 2): The processed output of the MAF-related timer.\r\n*   **`LV_INH_MAF_DIF_ER_AD`** (Output block 4): A boolean flag (Local Variable, Inhibit, MAF Difference, Engine Roughness, Adaptive) indicating whether adaptive learning should be inhibited due to conditions related to the MAF difference.\r\n\r\n## Logic Flow\r\n\r\nThe subsystem is triggered by `fc_call`, likely at a 10ms interval (`<fc_OPM_10MS>`). The processing proceeds as follows:\r\n\r\n1.  **TIM Block (X.1.2.1.1) Processing:**\r\n    *   This block takes `timer_out_tps_in`, `TPS_AV`, `TPS_GRD`, and `timer_out_maf_in` as its inputs.\r\n    *   It internally processes these inputs to manage various timers and conditions.\r\n    *   It outputs `timer_output_tps`, which is directly routed to the system output `timer_out_tps_out`. This implies a calculation or update of the TPS-related timer.\r\n    *   It outputs `LV_INH_TPS_GRD_ER_AD`, which is directly routed to the system output. This inhibition signal is likely set based on the `TPS_AV` and `TPS_GRD` values exceeding certain thresholds for specific durations, as determined by internal timer logic within the TIM block.\r\n    *   It outputs `timer_output_maf`, which is then fed as an input (named `timer_output_maf_in` at the MAX block's port) to the subsequent `MAX` block. This signifies an intermediate MAF timer state or output.\r\n\r\n2.  **MAX Block (X.1.2.1.2) Processing:**\r\n    *   This block receives `timer_output_maf` (from the TIM block), `MAF`, and `MAF_DIF` as its inputs.\r\n    *   It processes these inputs to calculate its outputs.\r\n    *   It outputs `timer_output_maf_out`. This signal passes through a `Merge` block (likely for signal routing or combining, although in this view it appears as a direct pass-through) and is then routed to the system output `timer_out_maf_out`. This indicates further processing or modification of the MAF timer from the TIM block.\r\n    *   It outputs `LV_INH_MAF_DIF_ER_AD`, which is directly routed to the system output. The behavior of this signal is explicitly detailed in Figure 29.6.7:\r\n        *   When `MAF_DIF condition` (likely derived from `MAF_DIF` input) becomes true, the inhibition flag is set high after a delay defined by `C_T_MAF_DIF_DLY_ER_AD`.\r\n        *   When `MAF_DIF condition` becomes false, a dedicated \"fadeout\" timer starts, causing `LV_INH_MAF_DIF_ER_AD` to gradually ramp down over time instead of immediately dropping, providing a smooth deactivation of the inhibition. This complex logic is implemented within the MAX block.\r\n\r\nIn summary, the diagram orchestrates the timing and logical conditions for enabling or disabling adaptive learning in an engine roughness system based on real-time sensor data and carefully timed delays and fadeout behaviors.\r\n\r\n\r\n--- Page 88 ---\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to calculate `LV_INH_TPS_GRD_ER_AD`, which is a flag indicating whether Throttle Position Sensor (TPS) gradient-based adaptive learning for engine roughness compensation should be inhibited. It also manages two internal timers: `timer_output_maf` (related to Mass Air Flow sensor conditions) and `timer_output_tps` (related to TPS conditions).\r\n\r\nThe core logic determines `LV_INH_TPS_GRD_ER_AD` based on the current TPS gradient, the throttle position, and configured delay constants, potentially delaying or prohibiting the engine roughness adaptive learning process under specific dynamic throttle conditions.\r\n\r\n## Inputs\r\n1.  **timer_maf_10ms (Scalar):** An integer input representing an elapsed time value, likely in 10ms increments, pertaining to Mass Air Flow sensor conditions.\r\n2.  **TPS_GRD (Scalar):** The current gradient (rate of change) of the Throttle Position Sensor signal.\r\n3.  **TPS_AV (Scalar):** The current average or absolute value of the Throttle Position Sensor signal.\r\n4.  **timer_tps_10ms (Scalar):** An integer input representing an elapsed time value, likely in 10ms increments, pertaining to Throttle Position Sensor conditions.\r\n5.", "mimetype": "text/plain", "start_char_idx": 200944, "end_char_idx": 204975, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c929021c-83ad-4622-907a-382b93558374": {"__data__": {"id_": "c929021c-83ad-4622-907a-382b93558374", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4c435522-b6c0-4a13-a42e-0aff9ec25740", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "061c76b27e42355b4d8c229df3a917e2f36c61d2e47a66a6625112b199e49d51", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "eabaf2d3-952f-4191-bfb3-acd9f922bc7b", "node_type": "1", "metadata": {}, "hash": "e6882e714c96551bd3c425db63a65269370c56543b81369ca1fa2618a78b495e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "2.  **TPS_GRD (Scalar):** The current gradient (rate of change) of the Throttle Position Sensor signal.\r\n3.  **TPS_AV (Scalar):** The current average or absolute value of the Throttle Position Sensor signal.\r\n4.  **timer_tps_10ms (Scalar):** An integer input representing an elapsed time value, likely in 10ms increments, pertaining to Throttle Position Sensor conditions.\r\n5.  **IP_TPS_GRD_MAX_ER_AD (2D Lookup Table):** A calibration map that defines the maximum allowable TPS gradient (`IP_val`) for engine roughness adaptive learning, based on the current `TPS_AV`.\r\n6.  **C_T_TPS_GRD_DLY_ER_AD (Constant):** A configurable constant representing a delay duration (likely in 10ms units) used in the TPS gradient inhibition logic.\r\n\r\n## Outputs\r\n1.  **timer_output_maf (Scalar):** The decremented value of the MAF-related timer. This timer counts down from an initial value and saturates at zero.\r\n2.  **LV_INH_TPS_GRD_ER_AD (Boolean/Scalar 0 or 1):** The primary output flag. A value of `1` signifies that TPS gradient-based adaptive learning should be inhibited, while `0` signifies it is permitted.\r\n3.  **timer_output_tps (Scalar):** The decremented value of the TPS-related timer. This timer counts down from an initial value and saturates at zero.\r\n\r\n## Logic Flow\r\n\r\nThe diagram processes its inputs through distinct logical paths to compute the outputs.\r\n\r\n**1. MAF Timer Calculation:**\r\n    a. The input `timer_maf_10ms` is evaluated by an `if` block.\r\n    b. **If `timer_maf_10ms > 0`:** The output of this block is `timer_maf_10ms - 1`. This effectively decrements the timer.\r\n    c. **Else (if `timer_maf_10ms <= 0`):** The output is `0`, ensuring the timer does not go below zero.\r\n    d. This resulting value is assigned to `timer_output_maf`.\r\n\r\n**2. TPS Timer Calculation:**\r\n    a. The input `timer_tps_10ms` is evaluated by an `if` block.\r\n    b. **If `timer_tps_10ms > 0`:** The output of this block is `timer_tps_10ms - 1`.\r\n    c. **Else (if `timer_tps_10ms <= 0`):** The output is `0`.\r\n    d. This resulting value is assigned to `timer_output_tps`.\r\n\r\n**3. `LV_INH_TPS_GRD_ER_AD` Inhibition Flag Calculation:**\r\n    a. **Determine Threshold Gradient:** The `TPS_AV` value is used as an input to the `IP_TPS_GRD_MAX_ER_AD` lookup table to determine `IP_val`, the maximum allowable TPS gradient for engine roughness adaptive learning at the current throttle position.\r\n    b. **Evaluate TPS Gradient Condition:** The current `TPS_GRD` is compared to `IP_val`. This comparison feeds into an `if` block:\r\n        *   **If `TPS_GRD > IP_val` (i.e., the TPS gradient is too high):** An intermediate value, let's call it `ValA`, is set to the constant `1`.\r\n        *   **Else (if `TPS_GRD <= IP_val`):** `ValA` is set to the current value of `timer_output_tps` (calculated in step 2d).\r\n    c. **Calculate Inhibition Condition:** A final condition for inhibition, `Condition_Inhibit`, is determined by comparing the constant delay `C_T_TPS_GRD_DLY_ER_AD` with `ValA`:\r\n        `Condition_Inhibit = (C_T_TPS_GRD_DLY_ER_AD - ValA) > 0`\r\n        This condition is true if `C_T_TPS_GRD_DLY_ER_AD` is greater than `ValA`.\r\n    d. **Assign `LV_INH_TPS_GRD_ER_AD`:**\r\n        *   **If `Condition_Inhibit` is true:** `LV_INH_TPS_GRD_ER_AD` is set to `1` (adaptive learning is inhibited).\r\n        *   **Else (if `Condition_Inhibit` is false):** `LV_INH_TPS_GRD_ER_AD` is set to `0` (adaptive learning is allowed).", "mimetype": "text/plain", "start_char_idx": 204599, "end_char_idx": 208023, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "eabaf2d3-952f-4191-bfb3-acd9f922bc7b": {"__data__": {"id_": "eabaf2d3-952f-4191-bfb3-acd9f922bc7b", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c929021c-83ad-4622-907a-382b93558374", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "ab6d77c4c21a59b0984f348aa80f6702437ac70924888a5c457760cb82b4d9ff", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1e15d0c1-68cf-4013-b748-df6a3c034a47", "node_type": "1", "metadata": {}, "hash": "089b0ca8fb0d489f2052dee4a4c97c79282c254ef45a07d014f8ce48c74d6320", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "d. **Assign `LV_INH_TPS_GRD_ER_AD`:**\r\n        *   **If `Condition_Inhibit` is true:** `LV_INH_TPS_GRD_ER_AD` is set to `1` (adaptive learning is inhibited).\r\n        *   **Else (if `Condition_Inhibit` is false):** `LV_INH_TPS_GRD_ER_AD` is set to `0` (adaptive learning is allowed).\r\n\r\n**Overall Interpretation for `LV_INH_TPS_GRD_ER_AD`:**\r\nThe adaptive learning is inhibited (`LV_INH_TPS_GRD_ER_AD = 1`) under two main scenarios:\r\n*   If `TPS_GRD` is excessively high (greater than `IP_val`), AND `C_T_TPS_GRD_DLY_ER_AD` is greater than `1` (implying a minimum delay requirement for inhibition).\r\n*   If `TPS_GRD` is not excessively high (less than or equal to `IP_val`), AND `timer_output_tps` is less than `C_T_TPS_GRD_DLY_ER_AD`. This implies that inhibition persists until `timer_output_tps` has counted down to a value less than or equal to `C_T_TPS_GRD_DLY_ER_AD`, acting as a post-event delay or a minimum time since the condition was last met.\r\n\r\n\r\n--- Page 89 ---\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to calculate the `LV_INH_MAF_DIF_ER_AD` flag. This flag indicates whether the Mass Air Flow (MAF) difference-based Engine Roughness (ER) adaptation should be inhibited. The inhibition logic is triggered if the absolute MAF difference exceeds a calibrated maximum threshold, and it remains active for a specified delay period even after the MAF difference returns to an acceptable range. This mechanism likely prevents erroneous adaptation during transient MAF conditions.\r\n\r\n## Inputs\r\n\r\n*   **MAF (port 2):** The current Mass Air Flow value, used as an input to a look-up table.\r\n*   **MAF_DIF (port 3):** The calculated Mass Air Flow difference, whose absolute value is evaluated against a threshold.\r\n*   **IP_MAF_DIF_MAX_ER_AD (V.6.4):** A 1D Look-Up Table (LUT) that provides the maximum allowable MAF difference for ER adaptation, indexed by the `MAF` input.\r\n*   **timer_output_maf_in (port 1):** The current state (value) of an internal timer, typically representing a countdown or accumulated time.\r\n*   **C_T_MAF_DIF_DLY_ER_AD (V.6.4):** A calibration constant representing the delay time for which the ER adaptation inhibition should persist after the MAF difference condition is no longer met.\r\n\r\n## Outputs\r\n\r\n*   **LV_INH_MAF_DIF_ER_AD (port 2):** A boolean flag (0 or 1) indicating if the MAF difference ER adaptation should be inhibited (1 for inhibited, 0 for not inhibited).\r\n*   **timer_output_maf_out (port 1):** The updated state (value) of the internal timer, which is typically fed back as `timer_output_maf_in` in the next execution step.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the diagram can be broken down into the following steps:\r\n\r\n1.  **Determine Maximum Allowed MAF Difference (`x_val`):**\r\n    *   The `MAF` input (port 2) is used as an index for the `IP_MAF_DIF_MAX_ER_AD` 1D Look-Up Table.\r\n    *   The LUT outputs `x_val`, which is the maximum permissible absolute MAF difference for the current `MAF` operating point.\r\n\r\n2.  **Calculate Absolute MAF Difference and Compare:**\r\n    *   The `MAF_DIF` input (port 3) is passed through an `Abs` (absolute value) block (V.5.5).\r\n    *   The absolute `MAF_DIF` is then compared with `x_val` using a `>` (greater than) relational operator (V.6.0). The result of this comparison (`cond_if`) is a boolean value.\r\n\r\n3.  **Conditional Inhibition and Timer Management (If-Else Block):**\r\n    *   The `cond_if` boolean determines the path within the main `If-Else` block.\r\n\r\n    *   **If `cond_if` is TRUE (i.e., `abs(MAF_DIF)` > `x_val`):**\r\n        *   This means the MAF difference is excessively large.", "mimetype": "text/plain", "start_char_idx": 207740, "end_char_idx": 211364, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1e15d0c1-68cf-4013-b748-df6a3c034a47": {"__data__": {"id_": "1e15d0c1-68cf-4013-b748-df6a3c034a47", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "eabaf2d3-952f-4191-bfb3-acd9f922bc7b", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "f1015471d52a9df0b967f0f708d25038ca9348c1c9e41d03c25a3dfd6b48558a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4284a2ab-ee83-4efc-b537-640c4b02bca9", "node_type": "1", "metadata": {}, "hash": "9f5a68b96ac52af518ce4379d0d5e4132a61f19757b39308c6eefe0efaff3e0b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The result of this comparison (`cond_if`) is a boolean value.\r\n\r\n3.  **Conditional Inhibition and Timer Management (If-Else Block):**\r\n    *   The `cond_if` boolean determines the path within the main `If-Else` block.\r\n\r\n    *   **If `cond_if` is TRUE (i.e., `abs(MAF_DIF)` > `x_val`):**\r\n        *   This means the MAF difference is excessively large.\r\n        *   The system is instructed to inhibit ER adaptation, so a value of `1` (constant, V.6.4) is selected for the inhibition status.\r\n        *   The timer is reset or initialized with the calibrated delay `C_T_MAF_DIF_DLY_ER_AD`.\r\n        *   These two values (`1` and `C_T_MAF_DIF_DLY_ER_AD`) are passed to the \"Timer Logic Block\" (V.5.2).\r\n\r\n    *   **Else (`cond_if` is FALSE, i.e., `abs(MAF_DIF)` <= `x_val`):**\r\n        *   This means the MAF difference is within acceptable limits.\r\n        *   A nested condition then checks if the current timer input `timer_output_maf_in` is greater than zero (`> 0` operator, V.6.0). This determines if a previously triggered inhibition delay is still active.\r\n        *   **If `timer_output_maf_in > 0` (timer is still active):**\r\n            *   ER adaptation remains inhibited, so `1` (constant, V.6.4) is selected for the inhibition status.\r\n            *   The timer continues counting down from its current value (`timer_output_maf_in`).\r\n            *   These two values (`1` and `timer_output_maf_in`) are passed to the \"Timer Logic Block\" (V.5.2).\r\n        *   **Else (`timer_output_maf_in <= 0`, timer has expired or was not active):**\r\n            *   ER adaptation is no longer inhibited, so `0` (constant, V.6.4) is selected for the inhibition status.\r\n            *   The timer is reset to zero, so `0` (constant, V.6.4) is selected for the timer value.\r\n            *   These two values (`0` and `0`) are passed to the \"Timer Logic Block\" (V.5.2).\r\n\r\n4.  **Timer Logic Block (V.5.2) and Output Generation:**\r\n    *   The \"Timer Logic Block\" (V.5.2), likely a custom subsystem or a stateful block, receives the inhibition status (0 or 1) and the desired timer value (either a delay constant, the previous timer value, or zero) from the `If-Else` logic.\r\n    *   It processes these inputs to manage its internal timer state (e.g., counting down if a positive value is provided).\r\n    *   It outputs the final inhibition flag, `LV_INH_MAF_DIF_ER_AD`, to a `Merge` block. The `Merge` block ensures that the correct inhibition flag from the active branch of the `If-Else` logic is selected as the output.\r\n    *   It also outputs the updated timer value, `timer_output_maf_out`, which will serve as the input for the timer in the subsequent execution cycle.\r\n\r\nIn summary, the `LV_INH_MAF_DIF_ER_AD` flag is set to `1` (inhibit) if the MAF difference is excessive, or if it was excessive and the specified delay period (`C_T_MAF_DIF_DLY_ER_AD`) has not yet elapsed. Once both conditions are cleared, the flag returns to `0` (no inhibition).\r\n\r\n\r\n--- Page 90 ---\r\n\r\nThis image contains two Simulink diagrams. The first, Figure 29.612, depicts a higher-level system for an \"Engine roughness adaptive learning process.\" The second, Figure 29.613, labeled \"Timer calculation,\" provides the detailed logic for a specific timer component used within the overall system.\r\n\r\n## Function\r\n\r\n**Figure 29.612 (Overall System):**\r\nThe primary function of this system is to manage timing and error conditions for an \"Engine roughness adaptive learning process.\" It monitors various load and error mismatch signals, calculates a maximum error, and uses this, along with timing signals, to control a \"Timer Interaction Module\" which likely influences or inhibits the adaptive learning based on system stability and operational time.\r\n\r\n**Figure 29.613 (Timer Calculation):**\r\nThis sub-system's primary function is to implement a simple countdown timer.", "mimetype": "text/plain", "start_char_idx": 211012, "end_char_idx": 214862, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4284a2ab-ee83-4efc-b537-640c4b02bca9": {"__data__": {"id_": "4284a2ab-ee83-4efc-b537-640c4b02bca9", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1e15d0c1-68cf-4013-b748-df6a3c034a47", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "c6a4c64e2d3be645d72b4b414b06109b6deb1d0cebd9c454269c007fed0eda22", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "188ccd05-80e1-4a91-8bf7-650c76449324", "node_type": "1", "metadata": {}, "hash": "e087449747b7c5d9f514263d3dd14a7658c7035b4924184e0f0c34046231af0e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "It monitors various load and error mismatch signals, calculates a maximum error, and uses this, along with timing signals, to control a \"Timer Interaction Module\" which likely influences or inhibits the adaptive learning based on system stability and operational time.\r\n\r\n**Figure 29.613 (Timer Calculation):**\r\nThis sub-system's primary function is to implement a simple countdown timer. It decrements an input timer value by one unit per call (likely every 10ms, as suggested by `timer_in_10ms`) until it reaches zero, where it then holds at zero.\r\n\r\n---\r\n\r\n## Inputs\r\n\r\n**Figure 29.612 (Overall System):**\r\n*   **`fc_call`**: A trigger signal to activate the timer generation (top-left `f(x)` block). This is likely a function call occurring at a specific frequency (e.g., every 10ms or per segment, indicated by `<fc_OPM_10MS>` and `<fc_OPM_SEG>`).\r\n*   **`timer_output_in`**: An input to the `TIM` block, potentially an external timer value or a re-trigger value.\r\n*   **`LOAD_GRD_MIS`**: A signal representing a load gradient mismatch, an input to the `MAX` block.\r\n*   **`LOAD_MIS`**: A signal representing a load mismatch, another input to the `MAX` block.\r\n*   **`lv_inh_maf_dif_er_ad`**: A signal representing a mass airflow difference error (adapted inhibition), another input to the `MAX` block.\r\n\r\n**Figure 29.613 (Timer Calculation):**\r\n*   **`timer_in_10ms`**: The current timer value, which is decremented by the logic. This is typically a state variable that represents the time remaining in 10ms units.\r\n\r\n---\r\n\r\n## Outputs\r\n\r\n**Figure 29.612 (Overall System):**\r\n*   **`timer_output`**: The output of the main timer generation block (top-left `f(x)`), representing the result of the timer calculation (as detailed in Figure 29.613).\r\n*   **`timer_output_out`**: The output from the `TIM` block (Timer Interaction Module), which likely represents a processed timer value or a status signal derived from its internal logic and inputs.\r\n*   **`LV_INH_LOAD_GRD_MAX_ER_AD`**: The maximum of the three input error/mismatch signals, signifying a critical error condition. This is likely an adaptation inhibition flag.\r\n*   **Unnamed output from `Merge` block**: A combined signal from `timer_in_10ms` and `timer_output_out` for further downstream processing.\r\n\r\n**Figure 29.613 (Timer Calculation):**\r\n*   **`timer_output`**: The calculated timer value after decrementing, capped at zero.\r\n\r\n---\r\n\r\n## Logic Flow\r\n\r\n**Figure 29.612 (Overall System):**\r\n\r\n1.  **Timer Generation:** A function call (`fc_call`), potentially on a 10ms or segment basis (`<fc_OPM_10MS>`, `<fc_OPM_SEG>`), triggers the top-left `f(x)` block. This block internally manages the timer. It outputs `timer_in_10ms` (likely the current timer count) and `timer_output` (the result of the timer calculation, as described in Figure 29.613).\r\n2.  **Maximum Error Calculation:** The `MAX` block (X.1.2.2.2) continuously calculates the maximum value among `LOAD_GRD_MIS`, `LOAD_MIS`, and `lv_inh_maf_dif_er_ad`. The result is `LV_INH_LOAD_GRD_MAX_ER_AD`. This signal represents the most severe of the monitored load/error mismatches.\r\n3.  **Timer Interaction Module (TIM):** The `TIM` block (X.1.2.2.1) receives several inputs:\r\n    *   `timer_in_10ms`: The current timer count from the main timer.\r\n    *   `timer_output_in`: Another timer input, possibly for resetting or presetting the timer.\r\n    *   `LV_INH_LOAD_GRD_MAX_ER_AD`: The calculated maximum error.\r\n    This module processes these inputs to produce `timer_output_out`. The feedback of `LV_INH_LOAD_GRD_MAX_ER_AD` to `TIM` suggests that severe errors might inhibit, reset, or modify the timer's behavior, potentially pausing or preventing adaptive learning under unstable conditions.\r\n4.  **Signal Merging:** A `Merge` block combines `timer_in_10ms` (from the main timer) and `timer_output_out` (from the `TIM` block). This merged output would then be passed to other parts of the adaptive learning system.", "mimetype": "text/plain", "start_char_idx": 214474, "end_char_idx": 218423, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "188ccd05-80e1-4a91-8bf7-650c76449324": {"__data__": {"id_": "188ccd05-80e1-4a91-8bf7-650c76449324", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4284a2ab-ee83-4efc-b537-640c4b02bca9", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "d6d1cf080599ca95ade414461d97c7f886ef9d210dfc0f528370eeb94c599cdc", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b67226ed-f7fb-4626-8622-c5d1fc9e79b0", "node_type": "1", "metadata": {}, "hash": "14226d9cec216cc9200888ececd88dd6aa3f34277343fdf68a1929ff826d4644", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "4.  **Signal Merging:** A `Merge` block combines `timer_in_10ms` (from the main timer) and `timer_output_out` (from the `TIM` block). This merged output would then be passed to other parts of the adaptive learning system.\r\n\r\n**Figure 29.613 (Timer Calculation):**\r\n\r\n1.  **Condition Check:** The input `timer_in_10ms` is compared with `0` using a `>` (Greater Than) block (V.6.0). The output `cond_if` is true if `timer_in_10ms > 0` and false otherwise.\r\n2.  **Conditional Execution (If-Else Logic):** An `If` block uses `cond_if` to select between two paths:\r\n    *   **If `timer_in_10ms > 0` (True branch):**\r\n        *   The value `1` (V.6.4) is subtracted from `timer_in_10ms` using a `-` (Subtract) block (V.6.7).\r\n        *   The result of this subtraction (V.5.2) becomes the `timer_output`.\r\n    *   **Else (`timer_in_10ms <= 0`, False branch):**\r\n        *   The `timer_output` is set to `0` (implied by the `0` constant connected to the `If` block for its `else` path).\r\n3.  **Output:** The calculated `timer_output` is provided as the final result of the timer calculation. This essentially creates a decrementing counter that stops at zero.\r\n\r\n\r\n--- Page 91 ---\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram (Figure 29.6.14) is to calculate a boolean inhibition flag (`lv_inh_maf_dif_er_ad`) and manage an associated timer (`timer_output_out`). This system likely inhibits engine roughness adaptation related to mass airflow (MAF) differences when specific load gradient mismatch conditions are met for a sustained period, or it immediately resets the timer upon condition fulfillment. The name `LV_INH_MAF_DIF_ER_AD` suggests \"Load Variable - Inhibit Mass Airflow Difference Engine Roughness Adaptation\".\r\n\r\n## Inputs\r\n\r\n1.  **`LOAD_GRD_MIS`**: A boolean or numerical signal representing a load gradient mismatch.\r\n2.  **`x_val`**: An input variable (e.g., engine speed, load) used as the independent variable for the lookup table.\r\n3.  **`IP_LOAD_GRD_ER_AD`**: A 1D lookup table (calibration map) that defines a dynamic threshold value (`IP_val`) based on `x_val`.\r\n4.  **`timer_output_in`**: The current (or previous cycle's) value of the internal timer, used as feedback.\r\n5.  **`C_T_LOAD_GRD_DLY_ER_AD`**: A calibrated time constant, serving as a delay threshold for the timer.\r\n\r\n## Outputs\r\n\r\n1.  **`lv_inh_maf_dif_er_ad`**: A boolean flag (1 or 0) indicating whether the MAF difference engine roughness adaptation should be inhibited.\r\n2.  **`timer_output_out`**: The updated value of the internal timer. This timer likely counts up when the inhibition condition is not met and resets when it is met.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the diagram (Figure 29.6.14) can be described step-by-step:\r\n\r\n1.  **Threshold Determination:** The input `x_val` is fed into the `IP_LOAD_GRD_ER_AD` 1D lookup table. This table outputs `IP_val`, a dynamic threshold value.\r\n2.  **Condition 1 Evaluation (Load Mismatch Check):** The `LOAD_GRD_MIS` signal is compared against the calculated `IP_val` using a \"greater than\" (`>`) block. If `LOAD_GRD_MIS` is greater than `IP_val`, this condition (`C1`) is true.\r\n3.  **Condition 2 Evaluation (Timer Delay Check):** The current timer value `timer_output_in` is compared against the calibrated delay time `C_T_LOAD_GRD_DLY_ER_AD` using another \"greater than\" (`>`) block. If `timer_output_in` is greater than `C_T_LOAD_GRD_DLY_ER_AD`, this condition (`C2`) is true.\r\n4.  **If-Else Decision (`cond_if`):** Both boolean results (`C1` and `C2`) are fed into the `cond_if` block. This block evaluates these conditions (likely an AND or OR logical combination internally) to determine its output and control the subsequent logic.", "mimetype": "text/plain", "start_char_idx": 218202, "end_char_idx": 221900, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b67226ed-f7fb-4626-8622-c5d1fc9e79b0": {"__data__": {"id_": "b67226ed-f7fb-4626-8622-c5d1fc9e79b0", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "188ccd05-80e1-4a91-8bf7-650c76449324", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "0d3c728dbeaa9d5aae77a600295d7ad111b1f2fb215a2f8d5713792fed3d4d54", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ec0b900a-d7a9-4b03-b90e-9a6db0512839", "node_type": "1", "metadata": {}, "hash": "586a57efc8d9e3e23cec314d0f8e192ffee63a1a21abd42858487f7da804b87a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "If `timer_output_in` is greater than `C_T_LOAD_GRD_DLY_ER_AD`, this condition (`C2`) is true.\r\n4.  **If-Else Decision (`cond_if`):** Both boolean results (`C1` and `C2`) are fed into the `cond_if` block. This block evaluates these conditions (likely an AND or OR logical combination internally) to determine its output and control the subsequent logic.\r\n    *   **If the combined condition is TRUE (e.g., both C1 and C2 are true):**\r\n        *   The `cond_if` block's output (implicitly `1`) is directed towards the top path of the `Merge` block, becoming the value for `lv_inh_maf_dif_er_ad` after passing through a `V.5.2` block (likely a unit delay or memory element to latch the state).\r\n        *   The timer (`timer_output_out`) is reset to `0`. This `0` comes from a constant block, passes through a `V.5.2` block, and then to the `Merge` block, overriding the incrementing path.\r\n    *   **If the combined condition is FALSE:**\r\n        *   The `cond_if` block's output (implicitly `0`) is directed towards the top path of the `Merge` block, making `lv_inh_maf_dif_er_ad` `0` (no inhibition) after passing through the `V.5.2` block.\r\n        *   The timer (`timer_output_out`) is incremented. The `timer_output_in` value, along with a constant `1`, passes through a `V.5.2` block, and then to the `Merge` block, effectively incrementing the timer for the next cycle.\r\n5.  **Output Latching and Merging:** The `V.5.2` blocks act as memory elements or unit delays, holding the calculated inhibition state and the timer value. The `Merge` block then selects the appropriate value for `lv_inh_maf_dif_er_ad` (either 1 or 0) and `timer_output_out` (either 0 or the incremented value) based on the `cond_if` decision, thereby closing the feedback loop for the timer.\r\n\r\nIn summary, this system activates an inhibition (`lv_inh_maf_dif_er_ad = 1`) and resets a timer when a load gradient mismatch exceeds a threshold AND a calibrated delay time has passed. Otherwise, the inhibition is inactive (`lv_inh_maf_dif_er_ad = 0`), and the timer continues to increment.\r\n\r\n\r\n--- Page 93 ---\r\n\r\nThe image provided is a Simulink diagram.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to implement an \"Engine roughness adaptive learning process\" (ENRD) with a segmentation mechanism. It manages different operational phases\u2014specifically initialization and core segmentation processing\u2014based on system events and input conditions. The goal is to produce an adaptively learned engine roughness segmentation output, potentially considering End-Of-Life (EOL) factors, for an automotive system.\r\n\r\n## Inputs\r\n\r\nThe key inputs to this system, primarily from the \"Input\" block and external connections, are:\r\n\r\n*   `sys_eve`: A system event or clock trigger signal.\r\n*   `<END_ER_SEG_RST>`: A reset signal for the engine roughness segmentation process.\r\n*   `<END_ER_SEG_SEG>`: A signal to advance or trigger a new segment within the recurrence block, indicating progression in the segmentation process.\r\n*   `<LV_ENA_SEG_T_MES>`: A logical signal (0 or 1) that controls the activation (1) or deactivation (0) of the time-based measurement segmentation within the Recurrence block.\r\n*   `<LV_EOL_OBD>`: Status related to End-Of-Life (EOL) On-Board Diagnostics.\r\n*   `<LV_INJ_CUT>`: Status indicating if an injector cut is active.\r\n*   `<N_32>`: Engine speed, likely scaled or normalized (e.g., Engine RPM divided by 32).\r\n*   `<DRV1_ER>`: Engine roughness value from Driver 1.\r\n*   `<SEG_NR_MES>`: The measured segment number.\r\n*   `<LV_CVT>`: Status or control signal related to the Continuously Variable Transmission.\r\n*   `<LV_DCT>`: Status or control signal related to the Dual-Clutch Transmission.\r\n\r\n## Outputs\r\n\r\nThe key outputs of this system are:\r\n\r\n*   `end_er_seg`: A status flag indicating the completion or current state of the engine roughness segmentation process. This signal appears in two locations, suggesting it's a critical status indicator.", "mimetype": "text/plain", "start_char_idx": 221548, "end_char_idx": 225515, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ec0b900a-d7a9-4b03-b90e-9a6db0512839": {"__data__": {"id_": "ec0b900a-d7a9-4b03-b90e-9a6db0512839", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b67226ed-f7fb-4626-8622-c5d1fc9e79b0", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "94460396bf420bdabf23be183d7bddeb78f77488fda65a293ec640c7b821197d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d6de6838-02aa-4d66-aa11-e437096e6c7b", "node_type": "1", "metadata": {}, "hash": "f8faccb6416ba3f3609ecaf3c6fddfb784a1a630d7a3d22c372f6c2b7ea1bf20", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `<LV_CVT>`: Status or control signal related to the Continuously Variable Transmission.\r\n*   `<LV_DCT>`: Status or control signal related to the Dual-Clutch Transmission.\r\n\r\n## Outputs\r\n\r\nThe key outputs of this system are:\r\n\r\n*   `end_er_seg`: A status flag indicating the completion or current state of the engine roughness segmentation process. This signal appears in two locations, suggesting it's a critical status indicator.\r\n*   `<LV_SEG_AD_FDOUT_ER_EOL>`: The primary output of the system. This signal represents the final, adaptively learned and segmented engine roughness value, potentially incorporating adjustments for End-Of-Life conditions.\r\n*   `ini` (from Figure 29.618): An initialization value or signal that is internally passed to the main processing logic during specific initialization phases.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the system can be described in the following steps:\r\n\r\n1.  **State and Recurrence Management:**\r\n    *   The `sys_eve` signal acts as a primary trigger for the \"Recurrence\" block.\r\n    *   The \"Recurrence\" block functions as a state machine or scheduler for the engine roughness segmentation process. It can be explicitly reset by `<END_ER_SEG_RST>` and triggered or advanced by `<END_ER_SEG_SEG>`.\r\n    *   Its activation and deactivation are dynamically controlled by the `<LV_ENA_SEG_T_MES>` input. When this signal is `1`, the segment logic is active; when `0`, it's deactivated.\r\n    *   Based on its internal state transitions and the input `LV_ENA_SEG_T_MES`, the Recurrence block generates two crucial control signals:\r\n        *   `fc_INI`: A \"force initialize\" signal, indicating that initialization procedures should be active.\r\n        *   `fc_OPM`: A \"force operate\" or \"force process\" signal, indicating that the main operational segmentation logic should be active.\r\n\r\n2.  **Input Data Acquisition:**\r\n    *   A dedicated \"Input\" block gathers a comprehensive set of real-time sensor data and system status signals, including engine parameters (`N_32`, `DRV1_ER`), transmission states (`LV_CVT`, `LV_DCT`), and diagnostic information (`LV_EOL_OBD`, `LV_INJ_CUT`), along with the segmentation control `LV_ENA_SEG_T_MES` and `SEG_NR_MES`. These are bundled into a bus.\r\n\r\n3.  **Initialization Logic (INI X.2.1 and Figure 29.618):**\r\n    *   The `INI X.2.1` block is enabled and controlled by the `fc_INI` signal from the Recurrence block. It also receives a generic `f()` input (likely a function trigger or input data).\r\n    *   Figure 29.618 explicitly illustrates the initialization procedure: During a specific initialization phase (when `fc_INI` is active), the signal `<LV_SEG_AD_FDOUT_ER_EOL>` is initialized to a constant value (e.g., `1`). This initialized value is then propagated as the `ini` signal, which feeds back into the main diagram, likely to provide initial conditions for the \"BusMerge\" or other processing blocks.\r\n\r\n4.  **Operational Segmentation Logic (OPM_SEG X.2.2):**\r\n    *   This block, responsible for the core \"adaptive learning,\" is enabled and controlled by the `fc_OPM` signal from the Recurrence block.\r\n    *   It takes in a generic `f()` input, `opm_seg` (likely segment-specific data extracted or derived from the main input bus), and a `feedback` signal (which could be internal state, historical data, or a processed signal from a previous iteration, also originating from the BusMerge or input bus).\r\n    *   Within this block, the engine roughness adaptive learning and segmentation calculations are performed, processing the gathered input data and utilizing feedback for adaptive adjustments.\r\n\r\n5.  **Data Merging and Final Output Generation (BusMerge V.6.0):**\r\n    *   The \"BusMerge\" block consolidates various data streams: the raw input signals, the `ini` signal from the initialization path, and the `opm_seg` and `feedback` signals (which are processed outputs from `OPM_SEG X.2.2` or passed-through values).\r\n    *   The output of this `BusMerge` is the principal system output: `<LV_SEG_AD_FDOUT_ER_EOL>`. This signal represents the final, adaptively learned, and segmented engine roughness value, potentially adjusted for End-Of-Life conditions, ready for use by other vehicle control or diagnostic systems.\r\n\r\n6.", "mimetype": "text/plain", "start_char_idx": 225081, "end_char_idx": 229321, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d6de6838-02aa-4d66-aa11-e437096e6c7b": {"__data__": {"id_": "d6de6838-02aa-4d66-aa11-e437096e6c7b", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ec0b900a-d7a9-4b03-b90e-9a6db0512839", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "6c27701579cf441faef71023537a5ee05620c7a6232b3a1499af354270fbc69d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d7d60140-b7a0-4f98-b059-4a3af29bb45a", "node_type": "1", "metadata": {}, "hash": "f9fbbbc139c7dd9b6804628c1d93fba37dd2d5b35d6bcf94e91a2b48971ee9c6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The output of this `BusMerge` is the principal system output: `<LV_SEG_AD_FDOUT_ER_EOL>`. This signal represents the final, adaptively learned, and segmented engine roughness value, potentially adjusted for End-Of-Life conditions, ready for use by other vehicle control or diagnostic systems.\r\n\r\n6.  **Status Indication:**\r\n    *   The `end_er_seg` signal is a status output indicating the completion or current state of the engine roughness segmentation. It is connected both from the main output `<LV_SEG_AD_FDOUT_ER_EOL>` and directly from the Recurrence block, signifying its role as a key status or completion flag for the overall process.\r\n\r\nThis modular and state-driven architecture allows the system to precisely control when adaptive learning and segmentation are active, how they are initialized, and how they respond to various engine and transmission operating conditions.\r\n\r\n\r\n--- Page 95 ---\r\n\r\nThe provided image contains two Simulink-like diagrams (Figure 29.6.20 and Figure 29.6.21) which are typical representations of control logic used in automotive embedded systems, often generated by tools like Simulink or TargetLink.\r\n\r\n## Function\r\nThese diagrams are part of an \"Engine Roughness Adaptive Learning Process,\" specifically for End-Of-Line (EOL) procedures. Their primary function is to calculate and set boolean flags that indicate whether specific engine segments or conditions should lead to the *exclusion* of a segment from EOL adaptive learning. In essence, they filter out segments that are deemed unsuitable or not requiring adaptation for injection-related issues or engine roughness, based on various parameters and predefined thresholds.\r\n\r\n## Inputs\r\nThe key inputs for these two calculation blocks are:\r\n\r\n*   **`nb_seg_not_inj_eol_in`**: (Boolean/Integer) An initial or prior status flag for \"not (for) injection EOL.\"\r\n*   **`SEG_NR_MES`**: (Integer) The measured engine segment number.\r\n*   **`C_NR_SEG_AD_ACT_MIN_ER_EOL`**: (Calibrated Constant) A minimum segment number required for adaptive activity related to engine roughness (ER) at EOL.\r\n*   **`LV_INJ_CUT`**: (Boolean) A flag indicating if low-voltage injection is cut.\r\n*   **`nb_seg_drv1_er_eol_in`**: (Boolean/Integer) An initial or prior status flag for \"not (for) DRV1 ER EOL.\" (Note: this input is also used as a numerical value for comparison in the DRV1 calculation).\r\n*   **`C_NR_SEG_DRV1_MIN_ER_EOL`**: (Calibrated Constant) A minimum segment number constant specific to DRV1 (Drive 1 / Derivative 1) ER EOL adaptation.\r\n*   **`DRV1_ER`**: (Numeric) The measured or calculated Engine Roughness value for DRV1.\r\n*   **`C_DRV1_MAX_SEG_AD_ER_EOL`**: (Calibrated Constant) A maximum threshold for DRV1 ER, below which adaptation is considered unnecessary or excluded.\r\n\r\n## Outputs\r\nThe key outputs of these calculation blocks are:\r\n\r\n*   **`nb_seg_not_inj_eol_out`**: (Boolean) A flag indicating `1` (true) if the current segment should be excluded from injection-related EOL adaptation, and `0` (false) otherwise.\r\n*   **`nb_seg_drv1_er_eol_out`**: (Boolean) A flag indicating `1` (true) if the DRV1 segment should be excluded from Engine Roughness EOL adaptation, and `0` (false) otherwise.\r\n\r\n## Logic Flow\r\n\r\nThe logic flow is described for each diagram separately, as they represent distinct, though related, calculations. The T-shaped blocks with \"Check ~= 0\" or \"Check = 0\" are typically conditional selector blocks (like a switch/mux), which output `1` if the input condition is true (non-zero) and `0` if false (zero). The sum blocks followed by a `> 0` comparison effectively act as a logical `OR` gate for binary inputs, producing `1` if any input is `1`.\r\n\r\n### Diagram 1: 29.6.2.2.1.1 Calculation based on LV_INJ_CUT (Figure 29.6.20)\r\n\r\nThis diagram calculates `nb_seg_not_inj_eol_out` based on several conditions that would warrant excluding a segment from injection EOL adaptation.\r\n\r\n1.  **Segment Number Range Check:**\r\n    *   It checks if `SEG_NR_MES` is equal to `0`.\r\n    *   It also checks if `SEG_NR_MES` is greater than `1`.\r\n    *   The results of these two comparisons are combined using a logical `OR` operation.", "mimetype": "text/plain", "start_char_idx": 229019, "end_char_idx": 233167, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d7d60140-b7a0-4f98-b059-4a3af29bb45a": {"__data__": {"id_": "d7d60140-b7a0-4f98-b059-4a3af29bb45a", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d6de6838-02aa-4d66-aa11-e437096e6c7b", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "46b360a83354d76864423092ee963fddbd7e77d226d2899128ba523699dba0b8", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0892871a-b3f6-4577-9620-b2528d1c32eb", "node_type": "1", "metadata": {}, "hash": "d2111a888d0aac186399c7df55b58aa602fa84906e71e4184e7740eb487428dd", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "1.  **Segment Number Range Check:**\r\n    *   It checks if `SEG_NR_MES` is equal to `0`.\r\n    *   It also checks if `SEG_NR_MES` is greater than `1`.\r\n    *   The results of these two comparisons are combined using a logical `OR` operation. If `SEG_NR_MES` is `0` OR `SEG_NR_MES` is `> 1`, this condition is true (`1`). This output passes through a conditional selector.\r\n\r\n2.  **Adaptive Minimum Segment Number Check:**\r\n    *   It checks if `SEG_NR_MES` is less than the constant `C_NR_SEG_AD_ACT_MIN_ER_EOL`. If true, this condition yields `1`. This output also passes through a conditional selector.\r\n\r\n3.  **Injection Cut Flag Check:**\r\n    *   The `LV_INJ_CUT` flag is directly evaluated. If `LV_INJ_CUT` is true (`1`), this condition yields `1`. This output also passes through a conditional selector.\r\n\r\n4.  **Combine Exclusion Conditions:**\r\n    *   The initial `nb_seg_not_inj_eol_in` flag is added to the results (`1` or `0`) of the three checks described above (Segment Number Range, Adaptive Minimum Segment Number, and Injection Cut Flag).\r\n    *   The sum of these four boolean (0 or 1) values is then compared to `0`. If the sum is greater than `0` (meaning at least one of the inputs was `1`), then `nb_seg_not_inj_eol_out` is set to `1`. Otherwise, it's `0`.\r\n    *   **Result:** `nb_seg_not_inj_eol_out` becomes `1` if `nb_seg_not_inj_eol_in` is already `1`, OR if `SEG_NR_MES` is `0` or `> 1`, OR if `SEG_NR_MES` is less than `C_NR_SEG_AD_ACT_MIN_ER_EOL`, OR if `LV_INJ_CUT` is `1`.\r\n\r\n### Diagram 2: 29.6.2.2.1.2 NB_SEG_DRV1_ER_EOL calculation (Figure 29.6.21)\r\n\r\nThis diagram calculates `nb_seg_drv1_er_eol_out` based on conditions that would warrant excluding the DRV1 segment from ER EOL adaptation.\r\n\r\n1.  **DRV1 Segment/Index Minimum Check:**\r\n    *   The constant `C_NR_SEG_DRV1_MIN_ER_EOL` is incremented by `1`.\r\n    *   It then checks if the input `nb_seg_drv1_er_eol_in` (which in this context appears to be treated as a segment number or index for comparison) is less than this calculated value (`C_NR_SEG_DRV1_MIN_ER_EOL + 1`). If true, this condition yields `1`. This output passes through a conditional selector.\r\n\r\n2.  **DRV1 Engine Roughness (ER) Limit Check:**\r\n    *   It checks if the measured `DRV1_ER` value is less than the constant `C_DRV1_MAX_SEG_AD_ER_EOL`. If `DRV1_ER` is below this \"maximum segment adaptive\" threshold, it implies the roughness is already low enough that adaptation is not needed, so this condition yields `1` for exclusion. This output also passes through a conditional selector.\r\n\r\n3.  **Combine Exclusion Conditions:**\r\n    *   The initial `nb_seg_drv1_er_eol_in` flag (prior status) is added to the results (`1` or `0`) of the two checks described above (DRV1 Segment/Index Minimum and DRV1 ER Limit).\r\n    *   The sum of these three boolean (0 or 1) values is then compared to `0`. If the sum is greater than `0`, then `nb_seg_drv1_er_eol_out` is set to `1`. Otherwise, it's `0`.\r\n    *   **Result:** `nb_seg_drv1_er_eol_out` becomes `1` if `nb_seg_drv1_er_eol_in` is already `1`, OR if `nb_seg_drv1_er_eol_in` is less than `(C_NR_SEG_DRV1_MIN_ER_EOL + 1)`, OR if `DRV1_ER` is less than `C_DRV1_MAX_SEG_AD_ER_EOL`.\r\n\r\n\r\n--- Page 96 ---\r\n\r\nThis image is a conceptual block diagram representing a system for engine roughness adaptive learning, which is commonly depicted in a Simulink-like fashion for automotive control system design.", "mimetype": "text/plain", "start_char_idx": 232928, "end_char_idx": 236331, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0892871a-b3f6-4577-9620-b2528d1c32eb": {"__data__": {"id_": "0892871a-b3f6-4577-9620-b2528d1c32eb", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d7d60140-b7a0-4f98-b059-4a3af29bb45a", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "9f7303753061fdc15c5ca79374d4971dda317d14f5d75c22aa9f9c2b0d5e1dad", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f7d84e44-5e97-436d-98fc-7ca0cbc961e0", "node_type": "1", "metadata": {}, "hash": "2a09b0de2358ff14fb41357e03e1ac7b3dbcdce0ad8165e49a16f1d782ba200f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "--- Page 96 ---\r\n\r\nThis image is a conceptual block diagram representing a system for engine roughness adaptive learning, which is commonly depicted in a Simulink-like fashion for automotive control system design. It is not a direct screenshot of a Simulink model with specific block types and colors, but its structure and naming conventions align with Simulink-style representations of control logic.\r\n\r\n## Function\r\nThe primary function of this system is to implement an \"Engine Roughness Adaptive Learning Process\" (ENRD). It manages and updates specific \"segment adaptation multi-measurement values\" (SEG_AD_MMV_ER) for engine roughness across different engine speed ranges: High, Mid, Low, and Very Low. The goal is to continuously adapt these roughness compensation values based on engine operation, ensuring optimal engine performance and reducing roughness, potentially within specific calibration limits and considering various engine conditions (like drivetrain oscillations at very low speeds).\r\n\r\n## Inputs\r\nWhile the diagram doesn't explicitly show input blocks (like Simulink 'In1' ports), the following inputs are inferred from the block names, arrows, and accompanying text:\r\n\r\n1.  **Engine Speed Information (Implicit):** Used to determine the active engine speed range (High, Mid, Low, Very Low) for adaptation.\r\n2.  **Raw Engine Roughness Measurements (Implicit):** The actual roughness data from the engine that drives the adaptation process for each `SEG_AD_MMV_ER_X` value.\r\n3.  **Adaptation Maximum Limits (Constants/Parameters):**\r\n    *   `C_N_MAX_H_SEG_AD_ER`: Upper bound for the High speed roughness segment.\r\n    *   `C_N_MAX_MID_SEG_AD_ER`: Upper bound for the Mid speed roughness segment.\r\n    *   `C_N_MAX_L_SEG_AD_ER`: Upper bound for the Low speed roughness segment.\r\n4.  **Adaptation Minimum Limits (Constants/Parameters):**\r\n    *   `C_N_MIN_L_SEG_AD_ER`: Lower bound for the Low speed roughness segment.\r\n    *   `C_N_MIN_LOW_SEG_AD_ER`: Lower bound for the Very Low speed roughness segment.\r\n5.  **`CTR_SEG_AD_ER` (Internal Adaptation Counter - from text):** Controls the number of steps or the progression of the adaptation process, particularly for the gradual reduction of the initial roughness increment.\r\n\r\n## Outputs\r\nThe main outputs of this system are the refined, adapted engine roughness segment values, which are then used by other engine control algorithms for compensation.\r\n\r\n1.  **Adapted High Speed Segment Value:** `SEG_AD_MMV_ER_H`\r\n2.  **Adapted Mid Speed Segment Value:** `SEG_AD_MMV_ER_MID`\r\n3.  **Adapted Low Speed Segment Value:** `SEG_AD_MMV_ER_L`\r\n4.  **Adapted Very Low Speed Segment Value:** `SEG_AD_MMV_ER_LOW`\r\n5.  **Diagnostic Data (Implicit for LOW segment):** For the \"LOW window,\" adapted values are stored for diagnosis if they are within calibrated limits.\r\n\r\n## Logic Flow\r\n\r\nThe system processes and adapts engine roughness values across four distinct engine speed ranges: High, Mid, Low, and Very Low.\r\n\r\n1.  **High Speed Segment Adaptation (`SEG_AD_MMV_ER_H`):**\r\n    *   This block represents the adapted engine roughness value for the high-speed operating range.\r\n    *   It continuously updates based on measured engine roughness (not explicitly shown as an input arrow).\r\n    *   The adapted value is constrained by an upper limit, `C_N_MAX_H_SEG_AD_ER`, meaning it will not exceed this maximum.\r\n\r\n2.  **Mid Speed Segment Adaptation (`SEG_AD_MMV_ER_MID`):**\r\n    *   Similar to the High segment, this block manages the adapted roughness value for the mid-speed range.\r\n    *   It updates based on roughness measurements and is capped by its upper limit, `C_N_MAX_MID_SEG_AD_ER`.\r\n\r\n3.  **Low Speed Segment Adaptation (`SEG_AD_MMV_ER_L`):**\r\n    *   This block handles adaptation for the low-speed range.\r\n    *   It receives roughness data and adapts its value.\r\n    *   Unlike High and Mid, this segment has both an upper limit (`C_N_MAX_L_SEG_AD_ER`) and a lower limit (`C_N_MIN_L_SEG_AD_ER`), ensuring the adapted value remains within a defined range.\r\n\r\n4.  **Very Low Speed Segment Adaptation (`SEG_AD_MMV_ER_LOW`):**\r\n    *   This segment is specifically for very low engine speeds (the \"LOW window\"), where adaptation conditions might be unique (e.g., due to drivetrain oscillations preventing continuous adaptation).", "mimetype": "text/plain", "start_char_idx": 236118, "end_char_idx": 240425, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f7d84e44-5e97-436d-98fc-7ca0cbc961e0": {"__data__": {"id_": "f7d84e44-5e97-436d-98fc-7ca0cbc961e0", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0892871a-b3f6-4577-9620-b2528d1c32eb", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "b3c0bafc9c2f36b5b0d10dda8673aab065cc765c986ac4c2e943df3041c2b7f2", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6618cbed-4fda-4c6e-8fca-a8b200c9fd36", "node_type": "1", "metadata": {}, "hash": "eb96b55a58e84cd4f6c65db12a2c12e1d4639f320652936333a7c37b46e0cdd5", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "4.  **Very Low Speed Segment Adaptation (`SEG_AD_MMV_ER_LOW`):**\r\n    *   This segment is specifically for very low engine speeds (the \"LOW window\"), where adaptation conditions might be unique (e.g., due to drivetrain oscillations preventing continuous adaptation).\r\n    *   It maintains the adapted value `SEG_AD_MMV_ER_LOW`.\r\n    *   It is directly constrained by a minimum limit, `C_N_MIN_LOW_SEG_AD_ER`.\r\n    *   An arrow from `SEG_AD_MMV_ER_L` to `SEG_AD_MMV_ER_LOW` indicates that the adapted value from the Low speed segment provides an input or influence for the Very Low segment's adaptation.\r\n    *   A prominent feedback loop encompassing a graphical representation (an increasing S-curve or learning function) suggests a dynamic, time-dependent adaptation process. This visual, along with the text stating \"the value by which the ER is increased at the beginning is gradually reduced to zero in a linear way until the 95% correction is obtained,\" indicates a specific learning algorithm that evolves over time.\r\n    *   The text also specifies that adapted values for this segment are only stored if they fall within \"calibrated limits,\" implying a final validation step for `SEG_AD_MMV_ER_LOW` before it is committed.\r\n\r\nIn summary, the system dynamically adjusts engine roughness compensation values based on the engine's operating speed range. It applies specific maximum and minimum limits to these adapted values, with the very low-speed segment having a more complex, time-dependent, and conditionally-enabled learning mechanism, possibly influenced by the immediately higher speed range's adaptation.\r\n\r\n\r\n--- Page 97 ---\r\n\r\nThis image displays a Simulink-style block diagram, illustrating a component of an automotive control system.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to implement an \"Engine Roughness Adaptive Learning Process,\" as indicated by the document title. It manages segment-based adaptation for engine roughness, likely involving the calculation and storage of adaptation values across different engine operating conditions. The system integrates non-volatile memory handling for persistence, reset mechanisms, and combines outputs from two main adaptive sub-functions.\r\n\r\n## Inputs\r\nThe system receives several inputs, which can be categorized as control signals, reset signals, segment information, and non-volatile memory (NVM) commands:\r\n\r\n1.  **`sys_eve`**: A system event or clock signal, likely triggering the execution of the adaptive processes.\r\n2.  **`<ER_AD_NVMINI>`**: Engine Roughness Adaptation Non-Volatile Memory Initialization command.\r\n3.  **`<ER_AD_NVMRES>`**: Engine Roughness Adaptation Non-Volatile Memory Reset command.\r\n4.  **`<ER_AD_NVMSTO>`**: Engine Roughness Adaptation Non-Volatile Memory Store command (to persist learned values).\r\n5.  **`<ER_AD_SEG>`**: Engine Roughness Adaptation Segment, indicating the current engine operating segment for adaptation.\r\n6.  **`<ER_AD_RST>`**: A general Engine Roughness Adaptation Reset command.\r\n7.  **`NA_APP_RST`**: Reset signal specifically for the `NA_APP` subsystem.\r\n8.  **`FI_AD_PH_RST`**: Reset signal specifically for the `FI_AD_PH` subsystem.\r\n9.  **`FI_AD_PH_SEG`**: Segment information signal specifically for the `FI_AD_PH` subsystem.\r\n\r\n## Outputs\r\nThe system produces a combined output representing the overall engine roughness adaptation data:\r\n\r\n1.  **`na_app`**: Output from the `NA_APP` subsystem, likely representing the \"number of adaptation cycles\" or a similar metric related to adaptation count within a segment.\r\n2.  **`fi_ad_ph`**: Output from the `FI_AD_PH` subsystem, likely representing the actual adaptation value for a specific \"fuel injection\" or \"factor for ignition\" adaptation phase.\r\n3.  **`er_ad`**: A bus signal combining `na_app` and `fi_ad_ph`, serving as the aggregated \"Engine Roughness Adaptation\" data.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the diagram proceeds as follows:\r\n\r\n1.  **Input Reception and Distribution:**\r\n    *   The `sys_eve` (system event) signal is broadcast directly to both main adaptive subsystems: `NA_APP` and `FI_AD_PH`.\r\n    *   A set of control and NVM-related inputs (`<ER_AD_NVMINI>`, `<ER_AD_NVMRES>`, `<ER_AD_NVMSTO>`, `<ER_AD_SEG>`) are grouped and distributed to the right (likely to internal components of `NA_APP` and `FI_AD_PH` for NVM management and segment selection, though not explicitly detailed in this high-level view).", "mimetype": "text/plain", "start_char_idx": 240159, "end_char_idx": 244597, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6618cbed-4fda-4c6e-8fca-a8b200c9fd36": {"__data__": {"id_": "6618cbed-4fda-4c6e-8fca-a8b200c9fd36", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f7d84e44-5e97-436d-98fc-7ca0cbc961e0", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "bc7246e7d818b46048c7392fa49c7548b7e26c21d70e1542082d073aa3ea103b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e105af27-e8c4-4970-9523-0d7961ae7fe3", "node_type": "1", "metadata": {}, "hash": "10a546968ccabd4fdf871996fce59106402c7e2b3b639cdad3ebe3b069938de0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   A set of control and NVM-related inputs (`<ER_AD_NVMINI>`, `<ER_AD_NVMRES>`, `<ER_AD_NVMSTO>`, `<ER_AD_SEG>`) are grouped and distributed to the right (likely to internal components of `NA_APP` and `FI_AD_PH` for NVM management and segment selection, though not explicitly detailed in this high-level view).\r\n    *   The general `<ER_AD_RST>` signal is also provided as an input.\r\n\r\n2.  **Reset and Segment Signal Processing (V.6.5 Blocks):**\r\n    *   Two blocks labeled \"V.6.5\" act as intermediate signal processors, likely selector or gating blocks.\r\n    *   The **top V.6.5 block** receives `NA_APP_RST` and `FI_AD_PH_RST` as inputs (indicated by '1' and '2' ports). It processes these and outputs an `input` signal and a `feedback` signal that are fed to the `NA_APP` subsystem. This suggests it might select a specific reset based on conditions or provide a processed reset signal along with a feedback path for `NA_APP`.\r\n    *   The **bottom V.6.5 block** receives `FI_AD_PH_SEG` and another unnamed input. It processes these to generate `input` and `feedback` signals for the `FI_AD_PH` subsystem. This implies that the segment information for `FI_AD_PH` might be conditioned or selected, and feedback specific to the `FI_AD_PH`'s internal state is also provided.\r\n\r\n3.  **Adaptive Subsystem Execution:**\r\n    *   **`NA_APP` (X.3.1) Subsystem:** This block takes `sys_eve`, the processed `input` (likely a reset/control signal), and a `feedback` signal from the top V.6.5 block. It performs its adaptive calculations and outputs `na_app`, which, based on the context, could be the count of adaptation cycles.\r\n    *   **`FI_AD_PH` (X.3.2) Subsystem:** This block takes `sys_eve`, the processed `input` (likely segment information), and a `feedback` signal from the bottom V.6.5 block. It executes its adaptive logic and outputs `fi_ad_ph`, which probably represents the actual adapted value for the engine roughness compensation (e.g., fuel phase or angle adjustment).\r\n\r\n4.  **Output Aggregation:**\r\n    *   The individual outputs, `na_app` and `fi_ad_ph`, are combined by a bus creator (the vertical bar on the right side of the diagram).\r\n    *   This resulting bus signal is labeled `er_ad`, which represents the comprehensive \"engine roughness adaptation\" data, making it the final output of this part of the system.\r\n\r\n\r\n--- Page 98 ---\r\n\r\n## Function\r\nThis Simulink diagram, titled \"ENRD. Engine roughness adaptive learning process,\" describes a core module responsible for managing and applying adaptive values related to engine roughness. Its primary function is to continuously learn and adapt to engine conditions to maintain optimal smoothness or diagnose roughness issues. This involves managing non-volatile memory (NVM) for persistent storage of adaptive data, processing various engine and system inputs, and generating outputs that represent adapted error values and status flags. The system likely operates in segments, adapting roughness parameters based on specific operating points or conditions.\r\n\r\nThe lower diagram, \"Figure 296.25 Application condition,\" details the state logic for controlling the NVM operations and segment management, likely residing within the \"NA_APP\" block of the main diagram.\r\n\r\n## Inputs\r\nThe system receives a wide array of inputs, categorized as follows:\r\n\r\n**System Events/Flags (`sys_eve` group in Figure 296.24):**\r\n*   `<NA_APP_RST>`: Reset signal for the main application.\r\n*   `<ER_AD_NVMINI>`: Non-Volatile Memory Initialization command for error adaptation.\r\n*   `<ER_AD_NVMRES>`: Non-Volatile Memory Reset command for error adaptation.\r\n*   `<ER_AD_NVMSTO>`: Non-Volatile Memory Store command for error adaptation.\r\n*   `<NA_APP_SEG>`: Segment-related input for the application.\r\n*   `<SEG_NR_MES>`: Measured segment number, indicating the current operating segment.\r\n*   `<LV_SEG_AD_RST_ER_EOL>`: Life-cycle segment adaptation reset for End-Of-Line processing.\r\n\r\n**Sensor & Control Parameters (`Input` bus in Figure 296.24):**\r\n*   `<LV_SEG_AD_RST_ER_EOL>`: (Potentially same as above, indicating it's also on the main data bus).", "mimetype": "text/plain", "start_char_idx": 244286, "end_char_idx": 248390, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e105af27-e8c4-4970-9523-0d7961ae7fe3": {"__data__": {"id_": "e105af27-e8c4-4970-9523-0d7961ae7fe3", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6618cbed-4fda-4c6e-8fca-a8b200c9fd36", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "effd8d774e83f3be040654929313a61c4d35d3e7a22dd377d4a702f43754dee6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "152ff3c7-88f3-4427-9dc0-56e7ff946912", "node_type": "1", "metadata": {}, "hash": "c21157651384eb63129e00b3e1dbf827a0aefa25a7fa30a7fe4e0604e44bb446", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `<SEG_NR_MES>`: Measured segment number, indicating the current operating segment.\r\n*   `<LV_SEG_AD_RST_ER_EOL>`: Life-cycle segment adaptation reset for End-Of-Line processing.\r\n\r\n**Sensor & Control Parameters (`Input` bus in Figure 296.24):**\r\n*   `<LV_SEG_AD_RST_ER_EOL>`: (Potentially same as above, indicating it's also on the main data bus).\r\n*   `<LV_INH_OBD_ER_AD>`: Flag to inhibit On-Board Diagnostics error adaptation.\r\n*   `<N_32>`: An important 32-bit numerical input, potentially engine speed or load.\r\n*   `<DRV1_ER>`: Error status from driver 1.\r\n*   `<LV_INJ_CUT>`: Status of injection cut.\r\n*   `<LV_ENA_SEG_T_MES>`: Enable flag for segment time measurement.\r\n*   `<SEG_NR_MES>`: Measured segment number (re-iterated from `sys_eve`, implying it's also a data input).\r\n*   `<NC_CYL_NR>`: Number of cylinders in the engine.\r\n*   `<SEG_T_COR>`: Segment time correction value.\r\n*   `<LV_ENA_ER>`: Global enable flag for error processing.\r\n*   `<LV_AT>`: Status for Automatic Transmission.\r\n*   `<LV_CVT>`: Status for Continuously Variable Transmission.\r\n*   `<LV_DCT>`: Status for Dual Clutch Transmission.\r\n*   `<LV_SEG_AD_FDOUT_ER>`: Segment adaptation fade-out error status.\r\n*   `<LV_SEG_AD_FDOUL_ER_EOL>`: Segment adaptation fade-out error for End-Of-Life.\r\n*   `<LV_SEG_T_MES_CYL_READY>`: Status indicating segment time measurement and cylinder readiness.\r\n*   `<LV_CYC_SEG_AD_ER_LOW>`: Low error status for cyclic segment adaptation.\r\n\r\n**Internal Feedback (`feedback` in Figure 296.24):**\r\n*   A feedback signal from the `NVMY` block (read data) and potentially from the `OPM_SEG` block, which is routed back into `OPM_SEG` for iterative calculations.\r\n\r\n**Inputs to Application Condition Chart (Figure 296.25):**\r\n*   `RST`: System reset.\r\n*   `NVMINI`: NVM initialization trigger.\r\n*   `NVMRES`: NVM reset trigger.\r\n*   `NVMSTO`: NVM store trigger.\r\n*   `SEG`: Segment trigger.\r\n*   `SEG_NR_MES`: Measured segment number.\r\n*   `LV_SEG_AD_RST_ER_EOL`: Life-cycle segment adaptation reset for End-Of-Line.\r\n\r\n## Outputs\r\nThe main outputs of the system form the `na_app` bus (Figure 296.24):\r\n\r\n*   `<DELTA_CRK_DIF_MAX_ER>`: The delta (change) in the maximum crankshaft difference error.\r\n*   `<CTR_SEG_AD_ER>`: Counter for segment adaptation errors.\r\n*   `<LV_SEG_AD_AVL_ER>`: Status indicating available segment adaptation error.\r\n*   `<LV_SEG_AD_N_VLD>`: Status indicating segment adaptation is not valid.\r\n*   `<LV_SEG_AD_RAW_ER>`: Raw segment adaptation error value.\r\n*   `<LV_SEG_AD_ER>`: Overall segment adaptation error value.\r\n*   `<CRLC_SEG_AD_ER>`: Calculated segment adaptation error.\r\n*   `<LV_SEG_AD_AVL_ER_RGL>`: Regulated status for available segment adaptation error.\r\n\r\n**Outputs from Application Condition Chart (Figure 296.25):**\r\n*   `fc_NVMY_INI`: Control flag for NVM initialization.\r\n*   `fc_NVMY_RD`: Control flag for NVM data read.\r\n*   `fc_NVMY_SAVE`: Control flag for NVM data save.\r\n*   `fc_OPM_SEG`: Control flag for Operating Point Management Segment.\r\n\r\n## Logic Flow\r\n\r\nThe system's logic flow can be understood by tracing the signals through the main blocks:\r\n\r\n1.  **NA_APP (X.3.1.1) - Application Control & NVM Orchestration:**\r\n    *   This block acts as the central coordinator for the adaptive learning process, especially concerning Non-Volatile Memory (NVM) operations and segment management.\r\n    *   It receives system-level events and status flags like `NA_APP_RST`, NVM commands (`ER_AD_NVMINI`, `ER_AD_NVMRES`, `ER_AD_NVMSTO`), and segment-specific information (`SEG_NR_MES`, `LV_SEG_AD_RST_ER_EOL`).\r\n    *   The internal logic of this block is likely described by the \"Chart X.3.1.1.1\" (Figure 296.25), which is a Stateflow chart.", "mimetype": "text/plain", "start_char_idx": 248039, "end_char_idx": 251742, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "152ff3c7-88f3-4427-9dc0-56e7ff946912": {"__data__": {"id_": "152ff3c7-88f3-4427-9dc0-56e7ff946912", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e105af27-e8c4-4970-9523-0d7961ae7fe3", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "c167277546c47826cea5bf4546f409a7e1823fddd7e11b3838a1614e3f49c106", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "51ca1d1a-30ce-45f5-a56e-cfe2764d12ca", "node_type": "1", "metadata": {}, "hash": "6f33c472c7ec3309a16a07e762e9b8f9eb9bdba43ebad0bc7b618f1e6b95a244", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The internal logic of this block is likely described by the \"Chart X.3.1.1.1\" (Figure 296.25), which is a Stateflow chart. This chart defines the state transitions and actions based on the inputs to generate control signals.\r\n    *   **Outputs of NA_APP:** `fc_NVMY_INI`, `fc_NVMY_RD`, `fc_NVMY_SAVE` (NVM control flags), and `fc_OPM_SEG` (Operating Point Management Segment control).\r\n\r\n2.  **NVMY (X.3.1.2) - Non-Volatile Memory Management:**\r\n    *   This block handles the persistent storage and retrieval of adaptive data.\r\n    *   It receives the NVM control flags (`fc_NVMY_INI`, `fc_NVMY_RD`, `fc_NVMY_SAVE`) from the NA_APP block, dictating when to initialize, read, or save data.\r\n    *   It receives data to be saved via its \"input\" port.\r\n    *   It outputs stored data as \"feedback,\" which is then routed to the OPM_SEG block.\r\n\r\n3.  **OPM_SEG (X.3.1.3) - Operating Point Management Segment & Core Adaptation Logic:**\r\n    *   This block is the heart of the adaptive learning process, responsible for calculating and updating the roughness adaptation values for different engine operating segments.\r\n    *   It receives the `fc_OPM_SEG` control flag from NA_APP, enabling or disabling its operation.\r\n    *   It takes a comprehensive `Input` bus, carrying real-time sensor data, engine parameters, and various status flags (e.g., `N_32`, `NC_CYL_NR`, `LV_INJ_CUT`).\r\n    *   It also receives the \"feedback\" (read adaptive data) from the NVMY block, using this historical information as a basis for current adaptation.\r\n    *   Based on these inputs, OPM_SEG performs calculations to determine the engine roughness adaptation values.\r\n    *   It provides an internal \"feedback\" output, likely for its own iterative calculations or to other modules.\r\n    *   The primary outputs of this block, representing the calculated adaptive values and related status, are fed into the BusMerge block.\r\n\r\n4.  **BusMerge (V.6.0):**\r\n    *   This block consolidates the relevant outputs from the NVMY and OPM_SEG blocks into a single bus. This prepares the data for the system's external interface.\r\n\r\n5.  **Output Gateway (V.6.8):**\r\n    *   The merged bus then passes through an output gateway, which structures and exposes the final set of adaptive values and status flags as the `na_app` output bus. These signals are consumed by other control modules in the engine management system.\r\n\r\n**In summary:** The NA_APP block orchestrates the NVM operations and segment activation. The NVMY block manages persistent data storage. The OPM_SEG block performs the actual adaptive calculations using real-time data and stored adaptive values. All relevant data is then merged and output for external use in controlling engine roughness.\r\n\r\n\r\n--- Page 99 ---\r\n\r\nThis image contains two distinct Simulink diagrams: a Stateflow chart (Figure 296.26) and a traditional Simulink block diagram (Figure 296.27). Both are components within the broader context of an \"ENRD. Engine roughness adaptive learning process.\"\r\n\r\n## Function\r\n\r\nThe primary function of these diagrams is to manage the state-based operations and initialization of non-volatile memory (NVMY) variables critical for an engine roughness adaptive learning process. The Stateflow chart orchestrates high-level system events and NVMY operations (initialization, read, save), transitioning between active and inactive states based on segment messages. The Simulink block diagram specifically initializes NVMY variables related to segment adaptive error handling, calculating and setting initial values for error counters and limits based on engine configuration.\r\n\r\n## Inputs\r\n\r\nBased on both diagrams:\r\n\r\n*   **SYS_EVE_NVMUNI**: System event trigger for NVM initialization (Stateflow).\r\n*   **SYS_EVE_NVMRES**: System event trigger for NVM restore/read (Stateflow).\r\n*   **SYS_EVE_NVMSTO**: System event trigger for NVM store/save (Stateflow).\r\n*   **LV_SEG_AD_RST_ER_EOL**: Logical flag indicating an End-Of-Line (EOL) reset for segment adaptive errors (Stateflow).\r\n*   **SYS_EVE_RST**: General system reset event trigger (Stateflow).\r\n*   **SYS_EVE_SEG**: System event trigger related to a segment operation (Stateflow).", "mimetype": "text/plain", "start_char_idx": 251616, "end_char_idx": 255795, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "51ca1d1a-30ce-45f5-a56e-cfe2764d12ca": {"__data__": {"id_": "51ca1d1a-30ce-45f5-a56e-cfe2764d12ca", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "152ff3c7-88f3-4427-9dc0-56e7ff946912", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "c5e1faa4faa600f3c1e05379b9b61f1363d2e1d89d1d010bc7e4a1091ed1e29c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4a57717b-df45-4e6a-ba93-fc344c09bed1", "node_type": "1", "metadata": {}, "hash": "67c8d160be968c70386af5faed7ef63ad46d5d7e8d0037209ddf1abdd7460853", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **SYS_EVE_NVMSTO**: System event trigger for NVM store/save (Stateflow).\r\n*   **LV_SEG_AD_RST_ER_EOL**: Logical flag indicating an End-Of-Line (EOL) reset for segment adaptive errors (Stateflow).\r\n*   **SYS_EVE_RST**: General system reset event trigger (Stateflow).\r\n*   **SYS_EVE_SEG**: System event trigger related to a segment operation (Stateflow).\r\n*   **SEG_NR_MES**: Segment number message, used for state transitions (Stateflow).\r\n*   **NC_CYL_NR**: Number of engine cylinders (Simulink block diagram).\r\n*   **C_CRK_DIF_MAX_ER**: Constant representing the maximum allowed differential crank angle error (Simulink block diagram).\r\n\r\n## Outputs\r\n\r\nBased on both diagrams:\r\n\r\n*   **fc_NVMY_INI()**: Function call for NVM initialization (triggered by Stateflow).\r\n*   **fc_NVMY_RD()**: Function call for NVM read operation (triggered by Stateflow).\r\n*   **fc_NVMY_SAVE()**: Function call for NVM save operation (triggered by Stateflow).\r\n*   **fc_OPM_SEG()**: Function call for segment operation management (triggered by Stateflow).\r\n*   **CTR_SEG_AD_ER**: Initialized counter for segment adaptive errors (Simulink block diagram).\r\n*   **LV_SEG_AD_AVL_ER**: Initialized level for segment adaptive available error (Simulink block diagram).\r\n*   **DELTA_CRK_DIF_MAX_ER**: Calculated delta maximum differential crank error (Simulink block diagram).\r\n*   **LV_SEG_AD_AVL_ER_RGL**: Initialized level for segment adaptive available error, regular (Simulink block diagram).\r\n\r\n## Logic Flow\r\n\r\nThe system operates in two main parts:\r\n\r\n### Part 1: State-based NVMY Management (Figure 296.26 - APP_CDN Chart)\r\n\r\n1.  **Initial Entry:** The chart begins from an initial default transition, waiting for system events.\r\n2.  **NVMY Operations:**\r\n    *   Upon receiving `SYS_EVE_NVMUNI`, the chart executes the `fc_NVMY_INI()` function call, typically for initializing non-volatile memory variables.\r\n    *   Upon receiving `SYS_EVE_NVMRES`, it executes the `fc_NVMY_RD()` function call, indicating a read/restore operation from NVM.\r\n    *   Upon receiving `SYS_EVE_NVMSTO`, it executes the `fc_NVMY_SAVE()` function call, indicating a save operation to NVM.\r\n    *   An alternative path to execute `fc_NVMY_INI()` exists if the condition `LV_SEG_AD_RST_ER_EOL == 1` is met, suggesting an initialization due to an end-of-line error reset.\r\n3.  **System Reset:** A `SYS_EVE_RST` event triggers a transition back to a default state, likely to re-evaluate the system status.\r\n4.  **Active/Inactive States:** The chart contains an 'active' superstate and an 'inactive' state.\r\n    *   Transition to the 'inactive' state occurs if `SEG_NR_MES == 0`.\r\n    *   Transition to the 'active' state occurs if `SEG_NR_MES ~= 0` (i.e., segment number message is not zero).\r\n5.  **Segment Operation in Active State:** While in the 'active' state, upon receiving a `SYS_EVE_SEG` event, the chart executes the `fc_OPM_SEG()` function call, which likely manages specific segment-related operations.\r\n\r\n### Part 2: NVMY Variables Initialization (Figure 296.27 - Initialisation of NVMY variables)\r\n\r\n1.  **Input Acquisition:** The diagram takes two primary inputs: `NC_CYL_NR` (number of cylinders) and `C_CRK_DIF_MAX_ER` (a constant for maximum differential crank error).\r\n2.  **Intermediate Error Calculation:**\r\n    *   `NC_CYL_NR` is multiplied by `C_CRK_DIF_MAX_ER`.\r\n    *   The result of this multiplication is then multiplied by a constant value `4`. This second multiplication likely serves as a scaling factor.\r\n    *   The final result of these multiplications is output as `DELTA_CRK_DIF_MAX_ER`.\r\n3.  **Direct Initialization:**\r\n    *   The variable `CTR_SEG_AD_ER` is initialized directly to `0`.\r\n    *   The variable `LV_SEG_AD_AVL_ER` is initialized directly to `0`.\r\n    *   The variable `LV_SEG_AD_AVL_ER_RGL` is also initialized directly to `0`.", "mimetype": "text/plain", "start_char_idx": 255439, "end_char_idx": 259280, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4a57717b-df45-4e6a-ba93-fc344c09bed1": {"__data__": {"id_": "4a57717b-df45-4e6a-ba93-fc344c09bed1", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "51ca1d1a-30ce-45f5-a56e-cfe2764d12ca", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "509c1192c2fe0508f80e61af84977496ec2519b044f4ac8f0edc012cc1a79d17", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e22063af-a49f-43a9-a7b6-460c4067a22c", "node_type": "1", "metadata": {}, "hash": "f9bb125c06a9d8ccb47c067cf1fec68a271006bef3b14077f2a6c2495d15d150", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The final result of these multiplications is output as `DELTA_CRK_DIF_MAX_ER`.\r\n3.  **Direct Initialization:**\r\n    *   The variable `CTR_SEG_AD_ER` is initialized directly to `0`.\r\n    *   The variable `LV_SEG_AD_AVL_ER` is initialized directly to `0`.\r\n    *   The variable `LV_SEG_AD_AVL_ER_RGL` is also initialized directly to `0`.\r\n    *   These direct initializations indicate that these counters and levels start from zero at the beginning of the process or a specific system phase.\r\n    *   The `f()` block is present but not connected, suggesting it might be an unused function block or a label for a general-purpose function available elsewhere.\r\n\r\n\r\n--- Page 100 ---\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to read and potentially initialize multiple specific variables from Non-Volatile Memory (NVM). These variables, identified by their names (e.g., `DELTA_CRK_DIF_MAX_ER`, `LV_SEG_AD_AVL_ER`), are likely parameters used in an \"Engine roughness adaptive learning process\" (as suggested by the \"ENRD\" header). The diagram collects these individual NVM values and consolidates them into a single output bus or vector.\r\n\r\n## Inputs\r\n\r\nFrom the perspective of this specific diagram, there are no explicit external numerical inputs. The \"inputs\" are conceptual requests for specific NVM variables. The `NVMY[read/init]` blocks act as data sources, requesting data associated with predefined NVM variable names. The configuration details (e.g., `size: 1`, `init: 0`, `V.6.5`) associated with each variable define their default values and properties if they need to be initialized.\r\n\r\n## Outputs\r\n\r\nThe primary output of this diagram is a single signal named **`nvmy_rd`**. This signal is a multiplexed (bus or vector) combination of all the individual NVM variables read by the `NVMY[read/init]` blocks.\r\n\r\nThe individual outputs from the NVM read blocks before multiplexing are:\r\n*   Value of `DELTA_CRK_DIF_MAX_ER`\r\n*   Value of `LV_SEG_AD_AVL_ER`\r\n*   Value of `CTR_SEG_AD_ER`\r\n*   Value of `LV_SEG_AD_AVL_ER_RGL` (partially visible, inferred)\r\n*   (Potentially other NVM variables following the same pattern)\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of this Simulink diagram can be described as follows:\r\n\r\n1.  **Individual NVM Variable Access:** The diagram features multiple instances of a block labeled `NVMY[read/init]`. Each instance is configured to access a distinct non-volatile memory variable. For example:\r\n    *   One block accesses `DELTA_CRK_DIF_MAX_ER`.\r\n    *   Another accesses `LV_SEG_AD_AVL_ER`.\r\n    *   Another accesses `CTR_SEG_AD_ER`.\r\n    *   Another accesses `LV_SEG_AD_AVL_ER_RGL`.\r\n    Each NVM block configuration includes:\r\n    *   `size: 1`: Indicating a scalar variable.\r\n    *   `init: 0`: Specifying an initial value of 0 if the variable is not found in NVM (i.e., it needs to be initialized).\r\n    *   `V.6.5`: Likely a version or context identifier for the NVM variable.\r\n2.  **Read/Initialization Operation:** When executed, each `NVMY[read/init]` block attempts to read the value of its associated variable from non-volatile memory. If the variable has not been stored previously or is invalid, it is initialized to its defined `init` value.\r\n3.  **Output of Individual Values:** Each `NVMY[read/init]` block then outputs the retrieved or initialized value of its respective NVM variable through its \"out\" port.\r\n4.  **Multiplexing:** All the individual output signals from the `NVMY[read/init]` blocks are then routed as inputs to a multiplexer block (the tall, black block). A multiplexer combines several input signals into a single, composite output signal, often a bus or a vector.\r\n5.  **Consolidated Output:** The multiplexer's output is a signal named `nvmy_rd`. This `nvmy_rd` signal represents the collection of all the NVM variables read by this subsystem.\r\n6.  **Subsystem/Function Output Port:** Finally, the `nvmy_rd` signal connects to a block labeled \"1\" which is also named `nvmy_rd`.", "mimetype": "text/plain", "start_char_idx": 258941, "end_char_idx": 262918, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e22063af-a49f-43a9-a7b6-460c4067a22c": {"__data__": {"id_": "e22063af-a49f-43a9-a7b6-460c4067a22c", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4a57717b-df45-4e6a-ba93-fc344c09bed1", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "f7c6986a1f9aeba5295ffbdffe8c12cfb6799527f98cacc4908312f09dcba858", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "2239f6ba-d974-4b8b-8e9e-d9356a5fd956", "node_type": "1", "metadata": {}, "hash": "5be9623f03e33540b5f97840628b4807bdf404ec19580ffb31ba0088a38eed35", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "5.  **Consolidated Output:** The multiplexer's output is a signal named `nvmy_rd`. This `nvmy_rd` signal represents the collection of all the NVM variables read by this subsystem.\r\n6.  **Subsystem/Function Output Port:** Finally, the `nvmy_rd` signal connects to a block labeled \"1\" which is also named `nvmy_rd`. In Simulink, a numbered block often denotes an output port of a subsystem or function. This indicates that the `nvmy_rd` composite signal is the final output of this entire functional unit, making the collected NVM data available to other parts of the model.\r\n\r\n\r\n--- Page 101 ---\r\n\r\n## Function\r\nThis Simulink diagram's primary function is to persistently store several engine-related adaptive learning parameters into Non-Volatile Memory (NVMY). This ensures that these learned values are retained even when the engine control unit (ECU) is powered off, allowing for continuous adaptive learning across multiple driving cycles. The context \"ENRD. Engine roughness adaptive learning process\" indicates these variables are part of a system for adapting to engine roughness characteristics.\r\n\r\n## Inputs\r\nThe diagram receives four input signals, each representing a variable to be stored:\r\n\r\n1.  **DELTA_CRK_DIF_MAX_ER_in:** Input for the maximum difference in crankshaft angle related to engine roughness.\r\n2.  **LV_SEG_AD_AVL_ER_in:** Input for a segment-specific adaptive value of engine roughness.\r\n3.  **CTR_SEG_AD_ER_in:** Input for a counter or control segment's adaptive engine roughness value.\r\n4.  **LV_SEG_AD_AVL_ER_RGL_in:** Input for a regular or reference segment's adaptive value of engine roughness.\r\n\r\n## Outputs\r\nThe outputs of this diagram are the updated values of the following Non-Volatile Memory variables, which are persistently stored:\r\n\r\n1.  **DELTA_CRK_DIF_MAX_ER:** The stored maximum crankshaft difference for engine roughness.\r\n2.  **LV_SEG_AD_AVL_ER:** The stored segment-specific adaptive value for engine roughness.\r\n3.  **CTR_SEG_AD_ER:** The stored counter or control segment's adaptive engine roughness value.\r\n4.  **LV_SEG_AD_AVL_ER_RGL:** The stored regular or reference segment's adaptive value for engine roughness.\r\n\r\n(Note: While the `NVMY[store]` blocks have 'out' ports, these ports are connected to terminator blocks (the \"backwards E\" symbol), indicating that the immediate output signal of the store operation is not used by other blocks within this specific diagram view. The effective \"output\" is the persistent storage itself.)\r\n\r\n## Logic Flow\r\nThe logical flow of the diagram is straightforward and parallel:\r\n\r\n1.  **Input Reception:** The diagram receives four distinct input signals, `DELTA_CRK_DIF_MAX_ER_in`, `LV_SEG_AD_AVL_ER_in`, `CTR_SEG_AD_ER_in`, and `LV_SEG_AD_AVL_ER_RGL_in`. These are represented by the green numbered blocks (1, 2, 3, 4), which function as inports for this subsystem.\r\n2.  **Parallel Storage Operation:** Each input signal is independently routed to its respective `NVMY[store]` block.\r\n    *   `DELTA_CRK_DIF_MAX_ER_in` is fed into the `NVMY[store]` block labeled `DELTA_CRK_DIF_MAX_ER`.\r\n    *   `LV_SEG_AD_AVL_ER_in` is fed into the `NVMY[store]` block labeled `LV_SEG_AD_AVL_ER`.\r\n    *   `CTR_SEG_AD_ER_in` is fed into the `NVMY[store]` block labeled `CTR_SEG_AD_ER`.\r\n    *   `LV_SEG_AD_AVL_ER_RGL_in` is fed into the `NVMY[store]` block labeled `LV_SEG_AD_AVL_ER_RGL`.\r\n3.  **Non-Volatile Memory Write:** Each `NVMY[store]` block takes its input value and writes it to the corresponding persistent memory location (Non-Volatile Memory). The parameters below each `NVMY[store]` block (e.g., `size: 1`, `init:0`, `V.6.5`) define the characteristics of the stored variable, such as its size, initial value, and version.\r\n4.  **Signal Termination:** The 'out' port of each `NVMY[store]` block is connected to a terminator symbol. This indicates that once the value is written to NVMY, the immediate output signal from the write operation is not passed on to further processing blocks within this specific diagram.", "mimetype": "text/plain", "start_char_idx": 262605, "end_char_idx": 266617, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2239f6ba-d974-4b8b-8e9e-d9356a5fd956": {"__data__": {"id_": "2239f6ba-d974-4b8b-8e9e-d9356a5fd956", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e22063af-a49f-43a9-a7b6-460c4067a22c", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "76dc909540c55de036e43c91fb860d6adf600699fa63b1e0022404c014ac3510", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "75144d2f-3213-4f47-a66a-e41226f5487d", "node_type": "1", "metadata": {}, "hash": "dd523c6d40878d8c73bf47fb2383233122f4bbaf0fb3b89dad8388f6217c5980", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "4.  **Signal Termination:** The 'out' port of each `NVMY[store]` block is connected to a terminator symbol. This indicates that once the value is written to NVMY, the immediate output signal from the write operation is not passed on to further processing blocks within this specific diagram. The primary purpose of this diagram is solely to effect the storage operation.\r\n\r\n\r\n--- Page 102 ---\r\n\r\nThis Simulink diagram, titled \"LV_SEG_AD_RAW_ER and LV_SEG_AD_ER calculation,\" is part of an \"Engine roughness adaptive learning process.\" It calculates two output signals, `LV_SEG_AD_RAW_ER` and `LV_SEG_AD_ER`, based on a set of logical conditions and input parameters.\r\n\r\n## Function\r\nThe primary function of this diagram is to conditionally determine if engine roughness adaptive learning segmentation (or a related process) is enabled or disabled. It outputs a binary state (1 for enabled/active, 0 for disabled/inactive) for both `LV_SEG_AD_RAW_ER` and `LV_SEG_AD_ER` based on a complex logical combination of system flags and engine speed thresholds. A secondary, intricate logic path calculates `LV_ENA_SEG_T_MES`, which serves as an input to the final conditional assignment, likely for enabling or disabling internal processes within the conditional subsystems.\r\n\r\n## Inputs\r\n1.  **`LV_INH_OBD_ER_AD`**: Boolean flag, likely indicating if OBD (On-Board Diagnostics) related adaptive learning for engine roughness is inhibited.\r\n2.  **`LV_INJ_CUT`**: Boolean flag, likely indicating if fuel injection is cut.\r\n3.  **`N_32`**: Numerical value, likely representing engine speed or a related RPM signal.\r\n4.  **`C_N_SEG_T_AD_RAW_MAX_ER`**: Numerical constant/parameter, maximum engine speed threshold for raw adaptive learning.\r\n5.  **`C_N_SEG_T_AD_RAW_MIN_ER`**: Numerical constant/parameter, minimum engine speed threshold for raw adaptive learning.\r\n6.  **`LV_CYC_SEG_AD_ER_LOW`**: Boolean flag, indicating a low cycle condition for adaptive learning.\r\n7.  **`C_N_MIN_LOW_SEG_AD_ER_MT`**: Numerical constant/parameter, likely a minimum low segment count for Manual Transmission (MT).\r\n8.  **`LV_AT`**: Boolean flag, indicating if the vehicle has an Automatic Transmission (AT).\r\n9.  **`C_N_MIN_LOW_SEG_AD_ER_CVT`**: Numerical constant/parameter, likely a minimum low segment count for Continuously Variable Transmission (CVT).\r\n10. **`LV_CVT`**: Boolean flag, indicating if the vehicle has a CVT.\r\n11. **`C_N_MIN_LOW_SEG_AD_ER_DCT`**: Numerical constant/parameter, likely a minimum low segment count for Dual-Clutch Transmission (DCT).\r\n12. **`LV_DCT`**: Boolean flag, indicating if the vehicle has a DCT.\r\n13. **`C_N_MIN_LOW_SEG_AD_ER_AT`**: Numerical constant/parameter, likely a minimum low segment count for general Automatic Transmission (AT) if other specific AT types are not met.\r\n\r\n## Outputs\r\n1.  **`LV_SEG_AD_RAW_ER`**: Binary output (1 or 0), representing the state of raw engine roughness adaptive learning segmentation.\r\n2.  **`LV_SEG_AD_ER`**: Binary output (1 or 0), representing the state of engine roughness adaptive learning segmentation.\r\n\r\n## Logic Flow\r\n\r\nThe diagram calculates two main internal conditions before determining the final outputs.\r\n\r\n**Step 1: Calculate the Primary 'If' Condition (`Main_Condition`)**\r\nThis condition determines if the outputs will be `1` or `0`. It's a logical AND of four sub-conditions:\r\n*   **Sub-condition 1:** `LV_INH_OBD_ER_AD` is FALSE (inverted by a 'NOT' gate).\r\n*   **Sub-condition 2:** `LV_INJ_CUT` is FALSE (inverted by a 'NOT' gate).\r\n*   **Sub-condition 3:** `N_32` is less than `C_N_SEG_T_AD_RAW_MAX_ER`.\r\n*   **Sub-condition 4:** `N_32` is greater than `C_N_SEG_T_AD_RAW_MIN_ER`.\r\nThe `Main_Condition` is TRUE if all four sub-conditions are TRUE. This combined boolean result is fed into the 'cond_if' input of the 'If' block.", "mimetype": "text/plain", "start_char_idx": 266326, "end_char_idx": 270127, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "75144d2f-3213-4f47-a66a-e41226f5487d": {"__data__": {"id_": "75144d2f-3213-4f47-a66a-e41226f5487d", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "2239f6ba-d974-4b8b-8e9e-d9356a5fd956", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "4c328130cbd480c0a320b15b5bae6bc22312327cdbbf6bc279ce0381f84effd0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "83a8ebd6-7621-4ac1-abd2-fdc73cc1bef8", "node_type": "1", "metadata": {}, "hash": "dbbf454a783a12ebf398dd1f61fbd8aeb28f64039b7d73e10bbafe1f2e081346", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **Sub-condition 3:** `N_32` is less than `C_N_SEG_T_AD_RAW_MAX_ER`.\r\n*   **Sub-condition 4:** `N_32` is greater than `C_N_SEG_T_AD_RAW_MIN_ER`.\r\nThe `Main_Condition` is TRUE if all four sub-conditions are TRUE. This combined boolean result is fed into the 'cond_if' input of the 'If' block.\r\n\r\n**Step 2: Calculate `LV_ENA_SEG_T_MES`**\r\nThis signal is determined by a cascade of five 'Switch' blocks, which effectively select a numerical parameter or force a `0` value based on various system states. The logic can be summarized as:\r\n*   The initial value is `C_N_MIN_LOW_SEG_AD_ER_MT`.\r\n*   If `LV_CYC_SEG_AD_ER_LOW` is TRUE, the value becomes `0`. Otherwise, it retains the current value.\r\n*   If `LV_AT` is FALSE (`NOT LV_AT` is TRUE), the value becomes `0`. Otherwise, it retains the current value.\r\n*   If `LV_CVT` is TRUE, the value becomes `0`. Otherwise, it retains the current value.\r\n*   If `LV_DCT` is TRUE, the value becomes `0`. Otherwise, it retains the current value.\r\n*   Finally, if the accumulated value from the preceding switches (flowing through the `C_N_MIN_LOW_SEG_AD_ER_DCT` path) is non-zero, `LV_ENA_SEG_T_MES` is set to `0`. If the accumulated value is zero, `LV_ENA_SEG_T_MES` is set to `C_N_MIN_LOW_SEG_AD_ER_AT`.\r\nThis `LV_ENA_SEG_T_MES` signal is fed as an additional input to the 'If' block.\r\n\r\n**Step 3: Conditional Assignment of Outputs (`LV_SEG_AD_RAW_ER`, `LV_SEG_AD_ER`)**\r\n*   An 'If' block uses the `Main_Condition` (from Step 1) as its primary branching condition.\r\n*   The `LV_ENA_SEG_T_MES` signal (from Step 2) is supplied as an input to the 'If' block, indicating it's available for potential use within the 'If Action Subsystem' and 'Else Action Subsystem', although its direct influence on the visible `1` or `0` constant assignments is not explicitly shown in this simplified view.\r\n*   **If `Main_Condition` is TRUE:** The 'if' action branch is activated, and a constant value of `1` is produced.\r\n*   **If `Main_Condition` is FALSE:** The 'else' action branch is activated, and a constant value of `0` is produced.\r\n\r\n**Step 4: Merge and Output**\r\n*   A 'Merge' block receives the output (either `1` or `0`) from the active 'if' or 'else' branch.\r\n*   This merged value is then simultaneously assigned to both `LV_SEG_AD_RAW_ER` and `LV_SEG_AD_ER`. Consequently, both output signals will always carry the same binary value (either `1` or `0`).\r\n\r\n\r\n--- Page 105 ---\r\n\r\nThis image displays two distinct Simulink diagrams, which are components of an \"ENRD. Engine roughness adaptive learning process\" from Continental.\r\n\r\n## Function\r\n\r\nThe primary function of the top diagram, titled \"29.6.3.1.3.2.2 LV_SEG_AD_ER calculation\", is to calculate the `LV_SEG_AD_ER` (Low Voltage Segment Adaptive Error) value. This calculation is conditional: it either resets `LV_SEG_AD_ER` to zero under specific fault or readiness conditions, or it updates it based on an adaptive/feedback mechanism (`CLC` block). Additionally, this diagram outputs counts related to non-injected segments and driver-related errors.\r\n\r\nThe secondary function, depicted in the bottom diagram titled \"29.6.3.1.3.2.2.1 Calculation of nb_seg_not_inj_eol\", is a sub-calculation used by the primary diagram. It determines the number of non-injected segments at the end of the line (`nb_seg_not_inj_eol_out`), applying logic to handle minimum thresholds and injection cut-off flags, and ensuring the count remains non-negative.\r\n\r\n## Inputs\r\n\r\n**For \"LV_SEG_AD_ER calculation\" (Main Diagram):**\r\n*   `nb_seg_not_inj_eol_in` (Input 9): Initial count for non-injected segments (for the INJ subsystem).\r\n*   `LV_INJ_CUT` (Input 2): Flag indicating an injection cut-off.", "mimetype": "text/plain", "start_char_idx": 269833, "end_char_idx": 273509, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "83a8ebd6-7621-4ac1-abd2-fdc73cc1bef8": {"__data__": {"id_": "83a8ebd6-7621-4ac1-abd2-fdc73cc1bef8", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "75144d2f-3213-4f47-a66a-e41226f5487d", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "7296d875011025e5c34b6628738da4e322aa4037dce7a96839a862018e8eb5cd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8cc89621-52d3-48de-b26a-8dc631fa4883", "node_type": "1", "metadata": {}, "hash": "8690299f380e580446b5d663c6c3956791b3d4204d5a417bfa51ea6d00ecbaa1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Inputs\r\n\r\n**For \"LV_SEG_AD_ER calculation\" (Main Diagram):**\r\n*   `nb_seg_not_inj_eol_in` (Input 9): Initial count for non-injected segments (for the INJ subsystem).\r\n*   `LV_INJ_CUT` (Input 2): Flag indicating an injection cut-off.\r\n*   `SEG_NR_MES` (Input 3): Number of measured segments.\r\n*   `LV_SEG_AD_FDOUT_ER` (Input 6): Feedback error flag for segment adaptation.\r\n*   `C_NR_SEG_AD_ACT_MIN_ER`: Constant minimum threshold for active adaptation segments related to error.\r\n*   `nb_seg_drv1_er_eol_in` (Input 10): Initial count for driver 1 error segments (for the DRV subsystem).\r\n*   `DRV1_ER` (Input 1): Driver 1 error value or flag.\r\n*   `C_NR_SEG_DRV1_MIN_ER`: Constant minimum threshold for driver 1 error segments.\r\n*   `LV_SEG_AD_N_VLD` (Input 11): Flag indicating if segment adaptation is not valid.\r\n*   `LV_SEG_AD_FDOUT_ER_EOL` (Input 7): End-of-line feedback error flag for segment adaptation.\r\n*   `LV_SEG_T_MES_CYL_READY` (Input 8): Flag indicating cylinder time measurement is ready.\r\n*   `LV_SEG_AD_ER` (Feedback to CLC block): The previously calculated or current value of LV_SEG_AD_ER, used for adaptive calculation.\r\n*   `clc` (Feedback to CLC block): A control signal (e.g., clear, enable) for the CLC block.\r\n\r\n**For \"Calculation of nb_seg_not_inj_eol\" (Subsystem Inputs):**\r\n*   `nb_seg_not_inj_eol_in` (Input 1 within subsystem): Input value for non-injected segment count.\r\n*   `SEG_NR_MES` (Input 3 within subsystem): Number of measured segments.\r\n*   `C_NR_SEG_AD_ACT_MIN_ER`: Constant minimum threshold for active adaptation segments.\r\n*   `LV_INJ_CUT` (Input 2 within subsystem): Injection cut-off flag.\r\n\r\n## Outputs\r\n\r\n**From \"LV_SEG_AD_ER calculation\" (Main Diagram):**\r\n*   `nb_seg_not_inj_eol_out` (Output 2): Calculated number of non-injected segments at EOL.\r\n*   `LV_SEG_AD_ER` (Output 3): The main adaptive error value for segments.\r\n*   `nb_seg_drv1_er_eol_out` (Output 4): Calculated number of driver 1 error segments at EOL.\r\n*   `clc` (Output 1 from CLC block): An output control signal, potentially indicating the state or success of the CLC operation.\r\n\r\n**From \"Calculation of nb_seg_not_inj_eol\" (Subsystem Output):**\r\n*   `nb_seg_not_inj_eol_out` (Output 1 within subsystem): The calculated number of non-injected segments, which then feeds into the main diagram.\r\n\r\n## Logic Flow\r\n\r\n**Main Diagram: \"LV_SEG_AD_ER calculation\"**\r\n\r\n1.  **\"INJ\" Subsystem Calculation (`X.3.1.3.2.2.1`):** This block calculates `nb_seg_not_inj_eol_out`. Its detailed logic is described below.\r\n2.  **\"DRV\" Subsystem Calculation (`X.3.1.3.2.2.2`):** This block, similar in function to the \"INJ\" block, calculates `nb_seg_drv1_er_eol_out` based on `nb_seg_drv1_er_eol_in`, `DRV1_ER`, and `C_NR_SEG_DRV1_MIN_ER`.\r\n3.  **First Conditional Path (Non-Injected Segment Check):**\r\n    *   The calculated `nb_seg_not_inj_eol_out` is compared with `C_NR_SEG_AD_ACT_MIN_ER` using a \"greater than or equal to\" (`>=`) operator.\r\n    *   The boolean result is then logically `AND`ed with the `LV_SEG_AD_N_VLD` flag.\r\n4.  **Second Conditional Path (Driver 1 Error Segment Check):**\r\n    *   The calculated `nb_seg_drv1_er_eol_out` is compared with `C_NR_SEG_DRV1_MIN_ER` using a \"greater than or equal to\" (`>=`) operator.\r\n    *   The boolean result is then logically `AND`ed with the `LV_SEG_AD_N_VLD` flag.\r\n5.  **Overall Reset/Update Condition (`cond_if` control):**\r\n    *   The `NOT` of `LV_SEG_AD_FDOUT_ER` is calculated.", "mimetype": "text/plain", "start_char_idx": 273274, "end_char_idx": 276723, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8cc89621-52d3-48de-b26a-8dc631fa4883": {"__data__": {"id_": "8cc89621-52d3-48de-b26a-8dc631fa4883", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "83a8ebd6-7621-4ac1-abd2-fdc73cc1bef8", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "038fb0e8e90c659898d279616b71355ae183e0fec0163a0c899bd257df393f27", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "bbf66f6c-b36b-4726-a0d0-581be15103ad", "node_type": "1", "metadata": {}, "hash": "cadcc02efc0f6937b775f894847af9db0da9f044e3df191b8f9d0d5e9dc87f3d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The boolean result is then logically `AND`ed with the `LV_SEG_AD_N_VLD` flag.\r\n5.  **Overall Reset/Update Condition (`cond_if` control):**\r\n    *   The `NOT` of `LV_SEG_AD_FDOUT_ER` is calculated.\r\n    *   The results from the First and Second Conditional Paths (steps 3 and 4) are combined with an `OR` gate.\r\n    *   This combined `OR` result is then `OR`ed with the `NOT` of `LV_SEG_AD_FDOUT_ER`.\r\n    *   This intermediate result is `AND`ed with the `NOT` of `LV_SEG_AD_FDOUT_ER_EOL`.\r\n    *   Finally, this result is `AND`ed with `LV_SEG_T_MES_CYL_READY`. This final boolean value drives the `cond_if` block.\r\n6.  **`cond_if` Block (`X.3.1.3.2.2.3`):**\r\n    *   **If** the overall reset/update condition (from step 5) is `True`: The `LV_SEG_AD_ER` output is set to a constant value of `0`. This indicates a reset or fault state where the adaptive error should be zeroed.\r\n    *   **Else** (if the condition is `False`): The `LV_SEG_AD_ER` output is determined by the `CLC` (Closed Loop Controller) block. This block likely implements an adaptive algorithm, taking the `LV_SEG_AD_ER` (feedback, possibly from the previous time step) and the `clc` control signal as inputs, and outputting an updated `LV_SEG_AD_ER` and a `clc` status.\r\n7.  **Merge Block:** Combines the outputs from the `cond_if` block's 'if' and 'else' branches to produce the final `LV_SEG_AD_ER` output.\r\n\r\n**Sub-Diagram: \"Calculation of nb_seg_not_inj_eol\"**\r\n\r\n1.  **Initial Count Evaluation:**\r\n    *   `(nb_seg_not_inj_eol_in + 1)` is compared with `0` using `>`.\r\n    *   The constant `1` is compared with `0` using `>`.\r\n    *   The boolean results of these two comparisons are fed into an `OR` gate. Since `1 > 0` is always true, the output of this `OR` gate will always be `True` (or `1` if interpreted numerically). Let's call this `Result_OR_AlwaysTrue`.\r\n2.  **`SEG_NR_MES` Condition:** `SEG_NR_MES` is compared with `0` using `==`.\r\n3.  **First Switch (Minimum based on `SEG_NR_MES`):**\r\n    *   **Control:** The result of `SEG_NR_MES == 0`.\r\n    *   **If True (`SEG_NR_MES == 0`):** `C_NR_SEG_AD_ACT_MIN_ER` is passed.\r\n    *   **Else (if `SEG_NR_MES != 0`):** `Result_OR_AlwaysTrue` (which is `1`) is passed.\r\n4.  **Second Switch (Enforce Minimum Threshold):**\r\n    *   **Control:** `C_NR_SEG_AD_ACT_MIN_ER < Output_of_First_Switch`.\r\n    *   **If True (if `C_NR_SEG_AD_ACT_MIN_ER` is less than the previous output):** `C_NR_SEG_AD_ACT_MIN_ER` is passed.\r\n    *   **Else:** The `Output_of_First_Switch` is passed.\r\n    *   This effectively computes `min(C_NR_SEG_AD_ACT_MIN_ER, Output_of_First_Switch)`.\r\n5.  **Third Switch (`LV_INJ_CUT` Check):**\r\n    *   **Control:** `LV_INJ_CUT == 0`.\r\n    *   **If True (if `LV_INJ_CUT` is inactive):** The `Output_of_Second_Switch` is passed.\r\n    *   **Else (if `LV_INJ_CUT` is active):** A constant `0` is passed. This means if injection is cut, the count is forced to zero.\r\n6.  **Fourth Switch (Non-Negativity Enforcement):**\r\n    *   **Control:** `Output_of_Third_Switch < 0`.\r\n    *   **If True (if the previous output is negative):** A constant `0` is passed.\r\n    *   **Else:** The `Output_of_Third_Switch` is passed.\r\n    *   This ensures the final `nb_seg_not_inj_eol_out` is always `max(0, Output_of_Third_Switch)`.", "mimetype": "text/plain", "start_char_idx": 276523, "end_char_idx": 279779, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "bbf66f6c-b36b-4726-a0d0-581be15103ad": {"__data__": {"id_": "bbf66f6c-b36b-4726-a0d0-581be15103ad", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8cc89621-52d3-48de-b26a-8dc631fa4883", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "00a477b1c2c9e8c7c835142bb5362759f8838425f8a5d7048164013bb17cde3d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "25800da9-bd86-4837-8282-55a956ad73c8", "node_type": "1", "metadata": {}, "hash": "b21b9e093716102db909ef22fb77be4b9a6a14b84227328e3f9ea1e4d876cccf", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **If True (if the previous output is negative):** A constant `0` is passed.\r\n    *   **Else:** The `Output_of_Third_Switch` is passed.\r\n    *   This ensures the final `nb_seg_not_inj_eol_out` is always `max(0, Output_of_Third_Switch)`.\r\n\r\n\r\n--- Page 106 ---\r\n\r\nThis image contains two distinct Simulink-like diagrams, each performing a specific calculation related to an \"Engine roughness adaptive learning process\" (ENRD), as indicated by the title. I will analyze each diagram separately.\r\n\r\n---\r\n\r\n### **Analysis of Figure 296:34: \"Calculation of nb_seg_drv1_er_eol\"**\r\n\r\nThis diagram focuses on the calculation and limitation of a segment count parameter.\r\n\r\n#### ## Function\r\nThe primary function of this subsystem is to calculate `nb_seg_drv1_er_eol_out` by clamping the input `nb_seg_drv1_er_eol_in` between a defined minimum (`C_NR_SEG_DRV1_MIN_ER`) and maximum (`C_DRV1_MAX_SEG_AD_ER`), with a conditional adjustment or override based on the `DRV1_ER` input. This likely ensures that a segment-related parameter for engine roughness adaptive learning stays within operational bounds.\r\n\r\n#### ## Inputs\r\n*   `nb_seg_drv1_er_eol_in` (Port 1): The initial or proposed segment count value.\r\n*   `DRV1_ER` (Port 2): A boolean flag or discrete value (likely 0 or 1) that influences the lower bound check.\r\n*   `C_NR_SEG_DRV1_MIN_ER`: A constant or calibration parameter defining the absolute minimum segment count.\r\n*   `C_DRV1_MAX_SEG_AD_ER`: A constant or calibration parameter defining the absolute maximum segment count.\r\n*   `1` (Constant V.6.4): A numerical constant.\r\n*   `0` (Constant V.6.4): A numerical constant.\r\n\r\n#### ## Outputs\r\n*   `nb_seg_drv1_er_eol_out` (Port 1): The calculated and potentially clamped segment count.\r\n\r\n#### ## Logic Flow\r\n1.  **Lower Bound Check and Adjustment:**\r\n    *   The input `nb_seg_drv1_er_eol_in` is compared to `C_NR_SEG_DRV1_MIN_ER` using a \"less than\" (`<`) operator.\r\n    *   Simultaneously, `DRV1_ER` is subtracted from `1` (implied `1 - DRV1_ER`) and then added to the result of the \"less than\" comparison (indicated by V.6.7 on the adder). This combined value then feeds into the control port of the first `Check ~= 0` block (which acts like a Switch block, V.6.0).\r\n    *   If the control input to the `Check ~= 0` block is true (non-zero), it selects `C_NR_SEG_DRV1_MIN_ER`; otherwise, it selects `nb_seg_drv1_er_eol_in`. This effectively clamps `nb_seg_drv1_er_eol_in` at `C_NR_SEG_DRV1_MIN_ER` if it's below, but the logic with `DRV1_ER` suggests `DRV1_ER` might override or adjust this lower limit condition.\r\n\r\n2.  **Upper Bound Check:**\r\n    *   The `nb_seg_drv1_er_eol_in` value is also compared to `C_DRV1_MAX_SEG_AD_ER` using a \"greater than\" (`>`) operator (V.6.5).\r\n\r\n3.  **Final Clamping/Selection:**\r\n    *   The output from the first conditional check (lower bound) and the `nb_seg_drv1_er_eol_in` are fed into a second `Check ~= 0` block (V.6.0). The result of the \"greater than\" comparison (upper bound check, V.6.5) acts as the control input for this second `Check ~= 0` block.\r\n    *   If the control input from the \"greater than\" comparison is true (meaning `nb_seg_drv1_er_eol_in` exceeds the maximum), the `Check ~= 0` block selects `0` (Constant V.6.4). Otherwise, it selects the value from the lower bound processing stage.\r\n    *   The final output is `nb_seg_drv1_er_eol_out`. This entire sequence results in `nb_seg_drv1_er_eol_in` being clamped between `C_NR_SEG_DRV1_MIN_ER` and `C_DRV1_MAX_SEG_AD_ER`, with a potential `0` output if the upper limit is exceeded.", "mimetype": "text/plain", "start_char_idx": 279540, "end_char_idx": 283092, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "25800da9-bd86-4837-8282-55a956ad73c8": {"__data__": {"id_": "25800da9-bd86-4837-8282-55a956ad73c8", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "bbf66f6c-b36b-4726-a0d0-581be15103ad", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "208e69107d570ca810164672fa78af0cda73d3f3b29d5f27d030426bff3ef5ee", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "632cd92e-05d3-474f-80ab-4a67ad506c35", "node_type": "1", "metadata": {}, "hash": "237c3cea25fa2de9f437e83e5bba8dfff21d51081ab78927ca6a75f1e993ec90", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Otherwise, it selects the value from the lower bound processing stage.\r\n    *   The final output is `nb_seg_drv1_er_eol_out`. This entire sequence results in `nb_seg_drv1_er_eol_in` being clamped between `C_NR_SEG_DRV1_MIN_ER` and `C_DRV1_MAX_SEG_AD_ER`, with a potential `0` output if the upper limit is exceeded. The `0` output when `MAX` is exceeded seems unusual for simple clamping and might imply a flag or error state rather than just saturating at the maximum value.\r\n\r\n---\r\n\r\n### **Analysis of Figure 296:35: \"Calculation based on LV_SEG_AD_AVL_ER\"**\r\n\r\nThis diagram calculates multiple adaptive learning and diagnostic parameters based on a validity flag.\r\n\r\n#### ## Function\r\nThe primary function of this subsystem is to conditionally calculate several output parameters (`LV_SEG_AD_ER`, `DELTA_CRK_DIF_MAX_ER_out`, `LV_SEG_AD_AVL_ER_RGL`, `LV_SEG_AD_AVL_ER_out`, `CRLC_SEG_AD_ER`, `CTR_SEG_AD_ER_out`). The calculation path is determined by the `LV_SEG_AD_AVL_ER_in` signal, which likely indicates the availability or validity of segment adaptive learning data. If valid, it passes through existing data or assigns default values; otherwise, it triggers a fallback calculation via a dedicated function `f()`.\r\n\r\n#### ## Inputs\r\n*   `LV_SEG_AD_AVL_ER_in` (Port 8): A boolean flag indicating the validity or availability of segment adaptive learning data.\r\n*   `NC_CYL_NR` (Port 6): Input for the \"valid\" branch. (likely Number of Cylinders)\r\n*   `DELTA_CRK_DIF_MAX_ER_in` (Port 9): Input for the \"valid\" branch. (likely maximum crank difference for roughness)\r\n*   `LV_SEG_AD_FDOUY_ER_EOL` (Port 7): Input for the \"valid\" branch, mapped to `CRLC_SEG_AD_ER_in`.\r\n*   `CTR_SEG_AD_ER_in` (Port 10): Input for the \"valid\" branch.\r\n*   `LV_AT` (Port 1): Input to the `f()` function in the \"not valid\" branch.\r\n*   `LV_CVT` (Port 2): Input to the `f()` function in the \"not valid\" branch.\r\n*   `LV_DCT` (Port 3): Input to the `f()` function in the \"not valid\" branch.\r\n*   `LV_CYC_SEG_AD_ER_LOW` (Port 4): Input to the `f()` function in the \"not valid\" branch.\r\n*   `N_32` (Port 5): Input to the `f()` function in the \"not valid\" branch.\r\n*   `1` (Constant V.6.4): A numerical constant used in the \"valid\" branch.\r\n\r\n#### ## Outputs\r\n*   `LV_SEG_AD_ER` (Port 6): Segment adaptive learning enable/status.\r\n*   `DELTA_CRK_DIF_MAX_ER_out` (Port 2): Output for maximum crankshaft difference.\r\n*   `LV_SEG_AD_AVL_ER_RGL` (Port 5): Output related to adaptive learning availability (regular).\r\n*   `LV_SEG_AD_AVL_ER_out` (Port 1): Output for adaptive learning availability.\r\n*   `CRLC_SEG_AD_ER` (Port 4): Calculated segment adaptive learning parameter.\r\n*   `CTR_SEG_AD_ER_out` (Port 3): Calculated segment counter.\r\n\r\n#### ## Logic Flow\r\n1.  **Condition Evaluation:**\r\n    *   The `LV_SEG_AD_AVL_ER_in` signal is fed directly as the main condition to an `If` block (V.6.0, labeled `cond_if`).\r\n    *   A `NOT` gate (V.6.2) inverts `LV_SEG_AD_AVL_ER_in`, providing the condition for the `else` branch.\r\n\r\n2.  **\"If\" Branch (CDN_VLD - Condition Valid):**\r\n    *   If `LV_SEG_AD_AVL_ER_in` is true (i.e., adaptive learning is valid/available):\r\n        *   `LV_SEG_AD_ER` is set to the constant value `1`.\r\n        *   `DELTA_CRK_DIF_MAX_ER_out` directly passes through `DELTA_CRK_DIF_MAX_ER_in`.\r\n        *   `LV_SEG_AD_AVL_ER_RGL` receives `LV_SEG_AD_AVL_ER` (likely an implicit pass-through of `LV_SEG_AD_AVL_ER_in`).", "mimetype": "text/plain", "start_char_idx": 282778, "end_char_idx": 286195, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "632cd92e-05d3-474f-80ab-4a67ad506c35": {"__data__": {"id_": "632cd92e-05d3-474f-80ab-4a67ad506c35", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "25800da9-bd86-4837-8282-55a956ad73c8", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "edaee45f7647a00a40cbb778e1ed27abd7d2f6b6eb1538b8b908bb4e98442d93", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "91e9f5c2-21a9-4de8-945a-64223437f2c6", "node_type": "1", "metadata": {}, "hash": "5b6f835184c6539ac9973aca9b77f4271b657dc243b48b2cb45dab30710b600a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `DELTA_CRK_DIF_MAX_ER_out` directly passes through `DELTA_CRK_DIF_MAX_ER_in`.\r\n        *   `LV_SEG_AD_AVL_ER_RGL` receives `LV_SEG_AD_AVL_ER` (likely an implicit pass-through of `LV_SEG_AD_AVL_ER_in`).\r\n        *   `LV_SEG_AD_AVL_ER_out` receives `LV_SEG_AD_AVL_ER` (again, likely `LV_SEG_AD_AVL_ER_in`).\r\n        *   `CRLC_SEG_AD_ER` receives `LV_SEG_AD_FDOUY_ER_EOL`.\r\n        *   `CTR_SEG_AD_ER_out` receives `CTR_SEG_AD_ER_in`.\r\n    *   This branch essentially uses direct inputs or constants when adaptive learning data is considered valid.\r\n\r\n3.  **\"Else\" Branch (CDN_NOT_VLD - Condition Not Valid):**\r\n    *   If `LV_SEG_AD_AVL_ER_in` is false (i.e., adaptive learning is not valid/available):\r\n        *   A function block `f()` is invoked. Its inputs are `LV_AT`, `LV_CVT`, `LV_DCT`, `LV_CYC_SEG_AD_ER_LOW`, and `N_32`.\r\n        *   This function `f()` calculates and outputs `CRLC_SEG_AD_ER` and `CTR_SEG_AD_ER_out`.\r\n    *   This branch provides a fallback calculation mechanism when primary adaptive learning data is not available.\r\n\r\n4.  **Merging Outputs:**\r\n    *   The outputs `CRLC_SEG_AD_ER` and `CTR_SEG_AD_ER_out` from both the `if` and `else` branches are then fed into `Merge` blocks. These blocks ensure that the appropriate value (from either the `if` or `else` path) is selected and passed to the final output ports based on the `LV_SEG_AD_AVL_ER_in` condition.\r\n\r\n\r\n--- Page 107 ---\r\n\r\nThis is indeed a Simulink diagram.\r\n\r\n## Function\r\nThis Simulink diagram implements logic for calculating and managing the \"DELTA CRK DIF MAX ER\" (Delta Crankshaft Differential Maximum Engine Roughness) value, along with related control flags and counters for an Engine Roughness (ER) adaptation process. The logic differentiates between various adaptation states or windows (e.g., \"fast\" adaptation, \"regular\" adaptation, \"end of learning\" states) and determines the final maximum ER value and the availability status of the adaptation process. The accompanying text suggests this process involves adaptation for \"regular window\" and \"catalyst heating window.\"\r\n\r\n## Inputs\r\n1.  **`C_CRLC_SEG_AD_ER_EOL`**: Constant/Parameter (boolean flag), likely indicating whether a segment adaptation ER \"End Of Life/Learning\" condition is met.\r\n2.  **`LV_SEG_AD_FDOU_ER_EOL`**: Live Variable/Signal (boolean flag), possibly indicating a \"Finished Done Once\" or \"End Of Learning\" status for ER adaptation.\r\n3.  **`C_CRLC_FAST_SEG_AD_ER`**: Constant/Parameter (boolean flag), likely indicating a fast segment adaptation mode for ER.\r\n4.  **`DELTA_CRK_DIF_MAX_ER_in`**: Input signal for the delta crankshaft differential maximum ER value. This is the base value that might be adjusted.\r\n5.  **`NC_CYL_NR`**: Constant/Parameter (integer), representing the Number of Cylinders.\r\n6.  **`C_CRK_DIF_MAX_ER`**: Constant/Parameter (numerical), defining a specific maximum crankshaft differential ER value used for adjustment.\r\n7.  **`CTR_SEG_AD_ER_in`**: Input signal for a counter related to segment adaptation for ER.\r\n8.  **`C_NR_SEG_AD_AVL_ER`**: Constant/Parameter (numerical), a threshold for the counter to determine the availability of regular segment adaptation.\r\n9.  **`C_NR_SEG_AD_AVL_ER_TOT`**: Constant/Parameter (numerical), a total threshold for the counter to determine overall segment adaptation availability.\r\n\r\n## Outputs\r\n1.  **`CRLC_SEG_AD_ER`**: Output signal (boolean flag), indicating the currently active Crankshaft Roughness Learning Control Segment Adaptation mode for ER.\r\n2.  **`DELTA_CRK_DIF_MAX_ER_out`**: Output signal (numerical), the calculated or adjusted delta crankshaft differential maximum ER value.\r\n3.  **`CTR_SEG_AD_ER_out`**: Output signal (numerical), the incremented counter value for segment adaptation ER.\r\n4.  **`LV_SEG_AD_AVL_ER_RGL`**: Output signal (boolean flag), indicating the availability status of ER adaptation for the \"regular\" window.\r\n5.", "mimetype": "text/plain", "start_char_idx": 285990, "end_char_idx": 289883, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "91e9f5c2-21a9-4de8-945a-64223437f2c6": {"__data__": {"id_": "91e9f5c2-21a9-4de8-945a-64223437f2c6", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "632cd92e-05d3-474f-80ab-4a67ad506c35", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "4b5aaa15be7a2886b9a46f20e040bcb68f59550b27f965df16bd54c068a309d0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c2c56bd8-d55d-4703-b8a9-54fd0b17186b", "node_type": "1", "metadata": {}, "hash": "895e0139bc99d688f831a069f640e8957ec107b1694c9f3d059571fba1c9f5f3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "2.  **`DELTA_CRK_DIF_MAX_ER_out`**: Output signal (numerical), the calculated or adjusted delta crankshaft differential maximum ER value.\r\n3.  **`CTR_SEG_AD_ER_out`**: Output signal (numerical), the incremented counter value for segment adaptation ER.\r\n4.  **`LV_SEG_AD_AVL_ER_RGL`**: Output signal (boolean flag), indicating the availability status of ER adaptation for the \"regular\" window.\r\n5.  **`LV_SEG_AD_AVL_ER`**: Output signal (boolean flag), indicating the overall availability status of ER adaptation.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into several parallel and sequential operations:\r\n\r\n1.  **Determine Active Adaptation Segment (`CRLC_SEG_AD_ER`):**\r\n    *   The input `C_CRLC_SEG_AD_ER_EOL` (End Of Learning) is negated by a `NOT` gate.\r\n    *   A `Switch` block uses the output of the `NOT` gate as its control signal (`Check == 0` implies `if (control > 0) then top_input else bottom_input`).\r\n    *   If `C_CRLC_SEG_AD_ER_EOL` is `0` (false, so `NOT(0)` is `1`), the `Switch` passes `C_CRLC_FAST_SEG_AD_ER` (top input).\r\n    *   If `C_CRLC_SEG_AD_ER_EOL` is `1` (true, so `NOT(1)` is `0`), the `Switch` passes `LV_SEG_AD_FDOU_ER_EOL` (bottom input).\r\n    *   The selected value is assigned to `CRLC_SEG_AD_ER`. This effectively chooses the adaptation segment based on whether EOL is active.\r\n\r\n2.  **Calculate Adjusted Delta Value (`DELTA_CRK_DIF_MAX_ER_out`):**\r\n    *   The number of cylinders (`NC_CYL_NR`) is multiplied by a constant maximum differential ER value (`C_CRK_DIF_MAX_ER`).\r\n    *   This product is then added to the input delta value (`DELTA_CRK_DIF_MAX_ER_in`).\r\n    *   A second `Switch` block uses `CRLC_SEG_AD_ER` (from step 1) as its control.\r\n    *   If `CRLC_SEG_AD_ER` is `1` (true, active segment), the `Switch` passes the sum (adjusted value) as `DELTA_CRK_DIF_MAX_ER_out`.\r\n    *   If `CRLC_SEG_AD_ER` is `0` (false, not active), the `Switch` passes the original `DELTA_CRK_DIF_MAX_ER_in` as `DELTA_CRK_DIF_MAX_ER_out`.\r\n    *   This implies that the `DELTA_CRK_DIF_MAX_ER_in` is only adjusted if `CRLC_SEG_AD_ER` is active.\r\n\r\n3.  **Increment Adaptation Counter (`CTR_SEG_AD_ER_out`):**\r\n    *   The input counter value (`CTR_SEG_AD_ER_in`) is incremented by a constant `1` using a `Sum` block.\r\n    *   The result is assigned to `CTR_SEG_AD_ER_out`.\r\n\r\n4.  **Determine Regular Adaptation Availability (`LV_SEG_AD_AVL_ER_RGL`):**\r\n    *   The incremented counter (`CTR_SEG_AD_ER_out`) is compared against `C_NR_SEG_AD_AVL_ER` (regular adaptation availability threshold) using a `>=` (greater than or equal to) relational operator.\r\n    *   The boolean result of this comparison is logically `AND`ed with `LV_SEG_AD_FDOU_ER_EOL`. Let's call this intermediate result `temp_AND_RGL`.\r\n    *   A third `Switch` block uses `temp_AND_RGL` as its control.\r\n    *   If `temp_AND_RGL` is `1` (true), the `Switch` passes a constant `1`.\r\n    *   If `temp_AND_RGL` is `0` (false), the `Switch` passes `LV_SEG_AD_FDOU_ER_EOL`.\r\n    *   The output is `LV_SEG_AD_AVL_ER_RGL`, indicating if regular adaptation is available.\r\n\r\n5.  **Determine Overall Adaptation Availability (`LV_SEG_AD_AVL_ER`):**\r\n    *   The incremented counter (`CTR_SEG_AD_ER_out`) is compared against `C_NR_SEG_AD_AVL_ER_TOT` (total adaptation availability threshold) using a `>=` operator.\r\n    *   The boolean result of this comparison is logically `AND`ed with `temp_AND_RGL` (the same intermediate AND result from step 4). Let's call this `temp_AND_TOT`.", "mimetype": "text/plain", "start_char_idx": 289487, "end_char_idx": 292971, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c2c56bd8-d55d-4703-b8a9-54fd0b17186b": {"__data__": {"id_": "c2c56bd8-d55d-4703-b8a9-54fd0b17186b", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "91e9f5c2-21a9-4de8-945a-64223437f2c6", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "dc8bffc6b10e30451c01c943ea7eb141f7a46aecf51c32cac345f2a6e44f9921", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c0ec9d75-59e2-43f4-83d7-d9fdd1eebacc", "node_type": "1", "metadata": {}, "hash": "8109720b98949d3121c2251da1797661a82c94f98ab3b71f78fd1462b2c9f865", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The boolean result of this comparison is logically `AND`ed with `temp_AND_RGL` (the same intermediate AND result from step 4). Let's call this `temp_AND_TOT`.\r\n    *   A fourth `Switch` block uses `temp_AND_TOT` as its control.\r\n    *   If `temp_AND_TOT` is `1` (true), the `Switch` passes a constant `1`.\r\n    *   If `temp_AND_TOT` is `0` (false), the `Switch` passes `LV_SEG_AD_FDOU_ER_EOL`.\r\n    *   The output is `LV_SEG_AD_AVL_ER`, indicating the overall adaptation availability.\r\n\r\n\r\n--- Page 109 ---\r\n\r\n## Function\r\nThe image displays two Simulink-like diagrams, both titled as parts of \"ENRD. Engine roughness adaptive learning process\" and dealing with `N_32` (likely engine speed or a related parameter) for \"Lower range\" and \"Mid range\" cases.\r\n\r\nThe **primary function** of these diagrams is to calculate an adaptive learning error segment value, `CRLC_SEG_AD_ER`. This calculation is performed by selecting specific constant values (or `0`) based on the current engine speed (`N_32`), the active transmission type (Automatic, Dual Clutch, Continuously Variable, or Manual), and additional logical conditions (e.g., `LV_CYC_SEG_AD_ER_LOW` for the lower range). Essentially, these models define the logic for how different adaptive error compensation values are applied depending on the engine's operating state within specific speed ranges.\r\n\r\n## Inputs\r\nThe key inputs observed across both diagrams are:\r\n\r\n*   **`N_32`**: A numerical value representing engine speed or a similar operational parameter.\r\n*   **`LV_AT`**: A boolean flag, true if Automatic Transmission is active.\r\n*   **`LV_DCT`**: A boolean flag, true if Dual Clutch Transmission is active.\r\n*   **`LV_CVT`**: A boolean flag, true if Continuously Variable Transmission is active.\r\n*   **`LV_CYC_SEG_AD_ER_LOW`**: A boolean flag, specific to the \"Lower range\" case, indicating a condition for cyclic segment adaptive error.\r\n*   **Configuration Constants (Numerical or Boolean Parameters):**\r\n    *   `C_N_MIN_L_SEG_AD_ER_MT`, `C_N_MIN_L_SEG_AD_ER_CVT`, `C_N_MIN_L_SEG_AD_ER_DCT`, `C_N_MIN_L_SEG_AD_ER_AT`: Minimum `N_32` thresholds for the \"Lower range\" case, specific to transmission types.\r\n    *   `C_CRLC_SEG_AD_ER_LOW`: An output constant (likely a value or a boolean flag) for the \"Lower range\" case.\r\n    *   `C_CRLC_SEG_AD_ER_L`: Another output constant for the \"Lower range\" case.\r\n    *   `C_N_MAX_MID_SEG_AD_ER_CVT`, `C_N_MAX_MID_SEG_AD_ER_DCT`, `C_N_MAX_MID_SEG_AD_ER_AT`, `C_N_MAX_MID_SEG_AD_ER_MT`: Maximum `N_32` thresholds for the \"Mid range\" case, specific to transmission types.\r\n    *   `C_CRLC_SEG_AD_ER_MID`: An output constant for the \"Mid range\" case.\r\n    *   `C_CRLC_SEG_AD_ER_H`: Another output constant for the \"Mid range\" case.\r\n\r\n## Outputs\r\n*   **`CRLC_SEG_AD_ER`**: A numerical value representing the calculated adaptive learning error segment. This value is determined independently by each diagram based on its specific logic and operating range.\r\n\r\n## Logic Flow\r\n\r\nThe image contains two distinct logical flows for different operating ranges of `N_32`. Both use Simulink-style switch blocks (the 'T' shape with \"Check ~= 0\") where a non-zero control input selects the upper data input, and a zero control input selects the lower data input.\r\n\r\n### 1. N_32 Lower range case (Figure 296.38)\r\n\r\nThis diagram determines `CRLC_SEG_AD_ER` when `N_32` is in a lower operational range.\r\n\r\n1.  **Select N_32 Minimum Threshold:** A cascaded series of switch blocks selects a minimum `N_32` threshold based on the active transmission type.\r\n    *   If `LV_CVT` is true, `C_N_MIN_L_SEG_AD_ER_CVT` is chosen.\r\n    *   Else if `LV_DCT` is true, `C_N_MIN_L_SEG_AD_ER_DCT` is chosen.\r\n    *   Else if `LV_AT` is true, `C_N_MIN_L_SEG_AD_ER_AT` is chosen.", "mimetype": "text/plain", "start_char_idx": 292809, "end_char_idx": 296565, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c0ec9d75-59e2-43f4-83d7-d9fdd1eebacc": {"__data__": {"id_": "c0ec9d75-59e2-43f4-83d7-d9fdd1eebacc", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c2c56bd8-d55d-4703-b8a9-54fd0b17186b", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "a589a4d18d7c91b678853d31becc9b63c6cd2387ddf269ef78ec1292cd322d71", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "198e26d2-cd8f-4c0a-9802-b571eef9cb78", "node_type": "1", "metadata": {}, "hash": "b58ff42b03645ef0a3e60f7069b0bf2e64ff16f68acd87a049b083ac4d45cb9d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   If `LV_CVT` is true, `C_N_MIN_L_SEG_AD_ER_CVT` is chosen.\r\n    *   Else if `LV_DCT` is true, `C_N_MIN_L_SEG_AD_ER_DCT` is chosen.\r\n    *   Else if `LV_AT` is true, `C_N_MIN_L_SEG_AD_ER_AT` is chosen.\r\n    *   Otherwise (default, implying Manual Transmission), `C_N_MIN_L_SEG_AD_ER_MT` is chosen.\r\n    *   Let this selected threshold be `Selected_N_Min_Threshold`.\r\n\r\n2.  **Evaluate N_32 Lower Bound Condition:** The current `N_32` is compared with `Selected_N_Min_Threshold` using a \"less than\" block (`<`). The output is a boolean: `N_LOW_CONDITION = (N_32 < Selected_N_Min_Threshold)`.\r\n\r\n3.  **Determine Intermediate Error Value:** A switch block uses `N_LOW_CONDITION` as its control.\r\n    *   If `N_LOW_CONDITION` is true, it outputs `C_CRLC_SEG_AD_ER_LOW`.\r\n    *   If `N_LOW_CONDITION` is false, it outputs `0`.\r\n    *   Let this be `Intermediate_AD_ER_Value`.\r\n\r\n4.  **Evaluate Segment Activation Condition:** The boolean `LV_CYC_SEG_AD_ER_LOW` is inverted by a `NOT` block. This inverted signal is then combined with the constant `C_CRLC_SEG_AD_ER_LOW` (interpreted as a boolean flag) using an `AND` block. The output is `Segment_Activation_Condition = (NOT LV_CYC_SEG_AD_ER_LOW) AND C_CRLC_SEG_AD_ER_LOW`.\r\n\r\n5.  **Final `CRLC_SEG_AD_ER` Selection:** A final switch block uses `Segment_Activation_Condition` as its control input.\r\n    *   If `Segment_Activation_Condition` is true, it outputs `C_CRLC_SEG_AD_ER_L`.\r\n    *   If `Segment_Activation_Condition` is false, it outputs `Intermediate_AD_ER_Value`.\r\n    *   This is the final `CRLC_SEG_AD_ER` for the lower range.\r\n\r\n### 2. N_32 Mid range case (Figure 296.39)\r\n\r\nThis diagram determines `CRLC_SEG_AD_ER` when `N_32` is in a mid operational range.\r\n\r\n1.  **Select N_32 Maximum Mid-Range Threshold:** Similar to the lower range, a cascaded series of switch blocks selects a maximum `N_32` threshold based on the active transmission type. The constants used are `C_N_MAX_MID_SEG_AD_ER_CVT`, `C_N_MAX_MID_SEG_AD_ER_DCT`, `C_N_MAX_MID_SEG_AD_ER_AT`, and `C_N_MAX_MID_SEG_AD_ER_MT`. Let this be `Selected_N_Max_Mid_Threshold`.\r\n\r\n2.  **Evaluate N_32 Mid-Range Condition:** The current `N_32` is compared with `Selected_N_Max_Mid_Threshold` using a \"less than\" block (`<`). The output is a boolean: `N_MID_CONDITION = (N_32 < Selected_N_Max_Mid_Threshold)`.\r\n\r\n3.  **Determine Intermediate Error Value:** A switch block uses `N_MID_CONDITION` as its control.\r\n    *   If `N_MID_CONDITION` is true, it outputs `C_CRLC_SEG_AD_ER_MID`.\r\n    *   If `N_MID_CONDITION` is false, it outputs `0`.\r\n    *   Let this be `Intermediate_AD_ER_Value_Mid`.\r\n\r\n4.  **Final `CRLC_SEG_AD_ER` Selection:** A final switch block uses `N_MID_CONDITION` as its control input.\r\n    *   If `N_MID_CONDITION` is true, it outputs `C_CRLC_SEG_AD_ER_H`.\r\n    *   If `N_MID_CONDITION` is false, it outputs `Intermediate_AD_ER_Value_Mid`.\r\n    *   This is the final `CRLC_SEG_AD_ER` for the mid-range.\r\n\r\n\r\n--- Page 110 ---\r\n\r\nThis image contains several Simulink-like diagrams, each detailing a part of an automotive control system. I will analyze these as a cohesive system.\r\n\r\n## Function\r\n\r\nThe primary function of this system is **Engine Roughness Threshold Correction (THD_AD_ER)**. It implements an adaptive learning process to dynamically adjust a threshold related to engine roughness. This adaptation involves managing the activation, deactivation, and initialization of the adaptive process, and then calculating the corrected threshold based on various operational conditions and measured roughness parameters.", "mimetype": "text/plain", "start_char_idx": 296362, "end_char_idx": 299918, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "198e26d2-cd8f-4c0a-9802-b571eef9cb78": {"__data__": {"id_": "198e26d2-cd8f-4c0a-9802-b571eef9cb78", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c0ec9d75-59e2-43f4-83d7-d9fdd1eebacc", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "de18fbf1af46c8647c7ccdb3d32c73fafbf1e8a5db87f21e44681f51dd2fa019", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "77717870-ea5a-4854-a78d-52359879f1ce", "node_type": "1", "metadata": {}, "hash": "2382b931e24aebf449c0069be0ca9d205827a952563cab937c988ed3416acaf8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "I will analyze these as a cohesive system.\r\n\r\n## Function\r\n\r\nThe primary function of this system is **Engine Roughness Threshold Correction (THD_AD_ER)**. It implements an adaptive learning process to dynamically adjust a threshold related to engine roughness. This adaptation involves managing the activation, deactivation, and initialization of the adaptive process, and then calculating the corrected threshold based on various operational conditions and measured roughness parameters. The goal is likely to provide a dynamic and context-aware threshold for detecting or controlling engine roughness, which can be crucial for engine performance, emissions, and driver comfort.\r\n\r\n## Inputs\r\n\r\nThe key inputs to this system, derived from all three diagrams, are:\r\n\r\n*   **`sys_eve`**: System events or status signals (e.g., indicating the overall system state or specific operating conditions).\r\n*   **`FI_AD_PH_RST`**: A flag to reset the adaptive phase for engine roughness.\r\n*   **`FI_AD_PH_SEG`**: A flag related to the segmentation of the adaptive phase for engine roughness.\r\n*   **`LV_ENA_ER`**: A local variable that enables or disables the adaptive logic for engine roughness.\r\n*   **`SEG_T_COR`**: A segment time correction value, likely used to compensate for timing or duration in adaptive calculations.\r\n*   **`DELTA_CRK_DIF_MAX_ER`**: The maximum delta crank angle difference, serving as a direct measurement or indicator of engine roughness.\r\n*   **`LV_SEG_AD_AVL_ER`**: A local variable indicating the availability of adaptive segment data for engine roughness (i.e., whether the system has valid adaptive segment information).\r\n*   **`LV_AD_ER`**: A local variable representing current adaptive engine roughness (potentially a feedback signal).\r\n\r\n## Outputs\r\n\r\nThe primary output of this system is:\r\n\r\n*   **`THD_AD_ER` / `fi_ad_ph`**: The calculated and corrected adaptive engine roughness threshold. This value represents the dynamic threshold against which engine roughness is evaluated.\r\n\r\n## Logic Flow\r\n\r\nThe system's logic flow integrates the functionalities shown in the three diagrams:\r\n\r\n1.  **Adaptive Process State Management (Figure 296.40 - Recurrence Block):**\r\n    *   The \"Recurrence\" block acts as a state machine or sequential logic, driven by system events (`sys_eve`), adaptive phase reset requests (`FI_AD_PH_RST`), and adaptive phase segment flags (`FI_AD_PH_SEG`).\r\n    *   It manages the overall state of the adaptive process, including its activation and deactivation based on `LV_ENA_ER`.\r\n        *   If `LV_ENA_ER` is `1`, an \"Activation\" sequence is triggered.\r\n        *   If `LV_ENA_ER` is `0`, a \"Deactivation\" sequence is triggered.\r\n    *   This block generates internal control flags like `SEG`, `RST`, `deactivation`, `fc_INI` (force initialization), and `fc_OPM` (force operational segment processing), which control subsequent processing stages.\r\n\r\n2.  **Initialization of Adaptive Threshold (Figure 296.41 & 296.40's `INI` block):**\r\n    *   When the `fc_INI` flag (from the \"Recurrence\" block) or other conditions dictate an initialization of the adaptive threshold, the `INI X.3.2.1` function block is activated.\r\n    *   As detailed in Figure 296.41, during this initialization, the `THD_AD_ER` variable is explicitly set to a constant value of `0`. This ensures a predictable starting point for the adaptive threshold.\r\n\r\n3.  **Operational Segment Data Processing (Figure 296.40 - `OPM_SEG` block):**\r\n    *   The `OPM_SEG X.3.2.2` function block processes operational parameters relevant to engine roughness in the current segment.\r\n    *   It takes `LV_ENA_ER`, `SEG_T_COR`, `DELTA_CRK_DIF_MAX_ER`, `LV_SEG_AD_AVL_ER`, and `LV_AD_ER` as inputs.\r\n    *   This block likely calculates or prepares data related to the current engine operating conditions and adaptive status, which is then fed into other parts of the system, including the `BusMerge` and `INI` block.\r\n\r\n4.  **Adaptive Threshold (`THD_AD_ER`) Calculation Logic (Figure 296.42):**\r\n    *   This section determines the instantaneous value of `THD_AD_ER`:\r\n        *   **Condition 1 (AND Gate):** `DELTA_CRK_DIF_MAX_ER` and `SEG_T_COR` are evaluated together using an AND logic (X V.6.7). This means the output is true only if both input conditions are met.", "mimetype": "text/plain", "start_char_idx": 299430, "end_char_idx": 303713, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "77717870-ea5a-4854-a78d-52359879f1ce": {"__data__": {"id_": "77717870-ea5a-4854-a78d-52359879f1ce", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "198e26d2-cd8f-4c0a-9802-b571eef9cb78", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "1fd03418ea38edfd8ac7a8fbca6d140fdce2fc6930d727b5fc7d48b9a9828e7f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "883000bd-ea4d-4686-9288-266baec73020", "node_type": "1", "metadata": {}, "hash": "10d2eebfb880f8436e561c45b72384e61a3e3083216b1f01145839dbbc7f5c9d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "4.  **Adaptive Threshold (`THD_AD_ER`) Calculation Logic (Figure 296.42):**\r\n    *   This section determines the instantaneous value of `THD_AD_ER`:\r\n        *   **Condition 1 (AND Gate):** `DELTA_CRK_DIF_MAX_ER` and `SEG_T_COR` are evaluated together using an AND logic (X V.6.7). This means the output is true only if both input conditions are met. This result forms one potential value for `THD_AD_ER`.\r\n        *   **Condition 2 (NOT Gate):** `LV_SEG_AD_AVL_ER` (availability of adaptive segment data) is inverted using a NOT gate (V.6.2).\r\n        *   **Selection (Switch Block):** A Switch block (V.6.4, labeled \"Check == 0\") uses the inverted `LV_SEG_AD_AVL_ER` as its control input:\r\n            *   If `NOT(LV_SEG_AD_AVL_ER)` is TRUE (meaning `LV_SEG_AD_AVL_ER` is FALSE, i.e., adaptive segment data is NOT available), the output of the AND gate (`DELTA_CRK_DIF_MAX_ER AND SEG_T_COR`) is selected as `THD_AD_ER`.\r\n            *   If `NOT(LV_SEG_AD_AVL_ER)` is FALSE (meaning `LV_SEG_AD_AVL_ER` is TRUE, i.e., adaptive segment data IS available), a constant `0` is selected as `THD_AD_ER`.\r\n    *   This logic indicates that an active calculation of `THD_AD_ER` based on `DELTA_CRK_DIF_MAX_ER` and `SEG_T_COR` only occurs when specific adaptive segment data is *not* available. When it is available, the threshold defaults to `0`, possibly implying that a different, more sophisticated adaptive mechanism takes precedence, or `0` indicates no active correction is needed from this specific calculation path.\r\n\r\n5.  **Output Aggregation (Figure 296.40 - BusMerge):**\r\n    *   The various internal signals, including the computed `THD_AD_ER` (or its components) and potentially signals from the `OPM_SEG` block, are combined into a single bus using a `BusMerge` block (V.6.0).\r\n    *   The final output of this bus, labeled `<THD_AD_ER>`, is then passed to the output port, which is ultimately designated as `fi_ad_ph`.\r\n\r\n\r\n--- Page 113 ---\r\n\r\nThis image is a Simulink diagram illustrating a control or signal processing system.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram, titled \"ENRD. Engine roughness adaptive learning process\", is to implement an adaptive learning algorithm for engine roughness. It involves processing various engine-related inputs, timing, and state information to calculate and adaptively learn parameters related to engine roughness. This process likely aims to improve engine performance, efficiency, or diagnostics by continuously refining models based on operational data.\r\n\r\n## Inputs\r\n\r\nThe system receives inputs from three main ports: `sys_eve` (system events), `Input` (general process inputs), and `feedback` (feedback signals from other parts of the system or previous states).\r\n\r\n**From `sys_eve` port:**\r\n*   `<FIL_RST>`: Filter reset signal.\r\n*   `<FIL_NVMRES>`: Non-Volatile Memory Reset signal.\r\n*   `<FIL_NVMINI>`: Non-Volatile Memory Initialization signal.\r\n*   `<FIL_NVMSTO>`: Non-Volatile Memory Store signal.\r\n*   `<fc_SEG>`: Function call for segment processing.\r\n*   `<fc_10MS>`: Function call for 10ms processing.\r\n*   `<LV_SEG_AD_RAW_ER>`: Level of segment adaptive raw error.\r\n*   `<SEG_NR_MES>`: Number of measurements in the segment.\r\n\r\n**From `Input` port:**\r\n*   `<LV_ST_END>`: Level for segment end status.\r\n*   `<SEG_AD_RST_ER_EOL>`: Segment adaptive learning reset error at end of line.\r\n*   `<SEG_T_MES_CYL>`: Measured segment time per cylinder.\r\n*   `<SEG_NR_MES>`: (Appears again, likely distinct context or shared parameter) Number of measurements in segment.\r\n*   `<LV_REQ_SEG_AD_MMV_APP>`: Level of request for segment adaptive Multi-Model Variance (MMV) application.\r\n*   `<SEG_AD_MMV_ER_APP>`: Segment adaptive MMV error application.\r\n*   `<NC_CYL_NR>`: Number of engine cylinders.\r\n*   `<N_32>`: Engine speed (32-bit value).\r\n*   `<LV_AT>`: Level related to Automatic Transmission.", "mimetype": "text/plain", "start_char_idx": 303363, "end_char_idx": 307238, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "883000bd-ea4d-4686-9288-266baec73020": {"__data__": {"id_": "883000bd-ea4d-4686-9288-266baec73020", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "77717870-ea5a-4854-a78d-52359879f1ce", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "401f8e825b2a83c9e3f979258b5a1812244f55ffcaa43b488ddd3837c08f8303", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d2e6bfcb-3821-49fc-8dac-996c7b626b1a", "node_type": "1", "metadata": {}, "hash": "10c2396ccbff6a2f67bf8620614e9e7831f7971b72937d38c386dfff82925a7b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `<LV_REQ_SEG_AD_MMV_APP>`: Level of request for segment adaptive Multi-Model Variance (MMV) application.\r\n*   `<SEG_AD_MMV_ER_APP>`: Segment adaptive MMV error application.\r\n*   `<NC_CYL_NR>`: Number of engine cylinders.\r\n*   `<N_32>`: Engine speed (32-bit value).\r\n*   `<LV_AT>`: Level related to Automatic Transmission.\r\n*   `<LV_CVT>`: Level related to Continuously Variable Transmission.\r\n*   `<LV_DCT>`: Level related to Dual-Clutch Transmission.\r\n*   `<LV_SEG_AD_ER>`: Level of segment adaptive error.\r\n*   `<LV_SEG_AD_AVL_ER>`: Level of segment adaptive availability error.\r\n\r\n**From `feedback` port:**\r\n*   `<CRLC_SEG_AD_ER>`: Cumulative error for segment adaptive learning.\r\n*   `<LV_ER_WIN_CH_AD>`: Level of error window change adaptation.\r\n*   `<SEG_T_MES_old>`: Previous measured segment time.\r\n\r\n## Outputs\r\n\r\nThe system primarily outputs a data bus named `fill` and a control signal `fc_ACT`.\r\n\r\n**Control/Status Output:**\r\n*   `fc_ACT`: Function call activation signal, indicating overall system activation.\r\n\r\n**Data Bus Output (`fill`), containing the following aggregated signals:**\r\n*   `ini`: Initialization status or data from the `INI` block.\r\n*   `inopm_10ms`: Processed data from the 10ms operational processing block.\r\n*   `opm_seg`: Processed data from the segment-based operational processing block.\r\n*   `<CTR_CYC_SEG_AD_ER_LOW>`: Control cycle segment adaptive error (low range).\r\n*   `<LV_CYC_SEG_AD_ER_LOW>`: Level cycle segment adaptive error (low range).\r\n*   `<LV_SEG_AD_LIM_ER>`: Level of segment adaptive learning limit error.\r\n*   `<LV_START_NEW_AD>`: Level to start a new adaptive learning sequence.\r\n*   `<SEG_AD_MMV_ER_CH>`: Segment adaptive MMV error (charge/change related).\r\n*   `<SEG_AD_MMV_ER_H>`: Segment adaptive MMV error (high range).\r\n*   `<SEG_AD_MMV_ER_L>`: Segment adaptive MMV error (low range).\r\n*   `<SEG_AD_MMV_ER_MID>`: Segment adaptive MMV error (middle range).\r\n*   `<SEG_AD_RAW_MMV_ER>`: Segment adaptive raw MMV error.\r\n*   `<SEG_AD_MMV_ER_LOW>`: Segment adaptive MMV error (another low range indication).\r\n\r\n## Logic Flow\r\n\r\n1.  **System Event and Recurrence Management:**\r\n    *   The `sys_eve` inputs, including various filter and NVM (Non-Volatile Memory) control signals, and function call triggers (`fc_SEG`, `fc_10MS`), feed into the `Recurrence` block.\r\n    *   The `Recurrence` block acts as a state manager or scheduler. It handles initialization (RST, NVMRES, NVMINI, NVMSTO) and activation/deactivation logic based on conditions like `LV_SEG_AD_RAW_ER` and `SEG_NR_MES` for `SEG` (segment) processing, and an \"always\" condition for `10MS` processing.\r\n    *   This block outputs timing and control signals (`SEG`, `10MS`, `RST`, `NVMRES`, `NVMINI`, `NVMSTO`) and specific function call triggers (`fc_INI`, `fc_OPM_SEG`, `fc_OPM_10MS`) to downstream processing units.\r\n\r\n2.  **Initialization (`INI` block):**\r\n    *   The `INI` block (`X.4.1`) receives the `fc_INI` trigger from `Recurrence` and the `fc_ACT` signal (potentially a global activation feedback). It also receives an `input` signal from the `fc_OPM_10ms` line (which is itself a timing signal from recurrence).\r\n    *   It performs necessary initialization procedures and outputs an `ini` signal/data to the `BusMerge` and the `fc_ACT` signal (which is also a global output).\r\n\r\n3.  **10ms Operational Processing (`OPM_10ms` block):**\r\n    *   The `OPM_10ms` block (`X.4.3`) is triggered by `fc_OPM_10MS` from the `Recurrence` block, indicating periodic (10ms) execution.\r\n    *   It also takes `input` from the `INI` block and receives `feedback` data from the `OPM_SEG` block, suggesting an interaction or dependency between the 10ms and segment-based processing.", "mimetype": "text/plain", "start_char_idx": 306913, "end_char_idx": 310618, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d2e6bfcb-3821-49fc-8dac-996c7b626b1a": {"__data__": {"id_": "d2e6bfcb-3821-49fc-8dac-996c7b626b1a", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "883000bd-ea4d-4686-9288-266baec73020", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "e70c31b99f3a3ec41b08ff0f4690bb5d5b0c6a33de535b2f653f11e28b76564a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "74b33dc7-4644-4f21-b58d-ff790f253f8b", "node_type": "1", "metadata": {}, "hash": "de289b69918bfc0f2f042c3329753357341c056c38832a938b1ec4691c1b1c74", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   It also takes `input` from the `INI` block and receives `feedback` data from the `OPM_SEG` block, suggesting an interaction or dependency between the 10ms and segment-based processing.\r\n    *   Its processed output, `inopm_10ms`, is sent to the `BusMerge`.\r\n\r\n4.  **Segment Operational Processing (`OPM_SEG` block):**\r\n    *   The `OPM_SEG` block (`X.4.2`) is triggered by `fc_OPM_SEG` from the `Recurrence` block, indicating processing specific to engine segments (e.g., per cylinder or combustion event).\r\n    *   It receives a multitude of general `Input` signals (engine speed, transmission type, segment-specific flags, and various error states) and `feedback` signals (cumulative errors, old measurement times).\r\n    *   This block likely contains the core adaptive learning logic for engine roughness, processing these inputs to determine segment-specific parameters.\r\n    *   Its output, `opm_seg`, is sent to the `BusMerge`.\r\n\r\n5.  **Output Aggregation (`BusMerge`):**\r\n    *   A `BusMerge` block (`V.6.0`) collects the processed outputs from `INI` (`ini`), `OPM_10ms` (`inopm_10ms`), and `OPM_SEG` (`opm_seg`).\r\n    *   Additionally, it directly aggregates numerous other derived or intermediate signals, mostly relating to various error states and adaptive learning parameters (e.g., `<CTR_CYC_SEG_AD_ER_LOW>`, `<LV_SEG_AD_LIM_ER>`, `<SEG_AD_MMV_ER_H>`).\r\n    *   All these signals are combined into a single output bus named `fill`, which serves as the comprehensive output of the engine roughness adaptive learning process to other parts of the automotive system.\r\n\r\n\r\n--- Page 114 ---\r\n\r\nThis image displays a Simulink diagram representing an initialization routine.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to initialize specific parameters related to an \"Engine roughness adaptive learning process\" (ENRD) at a system reset event. It sets initial values for several adaptive engine roughness (AD_ER) variables and associated counters.\r\n\r\n## Inputs\r\n1.  **f()**: This represents an external function or an initial state input that determines the value of `SEG_AD_MMV_ER_L`. Its exact nature (e.g., sensor reading, default value, calibrated parameter) is not specified within this diagram but it's the source for `SEG_AD_MMV_ER_L`.\r\n2.  **SEG_AD_MMV_ER_L**: This is the input signal representing a segmented adaptive motorized mixer valve engine roughness (likely for a 'left' or 'lower' segment, given 'L' and the 'LOW' outputs). Its value is determined by the `f()` input.\r\n\r\n## Outputs\r\n1.  **SEG_AD_RAW_MMV_ER** (Outport 1): This output parameter is initialized to the current value of `SEG_AD_MMV_ER_L`. It likely represents the raw adaptive engine roughness for the motorized mixer valve.\r\n2.  **SEG_AD_MMV_ER_LOW** (Outport 4): This output parameter is also initialized to the current value of `SEG_AD_MMV_ER_L`. It likely represents a \"low\" segmented adaptive engine roughness value.\r\n3.  **CTR_CYC_SEG_AD_ER_LOW** (Outport 3): This output parameter is initialized to `0`. It is likely a counter for cycles related to the low adaptive engine roughness segment.\r\n4.  **LV_CYC_SEG_AD_ER_LOW** (Outport 2): This output parameter is initialized to `0`. It is likely to store the 'last value' for cycles related to the low adaptive engine roughness segment.\r\n\r\n## Logic Flow\r\n1.  **Trigger Event**: The process is explicitly stated as \"Initialisation at reset event\", meaning this logic executes when the system (or relevant subsystem) undergoes a reset.\r\n2.  **Input Value Determination**: The value of `SEG_AD_MMV_ER_L` is determined by an external source or function, denoted as `f()`. This `f()` block passes its output directly to the input port of `SEG_AD_MMV_ER_L`.\r\n3.  **Adaptive Roughness Parameter Initialization**: The value from `SEG_AD_MMV_ER_L` is then used to initialize two distinct output parameters:\r\n    *   It is routed through a pass-through/assignment block (labeled '1') to set the initial value of `SEG_AD_RAW_MMV_ER`.", "mimetype": "text/plain", "start_char_idx": 310430, "end_char_idx": 314418, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "74b33dc7-4644-4f21-b58d-ff790f253f8b": {"__data__": {"id_": "74b33dc7-4644-4f21-b58d-ff790f253f8b", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d2e6bfcb-3821-49fc-8dac-996c7b626b1a", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "6a665fafe372e1d5ca44403aadc461460e74470315c3cf6481981b8b0cb5e251", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "258f3a19-58da-429b-abb9-3e02c6b915e7", "node_type": "1", "metadata": {}, "hash": "68cc92aac4dde1ba34b9e89e2a64829404e122ef82e62baa7df83b3b0a5f717f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This `f()` block passes its output directly to the input port of `SEG_AD_MMV_ER_L`.\r\n3.  **Adaptive Roughness Parameter Initialization**: The value from `SEG_AD_MMV_ER_L` is then used to initialize two distinct output parameters:\r\n    *   It is routed through a pass-through/assignment block (labeled '1') to set the initial value of `SEG_AD_RAW_MMV_ER`.\r\n    *   It is also routed through another pass-through/assignment block (labeled '1') to set the initial value of `SEG_AD_MMV_ER_LOW`.\r\n4.  **Counter/Last Value Initialization**: Simultaneously, two constant blocks, each outputting `0`, are used to initialize other parameters:\r\n    *   The constant `0` is assigned as the initial value for `CTR_CYC_SEG_AD_ER_LOW`.\r\n    *   The other constant `0` is assigned as the initial value for `LV_CYC_SEG_AD_ER_LOW`.\r\n5.  **Completion**: Upon the completion of these assignments, all four designated output parameters are set to their specified initial values, preparing them for subsequent calculations within the engine roughness adaptive learning process.\r\n\r\n\r\n--- Page 115 ---\r\n\r\nThis Simulink diagram describes the Non-Volatile Memory (NVM) management for adaptive learning values related to engine roughness. It handles the initialization, reading, and saving of these values, along with selecting the currently active set of values based on system states (e.g., initialization request, read request, or ongoing adaptation).\r\n\r\n## Function\r\n\r\nThe primary function of this system is to manage the persistent storage (NVM) of engine roughness adaptive learning parameters. It ensures that these parameters can be initialized to default values, loaded from NVM upon startup, updated during engine operation, and saved back to NVM for future use. The system selects the appropriate set of adaptive values (initialized, loaded, or current runtime feedback) based on control signals.\r\n\r\n## Inputs\r\n\r\n1.  **fc_NVMY_INI (2):** A boolean control signal that triggers the initialization of NVM adaptive values.\r\n2.  **LV_SEG_AD_RST_ER_EOL (5):** A boolean control signal, likely indicating an \"End-Of-Line\" (EOL) reset of adaptive roughness values. It contributes to the condition for initialization.\r\n3.  **fc_NVMY_RD (3):** A boolean control signal that triggers the reading of adaptive values from NVM.\r\n4.  **fc_NVMY_SAVE (4):** A boolean control signal that triggers the saving of current adaptive values to NVM.\r\n5.  **feedback (1):** A bus containing the latest runtime-adapted engine roughness values. This includes:\r\n    *   SEG_AD_MMV_ER_MID\r\n    *   SEG_AD_MMV_ER_L\r\n    *   SEG_AD_MMV_ER_H\r\n    *   LV_SEG_AD_LIM_ER\r\n    *   SEG_AD_MMV_ER_CH\r\n\r\n## Outputs\r\n\r\nThe system outputs the currently active set of engine roughness adaptive learning values. These are the result of the selection logic from the `Merge` blocks:\r\n\r\n1.  **SEG_AD_MMV_ER_MID:** Adaptive mean value for engine roughness (mid-range).\r\n2.  **SEG_AD_MMV_ER_L:** Adaptive mean value for engine roughness (low range).\r\n3.  **SEG_AD_MMV_ER_H:** Adaptive mean value for engine roughness (high range).\r\n4.  **LV_SEG_AD_LIM_ER:** Adaptive limit for engine roughness.\r\n5.  **SEG_AD_MMV_ER_CH:** Adaptive value for engine roughness (channel-specific or other category).\r\n\r\n## Logic Flow\r\n\r\nThe logical flow involves conditional execution of NVM operations (initialization, read, save) and a merging mechanism to select the active adaptive values:\r\n\r\n1.  **Initialization Trigger:**\r\n    *   The `cond_if` block evaluates a condition based on `fc_NVMY_INI` and `LV_SEG_AD_RST_ER_EOL`. If this condition is true (e.g., a request for NVM initialization or EOL reset is active), it activates the \"if\" branch.\r\n    *   The `NVMY_INI` subsystem (X.4.1.2.1), located within an `f()` block, is executed, generating a default or initialized set of adaptive learning values (SEG_AD_MMV_ER_MID, SEG_AD_MMV_ER_L, etc.). These values are then fed into the `Merge` blocks.\r\n\r\n2.  **Read from NVM Trigger:**\r\n    *   The `fc_NVMY_RD` signal directly triggers the `NVMY_RD` subsystem (X.4.1.2.2).", "mimetype": "text/plain", "start_char_idx": 314064, "end_char_idx": 318108, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "258f3a19-58da-429b-abb9-3e02c6b915e7": {"__data__": {"id_": "258f3a19-58da-429b-abb9-3e02c6b915e7", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "74b33dc7-4644-4f21-b58d-ff790f253f8b", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "0ee965760ffbe9a5e9adcb03f0dd97854ba43fe5541578aa1fa64c96435235b6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c34cc251-bd83-4ef4-b01a-7f43dd20b845", "node_type": "1", "metadata": {}, "hash": "9fa618abd8a2368ca00ed1e60d71aea44706d2cbda03b3be3b8167b2b42a5b1a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "These values are then fed into the `Merge` blocks.\r\n\r\n2.  **Read from NVM Trigger:**\r\n    *   The `fc_NVMY_RD` signal directly triggers the `NVMY_RD` subsystem (X.4.1.2.2).\r\n    *   When `fc_NVMY_RD` is active, this subsystem reads the previously saved adaptive learning values from the non-volatile memory. These values are also fed into the `Merge` blocks.\r\n\r\n3.  **Runtime Feedback Values:**\r\n    *   The `feedback` input bus continuously provides the most recent adaptive values generated by the engine control system during runtime. These values are also an input to the `Merge` blocks.\r\n\r\n4.  **Adaptive Value Selection (Merge Blocks):**\r\n    *   There are five `Merge` blocks, one for each adaptive learning parameter (MID, L, H, LIM_ER, CH).\r\n    *   Each `Merge` block receives three potential inputs:\r\n        *   Values from `NVMY_INI` (if the initialization condition is met).\r\n        *   Values from `NVMY_RD` (if the read trigger is active).\r\n        *   Values from the `feedback` path (representing current runtime values).\r\n    *   The `Merge` blocks select one of these inputs as their output. In a typical NVM management scheme, this selection follows a priority:\r\n        *   If an initialization is active, `NVMY_INI` values are prioritized.\r\n        *   If an NVM read is active (and no initialization), `NVMY_RD` values are prioritized.\r\n        *   Otherwise (if neither initialization nor read is active), the `feedback` values are used, representing the continuous runtime adaptation. The outputs of these `Merge` blocks are the final, currently active adaptive values for the system.\r\n\r\n5.  **Save to NVM Trigger:**\r\n    *   The `fc_NVMY_SAVE` signal directly triggers the `NVMY_SAVE` subsystem (X.4.1.2.3).\r\n    *   The inputs to `NVMY_SAVE` are the values from the `feedback` bus. This indicates that when a save operation is requested, the system stores the *currently updated runtime adaptive values* (not necessarily the ones output by the `Merge` blocks) into non-volatile memory.\r\n\r\n\r\n--- Page 116 ---\r\n\r\nThis diagram is indeed a Simulink-like block diagram, representing an initialization process for an automotive control system. The context \"ENRD. Engine roughness adaptive learning process\" and \"NVMY initialisation\" indicates that this diagram describes how non-volatile memory variables related to engine roughness adaptation are set to their initial values.\r\n\r\n## Function\r\n\r\nThe primary function of this diagram is to initialize several adaptive learning parameters to default zero values. These parameters are associated with engine roughness measurement and adaptation, specifically for segment-wise moving average error values and a segment-wise limit error. The initialization process accounts for the number of engine cylinders where applicable, creating arrays of zeros for cylinder-dependent parameters.\r\n\r\n## Inputs\r\n\r\nWhile there are no explicit \"Inport\" blocks in the traditional Simulink sense, the following are conceptual inputs or configuration parameters for the initialization:\r\n\r\n*   **`NC_CYL_NR`**: (Number of Cylinders) - This is a parameter that defines the dimension or size of the arrays being initialized for the segment adaptive moving average error values. It dictates how many elements (one per cylinder) each of these arrays will have.\r\n*   **Constant `0`**: This value is used as the initial value for all elements in the cylinder-dependent arrays and as the direct initial value for the scalar limit error.\r\n*   **`init = 0`**: This attribute explicitly states that the initialization value for the associated blocks is zero.\r\n*   **`V.6.4`**: This likely represents a data type, versioning information, or a specific variant configuration associated with the initialized data.\r\n\r\n## Outputs\r\n\r\nThe diagram explicitly shows five output signals, which are the initialized values of the respective parameters:\r\n\r\n1.  **`SEG_AD_MMV_ER_MID`**: Segment Adaptive Moving Average Error - Mid. This will be an array (vector) of zeros, with its size determined by `NC_CYL_NR`.\r\n2.  **`SEG_AD_MMV_ER_L`**: Segment Adaptive Moving Average Error - Low. This will also be an array of zeros, sized by `NC_CYL_NR`.\r\n3.  **`SEG_AD_MMV_ER_H`**: Segment Adaptive Moving Average Error - High. This will also be an array of zeros, sized by `NC_CYL_NR`.\r\n4.", "mimetype": "text/plain", "start_char_idx": 317936, "end_char_idx": 322244, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c34cc251-bd83-4ef4-b01a-7f43dd20b845": {"__data__": {"id_": "c34cc251-bd83-4ef4-b01a-7f43dd20b845", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "258f3a19-58da-429b-abb9-3e02c6b915e7", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2725377758e8065ff44796dd0f36d3682711bdf04e2d2a932014d47b07d9af77", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "413d3227-fccd-4513-8ef7-6bb75f93d88c", "node_type": "1", "metadata": {}, "hash": "bd7252995b6e900646a780b285080442d8daca4795f80ffa7dffcea19c1b1ee4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "2.  **`SEG_AD_MMV_ER_L`**: Segment Adaptive Moving Average Error - Low. This will also be an array of zeros, sized by `NC_CYL_NR`.\r\n3.  **`SEG_AD_MMV_ER_H`**: Segment Adaptive Moving Average Error - High. This will also be an array of zeros, sized by `NC_CYL_NR`.\r\n4.  **`SEG_AD_MMV_ER_CH`**: Segment Adaptive Moving Average Error - Channel (or potentially Characteristic). This will also be an array of zeros, sized by `NC_CYL_NR`.\r\n5.  **`LV_SEG_AD_LIM_ER`**: Level Segment Adaptive Limit Error. This will be a scalar value of zero.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of this initialization diagram can be broken down into two main parts:\r\n\r\n1.  **Initialization of Cylinder-Dependent Error Arrays:**\r\n    *   For the four outputs related to \"Segment Adaptive Moving Average Error\" (`SEG_AD_MMV_ER_MID`, `_L`, `_H`, `_CH`), the process is identical:\r\n        *   A conceptual block representing `[NC_CYL_NR]` provides the dimension for an array.\r\n        *   An `array` block (or similar memory allocation/initialization block) is configured to create an array whose size is `NC_CYL_NR`.\r\n        *   Each element of this newly created array is set to an initial value of `0`, as indicated by `init = 0`.\r\n        *   The data type or version `V.6.4` is specified for these initialized arrays.\r\n        *   The resulting initialized array (e.g., `SEG_AD_MMV_ER_MID`) is then output by the system.\r\n    *   This implies that if an engine has, for example, 4 cylinders, each of these outputs will be a 4-element array `[0, 0, 0, 0]`.\r\n\r\n2.  **Initialization of Scalar Limit Error:**\r\n    *   For the `LV_SEG_AD_LIM_ER` output, a simpler initialization occurs:\r\n        *   A constant value of `0` is provided directly.\r\n        *   This scalar `0` (with associated `V.6.4` information) is directly output as `LV_SEG_AD_LIM_ER`. This indicates that `LV_SEG_AD_LIM_ER` is a single, non-cylinder-specific value.\r\n\r\nThe overarching \"f()\" block at the top left suggests that these steps are encapsulated within a function or subsystem, likely triggered during the system's startup or a specific initialization phase (as per \"NVMY initialisation\"). The entire diagram's purpose is to ensure that these critical adaptive learning parameters begin from a known, zeroed state upon initialization, which is crucial for predictable system behavior.\r\n\r\n\r\n--- Page 117 ---\r\n\r\nThis image displays a Simulink-style block diagram, specifically a representation of a data reading operation from Non-Volatile Memory (NVM) within an automotive embedded system context.\r\n\r\n## Function\r\nThe primary function of this diagram is to read specific variables related to \"Engine roughness adaptive learning process\" from Non-Volatile Memory (NVM) and make these values available as output signals for further processing within the larger control system. It acts as an interface to retrieve persistent data.\r\n\r\n## Inputs\r\nConceptually, the inputs to this process are the five NVM variables themselves, which are stored in persistent memory. From a block diagram perspective, there are no explicit signal inputs shown; the \"NVMY[read/init]\" blocks internally access the NVM based on their configuration.\r\n\r\nThe NVM variables targeted for reading are:\r\n*   `SEG_AD_MMV_ER_MID` (likely Segment Adaptive Mean Measured Value Engine Roughness Mid)\r\n*   `SEG_AD_MMV_ER_L` (likely Segment Adaptive Mean Measured Value Engine Roughness Low)\r\n*   `SEG_AD_MMV_ER_H` (likely Segment Adaptive Mean Measured Value Engine Roughness High)\r\n*   `LV_SEG_AD_LIM_ER` (likely Load Value Segment Adaptive Limit Engine Roughness)\r\n*   `SEG_AD_MMV_ER_CH` (likely Segment Adaptive Mean Measured Value Engine Roughness Change or Channel)\r\n\r\nEach variable also has associated properties like `size` (e.g., `[NC_CYL_NR]` suggesting a value per cylinder, or `1` for a scalar), `init` (initialization value, here `0`), and `V.6.5` (version or data type information).", "mimetype": "text/plain", "start_char_idx": 321977, "end_char_idx": 325887, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "413d3227-fccd-4513-8ef7-6bb75f93d88c": {"__data__": {"id_": "413d3227-fccd-4513-8ef7-6bb75f93d88c", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c34cc251-bd83-4ef4-b01a-7f43dd20b845", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "5901e6ffd943f8398cdce2914b6f0e6da0d9495602d459198eae813c358aafd1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b4e187b7-cd1d-4a9e-9f59-a7b66c254439", "node_type": "1", "metadata": {}, "hash": "4684aa33d3651b93735fddacc0739bb1046de98c00e36bd88c3ed63f1606c346", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Outputs\r\nThe outputs are the values read from the NVM variables, presented as named signals:\r\n*   `SEG_AD_MMV_ER_MID` (Output from block 1)\r\n*   `SEG_AD_MMV_ER_L` (Output from block 2)\r\n*   `SEG_AD_MMV_ER_H` (Output from block 3)\r\n*   `LV_SEG_AD_LIM_ER` (Output from block 4)\r\n*   `SEG_AD_MMV_ER_CH` (Output from block 5)\r\n\r\n## Logic Flow\r\n1.  **NVM Read Initiation:** The diagram consists of five independent \"NVMY[read/init]\" blocks. Each of these blocks represents an operation to read (and potentially initialize, if needed) a specific variable from Non-Volatile Memory.\r\n2.  **Variable Configuration:** Each \"NVMY[read/init]\" block is configured with the name and properties (such as size, initial value, and version) of the NVM variable it is responsible for. For instance, the top block is configured to read `SEG_AD_MMV_ER_MID`.\r\n3.  **Data Retrieval:** When the system executes this block, the \"NVMY[read/init]\" block performs the necessary operations to retrieve the current value of its configured variable from the NVM.\r\n4.  **Output Generation:** The retrieved value is then outputted from the \"out\" port of the \"NVMY[read/init]\" block.\r\n5.  **Signal Routing:** This output signal is then connected to a blue numbered block (e.g., `1`, `2`, `3`, `4`, `5`). These numbered blocks typically represent \"Goto\" blocks in Simulink, meaning the signal is then routed to other parts of the model (corresponding \"From\" blocks) under the specified name (e.g., `SEG_AD_MMV_ER_MID`).\r\n6.  **Parallel Execution:** This entire process (steps 1-5) occurs in parallel for all five NVM variables, allowing the system to concurrently read and output all required engine roughness adaptive learning parameters.\r\n\r\n\r\n--- Page 118 ---\r\n\r\nThe image contains two distinct Simulink diagrams, which will be analyzed separately as they represent different functionalities related to an \"Engine roughness adaptive learning process\" (ENRD).\r\n\r\n---\r\n\r\n## Function\r\n\r\n**Figure 296.50: NVMY store**\r\nThis diagram's primary function is to **store adaptive engine roughness values and a related limit error into Non-Volatile Memory (NVMY)**. These values likely represent parameters learned during engine operation, which need to persist across power cycles. The storage is performed for different segments or operating conditions (Mid, Low, High, Channel/Cold/Hot) and for an overall limit.\r\n\r\n**Figure 296.51: Initialisation of LV_SEG_AD_LIM_ER**\r\nThis diagram's primary function is to **conditionally initialize the `LV_SEG_AD_LIM_ER` variable to zero**. This suggests a reset or re-initialization mechanism for the segment adaptive limit error based on a specific trigger condition.\r\n\r\n---\r\n\r\n## Inputs\r\n\r\n**Figure 296.50: NVMY store**\r\n*   `SEG_AD_MMV_ER_MID`: Segment adaptive error for a 'middle' operating range.\r\n*   `SEG_AD_MMV_ER_L`: Segment adaptive error for a 'low' operating range.\r\n*   `SEG_AD_MMV_ER_H`: Segment adaptive error for a 'high' operating range.\r\n*   `LV_SEG_AD_LIM_ER`: Segment adaptive limit error value.\r\n*   `SEG_AD_MMV_ER_CH`: Segment adaptive error for a 'channel' or 'cold/hot' condition.\r\n\r\n**Figure 296.51: Initialisation of LV_SEG_AD_LIM_ER**\r\n*   `LC_SEG_AD_LIM_REAC_ER`: A logical flag or condition signal, likely indicating whether a re-initialization or reaction event for the segment adaptive limit error has occurred.\r\n\r\n---\r\n\r\n## Outputs\r\n\r\n**Figure 296.50: NVMY store**\r\nThe `NVMY[store]` blocks have output ports labeled \"out\" that connect to terminator blocks (the square with a horizontal line). This indicates that while the NVMY blocks themselves might technically output a status or the stored value, **these outputs are not consumed by subsequent blocks within this subsystem**. The primary \"output\" is the *side effect* of storing the data to non-volatile memory.\r\n\r\n**Figure 296.51: Initialisation of LV_SEG_AD_LIM_ER**\r\n*   `LV_SEG_AD_LIM_ER`: The initialized segment adaptive limit error value.\r\n\r\n---\r\n\r\n## Logic Flow\r\n\r\n**Figure 296.50: NVMY store**\r\n1.", "mimetype": "text/plain", "start_char_idx": 325891, "end_char_idx": 329886, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b4e187b7-cd1d-4a9e-9f59-a7b66c254439": {"__data__": {"id_": "b4e187b7-cd1d-4a9e-9f59-a7b66c254439", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "413d3227-fccd-4513-8ef7-6bb75f93d88c", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "272831b69786c1a46da6bea305f596ed6984d851e7bddcd614e4d760d96689f5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b26a782a-a359-4641-84a1-ba18f2b21da7", "node_type": "1", "metadata": {}, "hash": "9cc86d1251eace61bb5ef6cb67cfa728a33564b921c09a56d3df98a56e2284fc", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The primary \"output\" is the *side effect* of storing the data to non-volatile memory.\r\n\r\n**Figure 296.51: Initialisation of LV_SEG_AD_LIM_ER**\r\n*   `LV_SEG_AD_LIM_ER`: The initialized segment adaptive limit error value.\r\n\r\n---\r\n\r\n## Logic Flow\r\n\r\n**Figure 296.50: NVMY store**\r\n1.  **Input Reception:** Five distinct input signals (`SEG_AD_MMV_ER_MID`, `SEG_AD_MMV_ER_L`, `SEG_AD_MMV_ER_H`, `LV_SEG_AD_LIM_ER`, `SEG_AD_MMV_ER_CH`) are received into the subsystem.\r\n2.  **Non-Volatile Storage:** Each input signal is routed to a dedicated `NVMY[store]` block.\r\n3.  **Parameter Configuration:** Each `NVMY[store]` block is configured to store a specific variable:\r\n    *   `SEG_AD_MMV_ER_MID`, `SEG_AD_MMV_ER_L`, `SEG_AD_MMV_ER_H`, and `SEG_AD_MMV_ER_CH` are configured to store arrays of size `[NC_CYL_NR]` (likely Number of Cylinders), with an initial value of 0.\r\n    *   `LV_SEG_AD_LIM_ER` is configured to store a scalar value (size: 1), also with an initial value of 0.\r\n4.  **Output Termination:** The \"out\" port of each `NVMY[store]` block is connected to a terminator, signifying that the direct output of the storage operation (e.g., success status or the stored value) is not used for further processing within this specific Simulink context. The core purpose is the persistent storage action.\r\n\r\n**Figure 296.51: Initialisation of LV_SEG_AD_LIM_ER**\r\n1.  **Condition Input:** The `LC_SEG_AD_LIM_REAC_ER` signal, likely a boolean flag, is received.\r\n2.  **Conditional Check:** This signal is fed into an \"if\" block (labeled `cond_if`). This block evaluates the condition of `LC_SEG_AD_LIM_REAC_ER`.\r\n3.  **Conditional Assignment:** If the condition evaluated by the \"if\" block is true (e.g., `LC_SEG_AD_LIM_REAC_ER` is active/true), then the value from the constant block '0' is selected and passed through the 'if' action port.\r\n4.  **Output Assignment:** The value '0' is then assigned to the output port, which corresponds to the variable `LV_SEG_AD_LIM_ER`.\r\n5.  **Unused Path:** The `f(t)` block and another action port of the 'if' block are not connected, implying that this diagram only covers the case where `LV_SEG_AD_LIM_ER` is reset to 0 based on the condition; other logic or its existing value might persist if the condition is false.\r\n\r\n\r\n--- Page 120 ---\r\n\r\nThis image displays a Simulink diagram representing a component of an automotive control system.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram, titled \"ENRD. Engine roughness adaptive learning process,\" is to calculate and manage various segmented adaptive values related to engine roughness. It processes raw engine roughness data, applies logical conditions based on engine operating parameters and validity flags, and outputs refined adaptive roughness values for different segments (e.g., mid, high, low, cyclic). This system likely contributes to the engine's ability to learn and adapt to its current operating state to optimize performance or emissions based on engine roughness feedback.\r\n\r\n## Inputs\r\nThe key inputs to this system, identified by green circular blocks or direct signal lines entering the main subsystem boundary, are:\r\n\r\n1.  **`SEG_AD_ER_x`** (Input 1): Segment adaptive engine roughness, a primary input for adaptation.\r\n2.  **`CRLC_SEG_AD_ER`** (Input 8): Corrected segment adaptive engine roughness, likely a calibrated or reference value.\r\n3.  **`LV_CYC_SEG_AD_ER_LOW_in`** (Input 13): Low cyclic segment adaptive engine roughness, an input for cyclic adaptation.\r\n4.  **`CTR_CYC_SEG_AD_ER_LOW_in`** (Input 14): Counter for low cyclic segment adaptive engine roughness, related to cyclic adaptation.\r\n5.  **`SEG_AD_MMV_ER_LOW_x_in`** (Input 12): Low segmented mean measured value engine roughness, an input for low roughness segment.\r\n6.  **`C_CRLC_SEG_AD_RAW_ER`**: Calibration value for corrected raw segment adaptive engine roughness.\r\n7.  **`LV_SEG_AD_ER`**: Limit value for segment adaptive engine roughness.", "mimetype": "text/plain", "start_char_idx": 329606, "end_char_idx": 333546, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b26a782a-a359-4641-84a1-ba18f2b21da7": {"__data__": {"id_": "b26a782a-a359-4641-84a1-ba18f2b21da7", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b4e187b7-cd1d-4a9e-9f59-a7b66c254439", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "f3719798d7218d769538ac8676f777e99923156f70a1eef4216f60a048d3f231", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "bbed7afd-e2cd-4aee-82b8-ebffa14bbbda", "node_type": "1", "metadata": {}, "hash": "73548a4d4a8f143981a8f009a9a5b4c62ed9cb1e09815ec6ae0a67ecde266960", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "5.  **`SEG_AD_MMV_ER_LOW_x_in`** (Input 12): Low segmented mean measured value engine roughness, an input for low roughness segment.\r\n6.  **`C_CRLC_SEG_AD_RAW_ER`**: Calibration value for corrected raw segment adaptive engine roughness.\r\n7.  **`LV_SEG_AD_ER`**: Limit value for segment adaptive engine roughness.\r\n8.  **`LV_SEG_AD_AVL_ER`**: Availability flag for segment adaptive engine roughness.\r\n9.  **`LV_AT`**: Engine operating parameter, possibly related to ambient temperature or an adaptive-time variable.\r\n10. **`N_32`**: Engine speed or a related quantized speed value.\r\n11. **`LV_CVT`**: Engine operating parameter, potentially related to Continuously Variable Transmission or other engine state.\r\n12. **`LV_DCT`**: Engine operating parameter, potentially related to Dual Clutch Transmission or other engine state.\r\n13. **`LV_ER_WIN_CH_AD`**: Engine roughness window active/challenge adaptation.\r\n14. **`LV_REQ_SEG_AD_MMV_ER_APP`**: Request for application of segmented mean measured value engine roughness.\r\n15. **`SEG_AD_MMV_ER_APP_x`**: Applied segmented mean measured value engine roughness.\r\n\r\n## Outputs\r\nThe key outputs from this system, identified by blue circular blocks, are:\r\n\r\n1.  **`SEG_AD_RAW_MMV_ER_x`** (Output 2): Raw mean measured value of engine roughness, likely a filtered or processed raw value.\r\n2.  **`LV_SEG_AD_LIM_ER`** (Output 1): Limited segment adaptive engine roughness.\r\n3.  **`SEG_AD_MMV_ER_MID_x`** (Output 3): Mid-range segmented mean measured value of engine roughness.\r\n4.  **`SEG_AD_MMV_ER_H_x`** (Output 5): High-range segmented mean measured value of engine roughness.\r\n5.  **`SEG_AD_MMV_ER_L_x`** (Output 4): Low-range segmented mean measured value of engine roughness.\r\n6.  **`SEG_AD_MMV_ER_CH_x`** (Output 6): Challenging (or Channel) segmented mean measured value of engine roughness.\r\n7.  **`SEG_AD_MMV_ER_LOW_x`** (Output 9): Very low segmented mean measured value of engine roughness.\r\n8.  **`CTR_CYC_SEG_AD_ER_LOW`** (Output 7): Output counter for low cyclic segment adaptive engine roughness.\r\n9.  **`LV_CYC_SEG_AD_ER_LOW`** (Output 8): Output low cyclic segment adaptive engine roughness.\r\n\r\nAdditionally, two validity flags, `CDN_VLD` and `CDN_NOT_VLD`, are internal signals that could also be considered status outputs.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into several interconnected sections:\r\n\r\n1.  **Raw Roughness Processing:**\r\n    *   A constant `0` and a `T` signal (derived from `V.6.4` with input `0`) feed into block `V.5.3`. This block processes these inputs to produce `SEG_AD_RAW_MMV_ER_x` (Output 2), suggesting a filtering or aggregation of raw engine roughness.\r\n\r\n2.  **Limited Adaptive Roughness Calculation (`LV_SEG_AD_LIM_ER`):**\r\n    *   An `AND` logic block (`V.6.6`) combines `C_CRLC_SEG_AD_RAW_ER` with the inverted (`NOT` gate `V.6.2`) signal of `LV_SEG_AD_AVL_ER` to form a condition `cond_if`.\r\n    *   An `If` subsystem (`V.6.0`) uses this `cond_if`.\r\n        *   If `cond_if` is true, it selects `LV_SEG_AD_ER`.\r\n        *   If `cond_if` is false, it selects `SEG_AD_ER_x` (Input 1).\r\n    *   The selected value is then output as `LV_SEG_AD_LIM_ER` (Output 1). This ensures that a baseline or limited adaptive value is chosen based on raw data calibration and availability.\r\n\r\n3.  **Segmented Mean Measured Value Engine Roughness (MMV ER) Calculation:**\r\n    *   Outputs `SEG_AD_MMV_ER_MID_x` (3), `SEG_AD_MMV_ER_H_x` (5), `SEG_AD_MMV_ER_L_x` (4), `SEG_AD_MMV_ER_CH_x` (6), and `SEG_AD_MMV_ER_LOW_x` (9) are determined by `Merge` blocks.", "mimetype": "text/plain", "start_char_idx": 333234, "end_char_idx": 336782, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "bbed7afd-e2cd-4aee-82b8-ebffa14bbbda": {"__data__": {"id_": "bbed7afd-e2cd-4aee-82b8-ebffa14bbbda", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b26a782a-a359-4641-84a1-ba18f2b21da7", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "c79dfc6920cdc0832935f150f40f32d5ac424af3c75e8cc2e5e5ce196ebeb962", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1db0f89f-a273-42bb-8d62-4f03dab7ebf6", "node_type": "1", "metadata": {}, "hash": "b98fa566f3b5e2a10da51c53c2dcf4ad7badaa1c51faa8e64b75adbdc22c749d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  **Segmented Mean Measured Value Engine Roughness (MMV ER) Calculation:**\r\n    *   Outputs `SEG_AD_MMV_ER_MID_x` (3), `SEG_AD_MMV_ER_H_x` (5), `SEG_AD_MMV_ER_L_x` (4), `SEG_AD_MMV_ER_CH_x` (6), and `SEG_AD_MMV_ER_LOW_x` (9) are determined by `Merge` blocks.\r\n    *   Each `Merge` block receives inputs from multiple sources, primarily from `V.6.4` blocks and conditional `If` blocks (`V.6.0`).\r\n    *   **Conditional Selection based on `CDN_VLD`:**\r\n        *   An `AND` gate (`V.6.6`) calculates `CDN_VLD` by combining `LV_ER_WIN_CH_AD` and a signal from `V.6.4` (fed by `N_32`). `CDN_VLD` acts as a validity flag for adaptation.\r\n        *   This `CDN_VLD` conditions several `If` blocks (`V.6.0`).\r\n            *   For `SEG_AD_MMV_ER_MID_x` (3), if `CDN_VLD` is true, `SEG_AD_ER_x` (Input 1) is passed. If false, a value from `V.6.4` (fed by `LV_AT`) is used.\r\n            *   Similar conditional logic applies to `SEG_AD_MMV_ER_H_x` (5), `SEG_AD_MMV_ER_L_x` (4), `SEG_AD_MMV_ER_CH_x` (6), where `CRLC_SEG_AD_ER` (Input 8) is selected if `CDN_VLD` is true, and values from `V.6.4` (fed by `N_32`, `LV_CVT`, `LV_DCT` respectively) are used if false.\r\n    *   The `V.6.4` blocks are likely lookup tables or functional blocks that provide default or initial segmented roughness values based on engine operating conditions (`LV_AT`, `N_32`, `LV_CVT`, `LV_DCT`). The `Merge` blocks combine these default values with adaptively updated values based on `SEG_AD_ER_x` or `CRLC_SEG_AD_ER` when the conditions are valid.\r\n\r\n4.  **Cyclic Low Roughness Adaptation (`LV_CYC_SEG_AD_ER_LOW`, `CTR_CYC_SEG_AD_ER_LOW`):**\r\n    *   Another `If` block (`V.6.0`) is conditioned by `CDN_VLD`.\r\n        *   If `CDN_VLD` is true, it passes `LV_CYC_SEG_AD_ER_LOW_in` (Input 13) and `CTR_CYC_SEG_AD_ER_LOW_in` (Input 14).\r\n        *   If `CDN_VLD` is false, it uses values from `V.6.4` (fed by `LV_DCT`).\r\n    *   These conditionally selected values feed into `Merge` blocks to produce `LV_CYC_SEG_AD_ER_LOW` (Output 8) and `CTR_CYC_SEG_AD_ER_LOW` (Output 7). This implies that cyclic low roughness adaptation is either continued from input values or reset/initialized based on `LV_DCT` if the validity condition is not met.\r\n\r\n5.  **Application of Segmented MMV ER (`SEG_AD_MMV_ER_APP_x` influence):**\r\n    *   An `AND` gate (`V.6.6`) calculates `CDN_NOT_VLD` by combining `LV_REQ_SEG_AD_MMV_ER_APP` and a value from `V.6.4` (fed by `0`). This flag indicates when adaptive application is not valid.\r\n    *   An `If` block (`V.6.0`) is conditioned by `CDN_NOT_VLD`.\r\n        *   If `CDN_NOT_VLD` is true, it selects `SEG_AD_MMV_ER_APP_x`.\r\n        *   If `CDN_NOT_VLD` is false, it selects a constant `1`.\r\n    *   The output of this `If` block, along with other constant `1`s, feeds into a selector/multiplexer `V.5.2`. The outputs of `V.5.2` then feed into the `Merge` blocks for the various segmented MMV ER values, effectively influencing the final adaptive values by either applying a specific learned value or a default/reset value under certain invalid conditions.\r\n\r\nIn essence, the system continuously assesses engine conditions and the validity of its adaptive process.", "mimetype": "text/plain", "start_char_idx": 336522, "end_char_idx": 339682, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1db0f89f-a273-42bb-8d62-4f03dab7ebf6": {"__data__": {"id_": "1db0f89f-a273-42bb-8d62-4f03dab7ebf6", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "bbed7afd-e2cd-4aee-82b8-ebffa14bbbda", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "6230276cff3cbe25a6cdd44d80b29b44dcc991d0c8d354084082022a0b943193", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "fc6cebda-e8e4-4efc-903f-6b1733f75f9e", "node_type": "1", "metadata": {}, "hash": "6b8005149ea8c33cbaaca30508f701a49290c550afb7981623cbc596ead90ca4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The outputs of `V.5.2` then feed into the `Merge` blocks for the various segmented MMV ER values, effectively influencing the final adaptive values by either applying a specific learned value or a default/reset value under certain invalid conditions.\r\n\r\nIn essence, the system continuously assesses engine conditions and the validity of its adaptive process. Based on these conditions, it dynamically selects between input adaptive values, internally calculated default values, or previously learned values to produce a comprehensive set of segmented engine roughness parameters.\r\n\r\n\r\n--- Page 123 ---\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to analyze, filter, limit, and output adaptive engine roughness values based on various operating conditions, particularly the active transmission type (Manual, CVT, DCT, or Automatic). It calculates a globally limited adaptive roughness value and provides several range-specific adaptive measured maximum roughness values for different operational contexts. The overall goal is to manage and report engine roughness within defined adaptive limits.\r\n\r\n## Inputs\r\n1.  **`C_N_MAX_L_SEG_AD_ER_MT`**: Maximum limit for segment adaptive engine roughness (Manual Transmission).\r\n2.  **`C_N_MAX_L_SEG_AD_ER_CVT`**: Maximum limit for segment adaptive engine roughness (Continuously Variable Transmission).\r\n3.  **`C_N_MAX_L_SEG_AD_ER_DCT`**: Maximum limit for segment adaptive engine roughness (Dual Clutch Transmission).\r\n4.  **`C_N_MAX_L_SEG_AD_ER_AT`**: Maximum limit for segment adaptive engine roughness (Automatic Transmission).\r\n5.  **`SEG_AD_ER_x`**: Current segment adaptive engine roughness value.\r\n6.  **`LV_ER_WIN_CH_AD`**: Engine roughness window change adaptive (a boolean flag indicating whether an adaptive learning window or condition is active).\r\n7.  **`CRLC_SEG_AD_ER`**: Control request/flag for segment adaptive engine roughness, likely used to parameterize the lookup tables.\r\n8.  **`C_SEG_AD_MAX_ER`**: Overall constant maximum allowed segment adaptive engine roughness.\r\n9.  **`C_N_MAX_MID_SEG_AD_ER_MT`**: Mid-range maximum limit for segment adaptive engine roughness (Manual Transmission).\r\n10. **`C_N_MAX_MID_SEG_AD_ER_CVT`**: Mid-range maximum limit for segment adaptive engine roughness (CVT).\r\n11. **`C_N_MAX_MID_SEG_AD_ER_DCT`**: Mid-range maximum limit for segment adaptive engine roughness (DCT).\r\n12. **`C_N_MAX_MID_SEG_AD_ER_AT`**: Mid-range maximum limit for segment adaptive engine roughness (Automatic Transmission).\r\n13. **`SEG_AD_ER_x1`**: A potentially pre-processed or derived segment adaptive engine roughness value (input to the lower branch).\r\n14. **`CRLC_SEG_AD_ER1`**: Another control request/flag, likely similar to `CRLC_SEG_AD_ER`.\r\n15. **`<N_32>`**: An operating parameter, possibly engine speed or load (input to lower section for range-specific outputs).\r\n16. **`LV_AT`**: Boolean flag indicating if Automatic Transmission is currently active.\r\n17. **`LV_CVT`**: Boolean flag indicating if CVT is currently active.\r\n18. **`LV_DCT`**: Boolean flag indicating if Dual Clutch Transmission is currently active.\r\n19. **`CDN_NOT_VLD`**: Condition Not Valid flag, indicating if the current operating conditions for specific calculations are valid.\r\n\r\n## Outputs\r\n1.  **`LV_SEG_AD_LIM_ER`**: The main limited segment adaptive engine roughness value. This is the primary output representing the constrained adaptive roughness.\r\n2.  **`SEG_AD_MMV_ER_H_x`**: Segment adaptive measured maximum value, high range.\r\n3.  **`SEG_AD_MMV_ER_MID_x`**: Segment adaptive measured maximum value, mid range.\r\n4.  **`SEG_AD_MMV_ER_L_x`**: Segment adaptive measured maximum value, low range.\r\n5.  **`SEG_AD_MMV_ER_LOW_x`**: Segment adaptive measured maximum value, lowest range.\r\n\r\n## Logic Flow\r\n\r\nThe diagram implements a multi-stage process for adaptive engine roughness management, involving conditional execution, signal routing, and limiting operations.\r\n\r\n**1. Initial Roughness Input and Pre-processing:**\r\n    *   The raw adaptive engine roughness `SEG_AD_ER_x` enters the system.\r\n    *   It is fed into two identical Look-Up Table (V.5.3) blocks. These tables are likely performing non-linear transformations or filtering operations on `SEG_AD_ER_x`.", "mimetype": "text/plain", "start_char_idx": 339324, "end_char_idx": 343572, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fc6cebda-e8e4-4efc-903f-6b1733f75f9e": {"__data__": {"id_": "fc6cebda-e8e4-4efc-903f-6b1733f75f9e", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1db0f89f-a273-42bb-8d62-4f03dab7ebf6", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "e5db8aca981de7944f14f7dbf90536d588acb447abaf3fa0baa779758dd03cbd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6bc7f551-c531-4fa2-9572-93e07ae5e33a", "node_type": "1", "metadata": {}, "hash": "07a807c9214ec765f51d6de10e776b3b1569be5e1fb16798190e8efb7e348a62", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**1. Initial Roughness Input and Pre-processing:**\r\n    *   The raw adaptive engine roughness `SEG_AD_ER_x` enters the system.\r\n    *   It is fed into two identical Look-Up Table (V.5.3) blocks. These tables are likely performing non-linear transformations or filtering operations on `SEG_AD_ER_x`. `CRLC_SEG_AD_ER` acts as an input to these tables (possibly for breakpoint selection or to choose a specific curve).\r\n    *   A textual annotation \"The filter is only calculated if the corresponding output is active V.6.4\" indicates that the computation within these lookup tables is conditionally enabled.\r\n\r\n**2. Adaptive Window and Transmission Type Dependent Limiting (Upper Branch):**\r\n    *   The core logic begins with an `if` block (V.6.0) that branches based on the state of `LV_ER_WIN_CH_AD` (adaptive learning window active).\r\n    *   **If `LV_ER_WIN_CH_AD` is true (adaptive window active):**\r\n        *   A nested `if-else` structure (V.6.0) selects one of the four transmission-specific maximum limits (`C_N_MAX_L_SEG_AD_ER_MT`, `_CVT`, `_DCT`, `_AT`). This selection logic relies on comparing these limits with '0' (indicating activity/inactivity) and an implied priority. The selected limit (referenced as `V.6.0`) influences subsequent steps.\r\n        *   The processed `SEG_AD_ER_x` (either directly or from the LUTs via V.5.2) is compared with `C_SEG_AD_MAX_ER` (the overall maximum roughness).\r\n        *   `SEG_AD_MMV_ER_H_x` (high-range measured maximum) is then determined. It takes the minimum of the processed `SEG_AD_ER_x` and `C_SEG_AD_MAX_ER`, effectively capping the high-range adaptive roughness.\r\n    *   **If `LV_ER_WIN_CH_AD` is false (adaptive window inactive):**\r\n        *   A different logical path is taken, potentially simplifying the limit selection but still leading to the calculation of `SEG_AD_MMV_ER_H_x` using `C_SEG_AD_MAX_ER` as the limiting factor.\r\n\r\n**3. Main Limited Roughness Output (`LV_SEG_AD_LIM_ER`):**\r\n    *   The output `LV_SEG_AD_LIM_ER` is generated by merging the results from the different `LV_ER_WIN_CH_AD` conditional branches and their associated limiting operations (including the `SEG_AD_MMV_ER_H_x` path and a parallel path involving the second lookup table and `C_SEG_AD_MAX_ER`). A `Merge` block (V.6.4) combines these paths to produce the final, universally limited adaptive engine roughness value.\r\n\r\n**4. Mid/Low Range Roughness Calculation (Lower Branch):**\r\n    *   This section focuses on deriving additional \"measured maximum values\" for specific roughness ranges (`MID`, `L`, `LOW`).\r\n    *   It uses `SEG_AD_ER_x1` and `CRLC_SEG_AD_ER1` as primary inputs.\r\n    *   Conditional logic similar to the upper branch is applied, involving comparisons of transmission-specific mid-range limits (`C_N_MAX_MID_SEG_AD_ER_MT`, `_CVT`, `_DCT`, `_AT`) with '0'.\r\n    *   Further conditions are introduced via the transmission active flags (`LV_AT`, `LV_CVT`, `LV_DCT`), an operating parameter (`<N_32>`), and a `CDN_NOT_VLD` (condition not valid) flag.\r\n    *   Based on these conditions, three distinct outputs are generated:\r\n        *   `SEG_AD_MMV_ER_MID_x`: Segment adaptive measured maximum for the mid-range.\r\n        *   `SEG_AD_MMV_ER_L_x`: Segment adaptive measured maximum for the low-range.\r\n        *   `SEG_AD_MMV_ER_LOW_x`: Segment adaptive measured maximum for the lowest-range.\r\n    *   These outputs likely serve to monitor or control adaptive roughness at different granularities or severity levels.\r\n\r\n\r\n--- Page 124 ---\r\n\r\nThis document contains two Simulink diagrams. The primary diagram, \"Figure 296.58,\" is the focus of this analysis, as it corresponds to the section title \"Condition check for determining LV_SEG_AD_LIM_ER.\" The second diagram, \"Figure 296.59,\" describes a reset mechanism.\r\n\r\n## Function\r\n\r\nThe primary function of the Simulink diagram in Figure 296.58 is to determine a boolean or flag signal, `LV_SEG_AD_LIM_ER`, which indicates whether a specific segment adaptation limit (related to engine roughness) is active.", "mimetype": "text/plain", "start_char_idx": 343274, "end_char_idx": 347299, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6bc7f551-c531-4fa2-9572-93e07ae5e33a": {"__data__": {"id_": "6bc7f551-c531-4fa2-9572-93e07ae5e33a", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "fc6cebda-e8e4-4efc-903f-6b1733f75f9e", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "76a728a75122ed41f6c603cbb17bc22f73943ead8f1087c96120df5d7b029a04", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "08fdbc9a-1098-458b-8267-0e82ccadf5c6", "node_type": "1", "metadata": {}, "hash": "6753e2d31f53caf192b8e8a1816e0c420418476ef1210b823af96ad363357898", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The second diagram, \"Figure 296.59,\" describes a reset mechanism.\r\n\r\n## Function\r\n\r\nThe primary function of the Simulink diagram in Figure 296.58 is to determine a boolean or flag signal, `LV_SEG_AD_LIM_ER`, which indicates whether a specific segment adaptation limit (related to engine roughness) is active. This determination is based on a complex set of conditions involving the current transmission type (Manual, CVT, DCT, Automatic), dynamic processing of segment adaptation error signals, and comparisons against predefined mid-range and low-range adaptation error thresholds.\r\n\r\n## Inputs\r\n\r\nThe key inputs to the system (Figure 296.58) are:\r\n\r\n*   **Transmission Type Flags:**\r\n    *   `LV_MT` (Boolean): Indicates if Manual Transmission is active.\r\n    *   `LV_CVT` (Boolean): Indicates if Continuously Variable Transmission is active.\r\n    *   `LV_DCT` (Boolean): Indicates if Dual-Clutch Transmission is active.\r\n    *   `LV_AT` (Boolean): Indicates if Automatic Transmission is active.\r\n*   **Transmission-Specific Maximum Limits:**\r\n    *   `C_N_MAX_L_SEG_AD_ER_MT` (Constant/Parameter): Maximum segment adaptation error limit for Manual Transmission.\r\n    *   `C_N_MAX_L_SEG_AD_ER_CVT` (Constant/Parameter): Maximum limit for CVT.\r\n    *   `C_N_MAX_L_SEG_AD_ER_DCT` (Constant/Parameter): Maximum limit for DCT.\r\n    *   `C_N_MAX_L_SEG_AD_ER_AT` (Constant/Parameter): Maximum limit for Automatic Transmission.\r\n*   **Segment Adaptation Error Signals:**\r\n    *   `SEG_AD_ER_x` (Real): The primary segment adaptation error signal.\r\n    *   `CRLC_SEG_AD_ER` (Real): Control parameter, likely a time constant or rate for the adaptation error processing.\r\n*   **General Adaptation Error Thresholds:**\r\n    *   `C_SEG_AD_MAX_ER` (Constant/Parameter): A general maximum segment adaptation error threshold.\r\n    *   `SEG_AD_MMV_ER_MID_x` (Real): Mid-range segment adaptation error threshold.\r\n    *   `SEG_AD_MMV_ER_LOW_x` (Real): Low-range segment adaptation error threshold.\r\n    *   `SEG_AD_MMV_ER_L_x` (Real): Another low-range segment adaptation error threshold.\r\n\r\n## Outputs\r\n\r\n*   `LV_SEG_AD_LIM_ER` (Boolean/Flag): The final output signal, indicating whether the segment adaptation limit is active or met.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the Simulink diagram (Figure 296.58) can be broken down into three main parallel processes that ultimately converge into a single output:\r\n\r\n1.  **Transmission-Type Conditional Logic (Top Section):**\r\n    *   This section determines a primary condition (`cond_if`) based on the active transmission type and its associated maximum error limits.\r\n    *   Each transmission type (`LV_MT`, `LV_CVT`, `LV_DCT`, `LV_AT`) has a corresponding constant maximum limit (`C_N_MAX_L_SEG_AD_ER_MT`, etc.).\r\n    *   The `NOT` block (V.6.2) for `LV_MT` and the blocks labeled `V.6.6` with \"Check == 0\" suggest a series of switches or conditional logic. The `V.6.0` blocks with the `>=` symbol are \"Relational Operator\" blocks.\r\n    *   The cascading connection of these blocks implies a prioritized or \"OR\" logic: if any of the active transmission types' conditions are met (e.g., if `LV_MT` is true and `C_N_MAX_L_SEG_AD_ER_MT` meets a certain criterion), it might set the `cond_if` to true. Alternatively, it could be selecting the relevant maximum limit among the active transmission types and comparing it against a threshold to produce `cond_if`.\r\n    *   The output of this section, `cond_if` (labeled `V.6.0`), serves as the control signal for the main `If` block in the subsequent stage.\r\n\r\n2.  **Adaptive Error Signal Processing (Middle Section):**\r\n    *   The raw `SEG_AD_ER_x` signal is fed into two identical \"Transfer Function\" or \"Lag\" blocks (V.5.3). These blocks dynamically process or filter the `SEG_AD_ER_x` signal based on the `CRLC_SEG_AD_ER` parameter (likely a time constant or adaptation rate).\r\n    *   Each V.5.3 block outputs a dynamically adjusted or smoothed signal, labeled `y`. These two `y` signals form the basis for the two main conditional adaptation paths.\r\n\r\n3.", "mimetype": "text/plain", "start_char_idx": 346991, "end_char_idx": 351034, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "08fdbc9a-1098-458b-8267-0e82ccadf5c6": {"__data__": {"id_": "08fdbc9a-1098-458b-8267-0e82ccadf5c6", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6bc7f551-c531-4fa2-9572-93e07ae5e33a", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2469f74beb0a3258365060847d89970997e736cff175b11105761faf4380e2ca", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "36ec631c-2df5-44f9-9264-7236ead028cf", "node_type": "1", "metadata": {}, "hash": "1f5cf7b1ada07d3fa1bf73b0fd5c8567725899a3d309ebe0c3807a30795cc8ec", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "These blocks dynamically process or filter the `SEG_AD_ER_x` signal based on the `CRLC_SEG_AD_ER` parameter (likely a time constant or adaptation rate).\r\n    *   Each V.5.3 block outputs a dynamically adjusted or smoothed signal, labeled `y`. These two `y` signals form the basis for the two main conditional adaptation paths.\r\n\r\n3.  **Conditional Adaptation Limit Paths and Merging:**\r\n    *   **Upper Path (Mid-Range Adaptation):**\r\n        *   The `y` signal from the top V.5.3 block is passed through a block (V.5.2, possibly a gain or product) and then a `MIN` or `MAX` block (V.6.5, symbol suggests `Min`) with `C_SEG_AD_MAX_ER`. This operation likely caps the adapted error signal at a general maximum.\r\n        *   The result is then compared using a \"Relational Operator\" (`>=`, V.6.0) with `SEG_AD_MMV_ER_MID_x`. This comparison produces a boolean value, indicating if the adapted error exceeds or meets the mid-range threshold.\r\n        *   This boolean result is fed into the \"if\" port of the main `If` block (V.6.0). This path is chosen if the `cond_if` from the transmission logic is true.\r\n    *   **Lower Path (Low-Range Adaptation):**\r\n        *   Similarly, the `y` signal from the bottom V.5.3 block is passed through a `MIN` or `MAX` block (V.6.5) with `C_SEG_AD_MAX_ER`.\r\n        *   Separately, `SEG_AD_MMV_ER_LOW_x` and `SEG_AD_MMV_ER_L_x` are combined (V.6.8, possibly `Min` or `Max` to derive the stricter low-range limit).\r\n        *   The combined low-range limit is then compared using a \"Relational Operator\" (`>=`, V.6.0) with the output from the `V.6.5` block. This produces a boolean value, indicating if the adapted error exceeds or meets the derived low-range threshold.\r\n        *   This boolean result is fed into the \"else\" port of the main `If` block (V.6.0). This path is chosen if the `cond_if` from the transmission logic is false.\r\n    *   **Final Output:**\r\n        *   The main `If` block (V.6.0) selects one of the two conditional paths (upper for mid-range, lower for low-range) based on the `cond_if` signal derived from the transmission logic.\r\n        *   The selected boolean result (0 or 1) is then passed to the `Merge` block (V.6.4). The `Merge` block consolidates the output from the chosen `If` branch into the final output signal, `LV_SEG_AD_LIM_ER`.\r\n\r\nIn summary, the diagram first determines which segment adaptation strategy (mid-range or low-range) is active based on the current transmission type. Then, it dynamically processes the raw segment adaptation error and compares it against specific thresholds relevant to the selected strategy. The final output `LV_SEG_AD_LIM_ER` is a flag indicating whether these conditions for a segment adaptation limit are met.\r\n\r\n---\r\n**Note on Figure 296.59:**\r\nThis diagram describes a \"Reset at 10ms recurrence when LV_ST_END==0\". If the input `LV_ST_END` is 0 (i.e., `NOT(LV_ST_END)` is true), an `If` block is activated. This results in three specific counter/status signals (`CTR_CYC_SEG_AD_ER_LOW`, `LV_CYC_SEG_AD_ER_LOW`, `LV_START_NEW_AD`) being reset to 0. These reset values are then passed through a block (V.6.7, likely a multiport switch) to produce the `opm_10ms` output, indicating a 10ms operational reset.\r\n\r\n\r\n--- Page 125 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram, titled \"Engine roughness adaptive values difference on the same physical segment out of range\", describes a function within an engine management system. Its primary purpose is to calculate and monitor the differences in adaptive engine roughness values across identical physical segments, particularly when these differences might exceed a calibratable threshold. This process aims to prevent false learning or to trigger corrective actions due to disturbances such as Dual Mass Flywheel oscillations. The function evaluates these differences periodically (e.g., every 720\u00b0 crank angle) when specific conditions related to adaptive value acquisition and monitoring are met.", "mimetype": "text/plain", "start_char_idx": 350702, "end_char_idx": 354660, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "36ec631c-2df5-44f9-9264-7236ead028cf": {"__data__": {"id_": "36ec631c-2df5-44f9-9264-7236ead028cf", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "08fdbc9a-1098-458b-8267-0e82ccadf5c6", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "8b341efa9bd48110d697ac0118577c5046dc2b3f71ef7e6122e19e8f19a8345b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3c9dc894-3720-4819-8379-bddac6d5c527", "node_type": "1", "metadata": {}, "hash": "cb502e2d84850b368e8e9053e2d3a06ea1b3a6426b0c81820a66348f4aa414ed", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Its primary purpose is to calculate and monitor the differences in adaptive engine roughness values across identical physical segments, particularly when these differences might exceed a calibratable threshold. This process aims to prevent false learning or to trigger corrective actions due to disturbances such as Dual Mass Flywheel oscillations. The function evaluates these differences periodically (e.g., every 720\u00b0 crank angle) when specific conditions related to adaptive value acquisition and monitoring are met.\r\n\r\n## Inputs\r\n\r\nThe function receives the following key inputs:\r\n\r\n*   **From `sys_eve` (System Events Bus):**\r\n    *   `<PHY_SEG_RST>`: A physical segment reset event signal, likely used for initialization.\r\n    *   `<PHY_SEG_SEG>`: A physical segment processing event signal, used to trigger the function's recurrence.\r\n*   **From `Input` (Main Input Bus):**\r\n    *   `<LV_SEG_AD_RAW_ER>`: A logical value (1 or 0) indicating whether raw engine roughness adaptive values are currently active. Crucial for activation/deactivation.\r\n    *   `<SEG_NR_MES>`: The measured segment number, used in activation/deactivation logic and potentially for segment-specific calculations.\r\n    *   `<NC_CYL_NR>`: The number of cylinders, likely used for context or indexing in internal calculations.\r\n*   **From `feedback` (Feedback Signal):**\r\n    *   `<SEG_AD_RAW_MMV_ER>`: The segment adaptive raw mean moving value of engine roughness, likely used as feedback for difference calculations.\r\n\r\n## Outputs\r\n\r\nThe function produces a single output bus, `phy_seg`, which contains the following calculated signals:\r\n\r\n*   `<SEG_AD_DIF_ER_5>`: Adaptive difference value for Engine Roughness, segment 5.\r\n*   `<SEG_AD_DIF_ER_4>`: Adaptive difference value for Engine Roughness, segment 4.\r\n*   `<SEG_AD_DIF_ER_3>`: Adaptive difference value for Engine Roughness, segment 3.\r\n*   `<SEG_AD_DIF_ER_2>`: Adaptive difference value for Engine Roughness, segment 2.\r\n*   `<LV_SEG_AD_DIF_MAX_ER>`: A logical value (flag) indicating if the maximum allowed engine roughness adaptive difference has been exceeded.\r\n*   `<SEG_AD_DIF_ER_1>`: Adaptive difference value for Engine Roughness, segment 1.\r\n*   `<SEG_AD_DIF_ER_0>`: Adaptive difference value for Engine Roughness, segment 0.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the function can be described in the following steps:\r\n\r\n1.  **Execution Control (APP_CDN_new V.5.13):**\r\n    *   The `APP_CDN_new` block acts as the central execution controller for the entire function. It determines the operational state (initialization, activation, deactivation, recurrence).\r\n    *   **Initialization (Init: RST):** The function is initialized when the `<PHY_SEG_RST>` signal from the `sys_eve` bus is active.\r\n    *   **Recurrence (Recurrence: SEG):** The core logic of the function is executed periodically, triggered by the `<PHY_SEG_SEG>` signal from the `sys_eve` bus, indicating segment-based processing.\r\n    *   **Activation Condition:** The function becomes active when `<LV_SEG_AD_RAW_ER>` is `1` (raw adaptive ER values are active) AND `<SEG_NR_MES>` is `0` (likely signifying a specific base or reference segment condition).\r\n    *   **Deactivation Condition:** The function deactivates when `<LV_SEG_AD_RAW_ER>` is `0` (raw adaptive ER values are inactive) AND `<SEG_NR_MES>` is not `0`.\r\n    *   Based on these conditions, `APP_CDN_new` outputs control signals `rst` and `opm_seg` to downstream processing blocks.\r\n\r\n2.  **Reset Logic (RST X.5.1):**\r\n    *   This sub-function block receives the `rst` control signal from `APP_CDN_new` and the main `Input` bus signals (`<LV_SEG_AD_RAW_ER>`, `<SEG_NR_MES>`, `<NC_CYL_NR>`).\r\n    *   It performs calculations or logic specifically related to the reset state, potentially clearing integrators, resetting counters, or initializing values.\r\n\r\n3.  **Operating Mode Segment Logic (OPM_SEG X.5.2):**\r\n    *   This sub-function block receives the `opm_seg` control signal from `APP_CDN_new`.\r\n    *   It likely performs segment-specific operational calculations, possibly involving the `<NC_CYL_NR>` and other input values from the main `Input` bus, though not directly shown connected, implying it might access them implicitly or via a wider scope.\r\n\r\n4.", "mimetype": "text/plain", "start_char_idx": 354140, "end_char_idx": 358388, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3c9dc894-3720-4819-8379-bddac6d5c527": {"__data__": {"id_": "3c9dc894-3720-4819-8379-bddac6d5c527", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "36ec631c-2df5-44f9-9264-7236ead028cf", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "023233fb7790c5e3e5affe3dee6226ba16fafd50e33cbab3a14b17fe104c99ba", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5aed9c36-426f-4e1e-9c78-606c9843711f", "node_type": "1", "metadata": {}, "hash": "6c90af729db921ba9d47fc915d47076893a3bdb8ab599ce4a815f6668b9a8ecf", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  **Operating Mode Segment Logic (OPM_SEG X.5.2):**\r\n    *   This sub-function block receives the `opm_seg` control signal from `APP_CDN_new`.\r\n    *   It likely performs segment-specific operational calculations, possibly involving the `<NC_CYL_NR>` and other input values from the main `Input` bus, though not directly shown connected, implying it might access them implicitly or via a wider scope.\r\n\r\n4.  **Signal Merging (BusMerge V.6.0):**\r\n    *   The outputs of the `RST` and `OPM_SEG` blocks are fed into a `BusMerge` block.\r\n    *   Crucially, the `feedback` signal `<SEG_AD_RAW_MMV_ER>` is also an input to this `BusMerge` block. This indicates that the calculated raw mean moving value of engine roughness is integrated into the data stream at this point.\r\n    *   The `BusMerge` combines these various internal signals and the feedback into a single, structured bus.\r\n\r\n5.  **Output Generation (`phy_seg`):**\r\n    *   The output of the `BusMerge` block directly forms the `phy_seg` output bus.\r\n    *   This output bus contains the final calculated adaptive difference values for various segments (`SEG_AD_DIF_ER_0` through `SEG_AD_DIF_ER_5`) and a flag indicating if the maximum difference has been exceeded (`LV_SEG_AD_DIF_MAX_ER`). These outputs are then made available to other parts of the engine control system for monitoring, diagnostics, or further control actions.\r\n\r\n\r\n--- Page 126 ---\r\n\r\n## Function\r\nThis Simulink-like diagram describes an initialization logic, specifically for a \"RESET event\", within an \"Engine roughness adaptive learning process\". Its primary function is to initialize various engine roughness adaptive learning parameters (denoted as `SEG_AD_DIF_ER_X` and `LV_SEG_AD_DIF_MAX_ER`) to a value of `0`. This initialization is conditional, primarily depending on the engine's number of cylinders (`NC_CYL_NR`), ensuring that only relevant parameters for a given engine configuration are actively reset to `0`.\r\n\r\n## Inputs\r\n*   **NC_CYL_NR (1):** Number of Cylinders. This is the main input that determines the conditional initialization paths.\r\n\r\n## Outputs\r\n*   **LV_SEG_AD_DIF_MAX_ER (5):** A parameter likely representing the maximum adaptive difference for engine roughness, initialized to 0.\r\n*   **SEG_AD_DIF_ER_0 (7):** Segment Adaptive Difference Engine Roughness parameter 0, initialized to 0.\r\n*   **SEG_AD_DIF_ER_1 (6):** Segment Adaptive Difference Engine Roughness parameter 1, initialized to 0.\r\n*   **SEG_AD_DIF_ER_2 (4):** Segment Adaptive Difference Engine Roughness parameter 2, initialized to 0.\r\n*   **SEG_AD_DIF_ER_3 (3):** Segment Adaptive Difference Engine Roughness parameter 3, initialized to 0.\r\n*   **SEG_AD_DIF_ER_4 (2):** Segment Adaptive Difference Engine Roughness parameter 4, initialized to 0.\r\n*   **SEG_AD_DIF_ER_5 (1):** Segment Adaptive Difference Engine Roughness parameter 5, initialized to 0.\r\n\r\n## Logic Flow\r\n\r\nThe logic flow proceeds as follows during a RESET event:\r\n\r\n1.  **Read Number of Cylinders:** The process begins by receiving the `NC_CYL_NR` value, which is the current number of cylinders in the engine.\r\n\r\n2.  **Initialization of `LV_SEG_AD_DIF_MAX_ER` (5), `SEG_AD_DIF_ER_0` (7), and `SEG_AD_DIF_ER_1` (6):**\r\n    *   The `NC_CYL_NR` is compared against standard cylinder counts: 4, 6, 8, 10, and 12.\r\n    *   The results of these equality checks (`NC_CYL_NR == 4`, `NC_CYL_NR == 6`, etc.) are fed into a logical `OR` block (labeled `V.6.2`).\r\n    *   If `NC_CYL_NR` matches any of these values (i.e., the `OR` block output is TRUE), this condition triggers an `#if` block.\r\n    *   This `#if` block passes a constant `0` (labeled `V.6.4`) to a multiplexer or selector block (labeled `V.5.2`).", "mimetype": "text/plain", "start_char_idx": 357980, "end_char_idx": 361673, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5aed9c36-426f-4e1e-9c78-606c9843711f": {"__data__": {"id_": "5aed9c36-426f-4e1e-9c78-606c9843711f", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3c9dc894-3720-4819-8379-bddac6d5c527", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "071c4b1f91d33462d8d61cdd9a5b94c5c117aae27fbb2ace85b560d4e5f024e6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "af61c6e7-6507-4131-8737-ad8e0ddde832", "node_type": "1", "metadata": {}, "hash": "1856fd74a837af7e99be034d74121adc88b66016fe205ad56fad53ba9dced4b8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   If `NC_CYL_NR` matches any of these values (i.e., the `OR` block output is TRUE), this condition triggers an `#if` block.\r\n    *   This `#if` block passes a constant `0` (labeled `V.6.4`) to a multiplexer or selector block (labeled `V.5.2`).\r\n    *   The `V.5.2` block, which also receives other constant `0` inputs, then sets `LV_SEG_AD_DIF_MAX_ER`, `SEG_AD_DIF_ER_0`, and `SEG_AD_DIF_ER_1` to `0`. This implies these parameters are initialized to `0` for common engine configurations.\r\n\r\n3.  **Initialization of `SEG_AD_DIF_ER_2` (4):**\r\n    *   `NC_CYL_NR` is compared against 8, 10, and 12 cylinders.\r\n    *   The results (`NC_CYL_NR == 8`, `NC_CYL_NR == 10`, `NC_CYL_NR == 12`) are fed into another `OR` block (labeled `V.6.2`).\r\n    *   If `NC_CYL_NR` is 8, 10, or 12 (i.e., `OR` block output is TRUE), this condition triggers an `#if` block.\r\n    *   This `#if` block passes a constant `0` (labeled `V.6.4`), which initializes `SEG_AD_DIF_ER_2` to `0`.\r\n\r\n4.  **Initialization of `SEG_AD_DIF_ER_3` (3):**\r\n    *   `NC_CYL_NR` is compared against 10 and 12 cylinders.\r\n    *   The results (`NC_CYL_NR == 10`, `NC_CYL_NR == 12`) are fed into an `OR` block (labeled `V.6.2`).\r\n    *   If `NC_CYL_NR` is 10 or 12 (i.e., `OR` block output is TRUE), this condition triggers an `#if` block.\r\n    *   This `#if` block passes a constant `0` (labeled `V.6.4`), which initializes `SEG_AD_DIF_ER_3` to `0`.\r\n\r\n5.  **Initialization of `SEG_AD_DIF_ER_4` (2):**\r\n    *   `NC_CYL_NR` is directly compared against 12 cylinders. (Note: The diagram shows an `OR` block with only one input from `NC_CYL_NR == 12`, effectively making it `NC_CYL_NR == 12`).\r\n    *   If `NC_CYL_NR == 12` is TRUE, this condition triggers an `#if` block.\r\n    *   This `#if` block passes a constant `0` (labeled `V.6.4`), which initializes `SEG_AD_DIF_ER_4` to `0`.\r\n\r\n6.  **Initialization of `SEG_AD_DIF_ER_5` (1):**\r\n    *   Similar to `SEG_AD_DIF_ER_4`, `NC_CYL_NR` is directly compared against 12 cylinders (via an `OR` block with a single input `NC_CYL_NR == 12`).\r\n    *   If `NC_CYL_NR == 12` is TRUE, this condition triggers an `#if` block.\r\n    *   This `#if` block passes a constant `0` (labeled `V.6.4`), which initializes `SEG_AD_DIF_ER_5` to `0`.\r\n\r\nIn summary, the diagram establishes a hierarchical initialization process where specific engine roughness parameters are reset to `0` only if the engine's cylinder count matches a predefined set of values relevant to that particular parameter. Parameters designed for higher cylinder counts are only initialized if the `NC_CYL_NR` supports them.\r\n\r\n\r\n--- Page 131 ---\r\n\r\nThe provided image is a Simulink diagram, specifically illustrating a calculation step within an \"Engine roughness adaptive learning process\" (ENRD).\r\n\r\n## Function\r\nThe primary function of this diagram is to determine if a significant deviation exists between pairs of \"segment adaptive roughness values\" (`SEG_AD_RAW_MMV_ER`) or if any other pre-defined segment difference error conditions are met. It computes the maximum difference among specific pairs of these adaptive values and compares it against a configurable maximum allowed difference. If this threshold is exceeded, or if any of several other boolean error flags are active, a final boolean output (`LV_SEG_AD_DIF_MAX_ER`) is set to true, indicating a significant segment adaptive difference error.\r\n\r\n## Inputs\r\n1.", "mimetype": "text/plain", "start_char_idx": 361428, "end_char_idx": 364812, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "af61c6e7-6507-4131-8737-ad8e0ddde832": {"__data__": {"id_": "af61c6e7-6507-4131-8737-ad8e0ddde832", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5aed9c36-426f-4e1e-9c78-606c9843711f", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "3101c36a6408de1bffde9b94078d4f1d28c41b4aec9f747a33938d1aff31b4a3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4a979055-e0e9-4019-9c99-0ee296307da2", "node_type": "1", "metadata": {}, "hash": "e013f08ce9d37b35b2b1e0cfd5d7f7dd23402cb81608825718a6e8c37702ca8c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "It computes the maximum difference among specific pairs of these adaptive values and compares it against a configurable maximum allowed difference. If this threshold is exceeded, or if any of several other boolean error flags are active, a final boolean output (`LV_SEG_AD_DIF_MAX_ER`) is set to true, indicating a significant segment adaptive difference error.\r\n\r\n## Inputs\r\n1.  **`SEG_AD_RAW_MMV_ER`**: An array or vector of raw segment adaptive values (e.g., representing engine roughness for different engine segments or cylinders). The diagram indicates it's indexed from 0 to 11.\r\n2.  **`C_SEG_AD_DIF_MAX_ER`**: A scalar parameter or constant representing the maximum allowed difference between segment adaptive values. This acts as a threshold.\r\n3.  **`SEG_AD_DIF_ER_0` through `SEG_AD_DIF_ER_5`**: Six individual boolean flags (labeled 1 through 6) that likely represent other specific conditions related to segment difference errors, originating from other parts of the system.\r\n\r\n## Outputs\r\n1.  **`LV_SEG_AD_DIF_MAX_ER`**: A single boolean flag. It is `true` if a significant segment adaptive difference is detected, or if any of the `SEG_AD_DIF_ER_x` flags are `true`.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into two main parts:\r\n\r\n### Part 1: Calculate Maximum Difference between Segment Adaptive Values\r\n\r\n1.  **Read Segment Adaptive Values**: The `SEG_AD_RAW_MMV_ER` vector (represented by the green signal line) is accessed at specific indices (0, 6, 1, 7, 2, 8, 3, 9, 4, 10, 5, 11) using 'Selector' or 'Vector Read' blocks (labeled `V.6.4`). The \"Zero based indexing of read vector\" note confirms these are array accesses.\r\n2.  **Calculate Pairwise Differences**: These indexed values are grouped into six pairs, and a 'Sum' block (labeled `V.6.7`, with `+` and `-` inputs) calculates the difference for each pair. Given the context of \"difference max error\", these likely compute `Input_plus - Input_minus`. The pairs are:\r\n    *   `Difference_0_6 = SEG_AD_RAW_MMV_ER[0] - SEG_AD_RAW_MMV_ER[6]`\r\n    *   `Difference_1_7 = SEG_AD_RAW_MMV_ER[1] - SEG_AD_RAW_MMV_ER[7]`\r\n    *   `Difference_2_8 = SEG_AD_RAW_MMV_ER[2] - SEG_AD_RAW_MMV_ER[8]`\r\n    *   `Difference_3_9 = SEG_AD_RAW_MMV_ER[3] - SEG_AD_RAW_MMV_ER[9]`\r\n    *   `Difference_4_10 = SEG_AD_RAW_MMV_ER[4] - SEG_AD_RAW_MMV_ER[10]`\r\n    *   `Difference_5_11 = SEG_AD_RAW_MMV_ER[5] - SEG_AD_RAW_MMV_ER[11]`\r\n    (It's common for these differences to be absolute values in such applications, although an explicit 'Absolute Value' block is not shown here. The 'Max' block often handles the largest magnitude, or the subsequent comparison assumes positive inputs.)\r\n3.  **Find Maximum Difference**: The six calculated difference values are then fed into a 'Maximum' block (labeled `V.6.5`, depicted as a downward arrow with multiple inputs). This block outputs the highest numerical value among its inputs.\r\n    *   `Max_Calculated_Difference = Max(Difference_0_6, Difference_1_7, ..., Difference_5_11)`\r\n\r\n### Part 2: Compare and Aggregate Error Conditions\r\n\r\n1.  **Compare Against Threshold**: The `Max_Calculated_Difference` from Part 1 is compared against the threshold `C_SEG_AD_DIF_MAX_ER` using a \"greater than or equal to\" (`>=`) comparison block (labeled `V.6.0`). This comparison yields a boolean result.\r\n    *   `Threshold_Exceeded_Flag = (Max_Calculated_Difference >= C_SEG_AD_DIF_MAX_ER)`\r\n2.  **Logical OR Combination**: The `Threshold_Exceeded_Flag` is then fed into an 'OR' logic block (labeled `V.6.2`). Simultaneously, the six external boolean flags `SEG_AD_DIF_ER_0` through `SEG_AD_DIF_ER_5` are also fed into this same `OR` block.\r\n3.", "mimetype": "text/plain", "start_char_idx": 364434, "end_char_idx": 368074, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4a979055-e0e9-4019-9c99-0ee296307da2": {"__data__": {"id_": "4a979055-e0e9-4019-9c99-0ee296307da2", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "af61c6e7-6507-4131-8737-ad8e0ddde832", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "1976aa53c5a9342f11946f6aae5bf21ffb27986bfae8fe20b93f104dcc5254fc", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0c40706f-c84e-4f69-aabc-5743c0465f1e", "node_type": "1", "metadata": {}, "hash": "7a9c72a5857c21b86806baadae65fadabfbb95ab746f13e3f546e2025fc19830", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**Logical OR Combination**: The `Threshold_Exceeded_Flag` is then fed into an 'OR' logic block (labeled `V.6.2`). Simultaneously, the six external boolean flags `SEG_AD_DIF_ER_0` through `SEG_AD_DIF_ER_5` are also fed into this same `OR` block.\r\n3.  **Generate Final Output**: The `OR` block produces the final output `LV_SEG_AD_DIF_MAX_ER`. This flag is `true` if `Threshold_Exceeded_Flag` is `true`, OR if `SEG_AD_DIF_ER_0` is `true`, OR if `SEG_AD_DIF_ER_1` is `true`, ..., OR if `SEG_AD_DIF_ER_5` is `true`. Otherwise, it is `false`.\r\n\r\n\r\n--- Page 132 ---\r\n\r\nThis is a Simulink diagram representing a module for an engine roughness adaptive learning process.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to calculate and manage segment-specific adaptive values related to engine roughness, utilizing non-volatile memory (NVM) for persistent storage of learned parameters. It forms part of an adaptive control or learning system that updates parameters (`SEG_AD_MMV_ER`) based on current engine operating conditions and feedback from previous learning cycles. The process is segmented, meaning different adaptive values may apply to different engine operating regions.\r\n\r\n## Inputs\r\n\r\n1.  **sys_eve (Control Bus from Port 1):** A bus of system event and control signals:\r\n    *   `<ACT_ADA_VAL_RST>`: Reset signal for the adaptive value calculation.\r\n    *   `<ACT_ADA_VAL_NVMINI>`: Command to initialize non-volatile memory for adaptive values.\r\n    *   `<ACT_ADA_VAL_NVMRES>`: Command to restore (read) adaptive values from non-volatile memory.\r\n    *   `<ACT_ADA_VAL_NVMSTO>`: Command to store (save) adaptive values to non-volatile memory.\r\n    *   `<ACT_ADA_VAL_SEG>`: Signal indicating segment activation or selection for adaptive value processing.\r\n    *   `LV_ENA_SEG_T_MES`: Local Variable to enable segment time measurement.\r\n    *   `fc_OPM_SEG`: A function call signal for the OPM Segment block.\r\n\r\n2.  **Input (Measurement/State Bus from Port 2):** A bus of current engine or system states:\r\n    *   `<LV_ENA_SEG_T_MES>`: (Potentially a redundant input or bus element indicating its origin from another part of the system) Local Variable to enable segment time measurement.\r\n    *   `<LV_AT>`: Local Variable for \"AT\", likely representing engine speed, load, or another relevant operating point.\r\n    *   `<N_32>`: A 32-bit input, possibly representing a segment index or general counter.\r\n    *   `<LV_CVT>`: Local Variable for \"CVT\", potentially a value related to Continuously Variable Transmission or other system state.\r\n    *   `<LV_DCT>`: Local Variable for \"DCT\", potentially a value related to Dual Clutch Transmission or other system state.\r\n\r\n3.  **feedback (Segment Roughness Feedback Bus from Port 3):** Feedback from previous or other segment calculations:\r\n    *   `<SEG_AD_MMV_ER_H>`: High range of the Segment Adaptive Mean Measured Value for Engine Roughness.\r\n    *   `<SEG_AD_MMV_ER_MID>`: Mid range of the Segment Adaptive Mean Measured Value for Engine Roughness.\r\n    *   `<SEG_AD_MMV_ER_L>`: Low range of the Segment Adaptive Mean Measured Value for Engine Roughness.\r\n\r\n## Outputs\r\n\r\n1.  **act_ada_val (Bus Output from Port 1):** The main output bus containing the active adaptive values.\r\n    *   `<SEG_AD_MMV_ER>`: The calculated Segment Adaptive Mean Measured Value for Engine Roughness, which is the core output of this module.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow describes how the system processes inputs to produce the adaptive engine roughness values:\r\n\r\n1.  **Adaptive Value Control (ACT_ADA_VAL X.6.1):**\r\n    *   The `ACT_ADA_VAL X.6.1` subsystem receives control commands via the `sys_eve` input bus (e.g., `RST`, `NVMINI`, `NVMRES`, `NVMSTO`, `SEG`). It also receives `LV_ENA_SEG_T_MES`.\r\n    *   Based on these commands, it generates function call signals (`fc_NVMY_INI`, `fc_NVMY_RD`, `fc_NVMY_SAVE`) to control the Non-Volatile Memory (NVMY) block.", "mimetype": "text/plain", "start_char_idx": 367826, "end_char_idx": 371753, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0c40706f-c84e-4f69-aabc-5743c0465f1e": {"__data__": {"id_": "0c40706f-c84e-4f69-aabc-5743c0465f1e", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4a979055-e0e9-4019-9c99-0ee296307da2", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "8bd40b84ce572eb3783c9288216dcb65c132a6c7fff9eccf5bad96c8dfcb10ea", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c5f068b4-ba1d-4813-ac7f-d372eacb578a", "node_type": "1", "metadata": {}, "hash": "2458c578efdc2dd203eeb791d710c37ad68aaecb45b2984f065fb63e380f1fb6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "It also receives `LV_ENA_SEG_T_MES`.\r\n    *   Based on these commands, it generates function call signals (`fc_NVMY_INI`, `fc_NVMY_RD`, `fc_NVMY_SAVE`) to control the Non-Volatile Memory (NVMY) block.\r\n    *   It also outputs `fc_OPM_SEG` (a trigger for OPM_SEG) and `LV_ENA_SEG_T_MES` to the `OPM_SEG` block.\r\n\r\n2.  **Non-Volatile Memory Management (NVMY X.6.2):**\r\n    *   This `NVMY` subsystem receives the NVM control signals (`fc_NVMY_INI`, `fc_NVMY_RD`, `fc_NVMY_SAVE`) from `ACT_ADA_VAL`.\r\n    *   It also receives data to be stored from the `OPM_SEG` block (via the 'feedback' line from OPM_SEG to NVMY).\r\n    *   Depending on the control signals, it either initializes, reads, or saves the segment-specific adaptive data.\r\n    *   It outputs the currently active or restored non-volatile memory data (`nvmy`) to the `OPM_SEG` block, providing persistent learned parameters.\r\n\r\n3.  **Operation Management Segment (OPM_SEG X.6.3):**\r\n    *   This `OPM_SEG` subsystem is the core calculation unit for the adaptive values.\r\n    *   It receives the `f()` trigger (likely from an external scheduler), the `fc_OPM_SEG` from `ACT_ADA_VAL`, and the `LV_ENA_SEG_T_MES` signal.\r\n    *   It takes current engine operating conditions and system states through the `Input opm_seg` bus (e.g., `LV_AT`, `N_32`, `LV_CVT`, `LV_DCT`).\r\n    *   Crucially, it receives the `nvmy` data (learned parameters) from the `NVMY` block and the `feedback` bus (previous segment's roughness values, `SEG_AD_MMV_ER_H/MID/L`).\r\n    *   Using all these inputs, the `OPM_SEG` block performs the adaptive learning calculations, likely updating the engine roughness adaptive values for the active segment.\r\n    *   The output of `OPM_SEG` is the newly calculated segment adaptive data. This data is simultaneously fed to the `BusMerge` block for output and to the `NVMY` block for potential storage, thus closing the NVM feedback loop for saving learned values.\r\n\r\n4.  **Output Generation (BusMerge V.6.0):**\r\n    *   The output of the `OPM_SEG X.6.3` block, which represents the updated segment adaptive roughness value, is fed into the `BusMerge` block.\r\n    *   The `BusMerge` combines this (and potentially other implicit signals) into a single output bus named `act_ada_val`.\r\n    *   This `act_ada_val` bus contains the primary output signal, `<SEG_AD_MMV_ER>`, which is available for other parts of the system and for feedback into the module itself.\r\n\r\n5.  **Feedback Loop:** The main output `act_ada_val` (specifically `<SEG_AD_MMV_ER>`) is fed back into the module as the `feedback` input (Port 3), segmented into `_H`, `_MID`, `_L` ranges. This indicates that the calculated adaptive values from one cycle or segment are used as input for the next, enabling an iterative or historical learning process to refine the adaptive parameters.\r\n\r\n\r\n--- Page 133 ---\r\n\r\nThis is indeed a Simulink/Stateflow diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink/Stateflow diagram, titled \"29.6.6.1 Application condition\" and within the context of \"ENRD. Engine roughness adaptive learning process,\" is to manage the application conditions for Non-Volatile Memory (NVM) operations and operational segment control. It acts as a supervisory logic, likely a state machine implemented in Stateflow (the \"Chart\" block), to determine when NVM should be initialized, read, or saved, and to control the state of an operational segment based on various system inputs and events. This is crucial for systems that need to persist learned data across power cycles and manage different operating modes.\r\n\r\n## Inputs\r\n*   **RST (Reset):** A signal indicating a system reset event.\r\n*   **NVMINI (NVM Initialize):** A signal or request to initialize the Non-Volatile Memory.\r\n*   **NVMRES (NVM Restore):** A signal or request to restore (read) data from Non-Volatile Memory.", "mimetype": "text/plain", "start_char_idx": 371553, "end_char_idx": 375393, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c5f068b4-ba1d-4813-ac7f-d372eacb578a": {"__data__": {"id_": "c5f068b4-ba1d-4813-ac7f-d372eacb578a", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0c40706f-c84e-4f69-aabc-5743c0465f1e", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "51ed74a6b7fcee31579f3a3c713ea7ee65dc7dc0c32113422d55aa691b0f1a45", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "55c490a7-027b-4dea-aa89-e3afb5e3618d", "node_type": "1", "metadata": {}, "hash": "0dbdc26e1bb4f774a0202b955a712d44b6702b3941eb2b1fd699628e75081adf", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This is crucial for systems that need to persist learned data across power cycles and manage different operating modes.\r\n\r\n## Inputs\r\n*   **RST (Reset):** A signal indicating a system reset event.\r\n*   **NVMINI (NVM Initialize):** A signal or request to initialize the Non-Volatile Memory.\r\n*   **NVMRES (NVM Restore):** A signal or request to restore (read) data from Non-Volatile Memory.\r\n*   **NVMSTO (NVM Store):** A signal or request to store (save) data to Non-Volatile Memory.\r\n*   **SEG (Segment):** An input related to the status or control of a specific operational or learning segment.\r\n*   **LV_ENA_SEG_T_MES (Local Variable Enable Segment T_MES):** A signal indicating the enabling state of a specific segment related to \"T_MES\" (possibly Torque Measurement or a similar engine measurement). This suggests a condition tied to measured engine parameters.\r\n\r\n## Outputs\r\n*   **fc_NVMY_INI (Function Call NVM Initialize):** An output signal that triggers an external function responsible for initializing NVM.\r\n*   **fc_NVMY_RD (Function Call NVM Read):** An output signal that triggers an external function responsible for reading data from NVM.\r\n*   **fc_NVMY_SAVE (Function Call NVM Save):** An output signal that triggers an external function responsible for saving data to NVM.\r\n*   **fc_OPM_SEG (Function Call Operational Segment):** An output signal that triggers an external function or controls a sub-system related to the activation or management of an operational segment.\r\n\r\n## Logic Flow\r\n1.  **Input Collection:** The system continuously monitors six distinct input signals: `RST`, `NVMINI`, `NVMRES`, `NVMSTO`, `SEG`, and `LV_ENA_SEG_T_MES`.\r\n2.  **Event Aggregation:** The `RST`, `NVMINI`, `NVMRES`, `NVMSTO`, and `SEG` signals are grouped together and passed into the central \"Chart\" block as \"input events ()\". This suggests they can act as triggers or conditions for state transitions within the chart.\r\n3.  **State Machine Execution (Chart Block):**\r\n    *   The core decision-making logic resides within the \"Chart\" block, which is a Stateflow diagram. Although the internal details are not fully visible, it contains at least two states and a transition between them, indicating a state machine implementation.\r\n    *   The \"Chart\" block processes the incoming input events and the `LV_ENA_SEG_T_MES` signal.\r\n    *   Based on the current state of the system and the occurrence of these input events (e.g., `NVMINI` becoming active, or `NVMSTO` being requested), the Stateflow chart transitions between its internal states.\r\n    *   During these transitions or while in specific states, the chart's logic determines which NVM operations (Initialize, Read, Save) are required and if the operational segment (`OPM_SEG`) should be controlled.\r\n    *   For example:\r\n        *   A `RST` event might drive the system into an initial state where NVM is checked or prepared.\r\n        *   An `NVMINI` event might trigger the `fc_NVMY_INI` output.\r\n        *   An `NVMRES` event might trigger `fc_NVMY_RD` (e.g., at system startup to load persisted data).\r\n        *   An `NVMSTO` event might trigger `fc_NVMY_SAVE` (e.g., during shutdown or after significant learning).\r\n        *   The `SEG` input combined with `LV_ENA_SEG_T_MES` might influence when the `fc_OPM_SEG` output is asserted, indicating that the operational segment is active or requires specific handling.\r\n4.  **Output Generation:** As a result of its internal logic and state transitions, the \"Chart\" block generates the four output signals: `fc_NVMY_INI`, `fc_NVMY_RD`, `fc_NVMY_SAVE`, and `fc_OPM_SEG`. These outputs are likely pulsed or held high to indicate the requirement for the corresponding action.\r\n5.  **External Function Calls:** These generated output signals serve as \"function calls\" or triggers to other parts of the larger engine control system, instructing them to perform the requested NVM operations or manage the operational segment accordingly. The numbered output blocks on the right represent these external connections.", "mimetype": "text/plain", "start_char_idx": 375004, "end_char_idx": 379039, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "55c490a7-027b-4dea-aa89-e3afb5e3618d": {"__data__": {"id_": "55c490a7-027b-4dea-aa89-e3afb5e3618d", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c5f068b4-ba1d-4813-ac7f-d372eacb578a", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "7d334fdb75b2e97198058c69f39e1d957d37268ddc1526cb824f9dff57735cda", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "38970279-d025-4fdc-bb9b-f8290e01dd5d", "node_type": "1", "metadata": {}, "hash": "a2cb4fbd643ed55febe78936b59dd749fe203ab7b15cc35e346bbc84aa711cea", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "These outputs are likely pulsed or held high to indicate the requirement for the corresponding action.\r\n5.  **External Function Calls:** These generated output signals serve as \"function calls\" or triggers to other parts of the larger engine control system, instructing them to perform the requested NVM operations or manage the operational segment accordingly. The numbered output blocks on the right represent these external connections.\r\n\r\n\r\n--- Page 134 ---\r\n\r\n## Function\r\nThe primary function of this combined system, as depicted by the Stateflow chart and the Simulink block diagram, is to manage the lifecycle of Non-Volatile Memory (NVM) data related to an \"Engine roughness adaptive learning process\" (ENRD), and to control the operational states (active/inactive) for segment-based data acquisition or processing. Specifically, it handles NVM initialization, reading, saving, and resetting, and initializes a key NVM variable `SEG_AD_MMV_ER` which is an array sized by the number of engine cylinders.\r\n\r\n## Inputs\r\n1.  **`SYS_EVE_NVMINI`**: System event to trigger NVM initialization.\r\n2.  **`SYS_EVE_NVMRES`**: System event to trigger NVM data restoration/read.\r\n3.  **`SYS_EVE_NVMSTO`**: System event to trigger NVM data storage/save.\r\n4.  **`SYS_EVE_RST`**: System event to trigger a general system reset.\r\n5.  **`SYS_EVE_SEG`**: System event to trigger a segment-specific operation.\r\n6.  **`LV_ENA_SEG_T_MES`**: Local variable (boolean or integer) indicating whether segment-based time measurement (or operation) is enabled. A value of '1' typically means enabled, '0' means disabled.\r\n7.  **`NC_CYL_NR`**: (Number of Cylinders) An integer value that determines the size (number of elements) of the `SEG_AD_MMV_ER` array.\r\n\r\n## Outputs\r\n1.  **`fc_NVMY_INI`**: Function call (triggered by `SYS_EVE_NVMINI`) to perform NVM initialization routines.\r\n2.  **`fc_NVMY_RD`**: Function call (triggered by `SYS_EVE_NVMRES`) to read NVM data.\r\n3.  **`fc_NVMY_SAVE`**: Function call (triggered by `SYS_EVE_NVMSTO`) to save NVM data.\r\n4.  **`fc_OPM_SEG`**: Function call (triggered by `SYS_EVE_SEG` in the `active` state) to perform segment-specific operations, likely part of the adaptive learning process.\r\n5.  **`SEG_AD_MMV_ER`**: (Segment-based Adaptive Motor-Model Error) An array of `NC_CYL_NR` elements, initialized to '1' for each element. This array is likely intended for NVM storage.\r\n6.  **System State (Implicit)**: The chart's current state (`active` or `inactive`) implicitly signals the operational mode of the segment-based process, influencing subsequent behavior.\r\n\r\n## Logic Flow\r\n\r\nThe system's logic is primarily driven by events and conditions within the Stateflow chart, complemented by a block diagram for NVM variable initialization.\r\n\r\n**Part 1: Stateflow Chart (APP_CDN)**\r\n\r\n1.  **Initial Entry:** The chart starts in the `APP_CDN/` superstate.\r\n2.  **NVM Management Events:**\r\n    *   Upon detecting the `SYS_EVE_NVMINI` event, the function `fc_NVMY_INI` is executed, initiating NVM data initialization.\r\n    *   Upon detecting the `SYS_EVE_NVMRES` event, the function `fc_NVMY_RD` is executed, restoring or reading NVM data.\r\n    *   Upon detecting the `SYS_EVE_NVMSTO` event, the function `fc_NVMY_SAVE` is executed, saving NVM data.\r\n    *   Upon detecting the `SYS_EVE_RST` event, a general system reset action is triggered.\r\n    *   All these NVM operations transition through a common junction, which then leads to the entry point of the `active`/`inactive` state evaluation, implying a re-assessment of the operational state after NVM activity.\r\n3.  **Operational State Control (Active/Inactive):**\r\n    *   **Initial State Selection & Transitions:** The system transitions into either the `active/` or `inactive/` substate based on the condition `LV_ENA_SEG_T_MES`.\r\n    *   **`active/` State:** When `LV_ENA_SEG_T_MES` is '1', the system enters or remains in the `active/` state.", "mimetype": "text/plain", "start_char_idx": 378600, "end_char_idx": 382521, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "38970279-d025-4fdc-bb9b-f8290e01dd5d": {"__data__": {"id_": "38970279-d025-4fdc-bb9b-f8290e01dd5d", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "55c490a7-027b-4dea-aa89-e3afb5e3618d", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "e50bff5f6185c3a526f9010616bcbedbc7cb338d40b2e51585026e5db764a29f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "11f26ebc-bfbf-455f-8e8a-82d12239b1b5", "node_type": "1", "metadata": {}, "hash": "1b2ff0d6b80cbc8893101dd5a59b513eb6557c1e5f964042a1547a331a80a40c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  **Operational State Control (Active/Inactive):**\r\n    *   **Initial State Selection & Transitions:** The system transitions into either the `active/` or `inactive/` substate based on the condition `LV_ENA_SEG_T_MES`.\r\n    *   **`active/` State:** When `LV_ENA_SEG_T_MES` is '1', the system enters or remains in the `active/` state. While `active`, if the `SYS_EVE_SEG` event occurs, the `fc_OPM_SEG` function is executed, signifying a segment-specific operation (e.g., data acquisition or processing for an engine segment). This is a self-loop, meaning it can repeatedly perform `fc_OPM_SEG` as long as `SYS_EVE_SEG` occurs and `LV_ENA_SEG_T_MES` remains '1'.\r\n    *   **Transition to `inactive/`:** If the system is in the `active/` state and the condition `LV_ENA_SEG_T_MES == 0` becomes true, it transitions to the `inactive/` state.\r\n    *   **`inactive/` State:** When `LV_ENA_SEG_T_MES` is '0', the system enters or remains in the `inactive/` state. No specific actions are shown to occur *within* this state.\r\n    *   **Transition to `active/`:** If the system is in the `inactive/` state and the condition `LV_ENA_SEG_T_MES == 1` becomes true, it transitions back to the `active/` state.\r\n\r\n**Part 2: NVM Variable Initialization (SEG_AD_MMV_ER)**\r\n\r\n1.  **Array Sizing:** The input `NC_CYL_NR` (Number of Cylinders) is used to define the dimension or size of the output array `SEG_AD_MMV_ER`. This means `SEG_AD_MMV_ER` will have `NC_CYL_NR` elements.\r\n2.  **Initialization Value:** Each element of the `SEG_AD_MMV_ER` array is initialized to the constant value '1'. Although `init = 0` is shown, the explicit constant block '1' feeding into the output indicates that the actual initial value assigned to each element of the array is '1'. This initialization is part of the broader NVM initialization managed by the Stateflow chart.\r\n\r\n\r\n--- Page 135 ---\r\n\r\n## Function\r\n\r\nThe primary function of these Simulink diagrams is to manage the persistent storage and retrieval of an engine-related adaptive variable named `SEG_AD_MMV_ER` in Non-Volatile Memory (NVM). This variable is likely part of an \"Engine roughness adaptive learning process\" (as suggested by the document title \"ENRD. Engine roughness adaptive learning process\"). The top diagram (`29.6.6.2.2`) handles reading this variable from NVM during initialization or operation, while the bottom diagram (`29.6.6.2.3`) handles storing its updated value back into NVM to ensure data persistence across ECU power cycles.\r\n\r\n## Inputs\r\n\r\n**For \"Read NVMY variables\" (Top Diagram):**\r\n*   **Implicit Trigger:** A conceptual trigger or function call (`f()`) initiates the read operation. No explicit signal input is shown, implying it's activated by a control flow or a system event (e.g., power-on, ECU reset).\r\n\r\n**For \"Store NVMY variables\" (Bottom Diagram):**\r\n*   **`SEG_AD_MMV_ER` (current value):** The updated or calculated value of `SEG_AD_MMV_ER` that needs to be stored persistently. This value is received via a `From` block labeled `1`, indicating it originates from another part of the model where `SEG_AD_MMV_ER` is processed or calculated.\r\n\r\n## Outputs\r\n\r\n**For \"Read NVMY variables\" (Top Diagram):**\r\n*   **`SEG_AD_MMV_ER` (read value):** The value of `SEG_AD_MMV_ER` retrieved from NVM. If the NVM read fails or the memory is uninitialized, the variable is initialized to `0`. This value is then propagated via a `Goto` block labeled `1` for use elsewhere in the system.\r\n\r\n**For \"Store NVMY variables\" (Bottom Diagram):**\r\n*   **Implicit Storage:** The successful writing of the `SEG_AD_MMV_ER` value into Non-Volatile Memory.", "mimetype": "text/plain", "start_char_idx": 382186, "end_char_idx": 385797, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "11f26ebc-bfbf-455f-8e8a-82d12239b1b5": {"__data__": {"id_": "11f26ebc-bfbf-455f-8e8a-82d12239b1b5", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "38970279-d025-4fdc-bb9b-f8290e01dd5d", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "08bf13b3b01faae5c6f8df26401930199a0cb513c6b8a096d3e4863ac7344467", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a1607ebf-15c3-47ba-8539-c6a030c34c68", "node_type": "1", "metadata": {}, "hash": "56a447802024075defdc2811d3b19552f8c48eceab4ca14527b1fd04b834dfa3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "If the NVM read fails or the memory is uninitialized, the variable is initialized to `0`. This value is then propagated via a `Goto` block labeled `1` for use elsewhere in the system.\r\n\r\n**For \"Store NVMY variables\" (Bottom Diagram):**\r\n*   **Implicit Storage:** The successful writing of the `SEG_AD_MMV_ER` value into Non-Volatile Memory. The `out` port of the `NVMY[store]` block is connected to a terminator (represented by the square `E` block), implying that the direct output (e.g., a status indicating success or failure of the store operation) is not used further in this specific scope.\r\n\r\n## Logic Flow\r\n\r\nThe system comprises two independent but complementary logic flows: one for reading NVM variables and one for storing them.\r\n\r\n**1. Logic Flow for \"Read NVMY variables\":**\r\n*   **Step 1: Initiation:** An implicit function call or system event (represented by `f()`) triggers the NVM read process.\r\n*   **Step 2: NVM Read/Initialization:** The `NVMY[read/init]` block is activated. Its primary task is to attempt to read the value of the `SEG_AD_MMV_ER` variable from Non-Volatile Memory.\r\n*   **Step 3: Default Initialization:** If the `SEG_AD_MMV_ER` variable cannot be successfully read from NVM (e.g., on first power-on, after memory corruption, or if it has never been stored), the block initializes it to a default value of `0` (as specified by `init: 0`).\r\n*   **Step 4: Output Propagation:** The value obtained from NVM (either read or initialized) is then output from the `NVMY[read/init]` block.\r\n*   **Step 5: Global Availability:** This output value, identified as `SEG_AD_MMV_ER`, is connected to a `Goto` block labeled `1`. This makes the `SEG_AD_MMV_ER` value available to any corresponding `From` block (also labeled `1`) elsewhere in the Simulink model, enabling its use by other system components.\r\n\r\n**2. Logic Flow for \"Store NVMY variables\":**\r\n*   **Step 1: Initiation:** An implicit function call or system event (represented by `f()`) triggers the NVM store process.\r\n*   **Step 2: Input Value Reception:** A `From` block labeled `1` receives the current, updated value of `SEG_AD_MMV_ER`. This value is expected to have been calculated or modified by other parts of the engine control algorithm (e.g., the adaptive learning process).\r\n*   **Step 3: NVM Store:** The received `SEG_AD_MMV_ER` value is fed into the `in` port of the `NVMY[store]` block. This block then performs the operation of writing the value to Non-Volatile Memory.\r\n*   **Step 4: Termination:** The `out` port of the `NVMY[store]` block is connected to a terminator block. This signifies that any potential output from the store operation (such as a status indicating success or failure) is not utilized or propagated further within this particular diagram. The primary goal is the side effect of persisting the data.\r\n\r\n\r\n--- Page 136 ---\r\n\r\n## Function\r\nThis Simulink diagram's primary function is to determine the `SEG_AD_MMV_ER` value, which likely stands for \"Segment Adaptive Engine Roughness Multi-Mass Vibration / Emission Regulation\" or similar, in the context of an \"Engine roughness adaptive learning process\". It calculates this value based on a default low limit (`SEG_AD_MMV_ER_L`) and various maximum limits specific to different transmission types (Manual Transmission (MT), Continuously Variable Transmission (CVT), Dual Clutch Transmission (DCT), and generic Automatic Transmission (AT)). The final `SEG_AD_MMV_ER` is the minimum of the base low limit and the selected transmission-specific maximum limit. Additionally, it computes a `NOT_VLD` (Not Valid) flag based on several system parameters.\r\n\r\n## Inputs\r\nThe following signals are inputs to the overall system represented by this diagram:\r\n\r\n*   **`SEG_AD_MMV_ER_L`**: A base or lower limit for the adaptive engine roughness value (labeled 7).\r\n*   **`C_N_MAX_L_SEG_AD_ER_MT`**: Maximum limit for Segment Adaptive Engine Roughness specifically for Manual Transmissions.\r\n*   **`<LV_AT>`**: Logical variable indicating if the vehicle has an Automatic Transmission.", "mimetype": "text/plain", "start_char_idx": 385457, "end_char_idx": 389505, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a1607ebf-15c3-47ba-8539-c6a030c34c68": {"__data__": {"id_": "a1607ebf-15c3-47ba-8539-c6a030c34c68", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "11f26ebc-bfbf-455f-8e8a-82d12239b1b5", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "23e985a56d8b806b1eb2027b17ea906a3929654ea78e72978e8575c1d23b1a4b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9435f647-ec0d-4025-8702-8d3f2a8bd564", "node_type": "1", "metadata": {}, "hash": "25a2972b1c7ae5fcff01f5d35c466a0b0651797589d8b7cb333b9576b42ec6d4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Inputs\r\nThe following signals are inputs to the overall system represented by this diagram:\r\n\r\n*   **`SEG_AD_MMV_ER_L`**: A base or lower limit for the adaptive engine roughness value (labeled 7).\r\n*   **`C_N_MAX_L_SEG_AD_ER_MT`**: Maximum limit for Segment Adaptive Engine Roughness specifically for Manual Transmissions.\r\n*   **`<LV_AT>`**: Logical variable indicating if the vehicle has an Automatic Transmission.\r\n*   **`C_N_MAX_L_SEG_AD_ER_CVT`**: Maximum limit for Segment Adaptive Engine Roughness specifically for Continuously Variable Transmissions.\r\n*   **`<LV_CVT>`**: Logical variable indicating if the vehicle has a Continuously Variable Transmission.\r\n*   **`C_N_MAX_L_SEG_AD_ER_DCT`**: Maximum limit for Segment Adaptive Engine Roughness specifically for Dual Clutch Transmissions.\r\n*   **`<LV_DCT>`**: Logical variable indicating if the vehicle has a Dual Clutch Transmission.\r\n*   **`C_N_MAX_L_SEG_AD_ER_AT`**: Maximum limit for Segment Adaptive Engine Roughness for a generic Automatic Transmission.\r\n*   **`<N_32>`**: A numerical value, possibly related to engine speed or another measured parameter.\r\n*   **`SEG_AD_MMV_ER_H`**: A \"High\" adaptive engine roughness value (labeled 5).\r\n*   **`SEG_AD_MMV_ER_MID`**: A \"Mid\" adaptive engine roughness value (labeled 6).\r\n\r\n## Outputs\r\nThe following signals are outputs from the overall system represented by this diagram:\r\n\r\n*   **`SEG_AD_MMV_ER`**: The primary calculated output, representing the determined segment adaptive engine roughness value (labeled 1).\r\n*   **`N_32`**: The `<N_32>` input value passed through.\r\n*   **`LV_AT`**: The `<LV_AT>` input value passed through.\r\n*   **`SEG_AD_MMV_ER_H`**: The `SEG_AD_MMV_ER_H` input value passed through.\r\n*   **`SEG_AD_MMV_ER_MID`**: The `SEG_AD_MMV_ER_MID` input value passed through.\r\n*   **`LV_CVT`**: The `<LV_CVT>` input value passed through.\r\n*   **`LV_DCT`**: The `<LV_DCT>` input value passed through.\r\n*   **`NOT_VLD`**: A validation flag computed by an internal subsystem (X.6.3.1.1) based on several input parameters.\r\n\r\n## Logic Flow\r\n\r\nThe logic flow primarily determines `SEG_AD_MMV_ER` through a series of conditional selections and comparisons:\r\n\r\n1.  **Transmission Type Prioritization and Selection (`CandidateValue`):**\r\n    *   The diagram implicitly establishes a priority for transmission types, likely: Manual Transmission (MT) > Continuously Variable Transmission (CVT) > Dual Clutch Transmission (DCT) > Generic Automatic Transmission (AT).\r\n    *   A series of cascading conditional `Switch` blocks (represented by the rectangular blocks with three inputs and `Check ~= 0` or `V.X.X` labels) are used to select one of the `C_N_MAX_L_SEG_AD_ER_X` values.\r\n    *   **Generic AT (Base selection):** The `C_N_MAX_L_SEG_AD_ER_AT` value serves as the initial, lowest-priority candidate.\r\n    *   **DCT Check:** If `<LV_DCT>` is true, then `C_N_MAX_L_SEG_AD_ER_DCT` is selected as the `CandidateValue`; otherwise, the value from the generic AT branch is kept.\r\n    *   **CVT Check:** If `<LV_CVT>` is true, then `C_N_MAX_L_SEG_AD_ER_CVT` is selected as the `CandidateValue`; otherwise, the value from the DCT branch (or generic AT if DCT was not true) is kept.\r\n    *   **MT Check:** The input `<LV_AT>` is first negated (`NOT <LV_AT>`). If `NOT <LV_AT>` is true (meaning it's not an Automatic Transmission, implying a Manual Transmission), then `C_N_MAX_L_SEG_AD_ER_MT` is selected as the `CandidateValue`; otherwise, the value from the CVT branch (or lower priority) is kept.\r\n    *   The output of this cascading selection process is an intermediate `CandidateValue`, representing the highest-priority applicable `C_N_MAX_L_SEG_AD_ER_X` limit.\r\n\r\n2.", "mimetype": "text/plain", "start_char_idx": 389086, "end_char_idx": 392779, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9435f647-ec0d-4025-8702-8d3f2a8bd564": {"__data__": {"id_": "9435f647-ec0d-4025-8702-8d3f2a8bd564", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a1607ebf-15c3-47ba-8539-c6a030c34c68", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "164042c72166864cc40ace520a362ada1abfe2514104089cb2dc64a7e63d1bd8", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "543072c8-860d-4a38-b56a-9153968bac5d", "node_type": "1", "metadata": {}, "hash": "996933646169f770298fd8c4f1ab0058bff40a6947af959124989b4b20f99183", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "If `NOT <LV_AT>` is true (meaning it's not an Automatic Transmission, implying a Manual Transmission), then `C_N_MAX_L_SEG_AD_ER_MT` is selected as the `CandidateValue`; otherwise, the value from the CVT branch (or lower priority) is kept.\r\n    *   The output of this cascading selection process is an intermediate `CandidateValue`, representing the highest-priority applicable `C_N_MAX_L_SEG_AD_ER_X` limit.\r\n\r\n2.  **Final `SEG_AD_MMV_ER` Determination (Minimum Selection):**\r\n    *   The `CandidateValue` (from step 1) is then compared with `SEG_AD_MMV_ER_L` using a \"less than\" block (`<`, labeled V.6.0).\r\n    *   The boolean result of this comparison (`CandidateValue < SEG_AD_MMV_ER_L`) acts as the control signal for the final `Switch` block (labeled V.6.4).\r\n    *   If `CandidateValue` is indeed less than `SEG_AD_MMV_ER_L` (control signal is true), then `CandidateValue` is selected.\r\n    *   If `CandidateValue` is greater than or equal to `SEG_AD_MMV_ER_L` (control signal is false), then `SEG_AD_MMV_ER_L` is selected.\r\n    *   This effectively computes `SEG_AD_MMV_ER = min(CandidateValue, SEG_AD_MMV_ER_L)`.\r\n\r\n3.  **`NOT_VLD` Calculation (Parallel Function):**\r\n    *   In parallel, a separate subsystem or function block (labeled `NOT_VLD` and referenced as X.6.3.1.1) receives several input signals: `N_32`, `LV_AT`, `SEG_AD_MMV_ER_H`, `SEG_AD_MMV_ER_MID`, `LV_CVT`, and `LV_DCT`.\r\n    *   This block processes these inputs according to its internal logic (not detailed in this diagram) to produce the boolean output `NOT_VLD`, indicating if the system or a specific condition is currently invalid.\r\n\r\n\r\n--- Page 137 ---\r\n\r\n## Function\r\nThis Simulink diagram's primary function is to calculate `SEG_AD_MMV_ER`, which represents a segment adaptive maximum allowed value for engine roughness. This calculation is part of an \"Engine Roughness Adaptive Learning Process,\" where the maximum allowable roughness for adaptation is determined based on the active transmission type and specific adaptive limits (mid or high range). Essentially, it selects a relevant maximum roughness value from a set of transmission-specific values and then applies an overall adaptive limit, ensuring the output value is the minimum of these two.\r\n\r\n## Inputs\r\n1.  **`C_N_MAX_MID_SEG_AD_ER_MT`**: Maximum mid-segment adaptive engine roughness for Manual Transmission. (Scalar)\r\n2.  **`C_N_MAX_MID_SEG_AD_ER_CVT`**: Maximum mid-segment adaptive engine roughness for Continuously Variable Transmission. (Scalar)\r\n3.  **`C_N_MAX_MID_SEG_AD_ER_DCT`**: Maximum mid-segment adaptive engine roughness for Dual Clutch Transmission. (Scalar)\r\n4.  **`C_N_MAX_MID_SEG_AD_ER_AT`**: Maximum mid-segment adaptive engine roughness for Automatic Transmission. (Scalar)\r\n5.  **`V.6.2`**: A boolean or enumerated control signal indicating if CVT is active, used for selecting between CVT and MT adaptive values. (Boolean/Enum)\r\n6.  **`V.6.6` (for DCT)**: A boolean or enumerated control signal indicating if DCT is active, used for selecting between DCT and the outcome of the CVT/MT selection. (Boolean/Enum)\r\n7.  **`V.6.6` (for AT)**: A boolean or enumerated control signal indicating if AT is active, used for selecting between AT and the outcome of the DCT/CVT/MT selection. (Boolean/Enum)\r\n8.  **`N_32`**: A boolean control flag (labeled Block 1) that determines whether the \"mid\" or \"high\" adaptive roughness limit is used. (Boolean)\r\n9.  **`SEG_AD_MMV_ER_MID`**: The mid-range adaptive engine roughness limit. (Scalar)\r\n10. **`SEG_AD_MMV_ER_H`**: The high-range adaptive engine roughness limit. (Scalar)\r\n\r\n## Outputs\r\n1.  **`SEG_AD_MMV_ER`**: The calculated segment adaptive maximum allowed value for engine roughness. (Scalar)\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into two main stages: selecting the transmission-specific roughness maximum, and then applying an adaptive limit.", "mimetype": "text/plain", "start_char_idx": 392365, "end_char_idx": 396247, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "543072c8-860d-4a38-b56a-9153968bac5d": {"__data__": {"id_": "543072c8-860d-4a38-b56a-9153968bac5d", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9435f647-ec0d-4025-8702-8d3f2a8bd564", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "8d94a395ec44ffb3b44d8842c8646ada00ee94b2db42bc7bd8f6ba0f6b68165d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "654fd9c3-5a73-4bc6-8230-1b0d35c99ba5", "node_type": "1", "metadata": {}, "hash": "146376b6ebd11af74373542470c7df0a2c8128ea106168ce9a11d5c5691f6bf9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "(Scalar)\r\n10. **`SEG_AD_MMV_ER_H`**: The high-range adaptive engine roughness limit. (Scalar)\r\n\r\n## Outputs\r\n1.  **`SEG_AD_MMV_ER`**: The calculated segment adaptive maximum allowed value for engine roughness. (Scalar)\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into two main stages: selecting the transmission-specific roughness maximum, and then applying an adaptive limit.\r\n\r\n1.  **Selection of Transmission-Specific Roughness Maximum:**\r\n    *   This stage uses a series of cascaded switch blocks (the 'T' shaped blocks with `Check ~= 0` conditions) to implement a prioritized `if-else if-else` logic based on the active transmission type.\r\n    *   The lowest priority (default) value is `C_N_MAX_MID_SEG_AD_ER_MT`.\r\n    *   The first switch (Block 2, output `LV_AT`) checks the `V.6.2` condition. If `V.6.2` is true (indicating CVT is active), it selects `C_N_MAX_MID_SEG_AD_ER_CVT`. Otherwise, it passes `C_N_MAX_MID_SEG_AD_ER_MT`.\r\n    *   The second switch (Block 5, output `LV_CVT`) checks the `V.6.6` condition (associated with DCT). If `V.6.6` is true (indicating DCT is active), it selects `C_N_MAX_MID_SEG_AD_ER_DCT`. Otherwise, it passes the output from the previous switch (the result of the CVT/MT selection).\r\n    *   The third switch (Block 6, output `LV_DCT`) checks the `V.6.6` condition (associated with AT). If `V.6.6` is true (indicating AT is active), it selects `C_N_MAX_MID_SEG_AD_ER_AT`. Otherwise, it passes the output from the previous switch (the result of the DCT/CVT/MT selection).\r\n    *   The final output of this cascade (the signal `LV_DCT` coming out of Block 6) is the `selected_C_N_MAX_MID_SEG_AD_ER`, which is the maximum roughness value appropriate for the currently active transmission.\r\n\r\n2.  **Application of Adaptive Limit and Final Output:**\r\n    *   The boolean input `N_32` (Block 1) is negated by a `NOT` block.\r\n    *   This `NOT(N_32)` signal then controls another switch. If `NOT(N_32)` is true (meaning `N_32` is false), it selects `SEG_AD_MMV_ER_MID` (Block 4). Otherwise (if `N_32` is true), it selects `SEG_AD_MMV_ER_H` (Block 3). Let's call the result `adaptive_limit_value`.\r\n    *   The `adaptive_limit_value` is then compared with the `selected_C_N_MAX_MID_SEG_AD_ER` using a `<` (less than) comparison block (Block V.6.0).\r\n    *   The boolean output of the `<` comparison controls the final switch block.\r\n    *   If `adaptive_limit_value < selected_C_N_MAX_MID_SEG_AD_ER` is true, the final output `SEG_AD_MMV_ER` takes the value of `adaptive_limit_value`.\r\n    *   Otherwise, `SEG_AD_MMV_ER` takes the value of `selected_C_N_MAX_MID_SEG_AD_ER`.\r\n    *   This final stage effectively calculates `SEG_AD_MMV_ER = min(adaptive_limit_value, selected_C_N_MAX_MID_SEG_AD_ER)`.\r\n\r\nIn summary, the diagram first determines a transmission-specific maximum allowed engine roughness value. Then, it determines an adaptive limit (either mid or high) based on a control flag. Finally, it outputs the minimum of these two values, ensuring that the calculated `SEG_AD_MMV_ER` does not exceed either the transmission-specific maximum or the adaptive limit.\r\n\r\n\r\n--- Page 138 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram, titled \"ENRD. Engine roughness adaptive learning process\", describes a module responsible for managing and controlling an adaptive learning process for engine roughness. Its primary function is to determine and output system states and control signals related to measurement window selection and adaptive parameter handling based on engine synchronization, ongoing measurements, and feedback from adaptive error calculations. It acts as a state machine controlling an initialization/reset process and an operational segment processing unit.", "mimetype": "text/plain", "start_char_idx": 395859, "end_char_idx": 399580, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "654fd9c3-5a73-4bc6-8230-1b0d35c99ba5": {"__data__": {"id_": "654fd9c3-5a73-4bc6-8230-1b0d35c99ba5", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "543072c8-860d-4a38-b56a-9153968bac5d", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "dbbbe353465232b9ce6e56f1b330d300d680f02c21b0411acf6711469a1d1789", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "274d4e81-5cfc-44ec-b0d1-0f3a19480c32", "node_type": "1", "metadata": {}, "hash": "16ab9554e4a67c01d3708aebaee8e900ee8e574da8826919cb6d4a7e5b141918", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Engine roughness adaptive learning process\", describes a module responsible for managing and controlling an adaptive learning process for engine roughness. Its primary function is to determine and output system states and control signals related to measurement window selection and adaptive parameter handling based on engine synchronization, ongoing measurements, and feedback from adaptive error calculations. It acts as a state machine controlling an initialization/reset process and an operational segment processing unit.\r\n\r\n## Inputs\r\n\r\nThe system receives inputs from various sources, categorized as follows:\r\n\r\n*   **System Event Inputs (from `sys_eve` port):**\r\n    *   `SEL_WIN_RST`: Select Window Reset (Boolean/Event) - likely triggers a reset of window selection logic.\r\n    *   `SEL_WIN_SEG`: Select Window Segment (Boolean/Event) - likely triggers the selection of a new segment.\r\n    *   `LV_SYN_ENG`: Live Value Synchronized Engine (Boolean) - indicates if the engine is synchronized; critical for activation/deactivation of the recurrence block.\r\n    *   `SEG_NR_MES`: Segment Number Measurement (Integer) - indicates the current segment being measured; also critical for recurrence block logic.\r\n*   **Measurement Inputs (from `Input` port):**\r\n    *   `<SEG_T_MES_CH>`: Segment Time Measurement Channel - current time measurement for a specific channel.\r\n    *   `<SEG_T_MES>`: Segment Time Measurement - current overall segment time measurement.\r\n    *   `<LV_ENA_SEG_T_MES>`: Live Value Enable Segment Time Measurement - enables/disables segment time measurements.\r\n*   **Feedback Inputs (from `feedback` port):**\r\n    *   `<LV_SEG_AD_AVL_ER_RGL>`: Live Value Segment Adaptive Available Error Regular - feedback on available regular adaptive error for the segment.\r\n    *   `<LV_SEG_AD_ER>`: Live Value Segment Adaptive Error - general segment adaptive error feedback.\r\n    *   `<LV_SEG_AD_AVL_ER>`: Live Value Segment Adaptive Available Error - feedback on overall available adaptive error for the segment.\r\n    *   `<LV_CYC_SEG_AD_ER_LOW>`: Live Value Cycle Segment Adaptive Error Low - feedback on low adaptive error during a cycle.\r\n    *   `<LV_SEG_AD_RAW_ER>`: Live Value Segment Adaptive Raw Error - raw adaptive error feedback for the segment.\r\n    *   `<LV_START_NEW_AD>`: Live Value Start New Adaptation - indicates a request or status to start a new adaptation process (also an output, implying a state variable).\r\n    *   `<LV_ER_WIN_CH_AD>`: Live Value Error Window Channel Adaptation - feedback on error window adaptation for a channel (also an output, implying a state variable).\r\n\r\n## Outputs\r\n\r\nThe system produces a single output bus, `sel_win`, containing the following signals:\r\n\r\n*   `<LV_ER_WIN_CH_AD>`: Live Value Error Window Channel Adaptation - likely an updated or current state of error window adaptation per channel.\r\n*   `<LV_SEG_T_MES_CYL_READY>`: Live Value Segment Time Measurement Cylinder Ready - indicates readiness of cylinder-specific segment time measurements.\r\n*   `<SEG_T_MES_CH_old>`: Segment Time Measurement Channel old - the previous or stored segment time measurement for a channel.\r\n*   `<SEG_T_MES_old>`: Segment Time Measurement old - the previous or stored overall segment time measurement.\r\n*   `<LV_START_NEW_AD>`: Live Value Start New Adaptation - indicates if a new adaptation process should start or its current status.\r\n\r\n## Logic Flow\r\n\r\nThe system's logic flow can be broken down into initialization and the main operational loop, driven by a state machine:\r\n\r\n1.  **Initialization (Figure 296.77):**\r\n    *   A dedicated initialization sub-system `f()` creates an `rst` bus.\r\n    *   `LV_ER_WIN_CH_AD`, `LV_SEG_T_MES_CYL_READY`, and `LV_START_NEW_AD` are initialized to `0`.\r\n    *   `SEG_T_MES_CH_old` and `SEG_T_MES_old` are initialized to their respective `phys_max` values (maximum physical values). This `rst` bus is fed into the `RST` sub-system in the main diagram, providing default or reset values.\r\n\r\n2.  **Recurrence State Machine (Top-Level Logic - Figure 296.76):**\r\n    *   The \"Recurrence\" block acts as the central state controller.\r\n    *   **Activation:** The internal state (`SEQ`) and operation are activated (`fc_INI`, `fc_OPM` triggers) when `LV_SYN_ENG` is `1` (engine synchronized) AND `SEG_NR_MES` is `0` (no segment measurement currently active). This indicates conditions are suitable for adaptive learning.", "mimetype": "text/plain", "start_char_idx": 399054, "end_char_idx": 403469, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "274d4e81-5cfc-44ec-b0d1-0f3a19480c32": {"__data__": {"id_": "274d4e81-5cfc-44ec-b0d1-0f3a19480c32", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "654fd9c3-5a73-4bc6-8230-1b0d35c99ba5", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "b2c0ff1db2080a8488849e910e88b68b4f6280d2f08b00759c6b38e9bced9533", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d5d98831-ec0b-4d9f-bff3-9859504f6942", "node_type": "1", "metadata": {}, "hash": "b0d0029261980241bbb09b19d89296f3429b096f5d3791589a1ac6fb7774690e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **Activation:** The internal state (`SEQ`) and operation are activated (`fc_INI`, `fc_OPM` triggers) when `LV_SYN_ENG` is `1` (engine synchronized) AND `SEG_NR_MES` is `0` (no segment measurement currently active). This indicates conditions are suitable for adaptive learning.\r\n    *   **Deactivation:** The state and operations are deactivated when `LV_SYN_ENG` is `0` (engine not synchronized) OR `SEG_NR_MES` is NOT `0` (a segment measurement is ongoing). This prevents or pauses adaptive learning under unsuitable or busy conditions.\r\n    *   It outputs function call triggers `fc_INI` (for initialization/reset logic) and `fc_OPM` (for operational segment processing).\r\n\r\n3.  **Reset Sub-system (`RST`, X.7.1):**\r\n    *   This sub-system is triggered by the `fc_INI` signal from the Recurrence block.\r\n    *   It receives the `rst` bus (containing the initialized values from the initialization diagram).\r\n    *   When `fc_INI` is active, `RST` likely loads or applies these initial/reset values to relevant internal states or outputs, such as `LV_SEG_T_MES_CYL_READY`.\r\n\r\n4.  **Operational Segment Processing Sub-system (`OPM_SEG`, X.7.2):**\r\n    *   This sub-system is triggered by the `fc_OPM` signal from the Recurrence block.\r\n    *   It receives the current measurement inputs (`SEG_T_MES_CH`, `SEG_T_MES`, `LV_ENA_SEG_T_MES`) and various feedback signals related to adaptive errors (`LV_SEG_AD_AVL_ER_RGL`, `LV_SEG_AD_ER`, `LV_CYC_SEG_AD_ER_LOW`, etc.).\r\n    *   It processes these inputs to perform the core adaptive learning logic. This likely includes calculating updated adaptive parameters, determining appropriate measurement windows, and managing states like `LV_START_NEW_AD` and `LV_ER_WIN_CH_AD`.\r\n    *   It outputs the processed `opm_seg` bus, which contains the adaptive learning results, including \"old\" values of segment time measurements, implying a temporal processing aspect where current values are saved as \"old\" for the next cycle.\r\n\r\n5.  **Output Bus Creation (`BusMerge`, V.5.35):**\r\n    *   The relevant outputs from the `RST` sub-system (`LV_SEG_T_MES_CYL_READY`) and the `OPM_SEG` sub-system (`LV_ER_WIN_CH_AD`, `SEG_T_MES_CH_old`, `SEG_T_MES_old`, `LV_START_NEW_AD`) are combined into a single output bus named `sel_win`. This bus represents the aggregated control and state information for the \"select window\" mechanism of the engine roughness adaptive learning process.\r\n\r\n\r\n--- Page 139 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram is designed to implement part of an \"Engine roughness adaptive learning process,\" specifically focusing on the \"Calculation of LV_ER_WIN_CH_AD\". Its primary function is to compute a set of flags and delayed measurement values crucial for managing adaptive learning for engine roughness. This includes determining when new adaptive learning should be initiated (`LV_START_NEW_AD`), calculating a specific adaptive learning window value (`LV_ER_WIN_CH_AD_out`), providing previous-cycle (old) values for segment time measurements, and signaling the readiness for segment time measurement per cylinder. The logic extensively uses conditional evaluations based on various input status flags.\r\n\r\n## Inputs\r\n\r\n1.  **LV_SEG_AD_AVL_RGL**: Boolean signal, likely indicating the availability or regulation status of segment adaptation.\r\n2.  **LV_SEG_AD_AVL_ER**: Boolean signal, indicating the availability of segment adaptation specifically for engine roughness.\r\n3.  **LV_SEG_AD_RAW_ER**: Boolean signal, indicating the availability of raw engine roughness data for segment adaptation.\r\n4.  **LV_CYC_SEG_AD_ER_LOW**: Boolean signal, indicating a low cycle condition for engine roughness segment adaptation.\r\n5.  **LV_START_NEW_AD_in**: Boolean signal, an external trigger or input value to initiate new adaptive learning.\r\n6.  **LV_ER_WIN_CH_AD_in**: Boolean/numeric signal, an external input for the engine roughness window adaptive learning.\r\n7.  **LV_SEG_AD_ER**: Boolean signal, indicating the general status of segment adaptation for engine roughness.\r\n8.  **SEG_T_MES_CH**: Numeric signal, representing a segment time measurement for a specific channel.\r\n9.  **SEG_T_MES**: Numeric signal, representing a general segment time measurement.\r\n10. **LV_ENA_SEG_T_MES**: Boolean signal, enabling flag for segment time measurements.\r\n11.", "mimetype": "text/plain", "start_char_idx": 403189, "end_char_idx": 407495, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d5d98831-ec0b-4d9f-bff3-9859504f6942": {"__data__": {"id_": "d5d98831-ec0b-4d9f-bff3-9859504f6942", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "274d4e81-5cfc-44ec-b0d1-0f3a19480c32", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "a115c5cd56831c4b290ec9751d033eb7b87764f888e565684ffe0c33c62f6b58", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f7f52760-cc27-4a95-be79-de531d705213", "node_type": "1", "metadata": {}, "hash": "43a03c57d8a151ade8c2383adb51473a03373dde766f771af91db1120e5efec9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "7.  **LV_SEG_AD_ER**: Boolean signal, indicating the general status of segment adaptation for engine roughness.\r\n8.  **SEG_T_MES_CH**: Numeric signal, representing a segment time measurement for a specific channel.\r\n9.  **SEG_T_MES**: Numeric signal, representing a general segment time measurement.\r\n10. **LV_ENA_SEG_T_MES**: Boolean signal, enabling flag for segment time measurements.\r\n11. **V.6.2, V.6.4, V.6.7**: These labels likely refer to internal parameters, calibration values, or data store memory elements used within the system (e.g., as conditional values or for storing delayed signals).\r\n\r\n## Outputs\r\n\r\n1.  **LV_START_NEW_AD** (Block 5): Boolean/numeric output, signaling if a new adaptive learning cycle should be started.\r\n2.  **LV_ER_WIN_CH_AD_out** (Block 1): Boolean/numeric output, representing the calculated value for the engine roughness window adaptive learning.\r\n3.  **SEG_T_MES_CH_old** (Block 2): Numeric output, the value of `SEG_T_MES_CH` from the previous time step or cycle.\r\n4.  **SEG_T_MES_old** (Block 3): Numeric output, the value of `SEG_T_MES` from the previous time step or cycle.\r\n5.  **LV_SEG_T_MES_CYL_READY** (Block 4): Boolean output, indicating if the system is ready for segment time measurement per cylinder.\r\n\r\n## Logic Flow\r\n\r\nThe diagram's logic can be broken down into three main computational sections, each leading to specific outputs:\r\n\r\n**1. Calculation of LV_START_NEW_AD (Output 5):**\r\n\r\nThis output is determined by a complex combination of several boolean input flags through conditional logic and merge operations.\r\n\r\n*   **Initial Conditional Branches:**\r\n    *   **LV_SEG_AD_AVL_RGL Path:** `LV_SEG_AD_AVL_RGL` is inverted (`NOT` block). If `NOT(LV_SEG_AD_AVL_RGL)` is true, the value `V.6.4` is selected; otherwise, `0` is selected.\r\n    *   **LV_SEG_AD_AVL_ER Path:** `LV_SEG_AD_AVL_ER` is inverted. If `NOT(LV_SEG_AD_AVL_ER)` is true, `V.6.4` is selected; otherwise, `1` is selected.\r\n    *   **LV_SEG_AD_RAW_ER Path:** `LV_SEG_AD_RAW_ER` is inverted. If `NOT(LV_SEG_AD_RAW_ER)` is true, `V.6.4` is selected; otherwise, `0` is selected.\r\n    *   These three conditional outputs are combined by a `Merge` block (let's call it `Merge_Group1`).\r\n\r\n*   **Secondary Conditional Branches:**\r\n    *   **LV_CYC_SEG_AD_ER_LOW Path:** `LV_CYC_SEG_AD_ER_LOW` is inverted. If `NOT(LV_CYC_SEG_AD_ER_LOW)` is true, `V.6.4` is selected; otherwise, `0` is selected.\r\n    *   **LV_START_NEW_AD_in Paths:**\r\n        *   **Direct Path:** `LV_START_NEW_AD_in` directly enters a `cond_if` block. If true, `V.6.4` is selected; otherwise, `0` is selected.\r\n        *   **Inverted Path:** `LV_START_NEW_AD_in` is inverted. If `NOT(LV_START_NEW_AD_in)` is true, `V.6.4` is selected; otherwise, `0` is selected.\r\n    *   These three conditional outputs (`LV_CYC_SEG_AD_ER_LOW` and the two `LV_START_NEW_AD_in` paths) are combined by another `Merge` block (let's call it `Merge_Group2`).\r\n\r\n*   **Final Output Determination:** The outputs from `Merge_Group1` and `Merge_Group2` are then combined by a final `Merge` block to produce `LV_START_NEW_AD`. The `Merge` blocks typically function to select one input from mutually exclusive conditional paths, implying a hierarchical decision-making process for `LV_START_NEW_AD`.\r\n\r\n**2. Calculation of LV_ER_WIN_CH_AD_out (Output 1):**\r\n\r\nThis output depends on two main input signals:\r\n\r\n*   **LV_ER_WIN_CH_AD_in Path:** `LV_ER_WIN_CH_AD_in` is inverted (`NOT` block). If `NOT(LV_ER_WIN_CH_AD_in)` is true, the value `V.6.4` is selected; otherwise, `0` is selected.", "mimetype": "text/plain", "start_char_idx": 407103, "end_char_idx": 410653, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f7f52760-cc27-4a95-be79-de531d705213": {"__data__": {"id_": "f7f52760-cc27-4a95-be79-de531d705213", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d5d98831-ec0b-4d9f-bff3-9859504f6942", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "c63cf6ec8fa2a2c5555601b1ad52d861e07b0eb3d4bc8d8fca200c6ad3b43a61", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7bcd63f4-04bf-46fd-9abc-bebf0fa80dc3", "node_type": "1", "metadata": {}, "hash": "f8dc8acf45c673d137d5487d496dff252b7a51e53f54f7934f70f3481a58c33a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**2. Calculation of LV_ER_WIN_CH_AD_out (Output 1):**\r\n\r\nThis output depends on two main input signals:\r\n\r\n*   **LV_ER_WIN_CH_AD_in Path:** `LV_ER_WIN_CH_AD_in` is inverted (`NOT` block). If `NOT(LV_ER_WIN_CH_AD_in)` is true, the value `V.6.4` is selected; otherwise, `0` is selected.\r\n*   **LV_SEG_AD_ER Path:** `LV_SEG_AD_ER` directly enters a `cond_if` block. If `LV_SEG_AD_ER` is true, the value `1` is selected; otherwise, `0` is selected.\r\n*   The results from these two conditional paths are combined by a `Merge` block to produce `LV_ER_WIN_CH_AD_out`.\r\n\r\n**3. Calculation of SEG_T_MES_CH_old (Output 2), SEG_T_MES_old (Output 3), and LV_SEG_T_MES_CYL_READY (Output 4):**\r\n\r\n*   **SEG_T_MES_CH_old (Output 2):** The input signal `SEG_T_MES_CH` is passed through a block labeled `V.6.7`. This block functions as a delay element (e.g., Unit Delay or Data Store Memory), outputting the value of `SEG_T_MES_CH` from the previous time step as `SEG_T_MES_CH_old`.\r\n*   **SEG_T_MES_old (Output 3):** Similarly, the input signal `SEG_T_MES` is passed through a `V.6.7` block, resulting in its previous time step value being output as `SEG_T_MES_old`.\r\n*   **LV_SEG_T_MES_CYL_READY (Output 4):** The boolean input `LV_ENA_SEG_T_MES` directly enters a `cond_if` block. If `LV_ENA_SEG_T_MES` is true, the output `1` is selected; otherwise, `0` is selected. This directly forms the `LV_SEG_T_MES_CYL_READY` output.\r\n\r\n\r\n--- Page 146 ---\r\n\r\nThis image presents a functional block diagram, which, while not a direct screenshot of a Simulink model showing individual block icons and port types, represents a system architecture that is typically implemented or modeled in environments like Simulink in automotive engineering.\r\n\r\n## Function\r\nThe primary function of this system, labeled \"ENRD\" (Engine Roughness Calculation and Adaptation), is to detect, calculate, adaptively learn, and diagnose engine roughness. This information is then used to support various engine management functions such as misfire detection, engine roughness correction, cylinder balancing, and interaction with other engine roughness related modules. The system aims to precisely quantify engine variations that indicate performance issues or wear.\r\n\r\n## Inputs\r\n*   **ENSD (Engine Synchronisation Data / Engine Speed Data):** This is the fundamental input providing raw data about engine rotation, likely from crankshaft and camshaft position sensors, which is crucial for determining segment times and identifying irregularities.\r\n*   **100K (ENRD Configuration Data):** This input provides configuration parameters, calibration values, or lookup tables necessary for the various roughness calculation, adaptive learning, and diagnostic algorithms. This data is likely static or semi-static.\r\n\r\n## Outputs\r\n*   **MISF (Misfire Detection):** An output signal or status indicating the presence or likelihood of an engine misfire, derived from engine roughness diagnosis.\r\n*   **ENRC (Engine Roughness Correction):** An output signal or parameter used by other engine control units to apply corrections based on detected engine roughness.\r\n*   **CYLB (Cylinder Balancing):** An output signal or parameter used for cylinder balancing, indicating the relative power output or combustion quality of individual cylinders.\r\n*   **ERRM (Engine Roughness Related Module):** A general output to other modules that require engine roughness information, possibly for advanced diagnostics, predictive maintenance, or torque management.\r\n\r\n## Logic Flow\r\n\r\n1.  **Initial Data Processing (404Q - Engine Roughness Segment Time Correction):** The raw engine synchronisation data (ENSD) is first fed into the \"404Q\" module. This module performs \"Engine Roughness Segment Time Correction.\" This step is critical for accurately measuring rotational irregularities by ensuring precise timing measurements, compensating for any jitter or inaccuracies in the raw sensor data.\r\n\r\n2.  **Core Roughness Calculation (402E - Engine Roughness Calculation):** The corrected segment time data from \"404Q\" is then passed to the \"402E\" module.", "mimetype": "text/plain", "start_char_idx": 410369, "end_char_idx": 414451, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7bcd63f4-04bf-46fd-9abc-bebf0fa80dc3": {"__data__": {"id_": "7bcd63f4-04bf-46fd-9abc-bebf0fa80dc3", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f7f52760-cc27-4a95-be79-de531d705213", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "d546a1ac0e21da1a53bef072402e060e5f229f4547187612f9fe6e87d77ca88d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "166bd55f-6267-475e-81d5-6fe0593acbbe", "node_type": "1", "metadata": {}, "hash": "2f0045269319f9b037141fc432e0699100ddaa2a0133e1f612b3560a90e31a5a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This module performs \"Engine Roughness Segment Time Correction.\" This step is critical for accurately measuring rotational irregularities by ensuring precise timing measurements, compensating for any jitter or inaccuracies in the raw sensor data.\r\n\r\n2.  **Core Roughness Calculation (402E - Engine Roughness Calculation):** The corrected segment time data from \"404Q\" is then passed to the \"402E\" module. This module performs the fundamental \"Engine Roughness Calculation,\" quantifying the rotational irregularities of the engine, likely based on changes in angular velocity within specific crankshaft segments.\r\n\r\n3.  **Adaptive Learning Process (404R - Engine Roughness Adaptive Learning Process):** In parallel, the corrected segment time data from \"404Q\" and the \"100K (ENRD Configuration Data)\" are used by the \"404R\" module. This module implements an \"Engine Roughness Adaptive Learning Process.\" This suggests that the system can learn and adapt to long-term changes, such as engine wear, environmental factors, or manufacturing tolerances, to refine its understanding of normal versus abnormal roughness.\r\n\r\n4.  **Application-Specific Roughness Calculation (402P - Engine Roughness Calculation - Application Incidences):** The results from the core roughness calculation (\"402E\") and the learned parameters from the adaptive learning process (\"404R\") are combined and processed by the \"402P\" module. This module performs \"Engine Roughness Calculation - Application Incidences,\" implying that it refines the roughness calculation for specific operational scenarios or events, possibly integrating the adaptive learning effects.\r\n\r\n5.  **General Roughness Diagnosis (A0EL - Engine Roughness Diagnosis):** The direct results from the core \"Engine Roughness Calculation\" (\"402E\") are fed into the \"A0EL\" module. This module performs a general \"Engine Roughness Diagnosis,\" which typically involves thresholding and pattern recognition to identify issues like misfires and provide signals for general engine roughness correction (outputs to MISF and ENRC).\r\n\r\n6.  **Application-Specific Roughness Diagnosis (A0EM - Engine Roughness Diagnosis - Application Incidences):** The refined roughness calculation for application incidences from \"402P\" and the \"100K (ENRD Configuration Data)\" are used by the \"A0EM\" module. This module performs \"Engine Roughness Diagnosis - Application Incidences,\" likely a more specific and nuanced diagnosis tailored for actions such as cylinder balancing (CYLB) and interactions with other roughness-related modules (ERRM), taking into account the specific operational context or learned parameters.\r\n\r\n\r\n--- Page 166 ---\r\n\r\nThis image is a Simulink-like block diagram showing the architecture of an \"Engine roughness adaptive learning process.\"\r\n\r\n## Function\r\nThe primary function of this module (Module 404R, part of the ENRD system) is to calculate, diagnose, and adaptively learn engine roughness. It processes raw engine data, performs segment time correction, calculates engine roughness, processes this roughness for various applications, and then provides diagnostic outputs related to misfire, general engine roughness, cylinder balance, and other roughness-related incidents. The adaptive learning component aims to refine the accuracy and robustness of these calculations and diagnostics over time.\r\n\r\n## Inputs\r\n1.  **ENSD:** A block representing raw or pre-processed engine operational data, likely related to engine speed, angular position, or event timing, which is crucial for segment time correction.\r\n2.  **100K ENRD Configuration Data:** Configuration parameters and data specifically for the Engine Roughness and Roughness Diagnosis module, which are fed into the adaptive learning process.\r\n3.  **Implicit Inputs:** While not explicitly shown as direct signal lines entering the ENRD subsystem boundary from outside, the surrounding text mentions parameters like `NLC_USE_ER_STND_MIS` (a flag for misfire integration), `C_N_MAX_ER_STND` (maximum engine speed for calculation activation), and `C_FAC_SCA_ER_STND` (scaling factor for normalized roughness index). These would typically be calibration or control inputs influencing the module's behavior.\r\n\r\n## Outputs\r\n1.  **MISF:** Misfire detection or aggregated misfire information, derived from the engine roughness diagnosis.\r\n2.  **ENRC:** Engine Roughness (Corrected or Compensated), likely an overall index or value representing engine roughness after processing.\r\n3.  **CYLB:** Cylinder Balance or cylinder-specific roughness information, indicating the contribution of individual cylinders to the overall roughness.\r\n4.  **ERRM:** Engine Roughness Module or Misfire-related output, likely providing additional diagnostic or incident reporting related to engine roughness.\r\n\r\n## Logic Flow\r\nThe logical flow within the ENRD module can be described step-by-step as follows:\r\n\r\n1.", "mimetype": "text/plain", "start_char_idx": 414047, "end_char_idx": 418936, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "166bd55f-6267-475e-81d5-6fe0593acbbe": {"__data__": {"id_": "166bd55f-6267-475e-81d5-6fe0593acbbe", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7bcd63f4-04bf-46fd-9abc-bebf0fa80dc3", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "7fd29470c68c738ec988bc5e3ee0d1ec4b254fe6d67ab2971ef73d785d6dfd5a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "112b1a17-98a5-4dc5-8d75-44010e2a85dd", "node_type": "1", "metadata": {}, "hash": "dfab627a5ca681c739ec3dcb7280f66e3d70172cf30e982be995bf7942c7fd20", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  **CYLB:** Cylinder Balance or cylinder-specific roughness information, indicating the contribution of individual cylinders to the overall roughness.\r\n4.  **ERRM:** Engine Roughness Module or Misfire-related output, likely providing additional diagnostic or incident reporting related to engine roughness.\r\n\r\n## Logic Flow\r\nThe logical flow within the ENRD module can be described step-by-step as follows:\r\n\r\n1.  **Segment Time Correction (404Q):** Raw engine data from `ENSD` enters the `404Q Engine Roughness Segment Time Correction` block. This block likely processes signals (e.g., from crankshaft position sensors) to correct for any timing variations, jitter, or non-uniform segment durations that are critical for accurate engine roughness calculation. This ensures that the subsequent calculations are based on precise time intervals per crank angle segment.\r\n\r\n2.  **Engine Roughness Calculation (402E):** The time-corrected segment data from `404Q` is then fed into the `402E Engine Roughness Calculation` block. This is the core computational unit that determines the engine roughness. It typically involves analyzing the instantaneous angular velocity or acceleration of the crankshaft, detecting variations that signify combustion irregularities or mechanical issues.\r\n\r\n3.  **Application Incidences Processing (402P):** The calculated engine roughness from `402E` is passed to `402P Engine Roughness Calculation - Application Incidences`. This block likely refines the raw roughness values, potentially applying filters, thresholds, or aggregations to make them suitable for specific downstream applications, such as misfire detection, engine control, or diagnostic reporting. It identifies \"incidences\" relevant to these applications.\r\n\r\n4.  **Adaptive Learning Process (404R):** The `404R Engine Roughness Adaptive Learning Process` block is central to the module's intelligence. It receives inputs from:\r\n    *   `404Q` (Segment Time Correction): To learn from the quality or characteristics of the raw input data.\r\n    *   `402P` (Application Incidences): To understand the results of the roughness calculations and how they are interpreted for applications.\r\n    *   `100K ENRD Configuration Data`: Providing static or dynamically updatable configuration parameters.\r\n    This block likely adjusts internal models, calibration parameters, or thresholds based on operational history and current conditions, aiming to improve the accuracy, robustness, and adaptability of the engine roughness calculation and diagnosis over varying engine conditions and wear.\r\n\r\n5.  **Engine Roughness Diagnosis (A0EL & A0EM):** The processed roughness data and application incidences from `402P` are used by two diagnostic blocks:\r\n    *   **A0EL Engine Roughness Diagnosis:** This block performs a primary diagnosis, generating the `MISF` (misfire), `ENRC` (engine roughness corrected/compensated), and `CYLB` (cylinder balance) outputs. This suggests a comprehensive diagnostic function addressing the key aspects of engine running quality.\r\n    *   **A0EM Engine Roughness Diagnosis - Application Incidences:** This block, also taking input from `402P`, focuses on specific application incidences to produce the `ERRM` output. This could be for more specific fault reporting, aggregate error codes, or other system-level indicators related to roughness.\r\n\r\nIn summary, the module takes raw engine timing data, corrects it, calculates roughness, refines this calculation through an adaptive learning process, and then uses the results to diagnose engine health, primarily focusing on misfires, overall roughness, and cylinder balance.\r\n\r\n\r\n--- Page 174 ---\r\n\r\nThis image presents a functional block diagram and a calibration flowchart for an automotive diagnostic system, specifically for engine roughness. While not a direct screenshot of the Simulink environment, its modular block-based representation and interconnected logic are characteristic of system architectures often modeled and implemented using Simulink.\r\n\r\n## Function\r\n\r\nThe primary function of this system is **Engine Roughness Diagnosis** for On-Board Diagnostics II (OBDII) compliance. It processes raw engine speed data to calculate engine roughness, incorporates adaptive learning, applies configuration data, and performs various checks to detect and diagnose roughness-related issues. The diagnosed information is then used by other engine management and diagnostic systems.\r\n\r\n## Inputs\r\n\r\n*   **ENSD (Engine Speed Data):** This is the fundamental raw input, likely high-resolution crankshaft or camshaft speed signals, from which angular velocity variations indicating roughness are derived.\r\n*   **100K ENRD Configuration Data:** Provides static and configurable parameters, thresholds, and limits required for segment time correction, roughness calculation, adaptive learning, and the diagnostic decision-making process.", "mimetype": "text/plain", "start_char_idx": 418522, "end_char_idx": 423426, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "112b1a17-98a5-4dc5-8d75-44010e2a85dd": {"__data__": {"id_": "112b1a17-98a5-4dc5-8d75-44010e2a85dd", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "166bd55f-6267-475e-81d5-6fe0593acbbe", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "1dbe97b0781a2a17023056eb7473f0035fd0d3f6c8a9e85035eaa75cdd105f7f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f46093ec-fbad-49f4-9106-ed3cf25be582", "node_type": "1", "metadata": {}, "hash": "4bbc75ea1150375730a2027e69b6fa3f43322261c164716b5e7ae612db92e911", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The diagnosed information is then used by other engine management and diagnostic systems.\r\n\r\n## Inputs\r\n\r\n*   **ENSD (Engine Speed Data):** This is the fundamental raw input, likely high-resolution crankshaft or camshaft speed signals, from which angular velocity variations indicating roughness are derived.\r\n*   **100K ENRD Configuration Data:** Provides static and configurable parameters, thresholds, and limits required for segment time correction, roughness calculation, adaptive learning, and the diagnostic decision-making process.\r\n*   **Implicit inputs for adaptive learning (404R):** Historical engine data, operating conditions, and learned parameters that influence the adaptation process.\r\n\r\n## Outputs\r\n\r\n*   **MISF (Misfire Detection/Monitoring):** Output indicating detected misfire events or data relevant to the misfire monitoring system, as engine roughness is a key indicator of misfires.\r\n*   **ENRC (Engine Roughness Control/Correction):** Output for engine control modules that might adjust engine parameters (e.g., fuel injection, ignition timing) to mitigate detected roughness.\r\n*   **CYLB (Cylinder Balancing/Identification):** Output providing cylinder-specific roughness information, useful for identifying problematic cylinders or for cylinder balancing strategies.\r\n*   **ERRM (Engine Roughness Reference Model / Error Management):** Output for a general error management system or for comparison against a reference engine roughness model, often used for robust diagnostics.\r\n*   **Implicit Outputs:** Diagnostic flags, fault codes (DTCs), or status bits indicating the presence and nature of engine roughness issues, which would be reported via the OBDII interface.\r\n\r\n## Logic Flow\r\n\r\nThe system processes engine speed data through several interconnected modules to arrive at a comprehensive engine roughness diagnosis.\r\n\r\n1.  **Raw Data Acquisition & Initial Processing:**\r\n    *   **ENSD** (Engine Speed Data) is acquired as the primary input.\r\n    *   This data first enters **404Q (Engine Roughness Segment Time Correction)**. This module processes the raw engine speed data to correct for any inconsistencies or errors in the segment time acquisition. Accurate segment times are crucial for precisely calculating variations in angular velocity.\r\n\r\n2.  **Roughness Calculation:**\r\n    *   The corrected segment time data from 404Q is then fed into **402E (Engine Roughness Calculation)**. This module performs the core task of calculating the actual engine roughness based on the corrected segment times. This typically involves analyzing the deviations in crankshaft rotation speed over specific angular segments.\r\n\r\n3.  **Adaptive Learning and Refinement:**\r\n    *   Output from 404Q (and potentially 402E) also feeds into **404R (Engine Roughness Adaptive Learning Process)**. This module continuously learns and adapts parameters or thresholds based on engine behavior over time and varying operating conditions. This makes the diagnostic system more robust and less susceptible to false positives due to normal engine wear or environmental changes.\r\n    *   The calculated roughness from 402E and the adaptive learning results from 404R (and possibly 100K Configuration Data) are then processed by **402P (Engine Roughness Calculation - Application Incidences)**. This module further refines the roughness calculation, focusing on \"application incidences,\" which could mean specific scenarios or conditions where roughness detection is particularly critical.\r\n\r\n4.  **Configuration Data Integration:**\r\n    *   **100K (ENRD Configuration Data)** provides essential configuration parameters, calibration values, and diagnostic thresholds to both **404R** (Adaptive Learning) and **A0EL** (Main Engine Roughness Diagnosis), ensuring the system operates within predefined specifications.\r\n\r\n5.  **Core Diagnostic Decision-Making (A0EL & A0EM):**\r\n    *   The refined roughness and incidence data from 402P (and configuration data from 100K) are sent to **A0EL (Engine Roughness Diagnosis)**. This is the central module responsible for making the primary diagnostic decision regarding engine roughness.\r\n        *   **A0EL's Internal Logic (Detailed Flowchart):**\r\n            *   **A0EL_01 (Engine roughness segment time acquisition error):** This step performs an integration check and compares the segment time acquisition data against calibrated limits (`C_ABC_INC_T_SEG_ER`, `C_ABC_MAX_T_SEG_ER`). It diagnoses errors in the underlying segment time acquisition process itself, indicating potential sensor or signal path issues.\r\n            *   **A0EL_02 (Engine roughness segment adaptive values out of range error):** This step checks if the adaptive values generated by the learning process (from 404R) are within their acceptable range. It performs an integration check and compares against calibrated limits (`LC_CDN_DIAG_SEG_AD_ER`, `C_ABC_INC_SEG_AD_ER`, `C_ABC_MAX_SEG_AD_ER`).", "mimetype": "text/plain", "start_char_idx": 422887, "end_char_idx": 427817, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f46093ec-fbad-49f4-9106-ed3cf25be582": {"__data__": {"id_": "f46093ec-fbad-49f4-9106-ed3cf25be582", "embedding": null, "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9804ab44-e921-4eba-a712-f0d7633dcd0f", "node_type": "4", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "2b9bb6f7c4620a09a5444818d0fb11b99f2eb5f1c2f5519cec980812b448933c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "112b1a17-98a5-4dc5-8d75-44010e2a85dd", "node_type": "1", "metadata": {"chapter": "29_ENRD-Engine_roughness_determination", "document_type": "Diagram Description", "source_filename": "29_ENRD-Engine_roughness_determination.txt"}, "hash": "28e345ecfaab18be5bff394a8b1e265f4022bb37ae536550e8940daeea790797", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **A0EL_02 (Engine roughness segment adaptive values out of range error):** This step checks if the adaptive values generated by the learning process (from 404R) are within their acceptable range. It performs an integration check and compares against calibrated limits (`LC_CDN_DIAG_SEG_AD_ER`, `C_ABC_INC_SEG_AD_ER`, `C_ABC_MAX_SEG_AD_ER`). This ensures the adaptive learning is stable and not diverging to unrealistic values.\r\n    *   In parallel or subsequently, **A0EM (Engine Roughness Diagnosis - Application Incidences)** also performs diagnostic functions related to application-specific roughness incidences, contributing to the overall fault detection strategy.\r\n\r\n6.  **Output to Downstream Systems:**\r\n    *   The final diagnostic results from **A0EL** and **A0EM** are routed to various engine management and diagnostic systems:\r\n        *   **MISF** (Misfire Detection).\r\n        *   **ENRC** (Engine Roughness Control).\r\n        *   **CYLB** (Cylinder Balancing).\r\n        *   **ERRM** (Error Management / Reference Model).\r\n    These outputs allow the vehicle's ECU to react to, manage, and report engine roughness conditions effectively.", "mimetype": "text/plain", "start_char_idx": 427473, "end_char_idx": 428630, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}}}