{"docstore/metadata": {"071927fc-50b7-4792-b6b1-5078d335d61a": {"doc_hash": "88da1b4715e1ad5f4a412d8968c920c67a2e83465efebc313b23bc159c1e756f"}, "0c676974-5882-4691-ba97-6ddd6f91bb7c": {"doc_hash": "25232ccd335f368dae7a6c4dd366b3175f209ee5581ce23fecef3eb879ea0323"}, "8135473f-edc1-47f8-ae25-abde9c6da290": {"doc_hash": "9c17fb5c840dba2136988d15bddb7ee023a70de79b7bf8acddf2c04f8c73ba43"}, "c4352cb8-3204-4962-95c7-f2b53e6c9486": {"doc_hash": "e8d785ee0f9620c0e8f443e54bce6c2ecff165aa620d64f1d867dfe6344fb840"}, "ad5115d2-06b0-4764-87af-825c21794bd8": {"doc_hash": "2f4ef19cb6db04ab3542f630377a87e2ae7d6399ed243cb1c0c49358bf38a8a7"}, "89bcb5fe-17ef-4591-a0d7-cd0ae282530c": {"doc_hash": "175da68487c5f70a60c8632fcc2f454eac4230ec1099220f53d22b72788001a6"}, "44cd6744-16a7-4173-b1fc-8cca631680d5": {"doc_hash": "8337b08430a977462adca55846a0ffdffd4ccb20e20f9a5eebd5fb20685dd1c2"}, "b2648c7b-b289-4886-86f6-bb45f563183d": {"doc_hash": "5a629ecaf26a63d2e4cae7756af30764fe022b27fb5d37fba7ed8ffb34a5c464"}, "801df3fa-df5f-4fb9-a3af-668fe0950cb7": {"doc_hash": "aee7af5fa80c81675d4ad8b6054924d9741c233116ed3f53d30744e0f9fd8f0d"}, "82d5c9f2-9821-4931-82ab-808c1d385966": {"doc_hash": "ebd721e07ff25a5b44bfcb78ddf8ae57d07fa5cc575ca5030283b80e6c76ef7c"}, "d3d106ff-e0ef-4d92-aaf9-9973dcc74a8e": {"doc_hash": "4941839bde40086e9b3aa3918e3222727c3b349492f1f304b2bcfaf5b310221a"}, "5f9a9aa6-26be-4f8c-82b7-30ae687ae105": {"doc_hash": "166060129ae9c73d070cb02faed1cdeb62aa62c52f29e4169212393ce71ade6b"}, "d409506a-a797-451b-b74c-3fd93070138d": {"doc_hash": "788105a453def749697ee1bef3f0a803443ba30eb3a72c77253f9621f8cc6c2a"}, "7c85e183-f949-45f9-9204-b48a55bae75f": {"doc_hash": "3eb4c4d61e7669c055b089cb0c3d438ed9f4dbf0dffb7a8888f463b840fe285c"}, "64919923-f00f-4a8c-b99e-8f8225e48f82": {"doc_hash": "5735801e8f82942837919e5317e846dab92f3cb47af0e1fec32cc5396d873a6b"}, "5b67a752-3486-4399-9875-0b20dd432b57": {"doc_hash": "d5b0a0d39ed106eb3a97a013215f80358c9508b2c92849d3200d8f5d6c39ee78"}, "3be744c7-5337-4816-b867-e00a7085ee0a": {"doc_hash": "2d8c550e731f2abd6f609ba91109abe3097efe67a5542e8779d34b49fe7bb2b1"}, "7c9c3309-556a-4850-8958-5162726d4536": {"doc_hash": "f76cf498f5b13c41dcd5f6d11ff083934ee3785e11db233bc225750b8cd06dca"}, "a265855e-dcfc-415c-b6f5-ad946dcf6f3c": {"doc_hash": "4206ca31aca8cb6e19d85795f672b3bdcbca3b8aabf9fb8d8f47f52867c64178"}, "6c217305-47d0-4fcc-b1de-e49918717643": {"doc_hash": "b1636afe8b70420383f516de458cdc6f866a7d78c77e114f479f65b831f9de8b"}, "4ca6f85e-fa72-49a5-b1b1-2634d3ab2a59": {"doc_hash": "a5811623e6807c2b4dc942589bbd737ffed5ab111ca934158673fb9102422f1d"}, "c7a61384-4564-4c49-be1e-4f734fd262cd": {"doc_hash": "d61328bb76bfbdd456aa01dbba25555ddc17edaed4891b1aa4bf009bc848c343"}, "ee157a16-18ec-4b8a-a7db-1efae9087b07": {"doc_hash": "689fd0ca1e4b0c4c8fdb4f01cc619033394d49be1275572e21c49a4d79992972"}, "82393d5e-898b-4882-aae6-b0b58d4a4679": {"doc_hash": "f660c9e35587ccd334fde372feee7a666999bd897cbc8b2d0620e587bf98c135"}, "2b1d62fe-072c-4a03-90ef-aa0c05a1d8c4": {"doc_hash": "000305298d992c20fdf5ae47f62d04f4518c013aaac8ce29ab02fae27e2d8441"}, "05942375-3b99-460d-b127-2d71be6008f2": {"doc_hash": "d457887343c232ef3d4587c421cd2f21ebe228c0eb99d0af75b2cde83e2aed3a"}, "25087e94-878e-4f3e-b67c-f32aa3a99421": {"doc_hash": "5c2fe622edcb0150ffcd2efc23d4b917ef2994febb2da02e212f8c3318bd8761"}, "6ebbc2e0-c352-465e-9bb8-063a58b85d6a": {"doc_hash": "ed38027a1995343c19938b5c457a626a2df2a5c00544726dec83d6492e744fea"}, "7dc3f531-d64c-4664-bcbe-002842374cd5": {"doc_hash": "81044e907a7e4d7ba19694eb353897525b21cb6b363ef0e2d07c40c643ce645f"}, "4f9ac724-df16-4727-b3b6-1c745795f0a7": {"doc_hash": "f4ba45e7eae8a53708939b4096f2f8bdc4a6b17144023258de1893106093e82b"}, "9690b080-d6e6-4cb2-a4fb-3325d428db77": {"doc_hash": "ea9b73006c39bacfaf1293c9cfc076e869d04c5fd611ace26ce66a1223789bde"}, "ed9cafe1-a3f1-40e4-bff1-d510336643ae": {"doc_hash": "d512ee9e6091a7e79544889fc17a6f749cb4d42f040ede2e0647f7a4d3a72280"}, "46adb889-a57e-45e1-9b00-6d3d077b6735": {"doc_hash": "878084f27aedf085563e9b9470467ab4276049f7113ff9dd514fd84a8930c1f7"}, "9b647e38-848a-42a9-8054-57fccedb1569": {"doc_hash": "7b5fe619dd2df60a08898a4fb01b8f24ccef06c4305fea17b5e71eb48b64475b"}, "c9a9ae37-2872-4a9a-833d-2df20556c84e": {"doc_hash": "5659fec30e5c9acae903543fc1c3338c283cf60da8696bd88e8cd7a6393702d9"}, "732bc2ee-c7fe-47e4-9e01-f83e9aeb3a11": {"doc_hash": "bdd0d9f666ce29948b7905610baa8c02e48759bc9d2f852747b043a92c592686"}, "f391fbfd-c8e6-4659-93ad-3d30bc12795d": {"doc_hash": "afccfa64be2b8289bc07a4ddd686bdd2c64049a7c93dcb207ef45f862b27d0ff"}, "e5d4c103-1155-48ef-9ced-a04e72bff20f": {"doc_hash": "a473f819919353a503f30ecbac5822de4cecb96ee0b1d0365ef1bb5f108e5a39"}, "161da535-72c7-44d2-9597-69f79a945624": {"doc_hash": "0f534dc6e713d1d87dc31834f465551142e0cf65297bc86474b62a86036c73f7"}, "ccea864f-7812-4eb0-acda-dba044ea1ef4": {"doc_hash": "00ebbb598ea0eafe5d275ab59e3dcb072b0c630c56a81a14d70c6b7fe59e34e5"}, "4373a670-0d01-421c-a661-fd798b27aabb": {"doc_hash": "d623a2e4a94a9de70fb2c328b0506616c70ae0b5e58bd411135cfbd21c79c9e9"}, "704bab92-ce1b-4066-9b22-6b35c8ba5840": {"doc_hash": "7e959a8e7ec44a96e89c51ae49348d66fa5771ceb9bf56f3693e29463b644441"}, "f40a97d6-7e9e-43da-b3be-3a9fdcc0aca9": {"doc_hash": "630b69c00334e988a59d45f19860c7d14173da3b30c077b1e473e1fdbbfddb92"}, "5ea3eeb1-ff37-4f22-b188-55147e9fa2b1": {"doc_hash": "7ea207d58d9f9b2e6c393320b26002cc0a82919b72000364ee645fbbb300e4f6"}, "03eb5bfc-0a80-4462-9403-10abd4299f1d": {"doc_hash": "0572a255e481dc556c17674368894a2d1eb11720886d329cd5745ae1b0911cdd"}, "965f6cd9-62e2-4eb4-b897-f7cb465e8a70": {"doc_hash": "61225248f30e7a3cade8d723e07feabaeca3292fc264da614922dc6f7d7f99ce"}, "4367dd6d-5cb2-4d3e-bda0-ec79efd73b7c": {"doc_hash": "b07da1f2fc42e45a488a4a46cebabc6c8f2c8113c27503609c4c3ba913b14e54"}, "9f7ba4c3-b99a-4a7d-84de-8e678e10faea": {"doc_hash": "e80dd6366b62387819f0667b687f8c0ce1e10af327ee7ec1a180def57a68abf4"}, "6479cd8d-0c8c-4a02-b837-2ea858340726": {"doc_hash": "473a3e778de410469e9db063c57759632987a0670e85292cb4424ec72f3e7715"}, "3b03c299-ebe0-44fc-8487-c8062c92faf5": {"doc_hash": "b5bf289d6f2abe91aa37b37cbd4a21c9763c0a83983a33c55c2d0eae0f88440b"}, "1c2caff6-f568-4e7b-b1c7-f9b963dc1058": {"doc_hash": "f7c8209b9e47e8f4c708e005910e2aa51257b2af8f9ab9e779e9c66343d939a1"}, "cdfab62a-c7db-4af1-91a7-6ba1904a8483": {"doc_hash": "b600674b2dbf398fca759962f3ad2d35b694c68c158696a33094d252f3636045"}, "56dbe1dc-2fa7-44a8-b86f-89657619697b": {"doc_hash": "69444fdee75b135bb49bcb13f89b40fee374b9f4495584e7a1e1ffb44bf23762"}, "df8b9eb7-8660-4e5b-a8bd-1ab252053efb": {"doc_hash": "cb9da70d515889f7ffc7c9910ba06fd4ee4ad94af0cc23710fc317d151019f24"}, "fb9b34a1-5110-4987-8eca-11bb7cb0fa8c": {"doc_hash": "4d26a94e09af8ff0baf20af57a7cbaa626e8bf6075b087188f7b54f2c78c0cf5"}, "5db016f1-ce5b-4f65-9896-d028ad7a9d58": {"doc_hash": "c210fc0a768f1c32bda0ec939acbde990a56b5622a3a5dbda2c25ad8f63f1049"}, "1a229ca6-8e84-4de4-bc36-a87f74ced88d": {"doc_hash": "4cf1e4f9ec069700281ab62eef4ea9cd496c558e5057a80f0cb9a7f4cb1df8df"}, "bb421a72-b221-4608-abc2-7b2ada7bbb8b": {"doc_hash": "c6582e5144f952e1f88e724aba5e57ea28cf78a6fdbfacd9b6d72440736d83c2"}, "f44e57cd-3836-4e3c-a029-df7beaf267ad": {"doc_hash": "f988faafab997953dd9f654885652153bf727b9720ee8b381be485f415cdd20b"}, "04944d25-dd8f-4bfb-bb5e-a22a41e29652": {"doc_hash": "673e28c365ed055515ccca8022d98ca9e5c6e0cc5e2152665a04357c2eca76cd"}, "4871a907-f1cf-4826-9b7a-831ecd888e07": {"doc_hash": "46870f10d00ad2bccbed276110d3e4955a9dcf664c4905fc7f79887d377b69a3"}, "13a743e8-0a76-440a-aa44-7a6a8ccbefa9": {"doc_hash": "a9b11c3f2329acc75dcfd0191ba82e5b9948c3af9f22be357ab80f498bd5dc8e"}, "f7535a78-7fb8-4e4d-868f-8b4ba3d01673": {"doc_hash": "5c4308af6d1c93c945be998124562abbd6dabc7a8065ef35b79231ac68684680"}, "0fad20ce-b345-4835-b17f-c8589e6f3408": {"doc_hash": "79d0956f7931c487eb07d162a4eb0e36104aa26dd6f64e27e850bb3d918aa2d3"}, "36174ea9-0da8-40b8-9e8c-5c43218c295d": {"doc_hash": "c3a278ce0549c2d471f9af115103cae02516f1f48055801a996dca6cb0304ea2"}, "fdb4ab03-c651-44ed-99c9-4f8ce97d75ed": {"doc_hash": "a0ef5ea719510b34ca2657ca7db28ea114d1a3b240d3ab1a0a4d89e812948935"}, "0b047ed8-6e28-4d86-bd50-85b654b0af58": {"doc_hash": "068875a15a82752147352e6b1a8265a59c4bb6857a8427a424fc732267f3d677"}, "a64e31fe-4cee-436a-a694-8779d32cd17f": {"doc_hash": "cb78b81f3e6cd5c92c53f23765c364f2a2a133fad1199586d242aa6f4f2dac86"}, "7a3ecca1-5415-40e4-8616-5cc7be640fb3": {"doc_hash": "30841bdc8893f8f3119fc13a7bed0fe7bab7bf9d80f03a9d2d8bfbaadbf8e1c1"}, "a34bc9eb-8e50-4176-97d4-f17bdc8bec28": {"doc_hash": "d4dae319d68dfe8d5fdd68269daaf62d081164d2766a9abbd1dc62ec74a9ba22"}, "0dcd4d5a-36a4-4fa6-9c2b-74acc8bf9648": {"doc_hash": "9e31d025b98da215de17dce35985625c32a9500617a59b0d24b1081475b31f5f"}, "8522567a-d1b6-4ed9-a920-c3d465ac763d": {"doc_hash": "227f7cef0ca81d0a37c1d201a054c2557e459fc521677c63cfef35b1bc51ad55"}, "efc53751-3703-49f5-8f67-a399cf5a4226": {"doc_hash": "70187bb9e5a3dfe7a6e2db7c9ab6b0167f46cf0e4dbcfeb590cdbdcab105d7ec"}, "ff42a52b-a4c2-4b50-a48c-a5139336118a": {"doc_hash": "e9fab636a619fdd2ac4d7cc996851d5c545f9216162a1dc2bae637ffc331c96e"}, "632f7a80-6ece-499f-9a85-7afa24e54432": {"doc_hash": "205af00a2e642d45052f48b2df50d3678e840244e17c81634fc4823330b03c2d"}, "b3c788dc-7051-457c-8047-46a3f5fff887": {"doc_hash": "1de8b09df797278fc05db9c58171531dac8d823f465b89ab2b616817b19cbfbd"}, "a9b71ebc-7d07-41a1-94fd-edb6a5ea44b5": {"doc_hash": "7331b28a2c4ce084bcccf5c910d41e5d2899d1609c8f53a6ead38f7cf2434cc5"}, "665be6e4-984e-4a11-a8a6-01c7c97274b1": {"doc_hash": "adb5394cb899adc2d74dffbd451821c5651e14ff9f7ce97af1ff208ce71963a8"}, "80f07d2a-5251-43fd-a248-6d2963ef7183": {"doc_hash": "7237f0caead69c40ef97901d82a6ed17aed1948b2d28a95e9ecb97f28b4de318"}, "981b3679-df1b-4d14-bb2a-ea5511d27fa4": {"doc_hash": "91c1c4011ae5b7f664bd567758f7cb2516489f04b221acde4f86440519872617"}, "b0d5a960-a34e-47a5-b161-e7d6f742eabe": {"doc_hash": "21625432a2928055a93563a46e38bb5b8fa8445e3ec4be8eb0b3cf9af3627ecd"}, "02f6c432-c7bb-4793-9471-efc8a123a9d4": {"doc_hash": "13f7c009d85e937b1cc9f772b44f4075e33e8b2f0c716cafe7442873ce729a2a"}, "fed3ee41-957b-4e15-8505-1b247dd95d4f": {"doc_hash": "269ec179cabd1879577b7ed43b220ad4cf40e00c31f1035b55f565e1a4ccd1a7"}, "e7d50704-e49a-410d-89da-14ab97aa695a": {"doc_hash": "697c4e1e0a4a17a71faedc74a3ae03c86423de5b7abf9f3da7e91355748b67b3"}, "455297a2-9da0-4e7b-8744-4d8f69c678f9": {"doc_hash": "5ad378148a7d7cf5ab870bfad2fad3e2e7272514decf3bfbeba220ae0ab247b0"}, "d5f4cfc1-ec9d-4797-bbe3-a8c1cea02b45": {"doc_hash": "386494f3fb3cd45999d59a2711164b49a842bd5c1f2a9c24bd398546839c2fff"}, "933db61f-bf46-45c7-9bbc-c731faaf43e2": {"doc_hash": "46eaf035d4d58a8eac63ad44eb9777d092ed7ebc50ffa49196f6e9d2cb11654b"}, "6e9ede98-6b6b-439f-90ee-37384a5a0dbc": {"doc_hash": "b96d1b87843ef7bd82ed417f61d3dec335f7f6f013cd32f7e27e96677eb0645a"}, "f08a72bd-2bf2-452c-b6d7-a1143641b53f": {"doc_hash": "c10d8189d73ebcf01750f4b00f8193d332e5340de6f4d1425a790c3d62e53668"}, "820b3a73-f54a-494b-9d46-8c7b4c845955": {"doc_hash": "bfe0fa66bdda9f36ee66617b3fe5be73e030f08ddabc9b39d40d47a3a9910d0f"}, "4b0fc7b2-423b-417a-a698-b539c9da4e61": {"doc_hash": "62143c004023e28decfd57488981792c93a8708e3cdfc45f3ab22d61f429bdde"}, "5ec65e3c-7d73-4e6d-bc4d-a9076da0c2a4": {"doc_hash": "b3d43308458e1279e473eab278f656378b55d6b6a7ec8f35e0a48ca37f88dcaa"}, "83ba0ea7-e40f-4905-b7f2-1d6fcd591d4f": {"doc_hash": "4b3795150573de96146358b884db8c1fc01e234fe3a44d7ab317ae4fd62985e6"}, "0f676af4-d878-4d25-948d-ddc438a5fb78": {"doc_hash": "3fb3763708ecb44c7d87c74d570444d62c86d377183d24e95ad5464f553bd96a"}, "55ccec65-2766-4a6a-8fd2-7c7b16f4dfad": {"doc_hash": "5e5b344dc22aba2c952bc0777266e75c8fba6a0955bff76a0728d025afedcce6"}, "ee941d81-b06a-4047-9cbc-fc4774ac232f": {"doc_hash": "1b3bc153685823fbcb1b059072ade2b1e27d346046ffa4daf96c7e0cc66b88b8"}, "7c34a390-97dc-4211-a9b0-f52dbad65f53": {"doc_hash": "41ee1fd928f0a961f70330f8f2b60ac30317cadbe7163083b0df2e0cbe78b5fb"}, "530f2f44-044a-479a-9b3b-0745c084fe42": {"doc_hash": "c99c0ee1ad88a12a0b86d40f8dea39be9568aaf193b02746b98f5911af1c7e3e"}, "4d4934be-b924-46ff-b03b-5e12775d7d02": {"doc_hash": "91ffcf10bbed9032043de0493ea864f6cf2d55af56c2a8779560aeae008ec458"}, "2de22bab-f0a0-444f-b1c0-8153b76e59ed": {"doc_hash": "2b24c7d75576e002cf6c1e379c9ad9aa91e487b15fb751ecbac8911029b85770"}, "920740de-4fd7-4e2b-b7d0-c9cb1f80057b": {"doc_hash": "b7dd17f90ca2df78cbb5217113974affb91a63adee2dd7e2130d00a7e9db64eb"}, "0b6320f3-8827-4fd4-8673-afde2785bfc1": {"doc_hash": "183bcecdddcc8205ada0c04d5ca2f63dabce0957fc0d25331789cef8df6661a9"}, "0fad3848-d517-4f5f-9b60-26ff5f205b2b": {"doc_hash": "8d4c5c396d0e63fdb613d75fd6e1e07a05f195415491fae44b016a2cc3eae6d8"}, "7e6fe63f-690b-49d1-a62a-b47edd810666": {"doc_hash": "683eafff5dfc095174887e2446d8109b86d986e1a6a12dd5c29b5b3d841b9fdd"}, "c56f4692-2fe4-4763-a3b7-0efc3d6fb172": {"doc_hash": "16a00dc5eeb9122b390d735fc61575e0e0f18fc49374e51478506fc374129c65"}, "460671ae-63c2-4ed8-a782-bda078a06ff3": {"doc_hash": "fe7ddb91341d07420301a0f68c2bf9cf13875e57e36ccf0413bca2ad597229d1"}, "0e5ebebc-9304-4def-8466-3d9416c00533": {"doc_hash": "3f4754720f6d333049ba1dbec68cdaf2aaf718794deffbe396151c83780cd6b1"}, "39b660a5-7436-4c7c-b53d-76bc5ebfa9e8": {"doc_hash": "27f3a69bd59e02e34e72e10391113a6fabd48300dfd3dfb7e5c2717bf463e01a"}, "df1e215e-abba-462b-baf2-f0fbcd7ecb2b": {"doc_hash": "6b018ced5913b17a207304acf90e6947d0f5ebefad21c399cb5aae249658920b"}, "bae763e9-34c2-40a5-8187-f26796e99b80": {"doc_hash": "54edc0c3a9843c8dc9ecc05b27934a29f7a529996a7806ff6b1e6a427ed6d753"}, "d14f5d53-659f-4699-8d84-a1f65d0547b5": {"doc_hash": "c657268b8188be4c3e4952a244737d935d9718b34c409e49574798a7f7f8f46e"}, "bd078c92-b6e5-4104-99e1-944f354b7e5f": {"doc_hash": "0447fbe627d7238d23f19e05fbe3d3533ed79904ae386adf7198f7ae0daf8f23"}, "c0750c0b-e042-410b-b123-7e48f179cbc4": {"doc_hash": "a9d9623d8f8da4e31063715563a46b336f95bec1117d68bb43e175886c7ac5e9"}, "979dd91a-89a5-4d6c-8557-d392352b1d89": {"doc_hash": "40a223e089264d2c3eb71c914cd30500899b354b01c9c750836d1eaf599e6374"}, "214492b8-1c26-40e4-b8c3-1fb1ef395fb1": {"doc_hash": "c3e8a180ecd0fc2d14bcf7f50a8231ce59c20aa86db9248b78a3cfdb898b5592"}, "7cd0072c-ff1a-4473-9502-7b896c4ba512": {"doc_hash": "826861a6016377d76413cc159a5c16d5d505d359aee64a02e3bce285f3052876"}, "45f0a1c5-07ff-4026-9855-c8036bb2c8fe": {"doc_hash": "36d92e71013625250181bb21a325c80b0fdf8f55dba2e44cc940a03790bdc283"}, "625c0c94-0c18-4836-b155-23515eb625c0": {"doc_hash": "621d4dccb58eeec991e95e4d93d3dc89924577b23dfc829bcb68e212b7051d75"}, "6d53154d-758d-47cb-8756-cebeec52419a": {"doc_hash": "674a67f4650cb558d51e130cec0ae6d10b5374708c39f2c1227018447cc3675a"}, "d63fad18-8df6-4042-b750-81f278d29193": {"doc_hash": "04d0b46bebf59b0360b36c1a724f383dbc268173670acd8cad023652ccd53ea0"}, "b811c328-c499-4977-bc89-9865b7a2f9f6": {"doc_hash": "46d74aeafcdd59ead71d4ce55a91762e7872811806e7e05cef194fc0525b55f5"}, "0e9c35b8-30cb-46cb-b067-f176dcdc11cd": {"doc_hash": "d5b02f265012da357a633940cf9e294737b77490917e1fbd9e68f55b2005e939"}, "51af58e5-a7e8-4ea2-a3cd-23369ffb39aa": {"doc_hash": "ef5056b87dfb3f538f545260bc4a9300feaccb6726aff0af8d7ad8f2bf4889e4"}, "1ffd895f-772d-45c7-8459-fb6935101ef0": {"doc_hash": "47ba1c53f313e02ae10e0ffa2d85f2b40f7aa49384c98d464ff0e33c7a38786a"}, "baa99e69-c58c-4f8b-af68-1134a7ce3527": {"doc_hash": "df7e720b730c6a6cd3a56574aea25845d011c59061b71aa73ce42299246b20e6"}, "872ed18c-1da5-4e5e-9771-46da90a37b81": {"doc_hash": "180ec37ca61a1a2e59bf2f62c3056f4ecb9380d2594e30ac8ae742f96f80b338"}, "cd4d34bd-edf3-43ac-89b2-843b5c42cfa2": {"doc_hash": "bfa47e9e1f6bccba9fc69b3f1a751942bb81cf22df9dadfe68fb0e90138079a8"}, "9b13abea-ddc7-441e-a247-f5dfd57379ca": {"doc_hash": "57a628aaf8ed2cbd14bbeb1064b2015ab72a8ed3ee92197a56bd2768e8b4a729"}, "23a1e438-1c1e-4302-8512-31ad776442dc": {"doc_hash": "1fb9b0ea37f56c3e84d7e753864a75483f693ef9a9b556061c74b6d1475f8460"}, "303c559e-a155-4820-ba32-6f164baf8ee5": {"doc_hash": "e563094d3b0791b4a060c1fc007d903f31e6b1bbf49e5603ed6893d1bc7db1e1"}, "e2d96273-0495-4ecb-a684-8b8cef94c0b4": {"doc_hash": "21adeb8bcf1fc0090d6bcef50e33e117f54d51dfe84553874bdabbeb3538ec2e"}, "9b44a365-03db-4aaa-8b25-6bb1d305850d": {"doc_hash": "471724d009ce0790e102627c9f56e99e828fb18a02a8f5adf6d7f5516362a67e"}, "cd0c0142-2f85-4d5a-bfff-ff8d5c78215c": {"doc_hash": "3131150378a043dfb1705398f2b47a7bdce503a7f5637107e3ce8bdb6fd3940f"}, "8683a401-a54a-4ba0-be90-53d790d0e4a5": {"doc_hash": "91d3871ec45dae3bc0039b451d015b70f4a69aa245de899e3ab22897a9c6d475"}, "f1890444-edf2-4c37-8a1c-0ff05281da1b": {"doc_hash": "23efd3efb283d170d8dbd1b58688af0550f393c92d2f3efafd70842a400c2d48"}, "4e20cd5b-7371-437b-b0d8-92289466b306": {"doc_hash": "c65362b8f2f9e9e38a03c00da36f52c6dbe2a5c0b87ba9787eb0813be7cea59f"}, "9b238fef-eb11-4f8a-bca3-648716683e3b": {"doc_hash": "e3cbfc59b76a4c2a38cad42650efc095986b5ba41852d54bcc2114c686c6a531"}, "d347ae49-d37f-4e0d-b282-429d0b960423": {"doc_hash": "c59890ec42d1f94535f69cffd53d2e55d640d27c0cd6b3304e9fae4b9fedf705"}, "bba39b07-b5ec-454a-ba62-e94b623fd238": {"doc_hash": "cfd45415f4ff363431aec23da864adc0b031757a90805a457ba39888ed96b945"}, "63b8f32a-a243-4932-b763-8364c3f43562": {"doc_hash": "e05961d5527c66699062f0a42d911d8ad03dc7d0718f12aa5bed7b8ac1dbdc17"}, "fd9303c5-e7c6-4b22-a67e-d525db90b779": {"doc_hash": "63a5ac356c26ecb45b9951194c2604204886c58f8866bcd3faf4a3ad0939af37"}, "6f95b64f-1431-4fc1-8a53-41be3616fb97": {"doc_hash": "b684c1a164077159d66307011f914369670cf06f942e87b0d8ff6b7bbab0a3df"}, "45c0a2d5-728e-47a5-8fed-bf9f6351f6ef": {"doc_hash": "4a3c1e3314e57a789870d509a61539e5bb65328381b21087478dc8f0e7cbc40f"}, "3685f819-abc6-4585-9a35-b3c0a23f94d5": {"doc_hash": "0ea041ad7f254337c2c374f25d24b1cd7d1ffb1ffce92d2d1db790ed12b56110"}, "51d47e60-510f-4b59-a18c-3a0f471be0d1": {"doc_hash": "12f0a1d4d0a72dea7131f4749e653167fb92407c2f3106fdf519966c3e440ccc"}, "6e43a769-c1b0-4ca7-bd6f-37de320a8f21": {"doc_hash": "ab61a0bdbaccad0644815c4a08488b0e9ab6e796d0fd4be70f4bd42b3ab19415"}, "06f1a211-05d0-43a2-92d7-ac87b17e7d2e": {"doc_hash": "da733f97e85d0ed023eafaba8816ae27863324c9a5a777232af4fae8515a6414"}, "f7c8d9b0-b5d4-47d9-801f-d299f0398431": {"doc_hash": "f05f82222ec4020cfdd77695e1368dbd979c6270ed659d3e39f78e0eb76adfa2"}, "4000f5db-5e98-4c70-93ec-e3d5e0b415e0": {"doc_hash": "b249bd1d54167c0a6bc081b1c87e7a8371f186d3cd9197dc59be9035025ba0df"}, "659743eb-1c62-4bb8-b33e-146f9bc8230f": {"doc_hash": "bde16613d5c1965e30f2a43220deb0fd3855c2e746959014450e4056af41dc93"}, "3ed5703d-bc0f-43a5-a5f5-d3221d38f7a5": {"doc_hash": "3eff350378f4cd7e0cf67390236b1bc7ab16548cc9672a086bc99bc966cfb765"}, "9ce61707-c3b1-410e-a927-9caf22becb89": {"doc_hash": "b8f0d12e8e7424de9a5f1c0125f5be180bc3dc1ccf7bb861d49a67cfea5855f9"}, "ad8a5c91-c861-4b75-87b8-782f86313e63": {"doc_hash": "96eecc40138faf9d5d4123e48fd2ef8e155c954b5abc6873b26f5ff745b4cb11"}, "f58d2bde-b1ea-4764-980a-a9c7be8ec366": {"doc_hash": "115aa48c0b509e36f51d6d0476d7e8205b69037de11d52bf811233b2622644db"}, "9c522f78-e532-447c-9ec3-26b251185890": {"doc_hash": "85dfca3faef9a88aad1e9108d6df71c976e95f21fe1ed3e3083b15bb42564107"}, "a6a88869-08ee-45cc-b247-161d71ef2224": {"doc_hash": "ae48f676181779b2b43ac5e79875f511ea27029821a66f36bf98300a7f12c443"}, "c056ab19-702a-4aeb-883d-0a5dcb359486": {"doc_hash": "909315be78908d40e3959e7049df95630bbda8864afe41baf2ce03749e5ded40"}, "c868b564-74d2-4171-85e7-d2781a5c9b67": {"doc_hash": "e6badd979cf3041c85b12e9ce77846f6ab911e2ffef717a233da3be073db93e2"}, "790d9bf2-115e-4088-9253-213608c90442": {"doc_hash": "4c3228f091a387b402b1dfdd47a6314bf4c76f6fe5483a70b47e94379dcdfe80"}, "425a5180-5104-44f9-a030-6e8cc20660e7": {"doc_hash": "c07cc8ea7ae69688044c102d15e5f5be2f15edb1724246858b8bc1e7fa8eae64"}, "9450265b-2c4a-460e-ac04-80bd05450e31": {"doc_hash": "fcd608296209ca9baa9808c23d33fe2a8b63bf7f9f8fc5cb55aadf8fe5a13de7"}, "dc75a6fa-3be7-4054-8c0a-ef9820130c76": {"doc_hash": "a86727a6caa9acc2bb252585bcab5afc5b329e36f95217433cd114a90b0d59a2"}, "dcad79c7-d19e-4cee-9d89-b7afbb370ce0": {"doc_hash": "c1d61a613887b6b0d0f8dc763ee39c6f53d477cc670bcc930832fb69c470560b"}, "8ad65ae3-fe63-43b3-a979-06ba0b3bd338": {"doc_hash": "f191024e7d71f738e2081a44d3cf187b00c274d34023652cc5aec37b67772734"}, "945ce980-9563-4cd4-bafa-dbd62ce15845": {"doc_hash": "608d5fa10bca55d2746b57e1a8f86844ba3f18b20958e615d51d5fe9b1606f2a"}, "33faf2a3-a3e9-4c58-863c-b1d2eee70693": {"doc_hash": "489ade6e62e1f6bf36ae9029a7d5f4ca639a65c7762191b3deab021368fa9bce"}, "eaa9bc64-0aab-4ac3-b630-9c5e9a3d91b9": {"doc_hash": "5a639da480542b12714a2a886dd8acdaedfa46635bf53224e048cbccd572dc66"}, "ed14b971-abee-4145-8bf5-195a707069c9": {"doc_hash": "73b712f47fa408227306fcdcd5a31153bd20ab5e241f49827c7a33a51fc7775c"}, "0d1d63b7-b41d-4784-8069-8a7ddcbbafc5": {"doc_hash": "10c1306e5c2eaa9e681850dbb8999d66a5821079ddc9b9fa7cc2b12d78a4228e"}, "977669eb-5797-46d6-b6af-4a2cc22b6b0b": {"doc_hash": "4ded20c76ff870b290ee3732ee534e333a9d58e31c4252aba23c2ea385e75ba0"}, "354f4d39-4c3a-447f-be5c-37799adebd99": {"doc_hash": "9fcc2e6140844b3d1fe8c9cb4cb38a3c5ed71f9b3bc4a6698caae7b9f9220cdb"}, "5174c9fc-7ce7-420d-a00c-c4949c68c51d": {"doc_hash": "ab726566a12cb95b7e9455e0b7e65ba0bb44b125a134a51a9f5d765bfcd546e0"}, "521c114d-fc72-4416-af80-50e3966f2e0a": {"doc_hash": "02728b42c54b306145914a82eab6dcaf69e646a2f9fc85ca20acada520c532ec"}, "66ac3b97-1222-4f49-baf0-8eea91ba81aa": {"doc_hash": "ec0cad27130ee296dadf62b7166763b11cc88b3e605b8f6352d37e43c69cd86b"}, "397c2e36-6491-41af-8ca6-cea6e3dea536": {"doc_hash": "2e8ee676157e36824e8eacbba357edd7a877d155515fdce4a807394e79e89f2b"}, "230fea7a-e336-4bd2-8bf8-b3830e781062": {"doc_hash": "13b71a622c614e7d96eef9b105422d763e203fb852b82c1c2989b25a705bf327"}, "b33fb3e2-91da-44c1-bf09-88d15e46365d": {"doc_hash": "fbf2a86b64494222ae49f0199b071d12acc9f7b4a2c1ba4c43fd185a08d5a1ba"}, "96e72a10-9b82-4bf2-a1c9-fde1bcece731": {"doc_hash": "b9eff4d5a1c343e8094da78d02f62b2bcb9dea005805f775ed12af27b8b8060a"}, "f8b825e8-4b0a-4fc5-927d-a50c49ad02c3": {"doc_hash": "bd4f707018965dabc66e89d67a0eca5f6e4634869f9e62e99886bd1694598ae4"}, "2aeca222-59dc-4a0e-ad0f-3a9dfda6ce79": {"doc_hash": "e7c7b10cb228eb4fc7e85e3a2310f83b6c4d9f882cf4f4b94e863bbd5938d55a"}, "2a398c10-ebde-413d-ae9a-d961f46f28d1": {"doc_hash": "38551c2d9f891da43ed4cba4410bc756345d03e74bebc6667c3ae7b8ad9090a5"}, "af40cc63-617a-48ea-ba25-d035e42b2244": {"doc_hash": "4fd24949f7295eb0d29377b68255fbcdef4da97868b35c442e2861458a06ed32"}, "8ede1ddd-6999-45f9-a4fe-bd848ba3d2a8": {"doc_hash": "b92d762693f75e9d48c2ba524df3e26b1dcac6e54d1230564a5e72af10f924e3"}, "df9fdab3-8b48-41e1-9868-bcc695f817b0": {"doc_hash": "325a8c6dff9c8c2f1685614afb3886b7f53d585288c977f5a18dc7903fc12769"}, "4b0b67bb-0ad1-4b90-924a-3bae72f40816": {"doc_hash": "14e77c345f59cb7a5a9da217c4c20284dbb7a03b8ae02bd3029719f9dc570cc3"}, "5e430759-6e4a-4473-ab33-1a41848ceccf": {"doc_hash": "787238c549d9a946c273728a7270d3735b361311e4b694661280dc16628166e6"}, "c1fcd831-03a9-4c63-9f6a-aaba9ee5920e": {"doc_hash": "e4d857ad970d293ee386ea533ae6f7fa5eadba7be4ffa881b3013f2505e38a77"}, "97259d39-55f3-4c64-93a6-144a4f068a52": {"doc_hash": "7f3febf716389519a2fc6f8b7eee10646c6e898a6c99c989c6b4ff0fc9824ef4"}, "a592ec47-3c8e-418a-a534-32d02b858e42": {"doc_hash": "da5331a6f713a3288d470d2b24724dbd7adc4a61f8a43fde39cee05dff8e018f"}, "9bc4342b-9c89-4360-b5af-3507af5ae5df": {"doc_hash": "ec701b03c5690c92186938555f4c7ff9c5c2c7d2abcacfc5e4fc00424ceba754"}, "4bb43653-1d02-4891-b3a6-83f8122bd152": {"doc_hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739"}, "7987cbc6-b638-451b-ba67-acea2d97b56d": {"doc_hash": "79dccda051e7fdc9908bffb2fbc246482866a0b663c842e797b3d55bc7a56840", "ref_doc_id": "071927fc-50b7-4792-b6b1-5078d335d61a"}, "57f4fff0-a7db-4305-a719-0983c0194107": {"doc_hash": "aebf0678ad477a9b7896c6fcd2189369bbd06732e3d59a22cb8eece8eda63e90", "ref_doc_id": "0c676974-5882-4691-ba97-6ddd6f91bb7c"}, "3fb17792-d1aa-47f9-b1a8-e167f535be4f": {"doc_hash": "ba7825cd47304e4b67bfbe1be9d162862ba5fb1cd30abd4740ce265a3113e52d", "ref_doc_id": "8135473f-edc1-47f8-ae25-abde9c6da290"}, "1e842e90-7904-4b98-9129-f1964292dd8c": {"doc_hash": "4522ed94857b1f4a86eb5f397bddf438a3c49a200d93931266db1bbc9efd8ce9", "ref_doc_id": "8135473f-edc1-47f8-ae25-abde9c6da290"}, "2044a8ea-15e3-440b-9b90-b72361e10f76": {"doc_hash": "f352e45e41ea63b53020c759dc52205eb6a6d15973907ac2d1fd085aa398aae7", "ref_doc_id": "c4352cb8-3204-4962-95c7-f2b53e6c9486"}, "f78cce3a-c1bd-4c61-8436-0101c9529c8a": {"doc_hash": "af4c5f9bd327571ec5f8419928be6340e0c46315e0af7361d77dd7fcbc1ce656", "ref_doc_id": "ad5115d2-06b0-4764-87af-825c21794bd8"}, "b80aee4a-d572-4b0b-8658-7b325ddddb0d": {"doc_hash": "6b09ff070d398d51b351bfa727440ff9ce62d453c96ceeeb44ac1e3ec037fafc", "ref_doc_id": "89bcb5fe-17ef-4591-a0d7-cd0ae282530c"}, "e63369f6-489a-4ae6-93b8-2eeb2f1fac70": {"doc_hash": "bb87bb88a1414ef226a99b808a8132f9e6421f97ea734191bf48076cdecffc5d", "ref_doc_id": "44cd6744-16a7-4173-b1fc-8cca631680d5"}, "8ec30953-3098-4e2a-b734-a82269952667": {"doc_hash": "daaa02c576c5e80471b90f4566f8d7ed7ab61586bbd7a24e9078f66ef3ce9b67", "ref_doc_id": "b2648c7b-b289-4886-86f6-bb45f563183d"}, "36abbbe2-939f-4479-adfe-aca192b84684": {"doc_hash": "3adcce61c5e8d9624ff2626dde93e3323cd8148717fe60037905e6c67b7312d8", "ref_doc_id": "801df3fa-df5f-4fb9-a3af-668fe0950cb7"}, "3194fde2-96f5-49a4-a1a9-402a5d5a597f": {"doc_hash": "ea8f61919e1d71f0eeffca5701ac97544667bb511272e1ca145dee5374028e0b", "ref_doc_id": "82d5c9f2-9821-4931-82ab-808c1d385966"}, "ef272c03-3e0c-4a29-acd2-979abcacadc9": {"doc_hash": "150186dd6246bf48a0745b6569b8423448be3917aa75146585c98ccf7d1ada5a", "ref_doc_id": "d3d106ff-e0ef-4d92-aaf9-9973dcc74a8e"}, "3cce7728-6475-4ed7-8c54-d15ccbf1c2fc": {"doc_hash": "d4f6104c5cedc953f0635bcdbef64f425f1e6d6bb5d298d48f121958e827d4ee", "ref_doc_id": "5f9a9aa6-26be-4f8c-82b7-30ae687ae105"}, "51ce715a-42b5-4735-981d-c47bf483534b": {"doc_hash": "0bea6ab13924ee4ef9fb6cf1937cffa4605263cf2e729e1c3548cc7293edd6a0", "ref_doc_id": "d409506a-a797-451b-b74c-3fd93070138d"}, "8c44cfe1-7500-4db5-adaf-8751b2a37868": {"doc_hash": "57386153ee8ea27f1e1c5498fff7d2338f5cf7335601cf8d95e00a84796af4fa", "ref_doc_id": "7c85e183-f949-45f9-9204-b48a55bae75f"}, "7c541e5e-7655-4a71-8dd6-25acc1ea9230": {"doc_hash": "1ad0109440b3edeb6628e410233048beafb84ca6bd611c81fb08e490aa7eb8c8", "ref_doc_id": "64919923-f00f-4a8c-b99e-8f8225e48f82"}, "0e408f43-98e8-4422-9604-201ed2d15bd7": {"doc_hash": "176e2a11c2bfad46601241501c1546fedf9dc0b752b0832dea4288604faf751a", "ref_doc_id": "5b67a752-3486-4399-9875-0b20dd432b57"}, "a14a6e4e-7e6a-4793-a742-9dba6d23c971": {"doc_hash": "1da4a0c9165c9997e5032ef863678a24b91475a55428388586c7e10adf11b67b", "ref_doc_id": "3be744c7-5337-4816-b867-e00a7085ee0a"}, "42d9db43-1f31-4804-82c9-e4bd95b715fa": {"doc_hash": "9d5c9a5cb23c6271706e072f5c6511eddefce01cce11fdee54cb8fb596ab4ef2", "ref_doc_id": "7c9c3309-556a-4850-8958-5162726d4536"}, "7e6a6ebf-52a1-4997-a2bd-d8d8a31c292e": {"doc_hash": "c0acc25dcec77933d04856a288ece6105c00dfa6839e1dbd99773b5f5fbced43", "ref_doc_id": "a265855e-dcfc-415c-b6f5-ad946dcf6f3c"}, "f2b115f5-5ad3-4c07-b7f5-5f764a04780e": {"doc_hash": "5cd70f67ef669b2c298c4a46b592ddcd9624236831daa955bc6654ef326ea06a", "ref_doc_id": "6c217305-47d0-4fcc-b1de-e49918717643"}, "d06fa274-550f-41cb-b17a-943aae7b736d": {"doc_hash": "e5b377e43f7905ac572d156cbe0cade863d3603405e1bbe4fb31be162dd831b2", "ref_doc_id": "4ca6f85e-fa72-49a5-b1b1-2634d3ab2a59"}, "8048c3cd-121e-42cd-b559-54d858c5a742": {"doc_hash": "13b97aaf257b04b57c33cc926f2d94a3c97a86a66f25fbc0f3e4d39ca534c40b", "ref_doc_id": "c7a61384-4564-4c49-be1e-4f734fd262cd"}, "da21b650-e342-4420-b610-f6ca1bb3d6bd": {"doc_hash": "f86d1dae6d03cde8386013ec15724a4af0448b5db973cd0b73ed56885eb9b1d8", "ref_doc_id": "ee157a16-18ec-4b8a-a7db-1efae9087b07"}, "4dbf01e8-b417-4b29-8225-166c63553203": {"doc_hash": "65557a764d1f0b0af50a84f27c8ab96affa520ecc8c000cbb30b5c3759e14d3e", "ref_doc_id": "ee157a16-18ec-4b8a-a7db-1efae9087b07"}, "f5cdb7f0-330e-487d-9488-99d4f68bdf54": {"doc_hash": "5e7c6c9c62ebe463d76b9c66f445b2d8b78786a91b5a62fc4985cc868576f40d", "ref_doc_id": "82393d5e-898b-4882-aae6-b0b58d4a4679"}, "fe0607e4-c756-4b99-baba-e6a3b768349e": {"doc_hash": "1572332d08c7c4a1dee20e7ca5520705bf1a99f909e22671b3fc9bdee13f918d", "ref_doc_id": "2b1d62fe-072c-4a03-90ef-aa0c05a1d8c4"}, "c9f28e0a-1fe7-43e5-8713-238c75c32b57": {"doc_hash": "14601b0b69157623610ecc3aecfc1ac621896fa99d1bb91382c336bd161af061", "ref_doc_id": "05942375-3b99-460d-b127-2d71be6008f2"}, "7b51f336-3e53-4fda-92aa-19382ab25a8e": {"doc_hash": "603b070325fd5773f667530b9185efcdb5351288ea345734b8633ea7f0b61d71", "ref_doc_id": "25087e94-878e-4f3e-b67c-f32aa3a99421"}, "d7491e00-c7e9-4688-b76c-00d6d9340939": {"doc_hash": "979d00eb614d4fc35810e7d7cd6a97244e10d42aeedef78986bca09986464db9", "ref_doc_id": "6ebbc2e0-c352-465e-9bb8-063a58b85d6a"}, "37655c75-d810-4267-85e1-c324a66c9893": {"doc_hash": "aeb55464d7f6f1d68f7b0ab1f2e7365bbb8bbe3fa561c52cdff5b8c7c1af6e94", "ref_doc_id": "7dc3f531-d64c-4664-bcbe-002842374cd5"}, "d001f1e3-3c7c-45a6-a173-459bda7d58d9": {"doc_hash": "6f806eda33d30eb8bb254bd7eedf31c8d18b3ccb290d2935eb2e6c4616dd36ab", "ref_doc_id": "4f9ac724-df16-4727-b3b6-1c745795f0a7"}, "c31c0b2f-9e19-442a-8e5d-54e6b1330f37": {"doc_hash": "71261dcc0f59be22db2ff56b15a74dbe9b3fcb9deed642bc7b33e6ea714d0650", "ref_doc_id": "9690b080-d6e6-4cb2-a4fb-3325d428db77"}, "5efa04e4-b856-4b00-a206-2ba894f66dbb": {"doc_hash": "213030c46adb208a0332f49c82eae5df97a3f8a2e65d2021e0a6568243074a0e", "ref_doc_id": "ed9cafe1-a3f1-40e4-bff1-d510336643ae"}, "b10cf82d-595d-42b0-8e35-224a751cb7dd": {"doc_hash": "7024c0c53e44118f38c26279e1f12a7457178fd6229d3a2d9d3eb4260c4294f9", "ref_doc_id": "46adb889-a57e-45e1-9b00-6d3d077b6735"}, "e6ddcc29-5bdf-4adc-a529-24ee67f5ec2e": {"doc_hash": "a7bc733f137a56a29a1fdede8f2343eb8e7ef8b3259a04c4ebf3008ec108c185", "ref_doc_id": "46adb889-a57e-45e1-9b00-6d3d077b6735"}, "11af09e2-b06b-4f6d-9006-a244bf33c82f": {"doc_hash": "6ac7b52209d27bf164a03bb66576c167d057298ff2d6d7998f8e957cdb523216", "ref_doc_id": "9b647e38-848a-42a9-8054-57fccedb1569"}, "4c510506-e790-4576-9816-8cb530d9b4c2": {"doc_hash": "fcb56de9376e3304bf4377e5e018c023e7218a7e112c38df71ae4cb328ef1ac5", "ref_doc_id": "c9a9ae37-2872-4a9a-833d-2df20556c84e"}, "21ff3a33-88f6-4db1-9bfb-f668fed404b0": {"doc_hash": "db257996deb14ab261b0c7a7dd9b1084fa50093b43791abe1b921397e8dfef1e", "ref_doc_id": "c9a9ae37-2872-4a9a-833d-2df20556c84e"}, "1a1132a4-2dfe-4daa-9278-76ff72fa0ea0": {"doc_hash": "9723768bb872782fe17f5065f1cbc71c30f108cb872a3c7b159fe45be7aca649", "ref_doc_id": "732bc2ee-c7fe-47e4-9e01-f83e9aeb3a11"}, "402fe8a9-ef03-4c88-b9d5-509b5e937992": {"doc_hash": "a1f189aebf870555e5c500d03a41171111c54bce683167da47416d6859cb3b7d", "ref_doc_id": "f391fbfd-c8e6-4659-93ad-3d30bc12795d"}, "dabbfe5f-e90a-41c2-af60-465d1155b9dc": {"doc_hash": "a0e29b289a0aa4ba7dfd8880de228483ba4131b794f72bd4a68b9f5b5f19d37e", "ref_doc_id": "e5d4c103-1155-48ef-9ced-a04e72bff20f"}, "fc6d4a4a-6991-4f78-91c0-3465a90826fd": {"doc_hash": "1c389638aa1f69c7521daeb45e61a29f98e6c138efcbb2d84541b999bdb53389", "ref_doc_id": "161da535-72c7-44d2-9597-69f79a945624"}, "4a9d4954-e3f2-488d-909b-be61b6301a17": {"doc_hash": "e1bc23cc855a3668a9dc709613c7a605be7e24fce70c688de2514a7e9aac211b", "ref_doc_id": "ccea864f-7812-4eb0-acda-dba044ea1ef4"}, "1d97893a-e2ee-4185-be46-b864a98530e6": {"doc_hash": "b40660f137ffac935c4742352260b58e36b8e2b6315fbede20dd57c87f7edf37", "ref_doc_id": "4373a670-0d01-421c-a661-fd798b27aabb"}, "05f05a15-28d2-4a08-98e7-c3158d1c0a6b": {"doc_hash": "f0d442db2efecfd77faa1f0cc38118617f1e13860affb96aac7e07b638a607d7", "ref_doc_id": "704bab92-ce1b-4066-9b22-6b35c8ba5840"}, "a541946e-9680-46fb-b054-67db8b2ed249": {"doc_hash": "1772e6f47973449885fa64052c6c4443c38b473327eaaa0c0e19f5618505dca1", "ref_doc_id": "704bab92-ce1b-4066-9b22-6b35c8ba5840"}, "fa0a4c81-d290-418e-a270-6639ecf28cee": {"doc_hash": "2463a810e409a2f0fad8833770fa02d15345f5123da7577f702c41d2ced143bf", "ref_doc_id": "f40a97d6-7e9e-43da-b3be-3a9fdcc0aca9"}, "0e29cf5f-42b2-4e0e-80ab-ff99a08ff011": {"doc_hash": "48541ed9b45a5edeb9c7b681ea91b36aa771c81fb9b34ce07a44f7495a505e34", "ref_doc_id": "5ea3eeb1-ff37-4f22-b188-55147e9fa2b1"}, "0c20629b-a0ec-45ac-bb26-ee3765d4f2b4": {"doc_hash": "0d3c86f193314c5b9371842ae4dbae2b80d2e83c88d941d60811bb5b2bbdfd54", "ref_doc_id": "03eb5bfc-0a80-4462-9403-10abd4299f1d"}, "41fe9872-c801-4d6a-aeec-697901bf6355": {"doc_hash": "2612e1b36a534ea077c4d3d0ef83a42bdd4076c98660c6d1b1aeb50f427a8317", "ref_doc_id": "965f6cd9-62e2-4eb4-b897-f7cb465e8a70"}, "2c9b9673-b67d-4e96-a971-3a5e18a7af75": {"doc_hash": "8190fbdd1c2c25ca02f6d0e1e03c038e9a01ea836a1f435884753ef7dbd9a948", "ref_doc_id": "4367dd6d-5cb2-4d3e-bda0-ec79efd73b7c"}, "422cd863-b3c2-4ff7-9950-9fc3a17db911": {"doc_hash": "8b5cd10d6c770a4872291db6f1ac8bb8788664044ffbc3680b3de1229a443bde", "ref_doc_id": "9f7ba4c3-b99a-4a7d-84de-8e678e10faea"}, "889c1e9c-23cb-4ef3-853b-f907cc2296f5": {"doc_hash": "bd560857602a1fed864fdbdefa5c5eeb6a78546709bc62dd27c4b63ab5fa06fc", "ref_doc_id": "6479cd8d-0c8c-4a02-b837-2ea858340726"}, "b78544a7-541f-4f7f-b643-d629d064875e": {"doc_hash": "3bc3321285951b58f04fe330a02ecddc0ae7e4515007a28b668354f6e0fc20b0", "ref_doc_id": "3b03c299-ebe0-44fc-8487-c8062c92faf5"}, "c2d01e5a-bb25-4128-bb22-cda7c8239d38": {"doc_hash": "fea67233d9c8d2df88893b20b4a3f87a50160bafe13ed4b7cf2b05eadbba51ed", "ref_doc_id": "1c2caff6-f568-4e7b-b1c7-f9b963dc1058"}, "e80e6375-699f-4fc6-a438-990ff8556612": {"doc_hash": "9eeae2dfee3c7e41c941bad817d5d3df717eab22b75d30c2208d8cd04f4e9930", "ref_doc_id": "cdfab62a-c7db-4af1-91a7-6ba1904a8483"}, "c3ba194b-9979-4651-9f9a-eae9639e2571": {"doc_hash": "28375133ac9b3c1cb4bf74ad357dbebd55c7d4435abb31d8748a3c8fbdc7ffbe", "ref_doc_id": "56dbe1dc-2fa7-44a8-b86f-89657619697b"}, "8adf9f0a-3b1e-450d-aa59-d69363e37c6d": {"doc_hash": "161cf95126a5af1f238e55eaf615956f08b352b671ac23364f535c7fb12275c4", "ref_doc_id": "df8b9eb7-8660-4e5b-a8bd-1ab252053efb"}, "2faf4dcf-01a3-440d-977d-8b8ecbaf56e6": {"doc_hash": "ac585c0764f75d3761c16434a219919b99c26f275f16f9047ced8d8087af1b1e", "ref_doc_id": "fb9b34a1-5110-4987-8eca-11bb7cb0fa8c"}, "be5074e0-01eb-44e3-91c5-d51f45404893": {"doc_hash": "6449b36a86b8827aab72d915510742cabba762f8a50a22924f65aafb6400d95f", "ref_doc_id": "5db016f1-ce5b-4f65-9896-d028ad7a9d58"}, "66b9e710-1726-44f4-bb11-91a57dcbe75d": {"doc_hash": "48f3f753a68b6b8a7fd34eae183dfbf51437d0b0f76fbe4521dcb4f29cd19c0f", "ref_doc_id": "1a229ca6-8e84-4de4-bc36-a87f74ced88d"}, "63586925-8741-4956-8399-602888cac8ab": {"doc_hash": "8302ca50133f4da60bb9bc6e02c9c9f608a6c93ac5ea8afb2c4b9f201e16b1c3", "ref_doc_id": "bb421a72-b221-4608-abc2-7b2ada7bbb8b"}, "4cf8adf2-3e9a-405f-b1da-d453d3efbe21": {"doc_hash": "abeb7b853f6afdf83249f9749d1b1c155b033ca74c33c3e7e15b93ba103d502f", "ref_doc_id": "f44e57cd-3836-4e3c-a029-df7beaf267ad"}, "2a62bccc-8ba7-4c41-b545-63827914bfc9": {"doc_hash": "7430c78aa6fb7dfc055c2bb72a036e14aa013729a2d1e4403a1f5fb3ea5d1c11", "ref_doc_id": "04944d25-dd8f-4bfb-bb5e-a22a41e29652"}, "41dfaef6-fa11-4247-94b2-5c08182d2e29": {"doc_hash": "4658279883b6393bd1ea613a60ac08796466c1d56cea0dfbfd42cf180e30c64a", "ref_doc_id": "4871a907-f1cf-4826-9b7a-831ecd888e07"}, "94870e8a-f475-46de-b588-c0611e592f99": {"doc_hash": "77df7c6e025c872a2c65c1a9f11c148e9c0102e0cfa6974d05fec0aad49e2171", "ref_doc_id": "13a743e8-0a76-440a-aa44-7a6a8ccbefa9"}, "3e3ac9dd-0742-48dd-8d85-ab77bacfee68": {"doc_hash": "520316d140c2c0499e60819568c9b7d0416b923932bb039b634de5d7e073695d", "ref_doc_id": "f7535a78-7fb8-4e4d-868f-8b4ba3d01673"}, "d673b732-2372-4ae0-af68-2ff3b6289d38": {"doc_hash": "b2517642ef251550d314f0beab705d19e4424102bbbcb55fb80984bccdf3a84a", "ref_doc_id": "f7535a78-7fb8-4e4d-868f-8b4ba3d01673"}, "79a0146b-588f-4666-a8e4-e33bacdc8889": {"doc_hash": "203c02ee131d3142ee9abc9bc304ea739dc04bf0c600119b233eb54b1d31e5e6", "ref_doc_id": "0fad20ce-b345-4835-b17f-c8589e6f3408"}, "781a136f-27b0-43b2-aff0-d53ffc879eaa": {"doc_hash": "b0650cabe2764c105e8fe1cca22d821ce3d478a41c9c49dd3aaf19d2c2907927", "ref_doc_id": "36174ea9-0da8-40b8-9e8c-5c43218c295d"}, "a0d2270c-6ed5-4752-9024-e7936eb794e3": {"doc_hash": "efa0177f0c61e8114cae1d768f071efa2ef6c0370600d9e3d637e141c5ba2cd1", "ref_doc_id": "fdb4ab03-c651-44ed-99c9-4f8ce97d75ed"}, "f023740b-b585-471d-b529-39b86b27e471": {"doc_hash": "1b5ea2d1076387263fa735b3ba8fb6c2e9316e637d90d64e9de7c520dddd5c67", "ref_doc_id": "0b047ed8-6e28-4d86-bd50-85b654b0af58"}, "cc1fce8c-b792-4653-9e7a-bcdb2344c060": {"doc_hash": "76cb15e2e781d15a62f5e712f6a08bda9cde810e7c01bf9cb4f0dd7623cd789e", "ref_doc_id": "a64e31fe-4cee-436a-a694-8779d32cd17f"}, "2adb6b6f-7ec8-4058-8cd0-c69c16fbaf5d": {"doc_hash": "f86cc93adcf5f653f1a5f62b169a777eb535afcf1d2ce38d5ecb05c50f8c9e99", "ref_doc_id": "7a3ecca1-5415-40e4-8616-5cc7be640fb3"}, "ef90248c-3f03-4503-b859-2fa7857ce391": {"doc_hash": "db14d4078cc9d2a7ee9e05d7e2389b8ece25cfc66b8146afb0226c1f630e3a83", "ref_doc_id": "a34bc9eb-8e50-4176-97d4-f17bdc8bec28"}, "d5a6be37-99ee-49ad-bd50-8599eefada27": {"doc_hash": "2a98a935ddbac98cc5f838cfc7ce3cb29a5a831600224a38bf792805cfe963e4", "ref_doc_id": "0dcd4d5a-36a4-4fa6-9c2b-74acc8bf9648"}, "9c00397a-829c-497f-9492-9c6464c1b17b": {"doc_hash": "1a7b403827db8b6824ece9a52a406f8844ebb92c23b2e6bae04233ae133d62c5", "ref_doc_id": "8522567a-d1b6-4ed9-a920-c3d465ac763d"}, "9455704d-f249-45e3-8cf3-5df04e3249a5": {"doc_hash": "585856e7a4ac981cee532abfa4227741b059afd783a17038162aa30603196083", "ref_doc_id": "efc53751-3703-49f5-8f67-a399cf5a4226"}, "43e4d195-5673-4c96-879c-cc793524fcec": {"doc_hash": "370a564778c1e18197fe4924e8c50e96b42199a35228a550025cb654b05cba44", "ref_doc_id": "ff42a52b-a4c2-4b50-a48c-a5139336118a"}, "32e9463c-343c-4a2f-9d76-5983ab82db7e": {"doc_hash": "1c8b7aa6ccf469bd79099916a3ea653e5f5660aa0936586d0dbc2d970bdcd5d1", "ref_doc_id": "632f7a80-6ece-499f-9a85-7afa24e54432"}, "2a4505b2-8527-4be6-8d1c-ef4180ba1033": {"doc_hash": "fc292255b3364d80062dbedb9aefca5a476faae3cb70c3fb31638c5a35639dce", "ref_doc_id": "b3c788dc-7051-457c-8047-46a3f5fff887"}, "5af152cf-69ae-48fa-b112-d5d8d87b40c4": {"doc_hash": "55d9fe4e51e780ac758a12d92596cf9c1d29bb7eebac8532641482d8d3ac3228", "ref_doc_id": "a9b71ebc-7d07-41a1-94fd-edb6a5ea44b5"}, "03b280a5-f96a-498c-a55e-03168340e3f5": {"doc_hash": "5addde6d6b5972d8e86b45c7582197f97f8528bc2de3272c9e92ab70b36add57", "ref_doc_id": "665be6e4-984e-4a11-a8a6-01c7c97274b1"}, "4e7617f3-8c84-4687-b5e0-7dbd35fcf214": {"doc_hash": "0144fdf5dbc39f6eb074bd7c1e478bbe1efb2657557736f20e43e1a6e5f441ea", "ref_doc_id": "80f07d2a-5251-43fd-a248-6d2963ef7183"}, "2dda3455-8a16-412e-a25f-d6ae4fe5b19a": {"doc_hash": "36d74e79b7def2d8abbd14a1289415688a4094783e181f07d1bce96a238a51b2", "ref_doc_id": "981b3679-df1b-4d14-bb2a-ea5511d27fa4"}, "272f8a1a-ac54-4723-985c-3a3975302245": {"doc_hash": "01e666d2517fa6f0b14d1968d6cb479783684c8b8b6c6c0c4366e7d778e6bc9e", "ref_doc_id": "b0d5a960-a34e-47a5-b161-e7d6f742eabe"}, "783653d1-5da6-498c-9c6b-c8cfc5549880": {"doc_hash": "29f969ef0c6bbba27ffb280f654b365aaf9734deef5847307f7c037819853f54", "ref_doc_id": "02f6c432-c7bb-4793-9471-efc8a123a9d4"}, "371642ab-4c7e-4b69-8c26-ad061f041d17": {"doc_hash": "b43e28ae8d03c971078af614984b764f06a6b42f30b26fea0b8db55f41ae7e82", "ref_doc_id": "02f6c432-c7bb-4793-9471-efc8a123a9d4"}, "1d9c2eed-9e5b-42ad-b9fd-233ad1bd2d7c": {"doc_hash": "28ed5cc5ba7ac405e191cdd54fe6fce27cd160b2216adc3e7314af9d0094c2b3", "ref_doc_id": "fed3ee41-957b-4e15-8505-1b247dd95d4f"}, "d420299e-3789-44da-9944-7679356ef18b": {"doc_hash": "5b7ab03ea154084c43c28aa5724ddc510ddbe413551e733d377d14f540ed6b9e", "ref_doc_id": "e7d50704-e49a-410d-89da-14ab97aa695a"}, "83a5e094-b046-41d0-b3be-a341b4151c8e": {"doc_hash": "2b3925baa8857c6684d17087e304d8b00485c32ab162daca9b8b857d5a6d1c0f", "ref_doc_id": "455297a2-9da0-4e7b-8744-4d8f69c678f9"}, "1559be8c-84ca-4209-9635-8801da2f4860": {"doc_hash": "e6e20721256810de50426a7965798d2f0ff8b19d2b7f32994c39a5abd96f1fe1", "ref_doc_id": "d5f4cfc1-ec9d-4797-bbe3-a8c1cea02b45"}, "e60f4afb-2d03-4ab3-ab79-ceaca5db8433": {"doc_hash": "e7c00dd8a000d61aaee635f0c481758507e46383f6da7b78f37a425c5380e4fa", "ref_doc_id": "933db61f-bf46-45c7-9bbc-c731faaf43e2"}, "050790ed-2420-411c-9f92-b4dc2869f2b9": {"doc_hash": "a3765c047da4636e5398b1b75989305f86bd084e0535e335c644ee6f8e1fc8c9", "ref_doc_id": "6e9ede98-6b6b-439f-90ee-37384a5a0dbc"}, "dc189222-5c89-41b9-85a5-200635c2a005": {"doc_hash": "6834b80c13fec73d42d740c4d5f9df235bdaabb8161c01fa751a0c7ea0012c46", "ref_doc_id": "f08a72bd-2bf2-452c-b6d7-a1143641b53f"}, "6efbbad0-b09c-409f-9552-d6a193d24ec1": {"doc_hash": "47382c8b67c6df89dbb8393ce79d002291648734c0187a2a0a27edb86964162b", "ref_doc_id": "820b3a73-f54a-494b-9d46-8c7b4c845955"}, "55725992-c41a-4e56-8012-71dce8afdde5": {"doc_hash": "6f088259a19f094c1678f6a8e10339dbfb1802de70bfcd69dcab1e8ad80584c0", "ref_doc_id": "4b0fc7b2-423b-417a-a698-b539c9da4e61"}, "de7e5fca-3f37-4472-8760-d3c1bcd57c32": {"doc_hash": "177e76db21bce01cd962150a284917ada63f668681db83c3d4d6c9c5bf1e77df", "ref_doc_id": "5ec65e3c-7d73-4e6d-bc4d-a9076da0c2a4"}, "86be158e-e2ba-41a9-b7be-d9ec6b1e5ed5": {"doc_hash": "9f0a2825b4f3a142483ca3ccd29fec15f691026d80c8ca9f24f60f64c462cf4e", "ref_doc_id": "83ba0ea7-e40f-4905-b7f2-1d6fcd591d4f"}, "ea90975a-439b-4b29-b632-6a1f45d367cd": {"doc_hash": "26de5fd8be70daf1b4c47ac650f741c28768842ffda50ae3eeae76c8c38fc3cc", "ref_doc_id": "0f676af4-d878-4d25-948d-ddc438a5fb78"}, "da0ca8ae-d5f3-4b23-9da8-5e8c4a039178": {"doc_hash": "f60e4e66564bf67500378a113a40adca0a2ec9205f43c9a31f62af87cd1885f1", "ref_doc_id": "55ccec65-2766-4a6a-8fd2-7c7b16f4dfad"}, "bbc497a5-a3cb-4af3-b4d6-0261b2dd1b27": {"doc_hash": "e241ea3e7f1d6ee1438f0a3788f844eb4809f126b348d8497f9f7b48ae113787", "ref_doc_id": "ee941d81-b06a-4047-9cbc-fc4774ac232f"}, "5c515ac7-6935-496f-8407-395468d9bb03": {"doc_hash": "58f18e0ff42bdfe242f1270bf765b186f51944c0091941c12a14fed4498d2567", "ref_doc_id": "7c34a390-97dc-4211-a9b0-f52dbad65f53"}, "f54cf230-3672-420f-a9f5-5e13e4cafb80": {"doc_hash": "67781452d3acf0935a65bb83636db69b16ace0db5b12f01ec3c5463ffd37e965", "ref_doc_id": "530f2f44-044a-479a-9b3b-0745c084fe42"}, "2b7b843f-70f0-4da6-a3f0-26f35681dd94": {"doc_hash": "a42791c71a685a4fec6e5f0e4fa2c8bd4675b27c1a70db1259d9153a21679c6e", "ref_doc_id": "4d4934be-b924-46ff-b03b-5e12775d7d02"}, "4d269bec-acbf-40d4-a0df-d8b350cd97e7": {"doc_hash": "3082c1d8419ab9068c408c0422efa3f5a87bcfc02632f8d9d6b04dc2df3185e2", "ref_doc_id": "2de22bab-f0a0-444f-b1c0-8153b76e59ed"}, "2a21acde-6999-442f-9ead-07077b5a6398": {"doc_hash": "c60db1755c3a30f127b197aec3a68b00acdf02e794b4e313394115a034710d15", "ref_doc_id": "920740de-4fd7-4e2b-b7d0-c9cb1f80057b"}, "d747b7d5-a180-4c98-aa87-02a057b017fb": {"doc_hash": "9ac441281a7c8218ef42e43c1ccf78d21db0c6e8e7798279900e90de5ad8a911", "ref_doc_id": "0b6320f3-8827-4fd4-8673-afde2785bfc1"}, "b4638882-8df2-4c4a-a3cd-1b26d35c9191": {"doc_hash": "ea21dd2af5d1570a695e24584c21e510d907587c5f1dcacc6165d19b363601df", "ref_doc_id": "0fad3848-d517-4f5f-9b60-26ff5f205b2b"}, "dc537150-24fb-454f-a386-b6ec113ec6f2": {"doc_hash": "5be4c304a9b1a12655e16f5267a906a69f9325b186c3a1c30aeb31add4b5db2f", "ref_doc_id": "7e6fe63f-690b-49d1-a62a-b47edd810666"}, "63060629-325a-47d8-9ee8-e458e713f761": {"doc_hash": "caa59e7d2c5662384a29684f730a4dc9adc2a0fb198a0474d155066118e3f7e9", "ref_doc_id": "c56f4692-2fe4-4763-a3b7-0efc3d6fb172"}, "551cd5b6-32f1-4d79-905d-d3525b2db90d": {"doc_hash": "a5ef7b31be4bf2fbc9feb48de03c1580dfd7712017cbe4962fd5f6a12e20d7a4", "ref_doc_id": "460671ae-63c2-4ed8-a782-bda078a06ff3"}, "dc4ce9c2-6161-410b-b57a-be551ed6db08": {"doc_hash": "a80d8ab858c11104bad112056e97eebb789a5df8f8f6bafbd1fa957c5c71ed6c", "ref_doc_id": "0e5ebebc-9304-4def-8466-3d9416c00533"}, "67c39272-8fad-4500-9d21-911326d57b53": {"doc_hash": "c2eb3525d20983a9196fd3e6d3fd6761b1642577835e7b25b6bab7b9ddd35833", "ref_doc_id": "39b660a5-7436-4c7c-b53d-76bc5ebfa9e8"}, "58dc00c5-5d7c-4e84-89bc-094d6449e3e3": {"doc_hash": "d25ca7df4fc14abfa739700a6749518b8402cf5fee1c5b721553bfc8e607e692", "ref_doc_id": "df1e215e-abba-462b-baf2-f0fbcd7ecb2b"}, "aabf86bf-ec6e-4909-94e1-47515782ed3a": {"doc_hash": "df07e51bc2f566a0bf8042b127d8a03559b7487fbddc492241f2fc2142920303", "ref_doc_id": "bae763e9-34c2-40a5-8187-f26796e99b80"}, "3951b2c0-978c-46aa-98ce-580fbcb244ef": {"doc_hash": "613658b52f2167197047f6b337e6a770268e83e5c6179ae7bb378b79813a5378", "ref_doc_id": "d14f5d53-659f-4699-8d84-a1f65d0547b5"}, "a0948443-d9f8-49ea-92c1-cc19de81ad38": {"doc_hash": "07e9c51e1dc1860eb4a3bbb206967d57b394be24e08f50b66349d57a795e2af1", "ref_doc_id": "bd078c92-b6e5-4104-99e1-944f354b7e5f"}, "db531ac5-193f-416a-a6a8-21df61d98ff5": {"doc_hash": "abc1ba5c3004ff08094595e14b50610bcf627ac51dc4737acc86cb5dc0574f1d", "ref_doc_id": "c0750c0b-e042-410b-b123-7e48f179cbc4"}, "1d5b47d4-1f80-4e19-8e69-45ed2414ac5e": {"doc_hash": "e1971f66a16199d81b6d0af136ec37a95c2ea6cb210d2e0d26759f351f674960", "ref_doc_id": "979dd91a-89a5-4d6c-8557-d392352b1d89"}, "4b4072a2-db2c-42f5-a763-b27519819305": {"doc_hash": "860ab49bbc5462f61fa209932e946fcdc83571c6a8b87d69e5044992ac368674", "ref_doc_id": "214492b8-1c26-40e4-b8c3-1fb1ef395fb1"}, "8848defb-b4c4-4c02-996a-e9a4fd05a057": {"doc_hash": "ee4e05e379e2caf5f7370c6c18ec742ac3961696383b8407dabaab824fa1b836", "ref_doc_id": "7cd0072c-ff1a-4473-9502-7b896c4ba512"}, "957c4a34-f7e2-496a-adf5-29e857f18521": {"doc_hash": "1bc1c5574047cc0dcda5a115fe18d8d47bf6b275bbbde7f143be2e1fd72127ad", "ref_doc_id": "45f0a1c5-07ff-4026-9855-c8036bb2c8fe"}, "756cbd2a-c71d-47ce-8005-e62bb527edb7": {"doc_hash": "5d64dde31941906aa72972047df7aa0d756a665e28d6204e9badb84ec2bbc23d", "ref_doc_id": "625c0c94-0c18-4836-b155-23515eb625c0"}, "46621dcb-9563-413d-ba65-fbdc7120a8e5": {"doc_hash": "953b48ac3c7671c92c37eb8343b606f04c7d7cf0e5faa807ad005c7ff01e154b", "ref_doc_id": "625c0c94-0c18-4836-b155-23515eb625c0"}, "1eec9f4d-8e3f-4381-838e-4412df148328": {"doc_hash": "25a4d5781fd7ccb54bdc69635b36dd2aac702f3836a26f3c8b83cadbc2a9ae1f", "ref_doc_id": "6d53154d-758d-47cb-8756-cebeec52419a"}, "2686e231-4e72-4091-9e03-4e8f7f9a46d6": {"doc_hash": "9a719f8839cc167ab0c72fa53127718826dafa0810a545950c11e48d3ff5d605", "ref_doc_id": "6d53154d-758d-47cb-8756-cebeec52419a"}, "59c9980a-6bba-4fa1-932a-0503bc0502f6": {"doc_hash": "5b4f1e85c331c85e00c9835a4702af7c07f090529434257b98045b47163ea2b3", "ref_doc_id": "d63fad18-8df6-4042-b750-81f278d29193"}, "fc13f3d6-e0de-4481-a6e0-d5f1554c0c17": {"doc_hash": "dd83a1be287d357751196b35f120aaf70e9f6da0e979fe32062f3a70717cde69", "ref_doc_id": "b811c328-c499-4977-bc89-9865b7a2f9f6"}, "4fc29518-1087-4a82-8251-6fa41cbe4044": {"doc_hash": "141463f3a571c38b06fa0df82d0b66033cdd917c781de08ea5c2564dbd98f376", "ref_doc_id": "0e9c35b8-30cb-46cb-b067-f176dcdc11cd"}, "3735025e-bf77-47fd-adc8-84d729a7708a": {"doc_hash": "687a86b0fe11e87c017551b3cd8a509dbcb0c2dbf887b7fd3f7c27bad190849d", "ref_doc_id": "51af58e5-a7e8-4ea2-a3cd-23369ffb39aa"}, "21247919-da0c-4158-9604-47e2e32a539d": {"doc_hash": "d36abfa7aa4775fe0c0ebf44f4dd0ac985f1d0f1931b8346a4319c0925984993", "ref_doc_id": "1ffd895f-772d-45c7-8459-fb6935101ef0"}, "8ab5b0af-bc61-4692-ac10-d3d25e859925": {"doc_hash": "017cf6f03e19c53778a1280df20a8df78bc8ee641a1d3a5eef27c8c49695b729", "ref_doc_id": "baa99e69-c58c-4f8b-af68-1134a7ce3527"}, "0b42174a-3345-4b41-bd05-0dbc476dc6f0": {"doc_hash": "51fa71b5c16f3a0540722bd5ded144ff17b6a1be086d8e429dcff9c8ce4b5383", "ref_doc_id": "872ed18c-1da5-4e5e-9771-46da90a37b81"}, "96ef6b38-bcd0-4237-87a3-9480800b3399": {"doc_hash": "2093fc42ac895a9e9be483d3e01a6ad3270132d48e92c005d59a1df4a20a5240", "ref_doc_id": "cd4d34bd-edf3-43ac-89b2-843b5c42cfa2"}, "8e77a810-af5d-454f-bf68-f7f31673e940": {"doc_hash": "1b49e71ec68b837285c6b3c701ed14cc935945899f0a7d2495600a38e38d68d5", "ref_doc_id": "9b13abea-ddc7-441e-a247-f5dfd57379ca"}, "04a685d6-8feb-403a-8d5b-ac60cf03d6b2": {"doc_hash": "86feb41ec831a3ed4add238d8675dea307a887638dab71da39636025650e328d", "ref_doc_id": "23a1e438-1c1e-4302-8512-31ad776442dc"}, "92a06989-3d5f-42e1-9456-f155dc5c2ba4": {"doc_hash": "7fb3ebd52b6acec6c26b4e51129a8e63e3c3e79ddd7d77ea8d39eff337359018", "ref_doc_id": "303c559e-a155-4820-ba32-6f164baf8ee5"}, "6dc98d90-8b44-4fcc-839d-6a9964c3dda9": {"doc_hash": "0e262ea5fe7e0f8152db8c12783535d278bb124944a464e1f0c386b3f4dcacd1", "ref_doc_id": "e2d96273-0495-4ecb-a684-8b8cef94c0b4"}, "49a22885-cb3c-4bf9-bc00-d2d57f38dbe1": {"doc_hash": "9398e64573a2b6972b1bd14aa6403f607282afb1eefe82c18e93e7ee5af0e3e1", "ref_doc_id": "9b44a365-03db-4aaa-8b25-6bb1d305850d"}, "9c45cbfc-4361-4b78-a7d6-967d424f8ece": {"doc_hash": "e9b52c0cc8e582b6315f4ec9e73ddb2169d18cb8e7e21366c0d8a7bf8391522b", "ref_doc_id": "cd0c0142-2f85-4d5a-bfff-ff8d5c78215c"}, "09078daf-58a2-4075-a271-3ac778c710b9": {"doc_hash": "f9a23ae4af46dd291d593871fb38a3a5cbe1602fcc6461553de182ae0c508f36", "ref_doc_id": "8683a401-a54a-4ba0-be90-53d790d0e4a5"}, "1cc14252-1f90-4061-8e18-6a963eeb17f4": {"doc_hash": "b30eceadcfa206493e82eb69b37afedd0088b0e49f3152fbd74434f5aa0c5120", "ref_doc_id": "f1890444-edf2-4c37-8a1c-0ff05281da1b"}, "42db3c37-a2a0-44db-bdf7-f85e77397caa": {"doc_hash": "bfe14b3000367769662cd7e5f4ccc4f5aac7bc7ca023d7faba829eed8810a84a", "ref_doc_id": "4e20cd5b-7371-437b-b0d8-92289466b306"}, "3aa7014e-643c-43ed-8dde-5122bec9d245": {"doc_hash": "0252a108beb75ad8cc1d50906ef2eda24d55977cfb32254c9075db994f99d644", "ref_doc_id": "9b238fef-eb11-4f8a-bca3-648716683e3b"}, "c2b52fef-964c-41a6-ba13-11810d0ab6a7": {"doc_hash": "a5db1b347568c436d9a905f9030c01bd80ac8c3b453e7db571bdc57e8b16ad1b", "ref_doc_id": "d347ae49-d37f-4e0d-b282-429d0b960423"}, "f239b058-9a6d-4b1e-a9eb-60bf42a11a89": {"doc_hash": "784846cb26637c4710491b4fabb64f64d56349ca2cf9490bd27d4ce6ce4e25dc", "ref_doc_id": "bba39b07-b5ec-454a-ba62-e94b623fd238"}, "97c24c45-06b5-490f-8498-ba7404e94c8c": {"doc_hash": "a2767e137b97a8117822d5667fa6c023d6f311192413ae1fca4bdc5bacac9061", "ref_doc_id": "bba39b07-b5ec-454a-ba62-e94b623fd238"}, "86307b8c-2697-49cb-ae22-18f18688aca4": {"doc_hash": "518f87b56f9e48dd1ba3ade1e6794022e19e692f1623b60004ee5d274b7ea618", "ref_doc_id": "63b8f32a-a243-4932-b763-8364c3f43562"}, "0c0cbff6-6efe-44f7-8374-ecd222e0fa27": {"doc_hash": "c0a5f351b0ef16da099852f540d4a7ccbca1f860ba4a839e41f2020eb8996e8c", "ref_doc_id": "fd9303c5-e7c6-4b22-a67e-d525db90b779"}, "2ca049dd-1fa0-4792-94ec-71ff7df2f6fc": {"doc_hash": "cc441e92255afc2b6c605f0a7db06aac3d19ab9c94feeee99e0edc12733a662b", "ref_doc_id": "6f95b64f-1431-4fc1-8a53-41be3616fb97"}, "b1fd3291-f3aa-47c6-9da4-38a757fb467f": {"doc_hash": "ee23346fb4a9d448cd5ac916e225a428a37d9a6dd9b968306bc6a5f38a5d3d8c", "ref_doc_id": "45c0a2d5-728e-47a5-8fed-bf9f6351f6ef"}, "1fad2415-add6-4504-b864-e2854582256e": {"doc_hash": "85d88593cf4e3ec871ef3a2e6edc9b8eeef26a30b00e1ce1f8eed0c0c1c2be19", "ref_doc_id": "3685f819-abc6-4585-9a35-b3c0a23f94d5"}, "2f3c7dca-0502-49fc-9a09-f810916d929c": {"doc_hash": "48d80ed4f0c96e5ee697e795a10d3f8dcdda59e03648e7ef90257d97a0dfb436", "ref_doc_id": "51d47e60-510f-4b59-a18c-3a0f471be0d1"}, "55f614e6-ff5f-49eb-926f-76a5cb221500": {"doc_hash": "c9b1e6af6d5691bd7cba7fa0e754a8eaa829a21ca86470e55dd934476e0f2d5a", "ref_doc_id": "6e43a769-c1b0-4ca7-bd6f-37de320a8f21"}, "28bf11da-6497-4b25-9940-96b5e3e92d3f": {"doc_hash": "50749fc01e8ac958530f2167abb736304c57fa5c8999a31ddae251b5163019c9", "ref_doc_id": "06f1a211-05d0-43a2-92d7-ac87b17e7d2e"}, "88e81f27-d1da-4918-9e3c-86774b0083e9": {"doc_hash": "21d07708e11cc7ef977e5207ba6221a30f536bc18222f9c3f9397e06450ffc0c", "ref_doc_id": "f7c8d9b0-b5d4-47d9-801f-d299f0398431"}, "906a052b-176e-4ff5-93ee-5158a8929d73": {"doc_hash": "419ea6af8a937f2c57e79bc0b0f62a9418e9c58001ceb746b27a7e5e5de988f5", "ref_doc_id": "4000f5db-5e98-4c70-93ec-e3d5e0b415e0"}, "b2bfe793-7f7b-4348-88ac-783d8bba88d5": {"doc_hash": "2cb1bf4028cc5e2e5d351594fdc5ea0907fea3ced0623d6c4514fbd3abcd78f8", "ref_doc_id": "659743eb-1c62-4bb8-b33e-146f9bc8230f"}, "37445964-51b4-4c7d-888e-6aa32f9ceae8": {"doc_hash": "a8490bba1a8c150c410c04b12536d3f6cc47c60517cbced05a51a64887a3be48", "ref_doc_id": "3ed5703d-bc0f-43a5-a5f5-d3221d38f7a5"}, "3c1addd1-0b72-4292-945b-e01079510518": {"doc_hash": "8e269dc37c27e6b8060d1f44d47d0e2e966a9a035c3bbcf8ef73e16cb05c0b45", "ref_doc_id": "9ce61707-c3b1-410e-a927-9caf22becb89"}, "bfc1e09a-8450-44fc-b297-c77e0d2e0dff": {"doc_hash": "a8dcfa18d64415d7e09ff3d2a9544a072b048bb977f64160b19808bf7002dccb", "ref_doc_id": "ad8a5c91-c861-4b75-87b8-782f86313e63"}, "8b681000-497d-403a-8d6b-71916fcd4542": {"doc_hash": "616a3d7582ce2c1015068cc42b36d635837cb333d08cfc126d55799d7e32ae65", "ref_doc_id": "f58d2bde-b1ea-4764-980a-a9c7be8ec366"}, "87bcb089-066c-4450-8607-2b7d279e293b": {"doc_hash": "32c1f6654204b67e195f266e6c07a9b0cf5d777d49507fa6da489d38396e2dc7", "ref_doc_id": "9c522f78-e532-447c-9ec3-26b251185890"}, "bbc0bcd4-e4be-4baf-9bba-5ef8d953206e": {"doc_hash": "c56605ad54c3de789e555ddb54bcd50071d4e7c5c190e7b86853173e62b23c2b", "ref_doc_id": "a6a88869-08ee-45cc-b247-161d71ef2224"}, "b1aad192-28d3-4728-9717-bf330d7012e2": {"doc_hash": "f64fbf671991008c62d5ec4640affc2642d11e9579014bf4cb50c5ecccc9646d", "ref_doc_id": "c056ab19-702a-4aeb-883d-0a5dcb359486"}, "8023937a-88ee-43d8-9dcf-56acde450997": {"doc_hash": "d00e29c094d3ee07e6a1cb2e162e4b8a10b68bc17bc55f82801aeb79bcc7e98a", "ref_doc_id": "c868b564-74d2-4171-85e7-d2781a5c9b67"}, "1e4dcb36-bae7-4100-b5d2-ba04cf95f9b0": {"doc_hash": "b44f198b0d4cc9e04540e14d49dabc560d8142f5cd1d9fb83b4a7d5e1413fa4e", "ref_doc_id": "790d9bf2-115e-4088-9253-213608c90442"}, "89510257-5494-4c59-940c-e14a0787740e": {"doc_hash": "c9c1f3ec73ce468e1b374c572aa54819a130b400fd0fe72132f064ff961678c2", "ref_doc_id": "425a5180-5104-44f9-a030-6e8cc20660e7"}, "b64e14ec-7240-48aa-b56e-e6399fda3e41": {"doc_hash": "bd3a2a00a1028c74db1d7b66cc4587abac1942e4dc02a92eecedc2652271bc1e", "ref_doc_id": "425a5180-5104-44f9-a030-6e8cc20660e7"}, "31a18092-b342-468e-8467-eda627aef868": {"doc_hash": "8fb83f6ecc10f11e3ecfa10f14fb0244d9c8b1cb67f261f65bf767c25604a63c", "ref_doc_id": "9450265b-2c4a-460e-ac04-80bd05450e31"}, "d11b6b61-ac7a-4851-8029-dc8a34f8ee19": {"doc_hash": "889a660402533908b85fd8206593aae56fa050715e7c1d55e64fac891b03dda4", "ref_doc_id": "dc75a6fa-3be7-4054-8c0a-ef9820130c76"}, "37146599-e495-4c11-92f9-32e370575d81": {"doc_hash": "b376771ce807701c89c03a5ac408099646e3647fc87b0b69cbf0a5c12dd4ec57", "ref_doc_id": "dcad79c7-d19e-4cee-9d89-b7afbb370ce0"}, "22b8bc0f-f54c-496a-b6ce-ca9239d8a4c5": {"doc_hash": "57633d2c47dde9a695ecac4c9ff687c67c9df71a316a30247451998ffb464a28", "ref_doc_id": "8ad65ae3-fe63-43b3-a979-06ba0b3bd338"}, "f5982a96-4294-45fb-84e8-349d1873ba0b": {"doc_hash": "f6fcf443e0ac6634b4fb2316d883f0a92eca3dfa0bf3b71160fa33a8d4939ebe", "ref_doc_id": "945ce980-9563-4cd4-bafa-dbd62ce15845"}, "5372a83c-13ed-4dea-a9ab-2517d22a0c57": {"doc_hash": "a6f90f6c8fd0a44e5cbc94a3154022b305f95b645417395c1d0045133d8d2e72", "ref_doc_id": "33faf2a3-a3e9-4c58-863c-b1d2eee70693"}, "0ea3ea1d-a2aa-4b22-8645-4e16b22b1eb2": {"doc_hash": "7d281d13d349bf3ccbe2da356586a92dbeac48f8cf9fc074a5406da7f1b8dc7b", "ref_doc_id": "33faf2a3-a3e9-4c58-863c-b1d2eee70693"}, "a9409cf3-792c-4491-8db6-a6f356198a62": {"doc_hash": "85ff7db3e07662d036c3b01dc4915d29413ab6019c8d33a10dfd99619882873d", "ref_doc_id": "eaa9bc64-0aab-4ac3-b630-9c5e9a3d91b9"}, "790af819-70bc-4136-841b-a1701649ec2d": {"doc_hash": "4cb2e66745f3b45e1f59d6f275a003d2605a9fe297a9f1ce7c79a21f973538b9", "ref_doc_id": "ed14b971-abee-4145-8bf5-195a707069c9"}, "d73a74ec-0356-4bf6-ae78-28752ff73601": {"doc_hash": "8a9cd421ae9bbcdd18014cbbcf7d5bb17c84ece23e5df6713a9758926883198f", "ref_doc_id": "0d1d63b7-b41d-4784-8069-8a7ddcbbafc5"}, "92ad4974-f4ec-4eb2-ac34-ba35ebd5e907": {"doc_hash": "efd54e86ab00a81a3167ec87287d277cf1c36907e65f010f9d206f17589bb2e4", "ref_doc_id": "977669eb-5797-46d6-b6af-4a2cc22b6b0b"}, "852782fd-f11d-44d1-956c-66396025deb2": {"doc_hash": "47698c71d93dba990441ea9865cfce6b5b205b5c64af5d8f3da1830ee42672a2", "ref_doc_id": "354f4d39-4c3a-447f-be5c-37799adebd99"}, "69e0603d-0c43-4f4d-98f5-cb378be4da3c": {"doc_hash": "acc25a57fe0d63b9f18264284cc70c73d08d748da9046fc4a422ee366dc4d600", "ref_doc_id": "5174c9fc-7ce7-420d-a00c-c4949c68c51d"}, "773b262b-c76a-48e2-af69-59a56e84e50f": {"doc_hash": "2970d41840a8bca3dfb915427351ab3e8978433175f14aba58ccb23edc2154ae", "ref_doc_id": "521c114d-fc72-4416-af80-50e3966f2e0a"}, "c8583a04-d3cb-4611-be02-199d27c1ffbe": {"doc_hash": "9b0943a7a14310800ca173cb9f2f857cad29ad38ca5a0e6456a814eb63f4ea84", "ref_doc_id": "66ac3b97-1222-4f49-baf0-8eea91ba81aa"}, "96b2a362-e507-41fa-9f1e-2ed06f10a2d3": {"doc_hash": "f601113205482e3a276ddb761e10a9264eee20e099a1a71771da9a432a50292c", "ref_doc_id": "397c2e36-6491-41af-8ca6-cea6e3dea536"}, "f80b2326-5643-4875-811b-0f4bb7121d9b": {"doc_hash": "cd78409b3cd2dd4765531df225071657ba94ca78a11c18cb417bf0fda7cbee61", "ref_doc_id": "230fea7a-e336-4bd2-8bf8-b3830e781062"}, "0e9f0cd9-47e7-4d8c-887b-a0dd6f4c7b2d": {"doc_hash": "4ef4626d1c5ea39f8f6b140d12cabeaa958d33ed573bc767206bc849233e2afd", "ref_doc_id": "b33fb3e2-91da-44c1-bf09-88d15e46365d"}, "fe3ee16a-b899-428d-8ac3-c9b24a9be171": {"doc_hash": "dd8d11f2c53b7208a57d01b7d30637358338ea127e9d4136d165ed475ea3e477", "ref_doc_id": "96e72a10-9b82-4bf2-a1c9-fde1bcece731"}, "4877e9b7-56dd-4c47-bcfa-3108cff80801": {"doc_hash": "308b0aa20030c86b262cf242b36565304e4b9d1cf9d66495fe11e445bc87209f", "ref_doc_id": "f8b825e8-4b0a-4fc5-927d-a50c49ad02c3"}, "5f1b7051-9446-45b8-b639-d31e8bc84aba": {"doc_hash": "50c6368613eef07a48ece877c29ec3fa08c6004ec540566bc680f9327990cfac", "ref_doc_id": "2aeca222-59dc-4a0e-ad0f-3a9dfda6ce79"}, "c6315179-a9e7-4876-a9fc-3ccf6ed314c4": {"doc_hash": "695917e10bde4ff08e2bdd6becb986d1a82e0b1eb595f5cd0c315df450368c37", "ref_doc_id": "2a398c10-ebde-413d-ae9a-d961f46f28d1"}, "914ae526-3651-4f6a-a10e-727e1e2d29a9": {"doc_hash": "753adcc008a5868af58a9f47da648c078b9584d6826556495852cd3ac0a24f4b", "ref_doc_id": "af40cc63-617a-48ea-ba25-d035e42b2244"}, "d338de40-65d2-4d8f-8a14-2e2bccde3988": {"doc_hash": "659eabadbe69fbe2aab648f1d14e08ae9d0aed943d2027b28485351e33ac5375", "ref_doc_id": "8ede1ddd-6999-45f9-a4fe-bd848ba3d2a8"}, "4c74b6d5-fef1-47ff-85fb-6b413d775b55": {"doc_hash": "9e79287e74019675a4375d31efe02d2065cbb64bd5df629f495ae6315418c071", "ref_doc_id": "df9fdab3-8b48-41e1-9868-bcc695f817b0"}, "5feda767-8a0c-406a-af26-9892bb9c7e26": {"doc_hash": "b0681b3a759eefb16188bc499a50a3e65dbc878f7d14ce3589710d6a69e7b11a", "ref_doc_id": "df9fdab3-8b48-41e1-9868-bcc695f817b0"}, "ce7e4e42-de9a-470c-bb13-c8138a45b694": {"doc_hash": "eadb02b673edb8438f7a6299b7ebb17824ef6919e736db7fd638667fb0ec4791", "ref_doc_id": "4b0b67bb-0ad1-4b90-924a-3bae72f40816"}, "eb2f089d-13c5-46e5-b929-f37f3443578c": {"doc_hash": "9c33fb1ebe3e7c5305f52e22b01a9c93a5e6e87ada55e85239d0f73545afdac6", "ref_doc_id": "4b0b67bb-0ad1-4b90-924a-3bae72f40816"}, "2077a713-1dea-4ce3-9a64-9849b32d3c24": {"doc_hash": "e342a9d10713728eab016e63011d3574adb07f3c0cf8255fba5ed00148861233", "ref_doc_id": "5e430759-6e4a-4473-ab33-1a41848ceccf"}, "a77fcc3d-237c-480d-87ba-7eccaaa0b640": {"doc_hash": "1c2d172f66bb2275fc067085358e814bd290adaf542d045d65ef75170327e58a", "ref_doc_id": "5e430759-6e4a-4473-ab33-1a41848ceccf"}, "7a740788-3a7b-4882-9f22-ed076a22ac70": {"doc_hash": "c8051f1bdfadfe9c6ec724e202a1c40c5e28741b56c48a70ac83156dbaba85c4", "ref_doc_id": "c1fcd831-03a9-4c63-9f6a-aaba9ee5920e"}, "7aa27004-837d-4d4f-a5e5-ced5d6d37ecb": {"doc_hash": "f5bc56cc30a005bae5f0d7489362f1f71e40a33d62358b508b01f1066b328994", "ref_doc_id": "c1fcd831-03a9-4c63-9f6a-aaba9ee5920e"}, "278781e8-3194-4c8e-a43d-1c5274c8e70f": {"doc_hash": "e9fdb15a63a6321d1865e06ed6d02d6b4d32f9ad79e96013488828d2c6f6cb51", "ref_doc_id": "97259d39-55f3-4c64-93a6-144a4f068a52"}, "d8e9927f-902e-4815-9b3f-30740cd51630": {"doc_hash": "399018cabd3f96e45ef2b7875587d10467edef62ff0742a0239841ff10e74b6d", "ref_doc_id": "a592ec47-3c8e-418a-a534-32d02b858e42"}, "d27aa1d9-0ec8-4214-a914-dc1437b7f7f1": {"doc_hash": "b4de1104e45f3c0fe9a4c5319c18795fa37f35b23e54b838d79f8eafa3d2818b", "ref_doc_id": "9bc4342b-9c89-4360-b5af-3507af5ae5df"}, "fb012558-c812-4a03-bc3a-1b633bb9cf57": {"doc_hash": "41bd498411f02c7636c273aa7da1589c6509fc6eecda94ce597202374e9202f0", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "51323339-d4c7-46e8-ad0e-f697750bd0a1": {"doc_hash": "ceb2253f165ab63c94eaf876031b86c2aef4063d7daad691a29c6887da96555e", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "6518a6e0-8289-48bd-a3e3-26102e45a889": {"doc_hash": "3f702225a63b2d26abd264c07f65c079cca8c076391a91c710e439db9f152c39", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "b304e470-668c-4db1-a4cb-6f13edb24539": {"doc_hash": "c3369a8c2684c52d00a22e70cc0df870e588ecc0c0aee7ab688c652a0f5df341", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "389e5cb9-6673-4f73-972e-029045eca7d8": {"doc_hash": "bb3a168d3157a108d5465c8815d4ebc6b2ad66432971f7136067472e0821b2e5", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "0346efa1-6d12-40d0-81f9-fa51efaddfcc": {"doc_hash": "788f6914bf7f5f9e5a7e147d5b4af1f4afc19b39d101d2da97c3b4c846e7ed16", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "c45632e0-02ad-4043-89f9-256b4c4e2f38": {"doc_hash": "cb004ec6d2c2ceaa8bc3963122f8a6cd5ed6d09c4d5e59fedf510f8e7f42a33f", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "514aa8b3-0e85-4d63-a380-fac66f37b6ac": {"doc_hash": "a4501b5773f02c92ac07949a7fa280aeb3c6f53ccb72fa2a28d7e9a5f911b5f6", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "84a97566-3b66-46fb-b28b-d8a3726f838a": {"doc_hash": "09e1de4b6ea90cdf503d651a9f93a0f44f9c27e938a1a0e121fac8e1ad5f9b8f", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "4adb6765-2f51-47e7-ac18-10f8f4d3d4ba": {"doc_hash": "404dd06ea97fc082b35796ed48a2978997a7b1604861f8bfede24b04b8bc4bc6", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "4f0974f6-23da-442f-b647-a840354cf216": {"doc_hash": "d1012090b82ee12fc82d8fcaab8a72e620cea7d8cfe2c83a71b8c23769004acd", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "95118c65-5eee-4004-a0c1-f59bb999a9f5": {"doc_hash": "640161e9216137d17e7476c23f285947c0144baa8dcbe8d7414c2535049d5e33", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "28747eb7-692a-49df-be6b-00abe30431a6": {"doc_hash": "c3a28527912cf2a68accd33ba5da37b7e499fb3d5f37b4391b33bd92c3717b57", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "66bd2a98-7fa6-4629-9f03-a852bd844928": {"doc_hash": "b57041acafeb8e4601fcde92478591aee18ec19b9100e7e924ccdb7663909d22", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "c66e29b8-c18d-40ed-8454-774b243c6016": {"doc_hash": "180376a624de8e2717555cdac909a05ce75e041b87a26a56c8079d02199466b5", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "ca712663-9830-4808-8dcd-4b89537993de": {"doc_hash": "2d17060612586862f4986ff026d1c7ad06a37b74934040ecb7bbe519d5270d2d", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "43528cd2-3d40-4463-9a43-79b928e4e513": {"doc_hash": "86552e2e840c88e41d69e9357ac9586873db159635053027b66dbbd304edc124", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "cca81416-6861-4e68-9609-c0415dc35498": {"doc_hash": "b4829016694cddc77fd300fb016494fc14ae097c87e92bd2230d1fc006abe538", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "23cb4bd5-90c9-467b-8e2e-cfc8e8e13dc0": {"doc_hash": "c13637bcff3aa4571a9f12bbf0e6de1bd317011a442f6d079370b9db232c750c", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "ecadb2e9-28b9-423b-a858-5e13f8656a91": {"doc_hash": "c24270040296401c1e57558dcdc93cb89736419a911f69fb176ddbe738d17af6", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "3e64ba92-d965-4ce4-ba00-125e9130302c": {"doc_hash": "6af6034cfc1995ce23a385096ac73257c92eb7de80f633a037a1acba40ad36a9", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "76bba3a2-1d91-4904-8fc5-518399de31d0": {"doc_hash": "873582bbb94a6ef64ca546502d8105de0ee1e6b7bdf5efdcba0cc1274b9690c0", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "76b804f3-3219-4d91-8746-00d667a10ad2": {"doc_hash": "58c6dec1f7f3bebf115f19f05e7a11d61b3139443d903d4e94e14993c06e6363", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "e89fe617-d00f-4952-9dac-95f86b1d7a94": {"doc_hash": "1b95dba7dfdee6483a12ab3e7ad2a6744b03436df8db425af4e7168469daca66", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "525d8deb-118b-4290-9f8a-91bc6c031f95": {"doc_hash": "4faa19024dbdb429201dcea136f58321d5be6ba7dedd9d6d0517cc4286429b24", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "c60fc181-3bee-49ed-b7a0-6f59ac3fa511": {"doc_hash": "2138db12fa51e1464c0c7b70cdcae01faad53f65c8a22189e374a18aec34f822", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "53739d43-76ce-4cdc-ba44-c8b6e45284fa": {"doc_hash": "54a435a0ed0aad7f8dbd5110e102a6a291c33c65ea26b5f8ac86aa7dd6343e02", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "e64120f5-f9da-4e3c-b8a9-5768788d7e49": {"doc_hash": "d9d68ac64dd49b7644350ecf4ea970bd067b5e4dfc2f351a5e31ff0786fe30c7", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "85232de2-ba2b-40a4-805d-8407fdf83c94": {"doc_hash": "964aeae04787901ada5c81b84c9918526875ba098b7afbc052881f5b69f56855", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "7b70a73c-76c1-4d4e-b5f7-7d4930ed9e3f": {"doc_hash": "f76d6da82d3c0c7d15d9a0c5269696af77bf600efb67a2962959a6a95ff77c7c", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "95fda405-3078-42b8-bff1-c426607ab1a8": {"doc_hash": "1d3994d5ac243e5c65b2e0ade307e108795232fd40a46309fefa8cb067e8c5d5", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "523007b6-923d-4c91-ba76-3843576799a6": {"doc_hash": "a57dd54f75527fe17fcd122a97d9440f13b8cda7b376a000d9dca4b1562d3755", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "348f6702-995b-4221-8128-44047306bdb1": {"doc_hash": "91c94335014f00649d346ed9a24bdfbc676532a0fab544fd85a75bee9e35b827", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "d5c8b415-af42-4e27-a877-52b4f0e681fb": {"doc_hash": "8e28e619f2a51c4c0ba89ff358353f8965ad786cd27abe321006549d07c56d67", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "7db2832d-50b4-4f77-b018-e0e34e9e9ae2": {"doc_hash": "767d52d313142efcf40a3d39bea9787ed8b840a8d79eef389528e90cb5194d9f", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "ece380db-4b34-428e-992a-5ed4e6cbe16f": {"doc_hash": "6b730c290d01ccdc065b6fd7751f635bbe99d2b753786582b9fbc88e8aa262f5", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "cbc6d62b-c218-4849-bd36-b3fb7925edeb": {"doc_hash": "58121304bc18daf3f3a97464fece60a452633b3b56343230aaab8016314a6586", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "f722076c-82c2-4193-9d40-08648f8de378": {"doc_hash": "8f76a14935d27d8ee75861b81062e8a44abef5f5b4068a5873cb4de56290b661", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "f8bd3952-98a3-4c7e-adfa-5b17fe777ce7": {"doc_hash": "fedce223dc935207cb5346c32fdc6bc980da7f38d7331cb0882244adaf460c15", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "48ec7f02-0392-4729-9883-24f60ed00b52": {"doc_hash": "8b0854695aa7e6a4e006777fbc2ae16587099ec0a2ed6a7ebc66c1960290e95b", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "c4d17b2b-8569-4dca-89c3-a2898ed3936a": {"doc_hash": "c7417612c796444f1eec434de7615fbe7a2d3875b1c973c52311c78ca072fa15", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "afb778b1-a03a-4fa7-a4e2-abaab57b2adc": {"doc_hash": "329807518b0134cd8142abc565fe8f59a3440dda101f3380fabcb196e609db63", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "383908c4-6579-4758-8ee2-b462ed57cebc": {"doc_hash": "bbb865701c669546fc48ca29c3ca16d0f6d8c1b5713f059fbf1779210ecace6e", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "f555d7fb-99d7-4ea0-94c0-a47f88d99ae4": {"doc_hash": "0df816cd194fcdf55d2934458544e14cc4076831db6380983940972c4135c7b3", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "41595f84-1707-4796-821b-1ee23b7012be": {"doc_hash": "4d23998c60c4ee91bb21216b67755092f22f70fd126f2e54ed4d6cfe6288cd2e", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "c34e9427-396a-4b23-a693-6f037e178726": {"doc_hash": "bea0d0912b4bf8902cb609204fb46ce9493ba61b14b89e8c9c9d1e177d249a93", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "6536a327-7728-4e73-bd68-9d6e172e07ef": {"doc_hash": "6ad904fd5c45740b74cfd414d7c6800b3f02b58e315a7ee43a9021abaddfa407", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "4e64d92d-0003-445c-9c15-b7a12a74b234": {"doc_hash": "f7d06d125bc853b78e822bdb45b3a30405c468e655f60d5cb535b74ecd46226e", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "56f3bb50-977b-4d39-acb2-5e49b4bb1522": {"doc_hash": "93c2b5f0d1b1d05698fe4043ebc25676ea6820b765106b8ce2cecc57ff705316", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "c0779c26-6b55-4a8d-a0fc-09647fef75d4": {"doc_hash": "98a71fa83202dec4ced36511bcc590d7ab44145ccfdc18ed1c5d5cd42778a273", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "a4c4c7aa-f9b6-494b-89cc-61621d280464": {"doc_hash": "847a86f9b14073e6d1d7dbbecfebf53ce6ac992e448afc04a73a874491fd9591", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "45bef337-cd91-44ca-8771-6643b8656d06": {"doc_hash": "6408da6ebb0b724e52b8c524e7006b5ad44df17ca7ef803f5df334b9b32ea437", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "8e2fb4fc-3cad-4a61-b470-bf993f3fa32c": {"doc_hash": "27b795940a4120bb15e12e4cedae00bb8f6243f7cfc76ced1e1a51096a5a2d61", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "a5dd767f-90d8-4dc1-92c3-fe0d18e86069": {"doc_hash": "461bed6bc38d35ca9f5d5abdd5cbbdbce0c4b64f8a74561f960cfbab5c62d0a3", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "a97d4d39-1bab-4ca0-a1d7-329d3a906684": {"doc_hash": "3a4b7aae71b018c36dc88678f7a7a95984d40f6a35c33b34e29484a6793ed9bc", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "d9e6db78-e9bc-4396-8482-89f1dd02fc2f": {"doc_hash": "0769ffc6be057e1ebb9753c9a293464ff00c9f6d7891178798e36b649133371f", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "af73ac9a-99fe-4f7c-86fb-b18cc223d313": {"doc_hash": "0749449f33a44fd1a0d0f7ac4f8983e4d7799d6529d3ae80777cefb7a5769966", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "3910153a-0da1-4678-abef-ca2de7c9d0f5": {"doc_hash": "0569f3bdc7dd1f654703bec1180eccc144f9b85adfe57e7798b85ede8af0aa9e", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "8f7cf1cc-9d3d-4e7f-bcea-1858ad6ea469": {"doc_hash": "d9bc51b6a3ffa783de314ef1a4987e84526084f1e5efe8b91d2c11a3cabf5cc4", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "171a100e-53a3-4ac4-89aa-0ca68da8d682": {"doc_hash": "0ee4a6023c537cb418dc3d7a4d002edafddba13f8aedb18cfd937cdb8418ecbc", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "fa3b551c-4409-42ef-bb77-a3d06dc9946c": {"doc_hash": "06cb5179ed01ed32e50cf5176366f2e65cd9fae490b68d86d67099f5051d82ef", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "a978244b-b272-433a-8c29-1f760a8af7af": {"doc_hash": "d0967aced19cf5088cec65b2cd3667b4b0c2716e7a2ce6ac290314371631f31a", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "3669dfb4-1f0b-4d40-86fc-06351a4ff71e": {"doc_hash": "3015bc6b97102ab4fcc2ffe987cd77d91d8dce637e19cc40c777ecd0b5a11d8b", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "22012782-ed8f-4649-835f-663225c86563": {"doc_hash": "615c3a1ed0a55d038681a8a662331395f31c528864ef782daafd52858143dbe6", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "4f2ebf35-1eb9-48a0-8a8f-c74873a6cbc7": {"doc_hash": "6b63a297e440a4ae43e57fd998eb78d0b016105b5a3fbeb695ab3a52afa6b0af", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "1ced94c9-c261-4b54-933a-541117381fa5": {"doc_hash": "360773606aa7695f9e70f5291b6246e17d897a67884753189df8beb3b41cb332", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "adc53055-4755-434f-b770-971684c1064c": {"doc_hash": "f054272118085935a132c07932f995ef1fdc890323c4904bec9e80ee588f1b00", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "a49ced47-3bad-4b22-a511-75d96dda51fb": {"doc_hash": "a9134ada8af819ced3fb07f0dc78c13e88b769f6256459d660c78000d273298a", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "b91d4856-cd94-4093-9d14-9c8f24b24a77": {"doc_hash": "aa556a6187a4bd858c2d09f1277c2ad67641e41347b40f2fa044828f59c30010", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "bb4cb7a8-0d9e-4521-aaef-1566508b239b": {"doc_hash": "944898875d0ed94dff9d0531515f37983b519a9f8bc497df14c84643b292695f", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "d508eaec-fec8-44f8-8941-d374ab1084ca": {"doc_hash": "fac1921d581ddeaa56aa6920b9e0aebf25111333dde45ee116921ab2f616d52b", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "16216916-3f3f-48fb-b6ba-4293a1ed2c03": {"doc_hash": "118f8032c7969e20774305d480056af07c7ace9d17cd50a2ba21d3367f6e2abe", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "df3904eb-1849-4f92-97ed-6cb847d071c3": {"doc_hash": "41a2da3e0b34440c5bf8a34dd7d5ce38f3728692635b0579537beca6bfd83621", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "3f84d0c2-4cf7-44be-8e9c-10dd643317e5": {"doc_hash": "a07b18e1bd4871819f35c5a29ed1373a5ddb0222a65f6d43ad365147b094c942", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "ca667646-d607-4692-b9fb-a8d5a7c84f84": {"doc_hash": "bfeae5cdb7fc76559a0e8b62ba235cd09ae1c0c87ee13b95ef853f1a17f4e49d", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "7373595c-fece-4753-b4eb-10f8c005a032": {"doc_hash": "1925aeb7197461ac3741b56bae3fd43f27e0893b7859d312310a31fdfa624123", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "953e9c2d-5bc3-4a0e-bc9d-9a3d78425133": {"doc_hash": "685bd15d94fba782e5f61b5f329fb72b68361715c2f842c7699783debc417784", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "c0ca60f2-b065-4c23-a141-5e77c14a29d3": {"doc_hash": "d17d0b59e017bed5ef817b802a50533a2ab22faadd5c1d07c5e54060f28fab1b", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "c9848d99-dff3-4076-876f-12d8f7081f49": {"doc_hash": "65d093bac5d0682adeddca89d661e7306a01a75f5ca167eaba74e8edf553b536", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "adc0c331-ec98-4315-a6fd-01cef883f43d": {"doc_hash": "b3c30829751db707067015353dd9a2ca148ea2c5957b3401b66a2ff39549023f", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "383e941e-eeb9-4d06-a803-9e13c080e852": {"doc_hash": "5c785aa1d91898932b1d5186ac384b46b762d1bb5dbc321c3f648cb989a5eeb6", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "1572f213-00ff-44e0-a649-657f95965c08": {"doc_hash": "30ecbdd87c1526e89ffede3bca2552273f08bfa2110be7dee941df34a993beb5", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "470d8147-c0b5-4b67-ad25-d0d326373121": {"doc_hash": "42dfe7573297973ecaa99d4d136fcee2e9b109e5381024214ee1fdf210ba4f3d", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "13fa6252-4c70-4dbd-89b6-8f0bc915e5e2": {"doc_hash": "bb91e179e8c8d0c937a6f27c7fc37152a4aefea506217aafe0846ee56d28b419", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "7fd64ccb-9432-44ea-a9f4-73e01f42ea61": {"doc_hash": "7b3c3d3bc9df677add1f5d133b29506adfc1b026b2624a389212bb7b56768021", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "3a5dd933-c316-4e91-a0ae-3a6218719dd9": {"doc_hash": "0370f8dcee5260d22e3d6536c2fff5e002900910f3f517a86002589c9cd11293", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "78a05257-2281-48fa-88fa-c6e628ab3689": {"doc_hash": "1f1147a827ef70953750fbee0a804bf0fd15f080cc7335382620e9140d12df1e", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "2202ce74-1142-4f6d-9bfa-422726731ab5": {"doc_hash": "5e0be1937aa9aa820639aaafb8f3581e8f7095726d94160013a74ecea5eeb927", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "b4725c0d-f63c-4d27-974e-9c51a0299d53": {"doc_hash": "5f89b5c22576bab6103f236c8000d998467ce06e80f4ee26d9f368c64d882311", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "d0065b88-878a-4756-b37c-7af88690c169": {"doc_hash": "f97c8356c52b1ad28a2113ef225e2857cc649f57122b07394ed0712d41850739", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "aa777019-5f98-4e7b-b43e-2862b2a8ab08": {"doc_hash": "a81a963a4cfb5d916097fee93d4c797d514249b471b6c3f5b0b66190073088f8", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "fc372c1d-30e1-488a-a19f-034e3e84e425": {"doc_hash": "c38d5e35c4648a89a06fb8a01f616d85eebfb72b7c421699ddae0d7a5011953c", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "d441dfef-8feb-4919-b757-c78b11a98ef6": {"doc_hash": "9c6ae4e81aad385a7986cf1d0c21abbbc4571edf8c339609905e3bcc5ac8b850", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "dbc8bdde-0d4a-462d-aa6c-b25c0ecb3daf": {"doc_hash": "a4349f11918d05117f8d98ee55d280aa4df41167f5a545e2eec48dd3829fd705", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "f0b01d6e-7d21-442d-a1b0-0a22968d7fca": {"doc_hash": "22cb713ec8be98060ece82e22cb36fac38b11960155bbdaeed88558c17398035", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "8ed491eb-f864-4e59-9ca2-21dab48441bd": {"doc_hash": "57544255c449a1fcb4d66366bac2ea531addca5ac1958a5590d56fac0a7f3ff4", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "9fd37487-9087-45c6-8170-05c433453244": {"doc_hash": "cc3ee630f9ae1c4c133c53d593c324f4d186a24a98c42ea6245e4a6a5acd9a44", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "9a8b66a9-fa56-48cc-99b6-c6521cbef015": {"doc_hash": "88df216b50dcb81724b5a58c86b66d284edf9a62e10b00d6f3a66cdf527c2b9d", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "345694e2-c0bd-4c43-b69e-b92e5a8842e4": {"doc_hash": "c67bc68c49ce2064999b454cf78e97f68d64ab3ff9e42d51568aa622cbfeb190", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "28e961a0-6322-4495-9683-bc4039f11242": {"doc_hash": "30bd94dd093c50877bd0f06e5a0c9cfdfee1aad5f19f7b9cf8170a75e77decda", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "83f75bd5-dfdd-4145-9a20-4eee50b2bfd5": {"doc_hash": "2557aa7d11d7176e24c25b55571f00643105f130af565b62d92b2d9aecf67ec9", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "635b15e9-4433-409c-8403-b560186e396e": {"doc_hash": "a9b21a01f263972719ae7ab6d6a3876249d97591222e5e6197f6995eadd8ed72", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "f206efa9-f7fa-4ccf-9ffb-df9d5a048bd2": {"doc_hash": "188a3629bc01bdcdfdd4359718e705f58a738acf4100a0c774835c073c75eb13", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "6ed293fc-e8c2-4a23-b590-7db7363d0dbc": {"doc_hash": "e23ad48192474c62bd8679d3a6e9eec26a04a0671506cbc16aaa886e861a187f", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "87bb6bca-7770-4590-acaa-3c09c5b8e39d": {"doc_hash": "e5b6c05090ebe459e4bcd7f513f4c80477f0e7b27b7ba928e3f599fe6b0a04c3", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "f775ea61-7c67-413c-87bd-6cd33159f07d": {"doc_hash": "b3cdc36465daa8368e8da0b610110b41447527b1bda2ee88a2751413c0d6ce84", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "dd4d6cfe-3fec-4899-8b2a-e1c6987b2513": {"doc_hash": "3a0bb0a9c7c3109ae8329d9f3f525afa41af6b32122f936772bdb6f9723ce481", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "f0d6e4c3-088f-4e90-84ec-9ebe005bf195": {"doc_hash": "f45295d2585b109f958b693f5518869e75d0cb937c113915c25156a2b719f184", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "1a68fd9d-a6f6-494b-b7b9-7d8a50dc6082": {"doc_hash": "9b456c2f2623116b0fc1b577541a24eeb3b581118890e6855e4fd4b2ef252b67", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "595c349f-0d0f-4e7d-b1c2-f5e53c2e6b0d": {"doc_hash": "140fc1619e44b398eb83c95690328c67989558b58cf8c8beac9eeacabe5d3a0d", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "f75e3a03-7bd9-4847-8997-e12b1df7ed39": {"doc_hash": "c969b2a124fe74833f1f033e7ea1222edefc550eb5f7eec2ebf72caea73447a9", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "ea705bbd-3e7e-47eb-b017-9c4981b18ddc": {"doc_hash": "f65f8265d67cbe6d91f6d56cff8221a32f361b6b9633d293faa87f22089b0d66", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "63099d95-60f4-48bc-8d46-2afa3963dcb1": {"doc_hash": "af8aa34fc6d7cc5fe1632afdf7ed5845661b4ca1b3c2882a1e08b2ef99492a55", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "f5e25945-3d1c-4313-960f-3522cbf905df": {"doc_hash": "88f8a6c57f6de81d196499d162f1182488da7157f1b118db1771ad951e0d8ac3", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "6402fe45-24b6-4e87-88a8-46d7b22d7eb5": {"doc_hash": "96c9367d0b33ac7f8d13620878014e95778604bc9ee199172fb7cdd4e76a3568", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "6be9155c-43b0-431b-b0c4-b6ee12efa8df": {"doc_hash": "d0b7cddf0a1d903842eeeed833f441cef2b4f38afa63b71c42ee685d206d0f2b", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "409a5706-2c19-4cce-85c1-b694087357f6": {"doc_hash": "dcd1248703c185f80a8e19715574e0dfad3d9813dc1d97806a086c003f37ba12", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "d17ddd6b-faf6-44fa-a8b9-368410de1df7": {"doc_hash": "ff4d52d5c5838c1f74f39334c4a04a9043494811388d300244285943e07751d4", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "c682d84d-fb60-45f6-92f9-0fb8b4662ead": {"doc_hash": "25c55694a525d474ea1c67ed84a0e6cd53b146f0d6191204c3996bb10b64fa4e", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "94f86d51-3033-4a3a-9b72-5dc90038c003": {"doc_hash": "4acb98283ba45792fadd9061f0e94ee243d2a02a664f2a06a5e2b1fd1e84fa9b", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "266bcc81-dd97-4252-941a-78c42ec452fc": {"doc_hash": "5d486e5b2a3f38849a21129711159983635bb179736e94b143fb4b15a4324b29", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "d03c16b8-04d7-422e-888c-899d6609ec47": {"doc_hash": "70dfc89ebdd4f6e1a7569baece6dd80dd5bf095e5362715e580ae92bdb609d47", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "2112abf9-0358-468d-8a90-d3b41502ce98": {"doc_hash": "e7fddd6ece08e5157447f3229018d9cd31bc81d39423fb6fc731cb9a7c6df54e", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "669db53d-4ebc-4314-87d9-12445420546b": {"doc_hash": "c59b833d96c6ef8f7c34965f676aaac8cd1943698932262850855ca2de31bad6", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "5bb23557-f62d-4723-bcb4-d55b0df89824": {"doc_hash": "a77eb1536e6e07da9efca6e53d925401ba3decdf9d7b1fea5ebdd03df1a013fd", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "b032273a-f74c-4929-9ad3-2741cdc3f962": {"doc_hash": "589d2545e0e35d4bbd390596602c7100cc2eb9119a57a1da9c88303fc687896f", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "7b6e1381-dd62-478d-9425-e89bc060e599": {"doc_hash": "f2ff2d4851d0b907f7f6684dcdb456645052d5b688aba49cae4758a556ddc14a", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "d828cdac-aeb0-4044-abff-1b6f6ce961e9": {"doc_hash": "4ccc9554718ae9cd574f040184826509abe5cbf9e2a6819325828c30a731e806", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "76c7fbb9-d07d-4ab9-b750-9a5ad95e8526": {"doc_hash": "68d3ca60f86ad50d03e437c74169d6e5c806ddb52d1febc3d7e0663c57e9b6b8", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "8c20688d-8d2c-415b-931b-848e615a84c4": {"doc_hash": "495ee9a4b0d6b44516aaa68e38d347a0ef0905200ad94e5c45a7869433efc2cd", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "02b5013a-d551-42c3-84e3-e214bad7301b": {"doc_hash": "2abb562677c55c1bc2a24d68c9f10a486cb24536d1b79c3517b87e5dfdb8fd23", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "4d81c75c-698b-41bb-ac20-3c5e8a822d71": {"doc_hash": "2899295d6ea763fa939675d190312c3c0aedb4e214c4323b25ce59581f9c4dce", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "32e18c17-7e6e-4ac8-893c-6b5da2a420ab": {"doc_hash": "160931d5ab57feca65af640e241a1450b6682271b7b6a9885dc9a1f0625fd18a", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "7e7549bb-7109-4f7a-9ea5-33d35fed2005": {"doc_hash": "cb8b7336b0876898af3821eccaecebdb88dfb1518f3de2eb6197e265d2d89eca", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "ff1fd874-dc18-463e-bd3d-f4635d7a8a0d": {"doc_hash": "674f711c10bf84d2241da00fad2fe3de7b5eb573e176270b4c2c4dd3e6fac74a", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "1c90a4e8-d4f5-475a-85af-8e87bf5236bd": {"doc_hash": "47f9aaef9d188d57ba6a621e6719240973a5b91a188aaa854f49cda8e3635a19", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "df745702-1116-46a7-bc90-6680a392d215": {"doc_hash": "f9d10f512cec61ee4b7a78d7ddec621e88e2f3918347eaa488193f09404a9b55", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "761f9362-33c3-4354-9663-090c02b2de22": {"doc_hash": "2c29a1b295d2602a9d57cb5046b82f3cd602fdcfacaefa02059bad1e2f5396d2", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "c8e0f2da-1586-456d-8c62-14ae338341ce": {"doc_hash": "d6fcb7b3f4076cbc773cd2baad2f1012baa5ba23cb3e0d3507a36cc3d8c512eb", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "216bb328-11c1-4214-ae4f-445eece63662": {"doc_hash": "9310771555dad5de3d4c136564ce9087aa0d4c0a3fed7d518ab4c315e2dfe8a5", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "2e1ae9df-a5ad-4db9-a72d-74df5f7dde05": {"doc_hash": "70e202988f51ab8ce0bb95294546e60b1af6df8405abda22ffbf6fdd9ca85c68", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "5f84d8ed-9769-4176-8ee8-3c672f363d7b": {"doc_hash": "2f01813b494024c888903f4ed660706cc166e778d8bdae334e2c26ede2d95b2e", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "019351fd-d5ae-4cac-9835-ab4614a8079b": {"doc_hash": "0343a6bc5a5b1fd72725adfc972a2d77b9a55d21d2e0e8d6b70466311f3c969e", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "6cfe9169-011f-459f-a1dd-e86246635be0": {"doc_hash": "b33bd939ffc4478f8865569fa8f4752c14f98fa073e6aee9878357d374edc74c", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "398cf3da-aabf-4ef8-ae0d-f5761db9a331": {"doc_hash": "a947abc9968d6b8b43e199d9a420d33e16a932ef2f5d17b845b9577a28f4c1a4", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "7c330b9c-f043-4039-9497-461962cc975c": {"doc_hash": "1aea5cd3ac067c9cee84325073a8670ecf04ae99ed87b4985f9c1810bc445461", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "52e65803-b899-4395-b6df-d35f55e21475": {"doc_hash": "a05827b4faaf4becff41cbf60a7a483adc788b971fcc3348eeaefa5983137874", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "aee0ada3-74b2-4f5e-b84f-a7b43e253879": {"doc_hash": "7fbcee2548d74f9ce6c9c416576759deb9db0a33715e9a50e432433255585bdd", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "ef095926-76dd-4266-b3e5-16aab9191768": {"doc_hash": "497ab15b58f27dd9308c48a346f8d3854c39c54fa493771dbd4604010ab131d5", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "92b97b4c-0ee7-4564-8f8f-ba6fa3b293a7": {"doc_hash": "e99f9693212a263ec9956203439c9ae7a3c1a77600d41d67ab1c21d83ee32e2c", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "0bd66fe9-e741-4f98-bca1-016775c64aca": {"doc_hash": "93218b9cbc3c59a998bb190c49d5487853dec596622e1a553422e9e630bf6940", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "6063a095-4d7c-461f-9b6c-0159011f9e0d": {"doc_hash": "77ccfdf0786638a5f146d5c3463907c1dced46846278dab0263675a5c9bb9b60", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "b76a6805-b413-4559-9b21-a8d0226e0208": {"doc_hash": "a9a9ff3226ca261d64f89bf13eae1e6e554d90694417931041d464453e0615ea", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "4b97a13b-97dd-440d-873c-3a196ed5b662": {"doc_hash": "d373d3aab18b12a63445817d4b417a3c28500ee63da41062f7a7345b0479bd7b", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "ec5f8d90-3924-4018-b860-b5b7e1c3b97c": {"doc_hash": "38e39b55003c297eb5f8ae13710dadcbb2a218f137a89a7863f4252cb78f39ae", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "c692b827-b05d-4980-8530-9750fbef325b": {"doc_hash": "807b4cf43ace657a31029de81ddd47e93bc53a5d1737d89fcd728eff2dbfcee6", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "5a7331f3-c514-4740-bbb0-4fb93676aeb4": {"doc_hash": "b82f516837093c684f20a0f79c29d7dc2dba0aed976c55406c10768f111bb603", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "b5ce1621-2cb5-485a-a158-5d9bddc4f224": {"doc_hash": "cdc364542a47fed9608c4f75addc1d2b80c43fab762127fdbcea81eaef7b17c4", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "911c2512-9ead-4839-a335-535e2e33f396": {"doc_hash": "f9e0914afde0caa9ee570f5e42ad22c2604f090423d76de5f8aa08dbca587313", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "5926e7dc-233f-470d-987b-21ff1ebc2736": {"doc_hash": "d5336cf0a74131818fc9c7c304c85cc4efca57b7f2d0d4ba666744293b6c1c8a", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "2f24e039-0333-4231-954a-835c09057868": {"doc_hash": "b8348a7ccd026720c35571d64628664cbc567543b599dd65ada2ce76d0511910", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "48501cc2-98d0-49dd-8b04-9b090a2581fb": {"doc_hash": "8e1316a373e61f960b5c28561338257a448b64362ae12ef0caad0908ba99c546", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "2daf48e1-1995-4537-8a0d-9f42a9220608": {"doc_hash": "f86b139d4bd8c9c3478c8962d0a02d81dbf405bb71e3599c277ea9bd32ecc9c7", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "c38d2007-dd13-4b3e-b1fd-c46dd08cb4d1": {"doc_hash": "c12c88cee48cd80fe4086ac4868504f8a2ce071f92e82827c977c1ab96e9d295", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "8b6b2765-c0e3-46a5-bc52-5b4c4d603837": {"doc_hash": "a1de258b61df7513ada0fc73b7800b1d72731aa2291b2c3f750e1bcb2e487508", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "7fa3c5d3-3f67-4330-b238-f6b065bb6160": {"doc_hash": "05577b23d2a6bf42693c15d23fa9ee14922b8505da9486991a14e421ce458301", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "aed896e0-5c09-4b82-af2b-1a9daa6d48f1": {"doc_hash": "38a64529785b16ce6fab0fb72849c497d2b80002be147cb950e25d11ff1e29a5", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "7ecce3ff-f380-4c80-ac16-64a8c00ce3d6": {"doc_hash": "911883c292f5703fe24146cb5b6e19815ce3f884f007d168e1242db246c644b1", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "a08276d1-8b3e-49cf-b5d8-17be666982f3": {"doc_hash": "aebb4fa5371e9f2bcc82bb482a4acba37b848f71dcd6d2282fdcfeef0f9f350d", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "f9904118-6e03-4092-af9a-0f7b00bde989": {"doc_hash": "31bc554a8977272c947d400ebb4c671840cdf32557bf5d8b8c791d6340555e4a", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "5eb98923-456a-455e-82ec-9b3a73693899": {"doc_hash": "51c2339f42a8a2fc0deb33d0a4a7339d9ba27c151ef772fc8e43c3b3dfe4702c", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "787f297a-4334-45a7-a639-ada431750893": {"doc_hash": "7991365af26b91aa2c206b5aedee853c8db3c1a4ec3cec2ec434ca3b4f913c43", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "3e7e7df8-a737-4bc8-9327-fe62dc69b4c5": {"doc_hash": "bf7b4671e79afc72582ec03fef690f0381aa1be0065034c4d40d6ed55a2f6e38", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "a0c5e714-dd57-46fc-9456-fe9049380f9b": {"doc_hash": "7577c677109b642a33886539e948cf91fbab317cb8503019d3262225db4e00d2", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "389b7b31-bef1-457a-8ee8-a4209c8188da": {"doc_hash": "90554adf2593d2fe535e7421e98287bfe8e4c29f7341224ea5719fc04b5185a1", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "09d07e01-fecc-4eba-80bc-271f0a547cfe": {"doc_hash": "73849757e13f47dceb4d4683e12043d26ad19a669da29f493d3c6d2272dac620", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "e8e75ed9-4964-4e97-848c-fa181f0f31d3": {"doc_hash": "1efb495e817bde8df7ca0a8c6c739c0b0f3755f0da255d13114f98984552f6ef", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "03f294ba-6f42-4ffb-8b0d-ddd1a6db253c": {"doc_hash": "57d20a2f115c49a35721d1ce65ab4873e914930c86a79b0cd65a16e4c1e11214", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "cd92c896-c386-4269-9f88-b8137c1274f7": {"doc_hash": "a50596d7ceeaa401ee40e3c3261a2938e70f2d7d23ba292ec261d908439ba7aa", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}, "067cdd26-5fd3-42b1-af14-e67825a975af": {"doc_hash": "18a2878559df2a40fc66e01f3dc639bed4601bef5ddbbe5e5a2fcad8b8a523d1", "ref_doc_id": "4bb43653-1d02-4891-b3a6-83f8122bd152"}}, "docstore/ref_doc_info": {"071927fc-50b7-4792-b6b1-5078d335d61a": {"node_ids": ["7987cbc6-b638-451b-ba67-acea2d97b56d"], "metadata": {"page_label": "1", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "0c676974-5882-4691-ba97-6ddd6f91bb7c": {"node_ids": ["57f4fff0-a7db-4305-a719-0983c0194107"], "metadata": {"page_label": "2", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "8135473f-edc1-47f8-ae25-abde9c6da290": {"node_ids": ["3fb17792-d1aa-47f9-b1a8-e167f535be4f", "1e842e90-7904-4b98-9129-f1964292dd8c"], "metadata": {"page_label": "3", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "c4352cb8-3204-4962-95c7-f2b53e6c9486": {"node_ids": ["2044a8ea-15e3-440b-9b90-b72361e10f76"], "metadata": {"page_label": "4", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "ad5115d2-06b0-4764-87af-825c21794bd8": {"node_ids": ["f78cce3a-c1bd-4c61-8436-0101c9529c8a"], "metadata": {"page_label": "5", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "89bcb5fe-17ef-4591-a0d7-cd0ae282530c": {"node_ids": ["b80aee4a-d572-4b0b-8658-7b325ddddb0d"], "metadata": {"page_label": "6", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "44cd6744-16a7-4173-b1fc-8cca631680d5": {"node_ids": ["e63369f6-489a-4ae6-93b8-2eeb2f1fac70"], "metadata": {"page_label": "7", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "b2648c7b-b289-4886-86f6-bb45f563183d": {"node_ids": ["8ec30953-3098-4e2a-b734-a82269952667"], "metadata": {"page_label": "8", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "801df3fa-df5f-4fb9-a3af-668fe0950cb7": {"node_ids": ["36abbbe2-939f-4479-adfe-aca192b84684"], "metadata": {"page_label": "9", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "82d5c9f2-9821-4931-82ab-808c1d385966": {"node_ids": ["3194fde2-96f5-49a4-a1a9-402a5d5a597f"], "metadata": {"page_label": "10", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "d3d106ff-e0ef-4d92-aaf9-9973dcc74a8e": {"node_ids": ["ef272c03-3e0c-4a29-acd2-979abcacadc9"], "metadata": {"page_label": "11", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "5f9a9aa6-26be-4f8c-82b7-30ae687ae105": {"node_ids": ["3cce7728-6475-4ed7-8c54-d15ccbf1c2fc"], "metadata": {"page_label": "12", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "d409506a-a797-451b-b74c-3fd93070138d": {"node_ids": ["51ce715a-42b5-4735-981d-c47bf483534b"], "metadata": {"page_label": "13", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "7c85e183-f949-45f9-9204-b48a55bae75f": {"node_ids": ["8c44cfe1-7500-4db5-adaf-8751b2a37868"], "metadata": {"page_label": "14", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "64919923-f00f-4a8c-b99e-8f8225e48f82": {"node_ids": ["7c541e5e-7655-4a71-8dd6-25acc1ea9230"], "metadata": {"page_label": "15", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "5b67a752-3486-4399-9875-0b20dd432b57": {"node_ids": ["0e408f43-98e8-4422-9604-201ed2d15bd7"], "metadata": {"page_label": "16", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "3be744c7-5337-4816-b867-e00a7085ee0a": {"node_ids": ["a14a6e4e-7e6a-4793-a742-9dba6d23c971"], "metadata": {"page_label": "17", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "7c9c3309-556a-4850-8958-5162726d4536": {"node_ids": ["42d9db43-1f31-4804-82c9-e4bd95b715fa"], "metadata": {"page_label": "18", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "a265855e-dcfc-415c-b6f5-ad946dcf6f3c": {"node_ids": ["7e6a6ebf-52a1-4997-a2bd-d8d8a31c292e"], "metadata": {"page_label": "19", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "6c217305-47d0-4fcc-b1de-e49918717643": {"node_ids": ["f2b115f5-5ad3-4c07-b7f5-5f764a04780e"], "metadata": {"page_label": "20", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "4ca6f85e-fa72-49a5-b1b1-2634d3ab2a59": {"node_ids": ["d06fa274-550f-41cb-b17a-943aae7b736d"], "metadata": {"page_label": "21", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "c7a61384-4564-4c49-be1e-4f734fd262cd": {"node_ids": ["8048c3cd-121e-42cd-b559-54d858c5a742"], "metadata": {"page_label": "22", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "ee157a16-18ec-4b8a-a7db-1efae9087b07": {"node_ids": ["da21b650-e342-4420-b610-f6ca1bb3d6bd", "4dbf01e8-b417-4b29-8225-166c63553203"], "metadata": {"page_label": "23", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "82393d5e-898b-4882-aae6-b0b58d4a4679": {"node_ids": ["f5cdb7f0-330e-487d-9488-99d4f68bdf54"], "metadata": {"page_label": "24", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "2b1d62fe-072c-4a03-90ef-aa0c05a1d8c4": {"node_ids": ["fe0607e4-c756-4b99-baba-e6a3b768349e"], "metadata": {"page_label": "25", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "05942375-3b99-460d-b127-2d71be6008f2": {"node_ids": ["c9f28e0a-1fe7-43e5-8713-238c75c32b57"], "metadata": {"page_label": "26", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "25087e94-878e-4f3e-b67c-f32aa3a99421": {"node_ids": ["7b51f336-3e53-4fda-92aa-19382ab25a8e"], "metadata": {"page_label": "27", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "6ebbc2e0-c352-465e-9bb8-063a58b85d6a": {"node_ids": ["d7491e00-c7e9-4688-b76c-00d6d9340939"], "metadata": {"page_label": "28", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "7dc3f531-d64c-4664-bcbe-002842374cd5": {"node_ids": ["37655c75-d810-4267-85e1-c324a66c9893"], "metadata": {"page_label": "29", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "4f9ac724-df16-4727-b3b6-1c745795f0a7": {"node_ids": ["d001f1e3-3c7c-45a6-a173-459bda7d58d9"], "metadata": {"page_label": "30", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "9690b080-d6e6-4cb2-a4fb-3325d428db77": {"node_ids": ["c31c0b2f-9e19-442a-8e5d-54e6b1330f37"], "metadata": {"page_label": "31", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "ed9cafe1-a3f1-40e4-bff1-d510336643ae": {"node_ids": ["5efa04e4-b856-4b00-a206-2ba894f66dbb"], "metadata": {"page_label": "32", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "46adb889-a57e-45e1-9b00-6d3d077b6735": {"node_ids": ["b10cf82d-595d-42b0-8e35-224a751cb7dd", "e6ddcc29-5bdf-4adc-a529-24ee67f5ec2e"], "metadata": {"page_label": "33", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "9b647e38-848a-42a9-8054-57fccedb1569": {"node_ids": ["11af09e2-b06b-4f6d-9006-a244bf33c82f"], "metadata": {"page_label": "34", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "c9a9ae37-2872-4a9a-833d-2df20556c84e": {"node_ids": ["4c510506-e790-4576-9816-8cb530d9b4c2", "21ff3a33-88f6-4db1-9bfb-f668fed404b0"], "metadata": {"page_label": "35", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "732bc2ee-c7fe-47e4-9e01-f83e9aeb3a11": {"node_ids": ["1a1132a4-2dfe-4daa-9278-76ff72fa0ea0"], "metadata": {"page_label": "36", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "f391fbfd-c8e6-4659-93ad-3d30bc12795d": {"node_ids": ["402fe8a9-ef03-4c88-b9d5-509b5e937992"], "metadata": {"page_label": "37", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "e5d4c103-1155-48ef-9ced-a04e72bff20f": {"node_ids": ["dabbfe5f-e90a-41c2-af60-465d1155b9dc"], "metadata": {"page_label": "38", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "161da535-72c7-44d2-9597-69f79a945624": {"node_ids": ["fc6d4a4a-6991-4f78-91c0-3465a90826fd"], "metadata": {"page_label": "39", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "ccea864f-7812-4eb0-acda-dba044ea1ef4": {"node_ids": ["4a9d4954-e3f2-488d-909b-be61b6301a17"], "metadata": {"page_label": "40", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "4373a670-0d01-421c-a661-fd798b27aabb": {"node_ids": ["1d97893a-e2ee-4185-be46-b864a98530e6"], "metadata": {"page_label": "41", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "704bab92-ce1b-4066-9b22-6b35c8ba5840": {"node_ids": ["05f05a15-28d2-4a08-98e7-c3158d1c0a6b", "a541946e-9680-46fb-b054-67db8b2ed249"], "metadata": {"page_label": "42", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "f40a97d6-7e9e-43da-b3be-3a9fdcc0aca9": {"node_ids": ["fa0a4c81-d290-418e-a270-6639ecf28cee"], "metadata": {"page_label": "43", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "5ea3eeb1-ff37-4f22-b188-55147e9fa2b1": {"node_ids": ["0e29cf5f-42b2-4e0e-80ab-ff99a08ff011"], "metadata": {"page_label": "44", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "03eb5bfc-0a80-4462-9403-10abd4299f1d": {"node_ids": ["0c20629b-a0ec-45ac-bb26-ee3765d4f2b4"], "metadata": {"page_label": "45", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "965f6cd9-62e2-4eb4-b897-f7cb465e8a70": {"node_ids": ["41fe9872-c801-4d6a-aeec-697901bf6355"], "metadata": {"page_label": "46", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "4367dd6d-5cb2-4d3e-bda0-ec79efd73b7c": {"node_ids": ["2c9b9673-b67d-4e96-a971-3a5e18a7af75"], "metadata": {"page_label": "47", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "9f7ba4c3-b99a-4a7d-84de-8e678e10faea": {"node_ids": ["422cd863-b3c2-4ff7-9950-9fc3a17db911"], "metadata": {"page_label": "48", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "6479cd8d-0c8c-4a02-b837-2ea858340726": {"node_ids": ["889c1e9c-23cb-4ef3-853b-f907cc2296f5"], "metadata": {"page_label": "49", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "3b03c299-ebe0-44fc-8487-c8062c92faf5": {"node_ids": ["b78544a7-541f-4f7f-b643-d629d064875e"], "metadata": {"page_label": "50", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "1c2caff6-f568-4e7b-b1c7-f9b963dc1058": {"node_ids": ["c2d01e5a-bb25-4128-bb22-cda7c8239d38"], "metadata": {"page_label": "51", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "cdfab62a-c7db-4af1-91a7-6ba1904a8483": {"node_ids": ["e80e6375-699f-4fc6-a438-990ff8556612"], "metadata": {"page_label": "52", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "56dbe1dc-2fa7-44a8-b86f-89657619697b": {"node_ids": ["c3ba194b-9979-4651-9f9a-eae9639e2571"], "metadata": {"page_label": "53", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "df8b9eb7-8660-4e5b-a8bd-1ab252053efb": {"node_ids": ["8adf9f0a-3b1e-450d-aa59-d69363e37c6d"], "metadata": {"page_label": "54", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "fb9b34a1-5110-4987-8eca-11bb7cb0fa8c": {"node_ids": ["2faf4dcf-01a3-440d-977d-8b8ecbaf56e6"], "metadata": {"page_label": "55", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "5db016f1-ce5b-4f65-9896-d028ad7a9d58": {"node_ids": ["be5074e0-01eb-44e3-91c5-d51f45404893"], "metadata": {"page_label": "56", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "1a229ca6-8e84-4de4-bc36-a87f74ced88d": {"node_ids": ["66b9e710-1726-44f4-bb11-91a57dcbe75d"], "metadata": {"page_label": "57", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "bb421a72-b221-4608-abc2-7b2ada7bbb8b": {"node_ids": ["63586925-8741-4956-8399-602888cac8ab"], "metadata": {"page_label": "58", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "f44e57cd-3836-4e3c-a029-df7beaf267ad": {"node_ids": ["4cf8adf2-3e9a-405f-b1da-d453d3efbe21"], "metadata": {"page_label": "59", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "04944d25-dd8f-4bfb-bb5e-a22a41e29652": {"node_ids": ["2a62bccc-8ba7-4c41-b545-63827914bfc9"], "metadata": {"page_label": "60", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "4871a907-f1cf-4826-9b7a-831ecd888e07": {"node_ids": ["41dfaef6-fa11-4247-94b2-5c08182d2e29"], "metadata": {"page_label": "61", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "13a743e8-0a76-440a-aa44-7a6a8ccbefa9": {"node_ids": ["94870e8a-f475-46de-b588-c0611e592f99"], "metadata": {"page_label": "62", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "f7535a78-7fb8-4e4d-868f-8b4ba3d01673": {"node_ids": ["3e3ac9dd-0742-48dd-8d85-ab77bacfee68", "d673b732-2372-4ae0-af68-2ff3b6289d38"], "metadata": {"page_label": "63", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "0fad20ce-b345-4835-b17f-c8589e6f3408": {"node_ids": ["79a0146b-588f-4666-a8e4-e33bacdc8889"], "metadata": {"page_label": "64", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "36174ea9-0da8-40b8-9e8c-5c43218c295d": {"node_ids": ["781a136f-27b0-43b2-aff0-d53ffc879eaa"], "metadata": {"page_label": "65", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "fdb4ab03-c651-44ed-99c9-4f8ce97d75ed": {"node_ids": ["a0d2270c-6ed5-4752-9024-e7936eb794e3"], "metadata": {"page_label": "66", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "0b047ed8-6e28-4d86-bd50-85b654b0af58": {"node_ids": ["f023740b-b585-471d-b529-39b86b27e471"], "metadata": {"page_label": "67", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "a64e31fe-4cee-436a-a694-8779d32cd17f": {"node_ids": ["cc1fce8c-b792-4653-9e7a-bcdb2344c060"], "metadata": {"page_label": "68", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "7a3ecca1-5415-40e4-8616-5cc7be640fb3": {"node_ids": ["2adb6b6f-7ec8-4058-8cd0-c69c16fbaf5d"], "metadata": {"page_label": "69", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "a34bc9eb-8e50-4176-97d4-f17bdc8bec28": {"node_ids": ["ef90248c-3f03-4503-b859-2fa7857ce391"], "metadata": {"page_label": "70", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "0dcd4d5a-36a4-4fa6-9c2b-74acc8bf9648": {"node_ids": ["d5a6be37-99ee-49ad-bd50-8599eefada27"], "metadata": {"page_label": "71", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "8522567a-d1b6-4ed9-a920-c3d465ac763d": {"node_ids": ["9c00397a-829c-497f-9492-9c6464c1b17b"], "metadata": {"page_label": "72", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "efc53751-3703-49f5-8f67-a399cf5a4226": {"node_ids": ["9455704d-f249-45e3-8cf3-5df04e3249a5"], "metadata": {"page_label": "73", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "ff42a52b-a4c2-4b50-a48c-a5139336118a": {"node_ids": ["43e4d195-5673-4c96-879c-cc793524fcec"], "metadata": {"page_label": "74", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "632f7a80-6ece-499f-9a85-7afa24e54432": {"node_ids": ["32e9463c-343c-4a2f-9d76-5983ab82db7e"], "metadata": {"page_label": "75", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "b3c788dc-7051-457c-8047-46a3f5fff887": {"node_ids": ["2a4505b2-8527-4be6-8d1c-ef4180ba1033"], "metadata": {"page_label": "76", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "a9b71ebc-7d07-41a1-94fd-edb6a5ea44b5": {"node_ids": ["5af152cf-69ae-48fa-b112-d5d8d87b40c4"], "metadata": {"page_label": "77", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "665be6e4-984e-4a11-a8a6-01c7c97274b1": {"node_ids": ["03b280a5-f96a-498c-a55e-03168340e3f5"], "metadata": {"page_label": "78", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "80f07d2a-5251-43fd-a248-6d2963ef7183": {"node_ids": ["4e7617f3-8c84-4687-b5e0-7dbd35fcf214"], "metadata": {"page_label": "79", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "981b3679-df1b-4d14-bb2a-ea5511d27fa4": {"node_ids": ["2dda3455-8a16-412e-a25f-d6ae4fe5b19a"], "metadata": {"page_label": "80", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "b0d5a960-a34e-47a5-b161-e7d6f742eabe": {"node_ids": ["272f8a1a-ac54-4723-985c-3a3975302245"], "metadata": {"page_label": "81", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "02f6c432-c7bb-4793-9471-efc8a123a9d4": {"node_ids": ["783653d1-5da6-498c-9c6b-c8cfc5549880", "371642ab-4c7e-4b69-8c26-ad061f041d17"], "metadata": {"page_label": "82", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "fed3ee41-957b-4e15-8505-1b247dd95d4f": {"node_ids": ["1d9c2eed-9e5b-42ad-b9fd-233ad1bd2d7c"], "metadata": {"page_label": "83", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "e7d50704-e49a-410d-89da-14ab97aa695a": {"node_ids": ["d420299e-3789-44da-9944-7679356ef18b"], "metadata": {"page_label": "84", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "455297a2-9da0-4e7b-8744-4d8f69c678f9": {"node_ids": ["83a5e094-b046-41d0-b3be-a341b4151c8e"], "metadata": {"page_label": "85", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "d5f4cfc1-ec9d-4797-bbe3-a8c1cea02b45": {"node_ids": ["1559be8c-84ca-4209-9635-8801da2f4860"], "metadata": {"page_label": "86", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "933db61f-bf46-45c7-9bbc-c731faaf43e2": {"node_ids": ["e60f4afb-2d03-4ab3-ab79-ceaca5db8433"], "metadata": {"page_label": "87", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "6e9ede98-6b6b-439f-90ee-37384a5a0dbc": {"node_ids": ["050790ed-2420-411c-9f92-b4dc2869f2b9"], "metadata": {"page_label": "88", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "f08a72bd-2bf2-452c-b6d7-a1143641b53f": {"node_ids": ["dc189222-5c89-41b9-85a5-200635c2a005"], "metadata": {"page_label": "89", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "820b3a73-f54a-494b-9d46-8c7b4c845955": {"node_ids": ["6efbbad0-b09c-409f-9552-d6a193d24ec1"], "metadata": {"page_label": "90", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "4b0fc7b2-423b-417a-a698-b539c9da4e61": {"node_ids": ["55725992-c41a-4e56-8012-71dce8afdde5"], "metadata": {"page_label": "91", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "5ec65e3c-7d73-4e6d-bc4d-a9076da0c2a4": {"node_ids": ["de7e5fca-3f37-4472-8760-d3c1bcd57c32"], "metadata": {"page_label": "92", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "83ba0ea7-e40f-4905-b7f2-1d6fcd591d4f": {"node_ids": ["86be158e-e2ba-41a9-b7be-d9ec6b1e5ed5"], "metadata": {"page_label": "93", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "0f676af4-d878-4d25-948d-ddc438a5fb78": {"node_ids": ["ea90975a-439b-4b29-b632-6a1f45d367cd"], "metadata": {"page_label": "94", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "55ccec65-2766-4a6a-8fd2-7c7b16f4dfad": {"node_ids": ["da0ca8ae-d5f3-4b23-9da8-5e8c4a039178"], "metadata": {"page_label": "95", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "ee941d81-b06a-4047-9cbc-fc4774ac232f": {"node_ids": ["bbc497a5-a3cb-4af3-b4d6-0261b2dd1b27"], "metadata": {"page_label": "96", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "7c34a390-97dc-4211-a9b0-f52dbad65f53": {"node_ids": ["5c515ac7-6935-496f-8407-395468d9bb03"], "metadata": {"page_label": "97", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "530f2f44-044a-479a-9b3b-0745c084fe42": {"node_ids": ["f54cf230-3672-420f-a9f5-5e13e4cafb80"], "metadata": {"page_label": "98", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "4d4934be-b924-46ff-b03b-5e12775d7d02": {"node_ids": ["2b7b843f-70f0-4da6-a3f0-26f35681dd94"], "metadata": {"page_label": "99", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "2de22bab-f0a0-444f-b1c0-8153b76e59ed": {"node_ids": ["4d269bec-acbf-40d4-a0df-d8b350cd97e7"], "metadata": {"page_label": "100", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "920740de-4fd7-4e2b-b7d0-c9cb1f80057b": {"node_ids": ["2a21acde-6999-442f-9ead-07077b5a6398"], "metadata": {"page_label": "101", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "0b6320f3-8827-4fd4-8673-afde2785bfc1": {"node_ids": ["d747b7d5-a180-4c98-aa87-02a057b017fb"], "metadata": {"page_label": "102", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "0fad3848-d517-4f5f-9b60-26ff5f205b2b": {"node_ids": ["b4638882-8df2-4c4a-a3cd-1b26d35c9191"], "metadata": {"page_label": "103", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "7e6fe63f-690b-49d1-a62a-b47edd810666": {"node_ids": ["dc537150-24fb-454f-a386-b6ec113ec6f2"], "metadata": {"page_label": "104", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "c56f4692-2fe4-4763-a3b7-0efc3d6fb172": {"node_ids": ["63060629-325a-47d8-9ee8-e458e713f761"], "metadata": {"page_label": "105", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "460671ae-63c2-4ed8-a782-bda078a06ff3": {"node_ids": ["551cd5b6-32f1-4d79-905d-d3525b2db90d"], "metadata": {"page_label": "106", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "0e5ebebc-9304-4def-8466-3d9416c00533": {"node_ids": ["dc4ce9c2-6161-410b-b57a-be551ed6db08"], "metadata": {"page_label": "107", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "39b660a5-7436-4c7c-b53d-76bc5ebfa9e8": {"node_ids": ["67c39272-8fad-4500-9d21-911326d57b53"], "metadata": {"page_label": "108", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "df1e215e-abba-462b-baf2-f0fbcd7ecb2b": {"node_ids": ["58dc00c5-5d7c-4e84-89bc-094d6449e3e3"], "metadata": {"page_label": "109", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "bae763e9-34c2-40a5-8187-f26796e99b80": {"node_ids": ["aabf86bf-ec6e-4909-94e1-47515782ed3a"], "metadata": {"page_label": "110", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "d14f5d53-659f-4699-8d84-a1f65d0547b5": {"node_ids": ["3951b2c0-978c-46aa-98ce-580fbcb244ef"], "metadata": {"page_label": "111", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "bd078c92-b6e5-4104-99e1-944f354b7e5f": {"node_ids": ["a0948443-d9f8-49ea-92c1-cc19de81ad38"], "metadata": {"page_label": "112", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "c0750c0b-e042-410b-b123-7e48f179cbc4": {"node_ids": ["db531ac5-193f-416a-a6a8-21df61d98ff5"], "metadata": {"page_label": "113", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "979dd91a-89a5-4d6c-8557-d392352b1d89": {"node_ids": ["1d5b47d4-1f80-4e19-8e69-45ed2414ac5e"], "metadata": {"page_label": "114", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "214492b8-1c26-40e4-b8c3-1fb1ef395fb1": {"node_ids": ["4b4072a2-db2c-42f5-a763-b27519819305"], "metadata": {"page_label": "115", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "7cd0072c-ff1a-4473-9502-7b896c4ba512": {"node_ids": ["8848defb-b4c4-4c02-996a-e9a4fd05a057"], "metadata": {"page_label": "116", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "45f0a1c5-07ff-4026-9855-c8036bb2c8fe": {"node_ids": ["957c4a34-f7e2-496a-adf5-29e857f18521"], "metadata": {"page_label": "117", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "625c0c94-0c18-4836-b155-23515eb625c0": {"node_ids": ["756cbd2a-c71d-47ce-8005-e62bb527edb7", "46621dcb-9563-413d-ba65-fbdc7120a8e5"], "metadata": {"page_label": "118", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "6d53154d-758d-47cb-8756-cebeec52419a": {"node_ids": ["1eec9f4d-8e3f-4381-838e-4412df148328", "2686e231-4e72-4091-9e03-4e8f7f9a46d6"], "metadata": {"page_label": "119", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "d63fad18-8df6-4042-b750-81f278d29193": {"node_ids": ["59c9980a-6bba-4fa1-932a-0503bc0502f6"], "metadata": {"page_label": "120", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "b811c328-c499-4977-bc89-9865b7a2f9f6": {"node_ids": ["fc13f3d6-e0de-4481-a6e0-d5f1554c0c17"], "metadata": {"page_label": "121", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "0e9c35b8-30cb-46cb-b067-f176dcdc11cd": {"node_ids": ["4fc29518-1087-4a82-8251-6fa41cbe4044"], "metadata": {"page_label": "122", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "51af58e5-a7e8-4ea2-a3cd-23369ffb39aa": {"node_ids": ["3735025e-bf77-47fd-adc8-84d729a7708a"], "metadata": {"page_label": "123", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "1ffd895f-772d-45c7-8459-fb6935101ef0": {"node_ids": ["21247919-da0c-4158-9604-47e2e32a539d"], "metadata": {"page_label": "124", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "baa99e69-c58c-4f8b-af68-1134a7ce3527": {"node_ids": ["8ab5b0af-bc61-4692-ac10-d3d25e859925"], "metadata": {"page_label": "125", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "872ed18c-1da5-4e5e-9771-46da90a37b81": {"node_ids": ["0b42174a-3345-4b41-bd05-0dbc476dc6f0"], "metadata": {"page_label": "126", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "cd4d34bd-edf3-43ac-89b2-843b5c42cfa2": {"node_ids": ["96ef6b38-bcd0-4237-87a3-9480800b3399"], "metadata": {"page_label": "127", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "9b13abea-ddc7-441e-a247-f5dfd57379ca": {"node_ids": ["8e77a810-af5d-454f-bf68-f7f31673e940"], "metadata": {"page_label": "128", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "23a1e438-1c1e-4302-8512-31ad776442dc": {"node_ids": ["04a685d6-8feb-403a-8d5b-ac60cf03d6b2"], "metadata": {"page_label": "129", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "303c559e-a155-4820-ba32-6f164baf8ee5": {"node_ids": ["92a06989-3d5f-42e1-9456-f155dc5c2ba4"], "metadata": {"page_label": "130", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "e2d96273-0495-4ecb-a684-8b8cef94c0b4": {"node_ids": ["6dc98d90-8b44-4fcc-839d-6a9964c3dda9"], "metadata": {"page_label": "131", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "9b44a365-03db-4aaa-8b25-6bb1d305850d": {"node_ids": ["49a22885-cb3c-4bf9-bc00-d2d57f38dbe1"], "metadata": {"page_label": "132", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "cd0c0142-2f85-4d5a-bfff-ff8d5c78215c": {"node_ids": ["9c45cbfc-4361-4b78-a7d6-967d424f8ece"], "metadata": {"page_label": "133", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "8683a401-a54a-4ba0-be90-53d790d0e4a5": {"node_ids": ["09078daf-58a2-4075-a271-3ac778c710b9"], "metadata": {"page_label": "134", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "f1890444-edf2-4c37-8a1c-0ff05281da1b": {"node_ids": ["1cc14252-1f90-4061-8e18-6a963eeb17f4"], "metadata": {"page_label": "135", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "4e20cd5b-7371-437b-b0d8-92289466b306": {"node_ids": ["42db3c37-a2a0-44db-bdf7-f85e77397caa"], "metadata": {"page_label": "136", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "9b238fef-eb11-4f8a-bca3-648716683e3b": {"node_ids": ["3aa7014e-643c-43ed-8dde-5122bec9d245"], "metadata": {"page_label": "137", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "d347ae49-d37f-4e0d-b282-429d0b960423": {"node_ids": ["c2b52fef-964c-41a6-ba13-11810d0ab6a7"], "metadata": {"page_label": "138", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "bba39b07-b5ec-454a-ba62-e94b623fd238": {"node_ids": ["f239b058-9a6d-4b1e-a9eb-60bf42a11a89", "97c24c45-06b5-490f-8498-ba7404e94c8c"], "metadata": {"page_label": "139", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "63b8f32a-a243-4932-b763-8364c3f43562": {"node_ids": ["86307b8c-2697-49cb-ae22-18f18688aca4"], "metadata": {"page_label": "140", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "fd9303c5-e7c6-4b22-a67e-d525db90b779": {"node_ids": ["0c0cbff6-6efe-44f7-8374-ecd222e0fa27"], "metadata": {"page_label": "141", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "6f95b64f-1431-4fc1-8a53-41be3616fb97": {"node_ids": ["2ca049dd-1fa0-4792-94ec-71ff7df2f6fc"], "metadata": {"page_label": "142", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "45c0a2d5-728e-47a5-8fed-bf9f6351f6ef": {"node_ids": ["b1fd3291-f3aa-47c6-9da4-38a757fb467f"], "metadata": {"page_label": "143", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "3685f819-abc6-4585-9a35-b3c0a23f94d5": {"node_ids": ["1fad2415-add6-4504-b864-e2854582256e"], "metadata": {"page_label": "144", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "51d47e60-510f-4b59-a18c-3a0f471be0d1": {"node_ids": ["2f3c7dca-0502-49fc-9a09-f810916d929c"], "metadata": {"page_label": "145", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "6e43a769-c1b0-4ca7-bd6f-37de320a8f21": {"node_ids": ["55f614e6-ff5f-49eb-926f-76a5cb221500"], "metadata": {"page_label": "146", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "06f1a211-05d0-43a2-92d7-ac87b17e7d2e": {"node_ids": ["28bf11da-6497-4b25-9940-96b5e3e92d3f"], "metadata": {"page_label": "147", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "f7c8d9b0-b5d4-47d9-801f-d299f0398431": {"node_ids": ["88e81f27-d1da-4918-9e3c-86774b0083e9"], "metadata": {"page_label": "148", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "4000f5db-5e98-4c70-93ec-e3d5e0b415e0": {"node_ids": ["906a052b-176e-4ff5-93ee-5158a8929d73"], "metadata": {"page_label": "149", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "659743eb-1c62-4bb8-b33e-146f9bc8230f": {"node_ids": ["b2bfe793-7f7b-4348-88ac-783d8bba88d5"], "metadata": {"page_label": "150", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "3ed5703d-bc0f-43a5-a5f5-d3221d38f7a5": {"node_ids": ["37445964-51b4-4c7d-888e-6aa32f9ceae8"], "metadata": {"page_label": "151", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "9ce61707-c3b1-410e-a927-9caf22becb89": {"node_ids": ["3c1addd1-0b72-4292-945b-e01079510518"], "metadata": {"page_label": "152", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "ad8a5c91-c861-4b75-87b8-782f86313e63": {"node_ids": ["bfc1e09a-8450-44fc-b297-c77e0d2e0dff"], "metadata": {"page_label": "153", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "f58d2bde-b1ea-4764-980a-a9c7be8ec366": {"node_ids": ["8b681000-497d-403a-8d6b-71916fcd4542"], "metadata": {"page_label": "154", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "9c522f78-e532-447c-9ec3-26b251185890": {"node_ids": ["87bcb089-066c-4450-8607-2b7d279e293b"], "metadata": {"page_label": "155", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "a6a88869-08ee-45cc-b247-161d71ef2224": {"node_ids": ["bbc0bcd4-e4be-4baf-9bba-5ef8d953206e"], "metadata": {"page_label": "156", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "c056ab19-702a-4aeb-883d-0a5dcb359486": {"node_ids": ["b1aad192-28d3-4728-9717-bf330d7012e2"], "metadata": {"page_label": "157", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "c868b564-74d2-4171-85e7-d2781a5c9b67": {"node_ids": ["8023937a-88ee-43d8-9dcf-56acde450997"], "metadata": {"page_label": "158", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "790d9bf2-115e-4088-9253-213608c90442": {"node_ids": ["1e4dcb36-bae7-4100-b5d2-ba04cf95f9b0"], "metadata": {"page_label": "159", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "425a5180-5104-44f9-a030-6e8cc20660e7": {"node_ids": ["89510257-5494-4c59-940c-e14a0787740e", "b64e14ec-7240-48aa-b56e-e6399fda3e41"], "metadata": {"page_label": "160", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "9450265b-2c4a-460e-ac04-80bd05450e31": {"node_ids": ["31a18092-b342-468e-8467-eda627aef868"], "metadata": {"page_label": "161", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "dc75a6fa-3be7-4054-8c0a-ef9820130c76": {"node_ids": ["d11b6b61-ac7a-4851-8029-dc8a34f8ee19"], "metadata": {"page_label": "162", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "dcad79c7-d19e-4cee-9d89-b7afbb370ce0": {"node_ids": ["37146599-e495-4c11-92f9-32e370575d81"], "metadata": {"page_label": "163", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "8ad65ae3-fe63-43b3-a979-06ba0b3bd338": {"node_ids": ["22b8bc0f-f54c-496a-b6ce-ca9239d8a4c5"], "metadata": {"page_label": "164", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "945ce980-9563-4cd4-bafa-dbd62ce15845": {"node_ids": ["f5982a96-4294-45fb-84e8-349d1873ba0b"], "metadata": {"page_label": "165", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "33faf2a3-a3e9-4c58-863c-b1d2eee70693": {"node_ids": ["5372a83c-13ed-4dea-a9ab-2517d22a0c57", "0ea3ea1d-a2aa-4b22-8645-4e16b22b1eb2"], "metadata": {"page_label": "166", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "eaa9bc64-0aab-4ac3-b630-9c5e9a3d91b9": {"node_ids": ["a9409cf3-792c-4491-8db6-a6f356198a62"], "metadata": {"page_label": "167", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "ed14b971-abee-4145-8bf5-195a707069c9": {"node_ids": ["790af819-70bc-4136-841b-a1701649ec2d"], "metadata": {"page_label": "168", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "0d1d63b7-b41d-4784-8069-8a7ddcbbafc5": {"node_ids": ["d73a74ec-0356-4bf6-ae78-28752ff73601"], "metadata": {"page_label": "169", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "977669eb-5797-46d6-b6af-4a2cc22b6b0b": {"node_ids": ["92ad4974-f4ec-4eb2-ac34-ba35ebd5e907"], "metadata": {"page_label": "170", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "354f4d39-4c3a-447f-be5c-37799adebd99": {"node_ids": ["852782fd-f11d-44d1-956c-66396025deb2"], "metadata": {"page_label": "171", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "5174c9fc-7ce7-420d-a00c-c4949c68c51d": {"node_ids": ["69e0603d-0c43-4f4d-98f5-cb378be4da3c"], "metadata": {"page_label": "172", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "521c114d-fc72-4416-af80-50e3966f2e0a": {"node_ids": ["773b262b-c76a-48e2-af69-59a56e84e50f"], "metadata": {"page_label": "173", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "66ac3b97-1222-4f49-baf0-8eea91ba81aa": {"node_ids": ["c8583a04-d3cb-4611-be02-199d27c1ffbe"], "metadata": {"page_label": "174", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "397c2e36-6491-41af-8ca6-cea6e3dea536": {"node_ids": ["96b2a362-e507-41fa-9f1e-2ed06f10a2d3"], "metadata": {"page_label": "175", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "230fea7a-e336-4bd2-8bf8-b3830e781062": {"node_ids": ["f80b2326-5643-4875-811b-0f4bb7121d9b"], "metadata": {"page_label": "176", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "b33fb3e2-91da-44c1-bf09-88d15e46365d": {"node_ids": ["0e9f0cd9-47e7-4d8c-887b-a0dd6f4c7b2d"], "metadata": {"page_label": "177", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "96e72a10-9b82-4bf2-a1c9-fde1bcece731": {"node_ids": ["fe3ee16a-b899-428d-8ac3-c9b24a9be171"], "metadata": {"page_label": "178", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "f8b825e8-4b0a-4fc5-927d-a50c49ad02c3": {"node_ids": ["4877e9b7-56dd-4c47-bcfa-3108cff80801"], "metadata": {"page_label": "179", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "2aeca222-59dc-4a0e-ad0f-3a9dfda6ce79": {"node_ids": ["5f1b7051-9446-45b8-b639-d31e8bc84aba"], "metadata": {"page_label": "180", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "2a398c10-ebde-413d-ae9a-d961f46f28d1": {"node_ids": ["c6315179-a9e7-4876-a9fc-3ccf6ed314c4"], "metadata": {"page_label": "181", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "af40cc63-617a-48ea-ba25-d035e42b2244": {"node_ids": ["914ae526-3651-4f6a-a10e-727e1e2d29a9"], "metadata": {"page_label": "182", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "8ede1ddd-6999-45f9-a4fe-bd848ba3d2a8": {"node_ids": ["d338de40-65d2-4d8f-8a14-2e2bccde3988"], "metadata": {"page_label": "183", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "df9fdab3-8b48-41e1-9868-bcc695f817b0": {"node_ids": ["4c74b6d5-fef1-47ff-85fb-6b413d775b55", "5feda767-8a0c-406a-af26-9892bb9c7e26"], "metadata": {"page_label": "184", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "4b0b67bb-0ad1-4b90-924a-3bae72f40816": {"node_ids": ["ce7e4e42-de9a-470c-bb13-c8138a45b694", "eb2f089d-13c5-46e5-b929-f37f3443578c"], "metadata": {"page_label": "185", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "5e430759-6e4a-4473-ab33-1a41848ceccf": {"node_ids": ["2077a713-1dea-4ce3-9a64-9849b32d3c24", "a77fcc3d-237c-480d-87ba-7eccaaa0b640"], "metadata": {"page_label": "186", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "c1fcd831-03a9-4c63-9f6a-aaba9ee5920e": {"node_ids": ["7a740788-3a7b-4882-9f22-ed076a22ac70", "7aa27004-837d-4d4f-a5e5-ced5d6d37ecb"], "metadata": {"page_label": "187", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "97259d39-55f3-4c64-93a6-144a4f068a52": {"node_ids": ["278781e8-3194-4c8e-a43d-1c5274c8e70f"], "metadata": {"page_label": "188", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "a592ec47-3c8e-418a-a534-32d02b858e42": {"node_ids": ["d8e9927f-902e-4815-9b3f-30740cd51630"], "metadata": {"page_label": "189", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "9bc4342b-9c89-4360-b5af-3507af5ae5df": {"node_ids": ["d27aa1d9-0ec8-4214-a914-dc1437b7f7f1"], "metadata": {"page_label": "190", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}}, "4bb43653-1d02-4891-b3a6-83f8122bd152": {"node_ids": ["fb012558-c812-4a03-bc3a-1b633bb9cf57", "51323339-d4c7-46e8-ad0e-f697750bd0a1", "6518a6e0-8289-48bd-a3e3-26102e45a889", "b304e470-668c-4db1-a4cb-6f13edb24539", "389e5cb9-6673-4f73-972e-029045eca7d8", "0346efa1-6d12-40d0-81f9-fa51efaddfcc", "c45632e0-02ad-4043-89f9-256b4c4e2f38", "514aa8b3-0e85-4d63-a380-fac66f37b6ac", "84a97566-3b66-46fb-b28b-d8a3726f838a", "4adb6765-2f51-47e7-ac18-10f8f4d3d4ba", "4f0974f6-23da-442f-b647-a840354cf216", "95118c65-5eee-4004-a0c1-f59bb999a9f5", "28747eb7-692a-49df-be6b-00abe30431a6", "66bd2a98-7fa6-4629-9f03-a852bd844928", "c66e29b8-c18d-40ed-8454-774b243c6016", "ca712663-9830-4808-8dcd-4b89537993de", "43528cd2-3d40-4463-9a43-79b928e4e513", "cca81416-6861-4e68-9609-c0415dc35498", "23cb4bd5-90c9-467b-8e2e-cfc8e8e13dc0", "ecadb2e9-28b9-423b-a858-5e13f8656a91", "3e64ba92-d965-4ce4-ba00-125e9130302c", "76bba3a2-1d91-4904-8fc5-518399de31d0", "76b804f3-3219-4d91-8746-00d667a10ad2", "e89fe617-d00f-4952-9dac-95f86b1d7a94", "525d8deb-118b-4290-9f8a-91bc6c031f95", "c60fc181-3bee-49ed-b7a0-6f59ac3fa511", "53739d43-76ce-4cdc-ba44-c8b6e45284fa", "e64120f5-f9da-4e3c-b8a9-5768788d7e49", "85232de2-ba2b-40a4-805d-8407fdf83c94", "7b70a73c-76c1-4d4e-b5f7-7d4930ed9e3f", "95fda405-3078-42b8-bff1-c426607ab1a8", "523007b6-923d-4c91-ba76-3843576799a6", "348f6702-995b-4221-8128-44047306bdb1", "d5c8b415-af42-4e27-a877-52b4f0e681fb", "7db2832d-50b4-4f77-b018-e0e34e9e9ae2", "ece380db-4b34-428e-992a-5ed4e6cbe16f", "cbc6d62b-c218-4849-bd36-b3fb7925edeb", "f722076c-82c2-4193-9d40-08648f8de378", "f8bd3952-98a3-4c7e-adfa-5b17fe777ce7", "48ec7f02-0392-4729-9883-24f60ed00b52", "c4d17b2b-8569-4dca-89c3-a2898ed3936a", "afb778b1-a03a-4fa7-a4e2-abaab57b2adc", "383908c4-6579-4758-8ee2-b462ed57cebc", "f555d7fb-99d7-4ea0-94c0-a47f88d99ae4", "41595f84-1707-4796-821b-1ee23b7012be", "c34e9427-396a-4b23-a693-6f037e178726", "6536a327-7728-4e73-bd68-9d6e172e07ef", "4e64d92d-0003-445c-9c15-b7a12a74b234", "56f3bb50-977b-4d39-acb2-5e49b4bb1522", "c0779c26-6b55-4a8d-a0fc-09647fef75d4", "a4c4c7aa-f9b6-494b-89cc-61621d280464", "45bef337-cd91-44ca-8771-6643b8656d06", "8e2fb4fc-3cad-4a61-b470-bf993f3fa32c", "a5dd767f-90d8-4dc1-92c3-fe0d18e86069", "a97d4d39-1bab-4ca0-a1d7-329d3a906684", "d9e6db78-e9bc-4396-8482-89f1dd02fc2f", "af73ac9a-99fe-4f7c-86fb-b18cc223d313", "3910153a-0da1-4678-abef-ca2de7c9d0f5", "8f7cf1cc-9d3d-4e7f-bcea-1858ad6ea469", "171a100e-53a3-4ac4-89aa-0ca68da8d682", "fa3b551c-4409-42ef-bb77-a3d06dc9946c", "a978244b-b272-433a-8c29-1f760a8af7af", "3669dfb4-1f0b-4d40-86fc-06351a4ff71e", "22012782-ed8f-4649-835f-663225c86563", "4f2ebf35-1eb9-48a0-8a8f-c74873a6cbc7", "1ced94c9-c261-4b54-933a-541117381fa5", "adc53055-4755-434f-b770-971684c1064c", "a49ced47-3bad-4b22-a511-75d96dda51fb", "b91d4856-cd94-4093-9d14-9c8f24b24a77", "bb4cb7a8-0d9e-4521-aaef-1566508b239b", "d508eaec-fec8-44f8-8941-d374ab1084ca", "16216916-3f3f-48fb-b6ba-4293a1ed2c03", "df3904eb-1849-4f92-97ed-6cb847d071c3", "3f84d0c2-4cf7-44be-8e9c-10dd643317e5", "ca667646-d607-4692-b9fb-a8d5a7c84f84", "7373595c-fece-4753-b4eb-10f8c005a032", "953e9c2d-5bc3-4a0e-bc9d-9a3d78425133", "c0ca60f2-b065-4c23-a141-5e77c14a29d3", "c9848d99-dff3-4076-876f-12d8f7081f49", "adc0c331-ec98-4315-a6fd-01cef883f43d", "383e941e-eeb9-4d06-a803-9e13c080e852", "1572f213-00ff-44e0-a649-657f95965c08", "470d8147-c0b5-4b67-ad25-d0d326373121", "13fa6252-4c70-4dbd-89b6-8f0bc915e5e2", "7fd64ccb-9432-44ea-a9f4-73e01f42ea61", "3a5dd933-c316-4e91-a0ae-3a6218719dd9", "78a05257-2281-48fa-88fa-c6e628ab3689", "2202ce74-1142-4f6d-9bfa-422726731ab5", "b4725c0d-f63c-4d27-974e-9c51a0299d53", "d0065b88-878a-4756-b37c-7af88690c169", "aa777019-5f98-4e7b-b43e-2862b2a8ab08", "fc372c1d-30e1-488a-a19f-034e3e84e425", "d441dfef-8feb-4919-b757-c78b11a98ef6", "dbc8bdde-0d4a-462d-aa6c-b25c0ecb3daf", "f0b01d6e-7d21-442d-a1b0-0a22968d7fca", "8ed491eb-f864-4e59-9ca2-21dab48441bd", "9fd37487-9087-45c6-8170-05c433453244", "9a8b66a9-fa56-48cc-99b6-c6521cbef015", "345694e2-c0bd-4c43-b69e-b92e5a8842e4", "28e961a0-6322-4495-9683-bc4039f11242", "83f75bd5-dfdd-4145-9a20-4eee50b2bfd5", "635b15e9-4433-409c-8403-b560186e396e", "f206efa9-f7fa-4ccf-9ffb-df9d5a048bd2", "6ed293fc-e8c2-4a23-b590-7db7363d0dbc", "87bb6bca-7770-4590-acaa-3c09c5b8e39d", "f775ea61-7c67-413c-87bd-6cd33159f07d", "dd4d6cfe-3fec-4899-8b2a-e1c6987b2513", "f0d6e4c3-088f-4e90-84ec-9ebe005bf195", "1a68fd9d-a6f6-494b-b7b9-7d8a50dc6082", "595c349f-0d0f-4e7d-b1c2-f5e53c2e6b0d", "f75e3a03-7bd9-4847-8997-e12b1df7ed39", "ea705bbd-3e7e-47eb-b017-9c4981b18ddc", "63099d95-60f4-48bc-8d46-2afa3963dcb1", "f5e25945-3d1c-4313-960f-3522cbf905df", "6402fe45-24b6-4e87-88a8-46d7b22d7eb5", "6be9155c-43b0-431b-b0c4-b6ee12efa8df", "409a5706-2c19-4cce-85c1-b694087357f6", "d17ddd6b-faf6-44fa-a8b9-368410de1df7", "c682d84d-fb60-45f6-92f9-0fb8b4662ead", "94f86d51-3033-4a3a-9b72-5dc90038c003", "266bcc81-dd97-4252-941a-78c42ec452fc", "d03c16b8-04d7-422e-888c-899d6609ec47", "2112abf9-0358-468d-8a90-d3b41502ce98", "669db53d-4ebc-4314-87d9-12445420546b", "5bb23557-f62d-4723-bcb4-d55b0df89824", "b032273a-f74c-4929-9ad3-2741cdc3f962", "7b6e1381-dd62-478d-9425-e89bc060e599", "d828cdac-aeb0-4044-abff-1b6f6ce961e9", "76c7fbb9-d07d-4ab9-b750-9a5ad95e8526", "8c20688d-8d2c-415b-931b-848e615a84c4", "02b5013a-d551-42c3-84e3-e214bad7301b", "4d81c75c-698b-41bb-ac20-3c5e8a822d71", "32e18c17-7e6e-4ac8-893c-6b5da2a420ab", "7e7549bb-7109-4f7a-9ea5-33d35fed2005", "ff1fd874-dc18-463e-bd3d-f4635d7a8a0d", "1c90a4e8-d4f5-475a-85af-8e87bf5236bd", "df745702-1116-46a7-bc90-6680a392d215", "761f9362-33c3-4354-9663-090c02b2de22", "c8e0f2da-1586-456d-8c62-14ae338341ce", "216bb328-11c1-4214-ae4f-445eece63662", "2e1ae9df-a5ad-4db9-a72d-74df5f7dde05", "5f84d8ed-9769-4176-8ee8-3c672f363d7b", "019351fd-d5ae-4cac-9835-ab4614a8079b", "6cfe9169-011f-459f-a1dd-e86246635be0", "398cf3da-aabf-4ef8-ae0d-f5761db9a331", "7c330b9c-f043-4039-9497-461962cc975c", "52e65803-b899-4395-b6df-d35f55e21475", "aee0ada3-74b2-4f5e-b84f-a7b43e253879", "ef095926-76dd-4266-b3e5-16aab9191768", "92b97b4c-0ee7-4564-8f8f-ba6fa3b293a7", "0bd66fe9-e741-4f98-bca1-016775c64aca", "6063a095-4d7c-461f-9b6c-0159011f9e0d", "b76a6805-b413-4559-9b21-a8d0226e0208", "4b97a13b-97dd-440d-873c-3a196ed5b662", "ec5f8d90-3924-4018-b860-b5b7e1c3b97c", "c692b827-b05d-4980-8530-9750fbef325b", "5a7331f3-c514-4740-bbb0-4fb93676aeb4", "b5ce1621-2cb5-485a-a158-5d9bddc4f224", "911c2512-9ead-4839-a335-535e2e33f396", "5926e7dc-233f-470d-987b-21ff1ebc2736", "2f24e039-0333-4231-954a-835c09057868", "48501cc2-98d0-49dd-8b04-9b090a2581fb", "2daf48e1-1995-4537-8a0d-9f42a9220608", "c38d2007-dd13-4b3e-b1fd-c46dd08cb4d1", "8b6b2765-c0e3-46a5-bc52-5b4c4d603837", "7fa3c5d3-3f67-4330-b238-f6b065bb6160", "aed896e0-5c09-4b82-af2b-1a9daa6d48f1", "7ecce3ff-f380-4c80-ac16-64a8c00ce3d6", "a08276d1-8b3e-49cf-b5d8-17be666982f3", "f9904118-6e03-4092-af9a-0f7b00bde989", "5eb98923-456a-455e-82ec-9b3a73693899", "787f297a-4334-45a7-a639-ada431750893", "3e7e7df8-a737-4bc8-9327-fe62dc69b4c5", "a0c5e714-dd57-46fc-9456-fe9049380f9b", "389b7b31-bef1-457a-8ee8-a4209c8188da", "09d07e01-fecc-4eba-80bc-271f0a547cfe", "e8e75ed9-4964-4e97-848c-fa181f0f31d3", "03f294ba-6f42-4ffb-8b0d-ddd1a6db253c", "cd92c896-c386-4269-9f88-b8137c1274f7", "067cdd26-5fd3-42b1-af14-e67825a975af"], "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}}}, "docstore/data": {"7987cbc6-b638-451b-ba67-acea2d97b56d": {"__data__": {"id_": "7987cbc6-b638-451b-ba67-acea2d97b56d", "embedding": null, "metadata": {"page_label": "1", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "071927fc-50b7-4792-b6b1-5078d335d61a", "node_type": "4", "metadata": {"page_label": "1", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "88da1b4715e1ad5f4a412d8968c920c67a2e83465efebc313b23bc159c1e756f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\n4 ALFU\nAlternative fuel\nFile: N/A\n1289Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 522, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "57f4fff0-a7db-4305-a719-0983c0194107": {"__data__": {"id_": "57f4fff0-a7db-4305-a719-0983c0194107", "embedding": null, "metadata": {"page_label": "2", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0c676974-5882-4691-ba97-6ddd6f91bb7c", "node_type": "4", "metadata": {"page_label": "2", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "25232ccd335f368dae7a6c4dd366b3175f209ee5581ce23fecef3eb879ea0323", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, ALFU General\n4.1 ALFU General\nThe Aggregate Alternative Fuel (ALFU) covers the use of fuel alternatice to gasoline. For instance, compressed\nnatural gas (CNG) and ethanol (FlexFuel) can be selected as possibilities. ALFU provides information about\nthe kind of fuel currently supplied. For the FlexFuel case, also the fraction of ethanol in the fuel stream is\ndetermined. FlexFuel capability is possible with or without the use of an ethanol sensor.\nAlternative Fuel Ratio Determination \n(Appl. Inc.) \nAlternative Fuel Ratio Determination \nEngine Running \nAdaptation \nLambda Based \nDetection \nER Based \nDetection \nFTL Based \nDetection \nDefault \nStart \nLV_FAC_AFU_RATIO_VLD_RST \nFAC_AFU_RATIO \nSTATE_ALFU \nFAC_AFU_RATIO \n_DFT_ST \nSTATE_ALFU_CTL \nFAC_AFU_RATIO_ \nERU \nFAC_AFU_RATIO \n_LAMB \nFAC_AFU_RATIO_ER \nLV_FAC_AFU_RAT \nIO_ERU_ACT \nLV_FAC_AFU_RA \nTIO_LAMB_ACT \nLV_FAC_AFU_RATIO_ER_ACT \n4.1.1 CNG (NC_FUEL_CONF = 1)\nCompressed natural gas (CNG) is supported via the use of an external box (also usable for LPG i-box). This box\nhandles the separate injection of gas and supplies information about gas temperature, pressure, gas fuel tank\nlevel, etc. ALFU converts these variables into the convention used in the ECU and provides a ?ag (LV_FUEL_\nTYP_GAS) for gas mode used and FAC_AFU_RATIO, which is either zero (gasoline) or equal to one (CNG).\n4.1.2 FlexFuel (NC_FUEL_CONF = 3)\nIn case of FlexFuel, the Ethanol content in the gas tank needs to be provided to adjust the stoichiometric factor\nas well as corrective engine calibration maps, e.g. for ignition. ALFU provides the user with FAC_AFU_RATIO,\nwhich is zero for gasoline and one for the maximum calibrated ethanol content (e.g. E85).\nTo provide FAC_AFU_RATIO, it can either be calculated (NC_STATE_AFU_SENS_CONF = 0) or measured via an\nethanol sensor (NC_STATE_AFU_SENS_CONF = 1). In any case, the speci?cation ?Alternative Fuel Ratio Determi-\nnation? (90A6) provides FAC_AFU_RATIO and speci?es the strategy for its determination.\n4.1.2.1 System without ethanol sensor (NC_STATE_AFU_SENS_CONF = 0)\nFor a system without ethanol sensor, FAC_AFU_RATIO is calculated by means of different algorithms, which is\nsupported by a default start strategy to ensure that the engine can be started under all conditions (90A6).\nThe ethanol content determination algorithm consists of the following steps: at ?rst, an increase in fuel tank\nlevel triggers the need for a new determination of the ethanol content in ?Fuel tank level based ?ex fuel ratio\ndetection? (90AB). After engine start, the ?Engine Running Adaptation? (709J) establishes a raw ethanol content\n(FAC_AFU_RATIO_ERU). Once the lambda sensor is active, a more precise ethanol content (FAC_AFU_RATIO_\nLAMB) is calculated by ?Lambda based ?ex fuel ratio detection? (90A8), where lambda deviation caused by the\nFile: 30103I01.00B\n1290Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3330, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3fb17792-d1aa-47f9-b1a8-e167f535be4f": {"__data__": {"id_": "3fb17792-d1aa-47f9-b1a8-e167f535be4f", "embedding": null, "metadata": {"page_label": "3", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8135473f-edc1-47f8-ae25-abde9c6da290", "node_type": "4", "metadata": {"page_label": "3", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "9c17fb5c840dba2136988d15bddb7ee023a70de79b7bf8acddf2c04f8c73ba43", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1e842e90-7904-4b98-9129-f1964292dd8c", "node_type": "1", "metadata": {}, "hash": "e5ff90bbcf141336033570e0b41757b2a5d3c966e6e00dda55052a471dd2c795", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, ALFU General\nnew fuel is used. The ethanol content can then be validated through ?Engine roughness based ?ex fuel ratio\ndetection? (90AA) (FAC_AFU_RATIO_ER).\n4.1.2.1.1 ?Fuel tank level based ?ex fuel ratio detection? (90AB)\nThe fuel tank level is used to provide the following main aspects of the ethanol content detection procedure:\n1. Detect that the fuel tank level (FTL_PERC) has increased signi?cantly, which triggers refuelling (LV_FTL_\nREFU = 1). For LV_FTL_REFU = 0 no ethanol detection is triggered.\n2. From the amount of fuel added and the old ethanol content, thresholds for the new ethanol content are\nprovided. FAC_AFU_RATIO_FTL_MIN for E0 added and FAC_AFU_RATIO_FTL_MAX for maximum ethanol\nratio (e.g. E85) added to the gas tank are calculated. These thresholds can be used in the ?lambda based\n?ex fuel ratio detection? (90A8) to limit the detected FAC_AFU_RATIO_LAMB.\n3. Because the fuel rail has a certain length, a certain fuel mass (MFF_SUM_REFU) needs to be consumed\nbefore the new ethanol content will be injected. Thus, ?ags are provided for new fuel just arriving (LV_\nMFF_SUM_REFU_MIN), fuel change is not completed yet (LV_MFF_SUM_REFU_WIN), new fuel is now in-\njected completely (LV_MFF_SUM_REFU_MAX), and that the refuelling process is complete (LV_MFF_SUM_\nREFU).\n4.1.2.1.2 ?Engine Running Adaptation? (709J)\nBefore the lambda control is active, engine run needs to be ensured. The engine running adaptation function\ndoes just that by using the engine roughness of the engine. The overall goal of the function is to move the\noverall engine lambda close to unity. To achieve this, one cylinder is shifted to a richer and one cylinder is\nshifted to a leaner mixture. Then, two properties of the engine can be employed :\n1. if one of the adjusted cylinders reaches an engine roughness limit (close to burning limit), it is known\nthat the overall lambda has drifted far towards that side (e.g. the lean cylinder reaches the limit then the\noverall lambda is lean). Then, the overall lambda can be shifted to the centre. This part of the function\nensures quick action in case of extreme lambda deviation (e.g. E0 change to E85),\n2. in most cases, the overall lambda is still quite close to unity (the engine roughness limit is not reached).\nThen, the torque contribution of the lean and the rich cylinder are employed. The lambda ef?ciency of\nthe engine in conjunction with the shifted cylinders is used to detect if the overall lambda is rich or lean.\nThen, step by step, the overall lambda can be moved closer to unity comparing torque contribution and\nlocation on the lambda ef?ciency curve for each step.\n4.1.2.1.3 ?Lambda based ?ex fuel ratio detection? (90A8)\nThe lambda sensor based calculation algorithm is started after refuelling is detected (LV_FTL_REFU=1) and\nlambda sensor being active (LV_LSCL=1). The algorithm is separated into two parts:\n1. To learn the ethanol content (FAC_AFU_RATIO_LAMB), the lambda controller deviation (FAC_LAM_MV_\nMMV_AFU) is observed and written into the ethanol content (similar to a lambda adaptation). Learning\nof FAC_AFU_RATIO_LAMB is at ?rst carried out regardless of engine speed or driver request to close in\non the new ethanol content. Once FAC_AFU_RATIO_LAMB settles to a stable value (T_FAC_AFU_RATIO_\nLAMB_VLD >0), activation of learning is limited to the driving window (LV_TQ_N_FAC_AFU_LAMB_VLD\n= 1).", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3761, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1e842e90-7904-4b98-9129-f1964292dd8c": {"__data__": {"id_": "1e842e90-7904-4b98-9129-f1964292dd8c", "embedding": null, "metadata": {"page_label": "3", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8135473f-edc1-47f8-ae25-abde9c6da290", "node_type": "4", "metadata": {"page_label": "3", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "9c17fb5c840dba2136988d15bddb7ee023a70de79b7bf8acddf2c04f8c73ba43", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3fb17792-d1aa-47f9-b1a8-e167f535be4f", "node_type": "1", "metadata": {"page_label": "3", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "ba7825cd47304e4b67bfbe1be9d162862ba5fb1cd30abd4740ce265a3113e52d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Learning\nof FAC_AFU_RATIO_LAMB is at ?rst carried out regardless of engine speed or driver request to close in\non the new ethanol content. Once FAC_AFU_RATIO_LAMB settles to a stable value (T_FAC_AFU_RATIO_\nLAMB_VLD >0), activation of learning is limited to the driving window (LV_TQ_N_FAC_AFU_LAMB_VLD\n= 1). Conditions for learning are further evaporation of fuel from hot oil (LV_FAC_AFU_LAMB_OIL = 1) and\nnew fuel at least starting to be injected (LV_MFF_SUM_REFU_WIN/COMP = 1). Additionally, FAC_AFU_\nRATIO_LAMB can be limited by FAC_AFU_RATIO_FTL_MIN/MAX.\n2. Setting the valid ?ag for the learning process (T_FAC_AFU_RATIO_LAMB_VLD > threshold -> LV_FAC_\nAFU_RATIO_LAMB_VLD = 1) is independent from the learning process described under 1. Additional\nconditions, e.g. for TCO and limited dynamics have to be met to set the ?ag. This procedure ensures that\nFAC_AFU_RATIO_LAMB will be provided quickly after new fuel is injected without a loss of accuracy.\n4.1.2.2 System with ethanol sensor (NC_STATE_AFU_SENS_CONF = 1)\nUsing an ethanol sensor, FAC_AFU_RATIO is directly provided based on measurements. Diagnosis is per-\nformed to ensure that the sensor is working correctly. In case of sensor failure (LV_ERR_AFU_SENS = 1) the\nalgorithm described in section 1.2.1 is used instead.\nFile: 30103I01.00B\n1291Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 3453, "end_char_idx": 4867, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2044a8ea-15e3-440b-9b90-b72361e10f76": {"__data__": {"id_": "2044a8ea-15e3-440b-9b90-b72361e10f76", "embedding": null, "metadata": {"page_label": "4", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c4352cb8-3204-4962-95c7-f2b53e6c9486", "node_type": "4", "metadata": {"page_label": "4", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "e8d785ee0f9620c0e8f443e54bce6c2ecff165aa620d64f1d867dfe6344fb840", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, ALFU Con?guration data\n4.2 ALFU Con?guration data\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_AFU_CONF - 0... 1H 0 ...1 1 -\nCon?guration data to de?ne if this is a system for alternative fuel\nNC_ECU_GAS_CONF - 0... 1H 0 ...1 1 -\nCon?guration data to de?ne if a interface box is available in the system\nNC_FUEL_CONF - 0... 3H 0 ...3 1 -\nCon?guration data to de?ne which fuel is used\nNC_NR_BUF_AFU_SENS - 0... 7FFH 0... 2047 1 -\nBuffer Size for FAC_AFU_RATIO_SENS_MMV_BUF (time lag divided by Reccurence)\nNC_NR_CMB_ER_STD_STND_MPLH - 0... FFH 0... 255 1 -\nNumber of maps for IP_FAC_CMB_ER_STD_STND_MPLH\nNC_NR_INJ_COR - 0... FFH 0... 255 1 -\nMaximum threshold for injection correction counter\nNC_NR_LEN_ER_DIF_MAF - 0... FFH 0... 255 1 -\nCon?gurable length of MAF-breakpoints for engine roughness difference calculation\nNC_NR_LEN_ER_DIF_N_32 - 0... FFH 0... 255 1 -\nCon?gurable length of N32-breakpoints for engine roughness difference calculation\nNC_STATE_AFU_SENS_CONF - 0... 1H 0 ...1 1 -\nCon?guration data to de?ne ethanol sensor is used\n\ufffd Global Con?guration Data:\nHere are listed the con?guration data, which can be used in other aggregates:\nCon?guration Item Range Value Comment\nNC_AFU_CONF\nCon?guration data to de?ne if this is\na system for alternative fuel\n0 ...1\n0... 1H\n1 [-]\n0x1\n0: No AFU system\n1: AFU system\nNC_ECU_GAS_CONF\nCon?guration data to de?ne if a\ninterface box is available in the\nsystem\n0 ...1\n0... 1H\n0 [-]\n0x0\n0: No i-box present in system\n1: i-box present in system\nNC_FUEL_CONF\nCon?guration data to de?ne which\nfuel is used\n0 ...3\n0... 3H\n3 [-]\n0x3\n0: No AFU\n1: CNG\n2: LPG\n3: Flex Fuel\nNC_NR_CMB_ER_STD_STND_MPLH\nNumber of maps for\nIP_FAC_CMB_ER_STD_STND_MPLH\n0... 255\n0... FFH\n5 [-]\n0x5\nNumber of maps for\nIP_FAC_CMB_ER_STD_STND_MPLH\nNC_STATE_AFU_SENS_CONF\nCon?guration data to de?ne ethanol\nsensor is used\n0 ...1\n0... 1H\n1 [-]\n0x1\n0: No Ethanol Sensor\n1: Ethanol Sensor\nFile: AD103J01.00D\n1292Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2443, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f78cce3a-c1bd-4c61-8436-0101c9529c8a": {"__data__": {"id_": "f78cce3a-c1bd-4c61-8436-0101c9529c8a", "embedding": null, "metadata": {"page_label": "5", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ad5115d2-06b0-4764-87af-825c21794bd8", "node_type": "4", "metadata": {"page_label": "5", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "2f4ef19cb6db04ab3542f630377a87e2ae7d6399ed243cb1c0c49358bf38a8a7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, ALFU Con?guration data\n\ufffd Local Con?guration Data:\nHere are listed the con?guration data, which can be used within an aggregate:\nCon?guration Item Range Value Comment\nNC_NR_BUF_AFU_SENS\nBuffer Size for\nFAC_AFU_RATIO_SENS_MMV_BUF\n(time lag divided by Reccurence)\n0... 2047\n0... 7FFH\n12 [-]\n0xC\nBuffer Size for FAC_AFU_RATIO_SENS_MMV_BUF\n(time lag divided by Reccurence)\nNC_NR_INJ_COR\nMaximum threshold for injection\ncorrection counter\n0... 255\n0... FFH\n13 [-]\n0xD\nMaximum threshold for injection correction counter\n(0?,255: Maximum threshold for injection correction\ncounter)\nNC_NR_LEN_ER_DIF_MAF\nCon?gurable length of\nMAF-breakpoints for engine\nroughness difference calculation\n0... 255\n0... FFH\n1 [-]\n0x1\nNumber of breakpoints of LDPM_MAF_ER_STND_DIF\nNC_NR_LEN_ER_DIF_N_32\nCon?gurable length of\nN32-breakpoints for engine\nroughness difference calculation\n0... 255\n0... FFH\n1 [-]\n0x1\nNumber of breakpoints of\nLDPM_N_32_ER_STND_DIF\n4.2.1 Con?guration Guide\nFile: AD103J01.00D\n1293Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1468, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b80aee4a-d572-4b0b-8658-7b325ddddb0d": {"__data__": {"id_": "b80aee4a-d572-4b0b-8658-7b325ddddb0d", "embedding": null, "metadata": {"page_label": "6", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "89bcb5fe-17ef-4591-a0d7-cd0ae282530c", "node_type": "4", "metadata": {"page_label": "6", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "175da68487c5f70a60c8632fcc2f454eac4230ec1099220f53d22b72788001a6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor acquisition\n4.3 Ethanol sensor acquisition\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nFAC_AFU_RATIO_SENS_MMV O/V/S 0... 80H 0 ...1 0.0078125 -\nEthanol Content of Fuel delivered by Ethanol Sensor for maximum ethanol content available\nFAC_AFU_RATIO_SENS_MMV_BUF\n[NC_NR_BUF_AFU_SENS]\nV/S 0... 80H 0 ...1 0.0078125 -\nRing Buffer to allow delays of Ethanol Sensor Values\nFAC_AFU_RATIO_SENS_MMV_DLY O/V 0... 80H 0 ...1 0.0078125 -\nEthanol Content of Fuel delivered by Ethanol Sensor actually available in cylinder\nFRQ_PERC_FF_SENS_RAW O/V 0... FFFFH 0... 6553.5 0.1 Hz\nAcquisition Frequency of Ethanol Sensor PWM signal\nIDX_AFU_SENS_BUF V/S 0... 7FFH 0... 2047 1 -\nIndex pointing to cell of buffer for FAC_AFU_RATIO_SENS_MMV_BUF\nLV_FAC_AFU_RATIO_SENS_VLD O/V 0... 1H 0 ...1 1 -\nFlag indicating that Ethanol sensor is active and signal is valid\nMFF_SP_AFU_INT V 0... FFFFH 0... 131.07 0.002 l\nFuel mass setpoint used for MFF_SUM_REFU calculation\nMFF_SP_AFU_INT_RES - 0... FFFFFFFFH 0... 131072 30.5176e-6 ml\nIntermediate Fuel mass setpoint used for MFF_SUM_REFU calculation\nPERC_FF_SENS_MMV V 0... FFH 0... 100 0.39215686 %\nMoving Mean Value of Ethanol Content of Fuel delivered by Ethanol Sensor\nPERC_FF_SENS_RAW V 0... FFH 0... 100 0.39215686 %\nRaw Ethanol Content of Fuel delivered by Ethanol Sensor\nT_DLY_AFU_SENS_ACQ V 0... FFH 0... 25.5 0.1 s\nDealy for sensor response time to acquire valid signal\nT_TEMP_FUEL_SENS_RAW O/V 0... FFFFH 0... 6553.5 0.1 ms\nAcquisition Timer for Ethanol Sensor PWM signal\nTEMP_FUEL_SENS_MMV O/V/S 0... FEH -48... 142.5 0.75 \ufffdC\nMoving mean Value of Fuel Temperature delivered by Ethanol Sensor\nTEMP_FUEL_SENS_RAW V 0... FEH -48... 142.5 0.75 \ufffdC\nRaw Fuel Temperature delivered by Ethanol Sensor\n\ufffd Input Data\nC_FUEL_MAX_CONF\n{p. 1406}\nLC_FAC_AFU_RATIO_CONF\n{p. 1397}\nMFF_SP_AFU\n{p. 1389}\nNC_STATE_AFU_SENS_CONF\n{p. 1292}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_CRLC_PERC_FF_SENS V 0... FFH 0... 0.99609375 0.00390625 -\nCorrelation constant for Ethanol Value from Ethanol Sensor\nC_CRLC_TEMP_FUEL_SENS V 0... FFH 0... 0.99609375 0.00390625 -\nCorrelation constant for Fuel Temperature from Ethanol Sensor\nFile: 30207I05.00B\n1294Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2718, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e63369f6-489a-4ae6-93b8-2eeb2f1fac70": {"__data__": {"id_": "e63369f6-489a-4ae6-93b8-2eeb2f1fac70", "embedding": null, "metadata": {"page_label": "7", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "44cd6744-16a7-4173-b1fc-8cca631680d5", "node_type": "4", "metadata": {"page_label": "7", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "8337b08430a977462adca55846a0ffdffd4ccb20e20f9a5eebd5fb20685dd1c2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor acquisition\nName Mode Coded Limits Display Limits Resolution Unit\nC_MFF_SP_AFU_INT V 0... FFFFH 0... 131.07 0.002 l\nThreshold for MFF_ASP_FU_INT to update Sensor value\nC_NR_DLY_AFU_SENS_BUF V 0... 7FFH 0... 2047 1 -\nDelay Steps of MFF_SP_AFU between Ethanol sensor and cylinder\nC_T_DLY_AFU_SENS_ACQ V 0... FFH 0... 25.5 0.1 s\nDelay time for sensor response to receive ?rst valid value from FF sensor\nIP_PERC_FF_SENS V 0... FFH 0... 100 0.39215686 %\nLDP_FRQ_PERC_FF_SENS 4 0... FFFFH 0... 6553.5 0.1 Hz\nConversion map from frequency (time) given by PWM signal to Ethanol content\nIP_TEMP_FUEL_SENS V 0... FEH -48... 142.5 0.75 \ufffdC\nLDP_T_TEMP_FUEL_SENS_RAW 4 0... FFFFH 0... 6553.5 0.1 ms\nConversion map from time given by PWM signal to Fuel temperature\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_FID_ERR_AFU_SENS_ACQ V 0... FFFFH 0... 65535 1 -\nFARM permission for FF sensor diagnosis in sensor acquisition\nNC_NR_BUF_AFU_SENS V 0... 7FFH 0... 2047 1 -\nBuffer Size for FAC_AFU_RATIO_SENS_MMV_BUF (time lag divided by Reccurence)\n\ufffd Import actions:\nACTION_FARM_GetPermission(IN <PRM_FID>, OUT <PRM_LV_PRMS>)\nACTION_INFR_GetPwmFrqFlexFlu(OUT <PRM_FRQ_FF>)\nACTION_INFR_GetPwmTempFlexFlu(OUT <PRM_T_TEMP_FF>)\n\ufffd General Information\n\ufffd Application Conditions\nFile: 30207I05.00B\n1295Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1809, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8ec30953-3098-4e2a-b734-a82269952667": {"__data__": {"id_": "8ec30953-3098-4e2a-b734-a82269952667", "embedding": null, "metadata": {"page_label": "8", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b2648c7b-b289-4886-86f6-bb45f563183d", "node_type": "4", "metadata": {"page_label": "8", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "5a629ecaf26a63d2e4cae7756af30764fe022b27fb5d37fba7ed8ffb34a5c464", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor acquisition\nInitialization: RST, NVMINI, NVMRES, NVMSTO\nRecurrence: 100MS\nActivation: always\nDeactivation: never\n\ufffd Function Description\nSDA_SRS / SDA V 5.3.2 / 24?May?2010\n6\nFAC_AFU_RATIO_SENS_MMV\n5\nT_TEMP_FUEL_SENS_RAW\n4\nTEMP_FUEL_SENS_MMV\n3\nLV_FAC_AFU_RATIO_SENS_VLD\n2\nFRQ_PERC_FF_SENS_RAW\n1\nFAC_AFU_RATIO_SENS_MMV_DLY\nFAC_AFU_RATIO_SENS_MMV:  O V S \nFAC_AFU_RATIO_SENS_MMV_BUF:    V S \nFAC_AFU_RATIO_SENS_MMV_DLY:  O V   \nFRQ_PERC_FF_SENS_RAW:  O V   \nIDX_AFU_SENS_BUF:    V S \nLV_FAC_AFU_RATIO_SENS_VLD:  O V   \nMFF_SP_AFU_INT:    V   \nMFF_SP_AFU_INT_RES:  ? ? ? \nPERC_FF_SENS_MMV:    V   \nPERC_FF_SENS_RAW:    V   \nTEMP_FUEL_SENS_MMV:  O V S \nTEMP_FUEL_SENS_RAW:    V   \nT_DLY_AFU_SENS_ACQ:    V   \nT_TEMP_FUEL_SENS_RAW:  O V   \nV. 5.9\nfc()input\nfeedback\nopm\nOPM\nX.2\n4\nNC_STATE_AFU_SENS_CONF\n3\nMFF_SP_AFU\n2\nLC_FAC_AFU_RATIO_CONF\nfc()\nfeedback ini\nINI\nX.1\n1\nC_FUEL_MAX_CONF\nfc_INI\nfc_OPM\nRecurrence:        100MS\nInit:             RST\n            NVMINI\n            NVMRES\n            NVMSTOActivation: \nDeactivation: \nalways\nnever\nAPP_CDN_new\nV. 5.13\n5\nACTION_INFR_GetPwmTempFlexFlu_T3\n6\nACTION_INFR_GetPwmFrqFlexFlu_T3\n5\nACTION_FARM_GetPermission_T3\nFigure 4.3.1:\nFile: 30207I05.00B\n1296Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1698, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "36abbbe2-939f-4479-adfe-aca192b84684": {"__data__": {"id_": "36abbbe2-939f-4479-adfe-aca192b84684", "embedding": null, "metadata": {"page_label": "9", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "801df3fa-df5f-4fb9-a3af-668fe0950cb7", "node_type": "4", "metadata": {"page_label": "9", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "aee7af5fa80c81675d4ad8b6054924d9741c233116ed3f53d30744e0f9fd8f0d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor acquisition\n4.3.1 Initialisation\n4.3.1.1 Initialisation at RESET\n1\nrst\n0\nV. 5.5\n0\nV. 5.5\n0\nV. 5.5\n0\nV. 5.5\n0\nV. 5.5\n0\nV. 5.5\n0\nV. 5.5\n0\nV. 5.5\n0\nV. 5.5\nf()\nT_DLY_AFU_SENS_ACQ\nrst\nT_TEMP_FUEL_SENS_RAW\nTEMP_FUEL_SENS_RAW\nPERC_FF_SENS_RAW\nPERC_FF_SENS_MMV\nMFF_SP_AFU_INT\nLV_FAC_AFU_RATIO_SENS_VLD\nFRQ_PERC_FF_SENS_RAW\nFAC_AFU_RATIO_SENS_MMV_DLY\nFigure 4.3.2:\nFile: 30207I05.00B\n1297Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 884, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3194fde2-96f5-49a4-a1a9-402a5d5a597f": {"__data__": {"id_": "3194fde2-96f5-49a4-a1a9-402a5d5a597f", "embedding": null, "metadata": {"page_label": "10", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "82d5c9f2-9821-4931-82ab-808c1d385966", "node_type": "4", "metadata": {"page_label": "10", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "ebd721e07ff25a5b44bfcb78ddf8ae57d07fa5cc575ca5030283b80e6c76ef7c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor acquisition\n4.3.2 Calculation\n4.3.2.1 Condition to start sensor acquisition\n1\nsens_acq\nV. 5.3\ncond_if\nif\nelse\nfc()\ninput\nfeedback\nsens_acq_clc\nSENS_ACQ_CLC\nX.2.1.1\nfc()\nfeedback no_sens_acq\nNO_SENS_ACQ\nX.2.1.2\nNOT\nBusMerge\nV. 5.35\nAND\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\n6\nNC_FID_ERR_AFU_SENS_ACQ\n5\nLC_FAC_AFU_RATIO_CONF\n4\nACTION_FARM_GetPermission_T3\n3\nNC_STATE_AFU_SENS_CONF\n2\ninput\n1\nfeedback\nsens_acq\nFigure 4.3.3:\nFile: 30207I05.00B\n1298Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 970, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ef272c03-3e0c-4a29-acd2-979abcacadc9": {"__data__": {"id_": "ef272c03-3e0c-4a29-acd2-979abcacadc9", "embedding": null, "metadata": {"page_label": "11", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d3d106ff-e0ef-4d92-aaf9-9973dcc74a8e", "node_type": "4", "metadata": {"page_label": "11", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "4941839bde40086e9b3aa3918e3222727c3b349492f1f304b2bcfaf5b310221a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor acquisition\n4.3.2.1.1 Sensor acquisition calculation overview\n4.3.2.1.1.1 Sensor acquisition\n9\nT_DLY_AFU_SENS_ACQ_out\n8\nLV_FAC_AFU_RATIO_SENS_VLD\n7\nTEMP_FUEL_SENS_MMV\n6\nTEMP_FUEL_SENS_RAW\n5\nT_TEMP_FUEL_SENS_RAW\n4\nFAC_AFU_RATIO_SENS_MMV\n3\nPERC_FF_SENS_MMV\n2\nPERC_FF_SENS_RAW\n1\nFRQ_PERC_FF_SENS_RAW\nx_val IP_val\nIP_TEMP_FUEL_SENS\nV. 6.4\nx_val IP_val\nIP_PERC_FF_SENS\nV. 5.15\nCheck ~= 0\nE\nx_in\ny\nx_out\ndT = 0.1\nV. 6.5\nNOT\nV. 6.3\n1\n1\n1\n1\n1\n1\n1\nV. 6.0\n\ufffd\n\ufffd\nV. 5.3\nV. 5.3\nu\nm\ny\nV. 5.3\nu\nm\ny\nC_T_DLY_AFU_SENS_ACQ\nV. 5.5\nC_T_DLY_AFU_SENS_ACQ\nV. 5.5\n1\nV. 5.5\nC_CRLC_TEMP_FUEL_SENS\nV. 5.5\nC_CRLC_PERC_FF_SENS\nV. 5.5\nActionImport PRM_T_TEMP_FF\nACTION_INFR_GetPwmTempFlexFlu\nActionImport PRM_FRQ_FF\nACTION_INFR_GetPwmFrqFlexFlu\n5\nLV_FAC_AFU_RATIO_SENS_VLD_in\n4\nT_DLY_AFU_SENS_ACQ_in\n3\nC_FUEL_MAX_CONF\n2\nACTION_INFR_GetPwmTempFlexFlu\n1\nACTION_INFR_GetPwmFrqFlexFlu\nFigure 4.3.4:\nFile: 30207I05.00B\n1299Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1392, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3cce7728-6475-4ed7-8c54-d15ccbf1c2fc": {"__data__": {"id_": "3cce7728-6475-4ed7-8c54-d15ccbf1c2fc", "embedding": null, "metadata": {"page_label": "12", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5f9a9aa6-26be-4f8c-82b7-30ae687ae105", "node_type": "4", "metadata": {"page_label": "12", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "166060129ae9c73d070cb02faed1cdeb62aa62c52f29e4169212393ce71ade6b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor acquisition\n4.3.2.1.1.2 Calculation of Ethanol sensor value actually injected into cylinder\n1\neth_sens_inj_cyl\nV. 5.3\ncond_if\nif\nelse\nfc()\ninput\nfeedback\nmff_int\nMFF_INT\nX.2.1.1.2.2\n>=\nV. 5.3\nC_MFF_SP_AFU_INT\nV. 5.5\nBusMerge\nV. 5.35\nfc()\nIDX_AFU_SENS_BUF\nFAC_AFU_RATIO_SENS_MMV\nMFF_SP_AFU_INT_RES\nT_DLY_AFU_SENS_ACQ\nFAC_AFU_RATIO_SENS_MMV_BUF_in\nafu_sens_buf\nAFU_SENS_BUF\nX.2.1.1.2.1\n8\nfeedback\n7\ninput\n6\nFAC_AFU_RATIO_SENS_MMV_BUF_in\n5\nMFF_SP_AFU_INT_RES_in\n4\nIDX_AFU_SENS_BUF_in\n3\nMFF_SP_AFU_INT\n2\nFAC_AFU_RATIO_SENS_MMV\n1\nT_DLY_AFU_SENS_ACQ\neth_sens_inj_cyl\nFigure 4.3.5:\nFile: 30207I05.00B\n1300Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1103, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "51ce715a-42b5-4735-981d-c47bf483534b": {"__data__": {"id_": "51ce715a-42b5-4735-981d-c47bf483534b", "embedding": null, "metadata": {"page_label": "13", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d409506a-a797-451b-b74c-3fd93070138d", "node_type": "4", "metadata": {"page_label": "13", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "788105a453def749697ee1bef3f0a803443ba30eb3a72c77253f9621f8cc6c2a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor acquisition\n4.3.2.1.1.2.1 Calculation\n4.3.2.1.1.2.1.1 Filling of AFU SENS buffer\n//Avoid zero values until sensor gives valid signal\n3\nMFF_SP_AFU_INT\n2\nIDX_AFU_SENS_BUF_out\n1\nFAC_AFU_RATIO_SENS_MMV_BUF\nV. 5.5C\n0\nu\nsize: [NC_NR_BUF_AFU_SENS]\nV. 5.5C\n0\nu\nsize: [NC_NR_BUF_AFU_SENS]\nC\n0\n[..]\nmod\nV. 5.3\n[IDX_AFU_SENS_BUF_in]\n[IDX_AFU_SENS_BUF]\n[IDX_AFU_SENS_BUF]\n[IDX_AFU_SENS_BUF_in]\n[IDX_AFU_SENS_BUF_in]\n[IDX_AFU_SENS_BUF]\nCheck ~= 0\n+\n+\nV. 5.4\nV. 6.3\n1\nC_T_DLY_AFU_SENS_ACQ\nV. 5.5\n0\nV. 5.5\nNC_NR_BUF_AFU_SENS\nV. 5.5\n1\nV. 5.5\n4\nFAC_AFU_RATIO_SENS_MMV_BUF_in\n3\nT_DLY_AFU_SENS_ACQ\n2\nFAC_AFU_RATIO_SENS_MMV\n1\nIDX_AFU_SENS_BUF_in\nFigure 4.3.6:\nFile: 30207I05.00B\n1301Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1168, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8c44cfe1-7500-4db5-adaf-8751b2a37868": {"__data__": {"id_": "8c44cfe1-7500-4db5-adaf-8751b2a37868", "embedding": null, "metadata": {"page_label": "14", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7c85e183-f949-45f9-9204-b48a55bae75f", "node_type": "4", "metadata": {"page_label": "14", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "3eb4c4d61e7669c055b089cb0c3d438ed9f4dbf0dffb7a8888f463b840fe285c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor acquisition\n4.3.2.1.1.2.1.2 Determination of acknowledged sensor value at cylinder\nOldest available value of the buffer will be used\n1\nFAC_AFU_RATIO_SENS_MMV_DLY\nV. 5.5C\n0\n[..]\nV. 5.5C\n0\n[..]\nmod\nV. 5.3\nmod\nV. 5.3\n[FAC_AFU_RATIO_SENS_MMV_BUF]\n[IDX_AFU_SENS_BUF]\n[FAC_AFU_RATIO_SENS_MMV_BUF]\n[IDX_AFU_SENS_BUF]\n[FAC_AFU_RATIO_SENS_MMV_BUF]\n[IDX_AFU_SENS_BUF]\nthreshold: 0.5\n+\n?\n+\nV. 5.4\n+\n+\nV. 5.4\n>=\nV. 5.3\nNC_NR_BUF_AFU_SENS\nV. 5.5\nNC_NR_BUF_AFU_SENS\nV. 5.5\nC_NR_DLY_AFU_SENS_BUF\nV. 5.5\nNC_NR_BUF_AFU_SENS\nV. 5.5\n1\nV. 5.5\nNC_NR_BUF_AFU_SENS\nV. 5.5\nC_NR_DLY_AFU_SENS_BUF\nV. 5.5\n2\nFAC_AFU_RATIO_SENS_MMV_BUF\n1\nIDX_AFU_SENS_BUF\nFigure 4.3.7:\nFile: 30207I05.00B\n1302Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1168, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7c541e5e-7655-4a71-8dd6-25acc1ea9230": {"__data__": {"id_": "7c541e5e-7655-4a71-8dd6-25acc1ea9230", "embedding": null, "metadata": {"page_label": "15", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "64919923-f00f-4a8c-b99e-8f8225e48f82", "node_type": "4", "metadata": {"page_label": "15", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "5735801e8f82942837919e5317e846dab92f3cb47af0e1fec32cc5396d873a6b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor acquisition\n4.3.2.1.1.2.2 Calculation\n4.3.2.1.1.2.2.1 MFF_SP_AFU_INT_RES determination\n2\nMFF_SP_AFU_INT\n1\nMFF_SP_AFU_INT_RES_out\n+\n+\nV. 5.4\n1\n1\n2\nMFF_SP_AFU_INT_RES_in\n1\nMFF_SP_AFU\nFigure 4.3.8:\n4.3.2.1.2 Calculation\n4.3.2.1.2.1 Reset LV_FAC_AFU_RATIO_SENS_VLD\n1\nLV_FAC_AFU_RATIO_SENS_VLD\n0\nV. 5.5\nFigure 4.3.9:\nFile: 30207I05.00B\n1303Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 840, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0e408f43-98e8-4422-9604-201ed2d15bd7": {"__data__": {"id_": "0e408f43-98e8-4422-9604-201ed2d15bd7", "embedding": null, "metadata": {"page_label": "16", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5b67a752-3486-4399-9875-0b20dd432b57", "node_type": "4", "metadata": {"page_label": "16", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "d5b0a0d39ed106eb3a97a013215f80358c9508b2c92849d3200d8f5d6c39ee78", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness signal preparation for fuel quality adaptation\n4.4 Engine roughness signal preparation for fuel quality adapta-\ntion\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nCTR_DLY_DRV1_STND_AFU V 0... FFFFH 0... 65535 1 -\nSegment delay counter for acceleration fade out for AFU\nCTR_SEG_ST_FDOUT_AFU V 0... FFFFH 0... 65535 1 -\nNumber of segments since activation of fade out condition\nDLY_DRV1_STND_AFU V 0... FFFFH 0... 65535 1 -\nSegment delay for acceleration fade out for AFU\nDRV1_STND_AFU V 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nStandardized acceleration component of the ER value\nER_STD_AFU [NC_CYL_NR] O/V 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nStandard deviation of the engine roughness\nER_STD_DIF_AFU V 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nDifference of the ?ltered normalized and normalized engine roughness values for calc. of the standard deviation\nER_STD_MMV_AFU [NC_CYL_NR] O/V/S 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nFiltered standard deviation of the engine roughness\nER_STND_AFU V 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nNormalized cylinder selective engine roughness values\nER_STND_FIL_AFU V 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nNormalized cylinder selective engine roughness values after median ?lter\nER_STND_MMV_AFU [NC_CYL_NR] O/V/S 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nFiltered normalized cylinder selective engine roughness values\nER_STND_MMV_DIF_AFU [NC_CYL_NR] O/V 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nDifference of ?ltered normalized and average engine roughness value\nER_STND_MMV_MV_AFU V 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nMean value of all engine roughness values of the last [NC_CYL_NR] segments\nER_STND_MMV_STD_AFU [NC_CYL_NR] O/V/S 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nFiltered normalized engine roughness values for calculation of the standard deviation\nLV_DRV1_ER_AFU_ACT O/V 0... 1H 0 ...1 1 -\nActivation condition to enable fade out calculation for AFU\nLV_DRV1_STND_AFU_FDOUT O/V 0... 1H 0 ...1 1 -\nFlag for acceleration fade out for AFU\nLV_ER_STND_ER_AFU_ACT O/V 0... 1H 0 ...1 1 -\nActivation condition to enable AFU signal preparation calculation\nN_SEG_GRD_AFU V 0... 7F80H 0... 8160 0.25 rpm\nEngine speed gradient per segments\nN_ST_FDOUT_AFU V 0... FFH 0... 8160 32 rpm\nEngine speed at the beginning of the fade out\nFile: 3040EK03.00C\n1304Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2905, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a14a6e4e-7e6a-4793-a742-9dba6d23c971": {"__data__": {"id_": "a14a6e4e-7e6a-4793-a742-9dba6d23c971", "embedding": null, "metadata": {"page_label": "17", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3be744c7-5337-4816-b867-e00a7085ee0a", "node_type": "4", "metadata": {"page_label": "17", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "2d8c550e731f2abd6f609ba91109abe3097efe67a5542e8779d34b49fe7bb2b1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness signal preparation for fuel quality adaptation\n\ufffd Input Data\nDRV1_ER\n{p. 7612}\nER\n{p. 7612}\nLV_CLU_SWI\n{p. 25932}\nLV_CLU_SWI_2\n{p. 25940}\nLV_PUC\n{p. 7530}\nLV_SEG_AD_AVL_ER\n{p. 7646}\nLV_ST_END\n{p. 7530}\nMAF\n{p. 3012}\nN_32\n{p. 8079}\nNC_CYL_NR\n{p. 1316}\nSEG_NR_ER\n{p. 7613}\nSTATE_ENG\n{p. 7530}\nT_AST\n{p. 8436}\nTCO_ST\n{p. 8846}\nVS_H_RES\n{p. 26241}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_CRLC_ER_STD_AFU V 0... FFH 0... 0.99609375 0.00390625 -\nCorrelation constant for ER_STND_FIL_AFU value ?lter for standard deviation\nC_CRLC_ER_STD_MMV_AFU V 0... FFH 0... 0.99609375 0.00390625 -\nCorrelation constant for ER_STD_AFU value ?lter\nC_CRLC_ER_STND_AFU V 0... FFH 0... 0.99609375 0.00390625 -\nCorrelation constant for ER_STND_FIL_AFU value ?lter\nC_CTR_SEG_MIN_FDOUT_AFU V 0... FFH 0... 255 1 -\nMinimum number of segments before fade out is deactivated by engine speed gradient\nC_FAC_ER_STD_NEG_AFU V 0... FFH 0... 0.99609375 0.00390625 -\nWeighting factor for negative ER_STD_DIF_AFU values\nC_FAC_ER_STD_POS_AFU V 0... FFH 0... 0.99609375 0.00390625 -\nWeighting factor for positive ER_STD_DIF_AFU values\nC_MAF_MAX_FDOUT_AFU V 0... FFFFH 0... 1389 0.02119478 mg/stk\nMaximum mass air ?ow value t to set fade-out\nC_MAF_MIN_FDOUT_AFU V 0... FFFFH 0... 1389 0.02119478 mg/stk\nMinimum mass air ?ow value to set fade-out\nC_N_32_MAX_FDOUT_AFU V 0... FFH 0... 8160 32 rpm\nMaximum engine speed t to set fade-out\nC_N_32_MIN_FDOUT_AFU V 0... FFH 0... 8160 32 rpm\nMinimum engine speed to set fade-out\nC_N_MAX_ER_STND_ACT_AFU V 0... FFH 0... 8160 32 rpm\nMaximum engine speed to calculate ER_STD or ER_STND values\nC_N_SEG_GRD_MAX_AFU V 0... 7F80H 0... 8160 0.25 rpm\nMaximum segment gradient\nC_SEG_DLY_FDOUT_OFF V 0... FFFFH 0... 65535 1 -\nDelay time for activating acceleration fade out for AFU\nC_STATE_ENG_FQ_ER_FDOUT V\n0H ES\n1H ST\n2H IS\n3H PL\n4H PU\n5H PUC\n- -\nConstant for setting of FDOUT-bit to avoid unintended triggering of FAC_FQ depending on engine state\nC_VS_MAX_FDOUT V 0... FFFFH 0... 655.35 0.01 km/h\nVehicle speed limit for acceleration fade out for AFU\nFile: 3040EK03.00C\n1305Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2607, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "42d9db43-1f31-4804-82c9-e4bd95b715fa": {"__data__": {"id_": "42d9db43-1f31-4804-82c9-e4bd95b715fa", "embedding": null, "metadata": {"page_label": "18", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7c9c3309-556a-4850-8958-5162726d4536", "node_type": "4", "metadata": {"page_label": "18", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "f76cf498f5b13c41dcd5f6d11ff083934ee3785e11db233bc225750b8cd06dca", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness signal preparation for fuel quality adaptation\nName Mode Coded Limits Display Limits Resolution Unit\nIP_CTR_DLY_DRV1_STND_AFU_DEC V 0... FFH 0... 255 1 -\nLDP_N_SEG_GRD_AFU_IP_CTR_DLY 6 0... 7F80H 0... 8160 0.25 rpm\nSegment delay counter decrement value\nIP_DLY_DRV1_STND_AFU V 0... FFFFH 0... 65535 1 -\nLDP_DRV1_STND_BAL_IP_DLY_AFU 8 0... FFFFH -325.78...\n325.7700579834\n0.00994202 1/s2\nSegment delay counter start value\nIP_T_AST_DRV1_FDOUT_ENA_AFU V 0... FFFFH 0... 6553.5 0.1 s\nLDP_TCO_ST_IP_DRV1_FDOUT_AFU 6 0... FEH -48... 142.5 0.75 \ufffdC\nCalibration map to de?ne fade out depending on time after start\nLC_CLU_SWI_FDOUT V 0... 1H 0 ...1 1 -\nManual activation for clutch switch\nLC_DRV1_FDOUT_ENA_AFU V 0... 1H 0 ...1 1 -\nSwitch to activate the fade out calculation\nLC_FQ_ER_FDOUT_INI V 0... 1H 0 ...1 1 -\nCalibration to switch fade out bit initialization\n\ufffd General Information\nAttention - This speci?cation version (402U01) is only valid for software variants which are providing the input\nvariables ER and DRV1_ER as 16 bit values.\nThe engine roughness signal ER as well as the dynamic part of the engine roughness signal DRV1_ER are used\nas basis for the calculation of the input signal for AFU control functions. The calculations are kept cylinder\nindividual corresponding on the actual segment number SEG_NR_ER.\nThe module \"Engine roughness signal preparation for AFU\" is divided in two separate chapters. Within the ?rst\npart the calculation of the input signals for the AFU controller is done, while the second part is providing fade\nout conditions while AFU has to be interrupted.\n\ufffd Application Conditions\nInitialisation: RST, NVMRES, NVMINI, NVMSTO\nActivation: always\nDeactivation: never\nRecurrence: SEG\n\ufffd Function Description\nFile: 3040EK03.00C\n1306Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2265, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7e6a6ebf-52a1-4997-a2bd-d8d8a31c292e": {"__data__": {"id_": "7e6a6ebf-52a1-4997-a2bd-d8d8a31c292e", "embedding": null, "metadata": {"page_label": "19", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a265855e-dcfc-415c-b6f5-ad946dcf6f3c", "node_type": "4", "metadata": {"page_label": "19", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "4206ca31aca8cb6e19d85795f672b3bdcbca3b8aabf9fb8d8f47f52867c64178", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness signal preparation for fuel quality adaptation\nSDA_SRS / SDA V 7.1 / 26?Mar?2013\nVS_H_RES\n13\nT_AST\n10\nTCO_ST\n11\nV.6.9\nCTR_DLY_DRV1_STND_AFU:    V   \nCTR_SEG_ST_FDOUT_AFU:    V   \nDLY_DRV1_STND_AFU:    V   \nDRV1_STND_AFU:    V   \nER_STD_AFU:  O V   \nER_STD_DIF_AFU:    V   \nER_STD_MMV_AFU:  O V S \nER_STND_AFU:    V   \nER_STND_FIL_AFU:    V   \nER_STND_MMV_AFU:  O V S \nER_STND_MMV_DIF_AFU:  O V   \nER_STND_MMV_MV_AFU:    V   \nER_STND_MMV_STD_AFU:  O V S \nLV_DRV1_ER_AFU_ACT:  O V   \nLV_DRV1_STND_AFU_FDOUT:  O V   \nLV_ER_STND_ER_AFU_ACT:  O V   \nN_SEG_GRD_AFU:    V   \nN_ST_FDOUT_AFU:    V   STATE_ENG\n12\nSEG_NR_ER\n2\nOPM\nX.2\nf()\ninput\nfeedback\nact\nmean\nstd\nstnd\ndrv1\nN_32\n3\nNC_CYL_NR\n5\nMAF\n7\nLV_ST_END\n6\nLV_SEG_AD_AVL_ER\n9\nLV_PUC\n8\n<LV_ER_STND_ER_AFU_ACT>\n<LV_DRV1_STND_AFU_FDOUT>\n<LV_DRV1_ER_AFU_ACT>\nLV_CLU_SWI_2\n15\nLV_CLU_SWI\n14\nINI\nX.1\nfc_INI\nbus_feedback\nini\n[fc_INI]\n[fc_OPM]\n[fc_INI]\n[fc_OPM]\n<ER_STND_MMV_STD_AFU>\n<ER_STND_MMV_DIF_AFU>\n<ER_STND_MMV_AFU>\n<ER_STD_MMV_AFU>\n<ER_STD_AFU>\nER\n1\nDRV1_ER\n4\nAPP_CDN\nV.7.2\nfc_INI\nfc_OPM__SEG\nRecurrence:        SEG\nInit:             RST\n            NVMRES\n            NVMINI\n            NVMSTO\nActivation:\nalways\nDeactivation:\nnever\nFigure 4.4.1:\nFile: 3040EK03.00C\n1307Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1724, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f2b115f5-5ad3-4c07-b7f5-5f764a04780e": {"__data__": {"id_": "f2b115f5-5ad3-4c07-b7f5-5f764a04780e", "embedding": null, "metadata": {"page_label": "20", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6c217305-47d0-4fcc-b1de-e49918717643", "node_type": "4", "metadata": {"page_label": "20", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "b1636afe8b70420383f516de458cdc6f866a7d78c77e114f479f65b831f9de8b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness signal preparation for fuel quality adaptation\nFile: 3040EK03.00C\n1308Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 577, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d06fa274-550f-41cb-b17a-943aae7b736d": {"__data__": {"id_": "d06fa274-550f-41cb-b17a-943aae7b736d", "embedding": null, "metadata": {"page_label": "21", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4ca6f85e-fa72-49a5-b1b1-2634d3ab2a59", "node_type": "4", "metadata": {"page_label": "21", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "a5811623e6807c2b4dc942589bbd737ffed5ab111ca934158673fb9102422f1d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness signal preparation for fuel quality adaptation\n4.4.1 Calculation of non-volatile memory tasks\n4.4.1.1 Calculation of variables at reset task\nLV_DRV1_ER_AFU_ACT\n18\nLV_ER_STND_ER_AFU_ACT\n17\nN_SEG_GRD_AFU\n16\nN_ST_FDOUT_AFU\n15\nCTR_SEG_ST_FDOUT_AFU\n14\nLV_DRV1_STND_AFU_FDOUT\n13\nCTR_DLY_DRV1_STND_AFU\n12\nDLY_DRV1_STND_AFU\n11\nDRV1_STND_AFU\n10\nER_STD_AFU\n9\nER_STD_DIF_AFU\n8\nER_STND_MMV_DIF_AFU\n7\nER_STND_MMV_MV_AFU\n6\nER_STND_FIL_AFU\n5\nER_STND_AFU\n4\nER_STND_MMV_STD_AFU_out\n3\nER_STND_MMV_AFU_out\n2\nER_STD_MMV_AFU_out\n1\ninit = 0\nV.6.11\n[ NC_CYL_NR ] array\ninit = 0\nV.6.11\n[ NC_CYL_NR ] array\nV.5.5\n0\nV.5.5\n0\nV.5.5\n0\nV.5.5\n0\nV.5.5\n0\nV.5.5\n0\nV.5.5\n0\nV.5.5\n0\nV.5.5\n0\nV.5.5\n0\nV.5.5\n0\nV.5.5\n0\nV.5.5\n0\nf()\nER_STND_MMV_STD_AFU_in\n3\nER_STND_MMV_AFU_in\n2\nER_STD_MMV_AFU_in\n1\nLV_DRV1_ER_AFU_ACT\nLV_ER_STND_ER_AFU_ACT\nN_SEG_GRD_AFU\nN_ST_FDOUT_AFU\nCTR_SEG_ST_FDOUT_AFU\nLV_DRV1_STND_AFU_FDOUT\nCTR_DLY_DRV1_STND_AFU\nDLY_DRV1_STND_AFU\nDRV1_STND_AFU\nER_STD_AFU\nER_STD_DIF_AFU\nER_STND_MMV_DIF_AFU\nER_STND_MMV_MV_AFU\nER_STND_FIL_AFU\nER_STND_AFU\nFigure 4.4.2:\nFile: 3040EK03.00C\n1309Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1561, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8048c3cd-121e-42cd-b559-54d858c5a742": {"__data__": {"id_": "8048c3cd-121e-42cd-b559-54d858c5a742", "embedding": null, "metadata": {"page_label": "22", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c7a61384-4564-4c49-be1e-4f734fd262cd", "node_type": "4", "metadata": {"page_label": "22", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "d61328bb76bfbdd456aa01dbba25555ddc17edaed4891b1aa4bf009bc848c343", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness signal preparation for fuel quality adaptation\n4.4.2 Calculation of OPR_ER_STND and OPR_DRV1 - tasks\ndrv1\n5\nstnd\n4\nstd\n3\nmean\n2\nact\n1\nV.6.4\ncond_if\nif\nelse\nV.6.4\ncond_if if\nV.6.1\nV.6.1\nOPR_ER_STND\nX.2.2\nf()\nbus_input\nbus_feedback\nbus_mean\nbus_std\nbus_stnd\nOPR_DRV1\nX.2.1\nf()bus_input\nbus_feedback\nbus_drv1\nV.6.6\nIP_T_AST_DRV1_FDOUT_ENA_AFU\nV.7.11\nx_val IP_val\nV.6.6\nDEAC_DRV1\nX.2.3\nfc()\nbus_drv1\nV.6.4\nLC_DRV1_FDOUT_ENA_AFU\nV.6.4\nC_N_MAX_ER_STND_ACT_AFU\nV.6.0\nBusMerge\nV.6.10\nAND\nV.6.10\nAND\nf()\nfeedback\n2\ninput\n1\n<TCO_ST>\n<T_AST>\n<LV_SEG_AD_AVL_ER>\nLV_DRV1_ER_AFU_ACT\nLV_ER_STND_ER_AFU_ACT\n<LV_ST_END>\n<N_32>\nFigure 4.4.3:\n4.4.2.1 Calculation of AFU acceleration fade out conditions\nMultiplying the dynamic component (DRV1_ER) part of the engine roughness calculation with the engine speed\nby the power of three normalizes the signal. The de?ned signal is reproducing the engine acceleration in\nnumbers. If the acceleration is quite high or low, in case of speeding up or down, the AFU adaptation is stopped\nfor a certain number of segments. The number of segments are stored in a counter, which is counting back\nto zero in certain steps as mentioned in the signal ?ow diagram.\nFile: 3040EK03.00C\n1310Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1709, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "da21b650-e342-4420-b610-f6ca1bb3d6bd": {"__data__": {"id_": "da21b650-e342-4420-b610-f6ca1bb3d6bd", "embedding": null, "metadata": {"page_label": "23", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ee157a16-18ec-4b8a-a7db-1efae9087b07", "node_type": "4", "metadata": {"page_label": "23", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "689fd0ca1e4b0c4c8fdb4f01cc619033394d49be1275572e21c49a4d79992972", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4dbf01e8-b417-4b29-8225-166c63553203", "node_type": "1", "metadata": {}, "hash": "411d13f252842c4a33ba08e4812747b6804fb649da0bc232b75b11f2d71677df", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness signal preparation for fuel quality adaptation\n4.4.2.1.1 Calculation of AFU acceleration fade out conditions DRV1_ER\nCTR_SEG_ST_FDOUT_AFU_out\n7\nN_ST_FDOUT_AFU_out\n6\nN_SEG_GRD_AFU\n5\nLV_DRV1_STND_AFU_FDOUT_out\n4\nCTR_DLY_DRV1_STND_AFU_out\n3\nDLY_DRV1_STND_AFU\n2\nDRV1_STND_AFU\n1\nIP_CTR_DLY_DRV1_STND_AFU_DEC\nV.7.11\nx_val IP_val\nIP_DLY_DRV1_STND_AFU\nV.7.11\nx_val IP_val\nV.6.4\ncond_if\nif\nelse\nV.6.1\nV.6.1\nV.6.7\nXOR\nInit = 0\nz\n1\nInit = 0\nz\n1\nV.7.10\nn\nu\nx_in\ny\nx_out\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nV.7.7\n+\n?", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 953, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4dbf01e8-b417-4b29-8225-166c63553203": {"__data__": {"id_": "4dbf01e8-b417-4b29-8225-166c63553203", "embedding": null, "metadata": {"page_label": "23", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ee157a16-18ec-4b8a-a7db-1efae9087b07", "node_type": "4", "metadata": {"page_label": "23", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "689fd0ca1e4b0c4c8fdb4f01cc619033394d49be1275572e21c49a4d79992972", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "da21b650-e342-4420-b610-f6ca1bb3d6bd", "node_type": "1", "metadata": {"page_label": "23", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "f86d1dae6d03cde8386013ec15724a4af0448b5db973cd0b73ed56885eb9b1d8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "V.7.7\n+\n+\nV.5.5\n0\nPhysicalConversion\nV.5.5\n(10^?6)/(60*60*60)\nV.6.7\nOR\nV.6.7\nOR\nV.6.8\nNOT\nV.6.8\nNOT\nV.7.8\nV.7.8\nV.7.8\nV.7.8\nMerge V.6.20\nMX = 65535\nMN = 0\nu y\nLV_DRV1_STND_AFU_FDOUT_in1\n12\nV.6.6\nV.6.6\n[N_SEG_GRD_AFU]\n[N_32]\n[DLY_DRV1]\n1\n1\n1\n1\n1\nV.6.6\nV.6.6\nV.6.6\nV.6.6\nV.6.6\nV.6.6\n[N_32]\n[N_SEG_GRD_AFU]\n[N_32]\n[DLY_DRV1]\n[DLY_DRV1]\nV.5.2\nV.5.2\nV.6.8\nu\nx_in\ny\nx_out\nV.6.4\nC_VS_MAX_FDOUT\nV.6.4\nC_STATE_ENG_FQ_ER_FDOUT\nV.6.4\nC_MAF_MAX_FDOUT_AFU\nV.6.4\nC_MAF_MIN_FDOUT_AFU\nV.6.4\nC_N_32_MAX_FDOUT_AFU\n0\n0\n1\nV.6.4\nLC_CLU_SWI_FDOUT\nV.6.4\nC_SEG_DLY_FDOUT_OFF\nV.6.4\n0\n0\nV.6.4\nC_N_32_MIN_FDOUT_AFU\nCLC_N_SEG_GRD\nX.2.1.1.1\nN_32\nN_ST_FDOUT_AFU\nCTR_SEG_ST_FDOUT_AFU\nN_SEG_GRD_AFU\nV.6.10\nAND\nLV_DRV1_STND_AFU_FDOUT_in\n12\nCTR_SEG_ST_FDOUT_AFU_in\n11\nN_ST_FDOUT_AFU_in\n10\nCTR_DLY_DRV1_STND_AFU_in\n9\nLV_CLU_SWI_2\n8\nLV_CLU_SWI\n7\nVS_H_RES\n6\nSTATE_ENG\n5\nLV_PUC\n4\nMAF\n3\nN_32\n2\nDRV1_ER\n1\nLV_DRV1_STND_AFU_FDOUT\n<MAF>\n<LV_PUC>\nCTR_SEG_ST_FDOUT_AFU\nN_ST_FDOUT_AFU\nN_SEG_GRD_AFU\n<N_32>\n<N_32>\n<N_32>\n<N_32>\n<N_32><N_32>\nFigure 4.4.4:\nFile: 3040EK03.00C\n1311Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 954, "end_char_idx": 2091, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f5cdb7f0-330e-487d-9488-99d4f68bdf54": {"__data__": {"id_": "f5cdb7f0-330e-487d-9488-99d4f68bdf54", "embedding": null, "metadata": {"page_label": "24", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "82393d5e-898b-4882-aae6-b0b58d4a4679", "node_type": "4", "metadata": {"page_label": "24", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "f660c9e35587ccd334fde372feee7a666999bd897cbc8b2d0620e587bf98c135", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness signal preparation for fuel quality adaptation\n4.4.2.1.1.1 Calculation of engine speed gradient per segment\nThe engine speed gradient per segment is only calculated if CTR_SEG_ST_FDOUT_AFU is greater than C_CTR_\nSEG_MIN_FDOUT_AFU (minimu 1).\nN_SEG_GRD_AFU\n1\nV.6.4\ncond_if\nif\nelse\nV.7.7\n+\n?\nV.5.5\n0\nV.5.5\nC_N_SEG_GRD_MAX_AFU\nV.5.5\nC_N_SEG_GRD_MAX_AFU\nMerge\nV.6.11\nmax\nV.6.20\nMX\nMN\nu\ny\nV.6.6\nV.7.7\nV.6.4\nC_CTR_SEG_MIN_FDOUT_AFU\n1\nV.7.14\nCTR_SEG_ST_FDOUT_AFU\n3\nN_ST_FDOUT_AFU\n2\nN_32\n1\nFigure 4.4.5:\n4.4.2.2 Input signals for AFU adaptation functions\nThe ER values are used to calculate normalized cylinder selective engine roughness values ER_STND_AFU.\nAfter normalization (multiplication by N_32?3), the cylinder selective values are ?ltered by a Median Filter and\na PT1-Filter.\nIn addition, moving mean values are built (ER_STND_MMV_STD_AFU[SEG_NR_ER]) for the calculation of cylin-\nder speci?c standard deviations (ER_STD_AFU[SEG_NR_ER]).\nThe standard deviation ER_STD_DIF_AFU is calculated by subtracting the moving mean values ER_STND_\nMMV_STD_AFU[SEG_NR_ER] from the ER_STND_AFU values.\nThe resulting difference ER_STD_DIF_AFU is multiplied with a weighting factor for negative and positive val-\nues (C_FAC_ER_STD_NEG/POS_AFU). Afterwards a moving mean value is calculated based on this weighted\nsignal.\nTo allow a cylinder speci?c adaptation via the engine roughness, a speci?c signal has to be created for each\ncylinder. Therefore, from the variable ER_STND_MMV_AFU[SEG_NR_ER] the value ER_STND_MMV_MV_AFU\n(average value of all cylinder speci?c moving mean values) is subtracted.\nThe values ER_STD_MMV_AFU[SEG_NR_ER], ER_STND_MMV_AFU[SEG_NR_ER] and ER_STND_MMV_STD_AFU[SEG_\nNR_ER] are stored in the non-volatile memory (NVMY) and used for initialization issues at next engine run.\nFile: 3040EK03.00C\n1312Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2316, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fe0607e4-c756-4b99-baba-e6a3b768349e": {"__data__": {"id_": "fe0607e4-c756-4b99-baba-e6a3b768349e", "embedding": null, "metadata": {"page_label": "25", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "2b1d62fe-072c-4a03-90ef-aa0c05a1d8c4", "node_type": "4", "metadata": {"page_label": "25", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "000305298d992c20fdf5ae47f62d04f4518c013aaac8ce29ab02fae27e2d8441", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness signal preparation for fuel quality adaptation\n4.4.2.2.1 Input signals for AFU adaptation functions OPR_MEAN\n4.4.2.2.1.1 Input signals for AFU adaptation functions OPR_MEAN - MEAN\nER_STND_MMV_AFU_out\n4\nER_STND_MMV_STD_AFU_out\n3\nER_STND_FIL_AFU\n2\nER_STND_AFU\n1\nV.5.5C0\n[..]\nu\nV.5.5C0\n[..]\nu\nV.6.16\nC0\n[..]\nV.6.16\nC0\n[..] V.7.7\n+\n+\nV.7.7\n+\n?\nV.7.7\n+\n+\nV.7.7\n+\n?\nV.5.5\n1\nV.5.5\nC_CRLC_ER_STND_AFU\nV.5.5\n1\nV.5.5\nC_CRLC_ER_STD_AFU\nV.5.5\nC_CRLC_ER_STD_AFU\nV.5.5\nC_CRLC_ER_STND_AFU\nPhysicalConversion\nV.5.5\n(10^?6)/(60*60*60)\nV.7.8\nV.7.8\nV.7.8\nV.7.8\nV.7.8\nV.7.8\nV.7.8\nV.7.8\nMEDIAN_FILTER\nX.2.2.1.1.1\nER_STND_AFU\nSEG_NR_ER\nER_STND_FIL_AFU\n[CLC2]\n[CLC1]\n[SEG_NR_ER]\n[FIL_cur]\n1\n1\n[CLC2]\n[SEG_NR_ER]\n[FIL_cur]\n[FIL_cur]\n[SEG_NR_ER]\n[SEG_NR_ER]\n[CLC1]\n[SEG_NR_ER]\nER_STND_MMV_AFU_in\n5\nER_STND_MMV_STD_AFU_in\n4\nSEG_NR_ER\n3\nN_32\n2\nER\n1\nER_STND_AFUER_STND_AFU\nFigure 4.4.6:\n4.4.2.2.1.1.1 MEDIAN_FIL TER\nFile: 3040EK03.00C\n1313Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1418, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c9f28e0a-1fe7-43e5-8713-238c75c32b57": {"__data__": {"id_": "c9f28e0a-1fe7-43e5-8713-238c75c32b57", "embedding": null, "metadata": {"page_label": "26", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "05942375-3b99-460d-b127-2d71be6008f2", "node_type": "4", "metadata": {"page_label": "26", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "d457887343c232ef3d4587c421cd2f21ebe228c0eb99d0af75b2cde83e2aed3a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness signal preparation for fuel quality adaptation\n4.4.2.2.2 Input signals for AFU adaptation functions OPR_STD\n4.4.2.2.2.1 Input signals for AFU adaptation functions OPR_STD - STD\nER_STD_MMV_AFU_out\n3\nER_STD_AFU\n2\nER_STD_DIF_AFU\n1\nV.5.5C 0\n[..]\nu\nV.5.5C 0\n[..]\nu\nV.6.16\nC 0\n[..]\nV.6.16\nC 0\n[..]\nV.6.4\ncond_if\nif\nelse\nV.7.7\n+\n+V.7.7\n+\n?\nV.7.7\n?\n+\nV.5.5\nC_CRLC_ER_STD_MMV_AFU\nV.5.5\nC_CRLC_ER_STD_MMV_AFU\nV.7.4\nV.7.8\nV.7.8\nV.7.8\nV.7.8\nMergeV.6.6\n[SEG_NR_ER]\n[ER_STD_AFU]\n1\n[ER_STD_AFU]\n[SEG_NR_ER]\n[ER_STD_AFU]\n[SEG_NR_ER]\n[SEG_NR_ER]\nV.5.2\nV.5.2\nV.5.5\n0\nV.5.5\nC_FAC_ER_STD_POS_AFU\nV.5.5\n1\nV.5.5\nC_FAC_ER_STD_NEG_AFU\nER_STD_MMV_AFU_in\n5\nER_STD_AFU_in\n4\nER_STND_AFU\n3\nER_STND_MMV_STD_AFU\n2\nSEG_NR_ER\n1\nFigure 4.4.7:\n4.4.2.2.3 Input signals for AFU adaptation functions OPR_STND\n4.4.2.2.3.1 Input signals for AFU adaptation functions OPR_STND - STND\nER_STND_MMV_MV_AFU\n2\nER_STND_MMV_DIF_AFU_out\n1\nV.5.5C 0\n[..]\nu\nV.6.16\nC 0\n[..]\nV.7.7\n+\n?\nV.7.7\n1\n1\nV.7.7\nV.5.5\nNC_CYL_NR\nER_STND_MMV_DIF_AFU_in\n3\nER_STND_MMV_AFU\n2\nSEG_NR_ER\n1\nFigure 4.4.8:\nFile: 3040EK03.00C\n1314Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1562, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7b51f336-3e53-4fda-92aa-19382ab25a8e": {"__data__": {"id_": "7b51f336-3e53-4fda-92aa-19382ab25a8e", "embedding": null, "metadata": {"page_label": "27", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "25087e94-878e-4f3e-b67c-f32aa3a99421", "node_type": "4", "metadata": {"page_label": "27", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "5c2fe622edcb0150ffcd2efc23d4b917ef2994febb2da02e212f8c3318bd8761", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness signal preparation for fuel quality adaptation\n4.4.2.3 Deactivation\nbus_drv1\n1\nSwitch\n ~= \nConstant5\n0\nV.6.4\n0\nV.6.4\nLC_FQ_ER_FDOUT_INI\nConstant1\n1\nV.6.4\n0\nf()\nLV_DRV1_STND_AFU_FDOUT\nCTR_DLY_DRV1_STND_AFU\nCTR_SEG_ST_FDOUT_AFU\nFigure 4.4.9:\nFile: 3040EK03.00C\n1315Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 770, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d7491e00-c7e9-4688-b76c-00d6d9340939": {"__data__": {"id_": "d7491e00-c7e9-4688-b76c-00d6d9340939", "embedding": null, "metadata": {"page_label": "28", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6ebbc2e0-c352-465e-9bb8-063a58b85d6a", "node_type": "4", "metadata": {"page_label": "28", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "ed38027a1995343c19938b5c457a626a2df2a5c00544726dec83d6492e744fea", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Injection time correction for alternative fuel\n4.5 Injection time correction for alternative fuel\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nFAC_MFF_AFU_CYL [NC_CYL_NR] O/V 0... FFFFH 0...\n15.99975585938\n244.141e-6 -\nCylinder individual injection mass correction from ALFU\nFAC_TI_AFU O/V 0... FFFFH 0...\n15.99975585938\n244.141e-6 -\nInjection time correction caused by the alternative fuel\n\ufffd Input Data\nFAC_MFF_AFU_CYL_ER\n[NC_CYL_NR]\n{p. 1395}\nFAC_MFF_AFU_CYL_ERU\n[NC_CYL_NR]\n{p. 1318}\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_CYL_NR V/S 1... 8H 1 ...8 1 -\nNumder of cylinder\n\ufffd General Information\n\ufffd Application Conditions\nInitialization: RST\nRecurrence: SEG\nActivation: always\nDeactivation: never\n\ufffd Function Description\nFile: 30708N03.00B\n1316Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1297, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "37655c75-d810-4267-85e1-c324a66c9893": {"__data__": {"id_": "37655c75-d810-4267-85e1-c324a66c9893", "embedding": null, "metadata": {"page_label": "29", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7dc3f531-d64c-4664-bcbe-002842374cd5", "node_type": "4", "metadata": {"page_label": "29", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "81044e907a7e4d7ba19694eb353897525b21cb6b363ef0e2d07c40c643ce645f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Injection time correction for alternative fuel\nSDA_SRS / SDA V 5.3.2 / 07?May?2008\n2\nFAC_TI_AFU\n1\nFAC_MFF_AFU_CYL\nFAC_MFF_AFU_CYL:  O V   \nFAC_TI_AFU:  O V   \nV. 5.9\nfc()\ninput opm\nOPM\nX.2\nfc()\nini\nINI\nX.1\n2\nFAC_MFF_AFU_CYL_ERU\n1\nFAC_MFF_AFU_CYL_ER\nfc_INI\nfc_OPM\nRecurrence:        SEG\nInit:             RST\nActivation: \nDeactivation: \nalways\nnever\nAPP_CDN_new\nV. 5.13\nFigure 4.5.1:\n4.5.1 Initialisation at RESET event\n1\nini\n[ NC_CYL_NR ] array\ninit = 1\n1\nV. 6.4\nf()\nFAC_TI_AFU\nini\nFAC_MFF_AFU_CYL\nFigure 4.5.2:\n4.5.2 Calculation at SEG event\n4.5.2.1 FAC_MFF_AFU_CYL calculation\n2\nFAC_TI_AFU\n1\nFAC_MFF_AFU_CYL\nx\nV. 5.3\n1\nV. 6.4\n2\nFAC_MFF_AFU_CYL_ERU\n1\nFAC_MFF_AFU_CYL_ER\nFigure 4.5.3:\nFile: 30708N03.00B\n1317Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1198, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d001f1e3-3c7c-45a6-a173-459bda7d58d9": {"__data__": {"id_": "d001f1e3-3c7c-45a6-a173-459bda7d58d9", "embedding": null, "metadata": {"page_label": "30", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4f9ac724-df16-4727-b3b6-1c745795f0a7", "node_type": "4", "metadata": {"page_label": "30", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "f4ba45e7eae8a53708939b4096f2f8bdc4a6b17144023258de1893106093e82b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6 Engine running adaptation (AFU)\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nCTR_CLC_ERU_AD_LAMB V 0... FFH 0... 255 1 -\nDelay counter for LAMB_ADD_ERU_AD_LAMB calculation\nCTR_SEG_MFF_AFU_ERU V 0... FFFFH 0... 65535 1 -\nSegment counter for injection mass correction\nCYL_NR_ERU V 0... BH 0... 11 1 -\nCylinder number for injection time correction calculation\nDELTA_LAMB_CLC_ER V 8000... 7FFFH -8...\n7.999755859375\n244.141e-6 -\nDifference between ?ltered calculated lambda and lambda set point\nER_STND_DIF_AFR_AFL V 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nDifference in engine roughness between rich and lean cylinder\nFAC_AFU_RATIO_ERU O/V 0... 80H 0 ...1 0.0078125 -\nFlex Fuel ratio to keep engine running if no detection algorithm has analysed the fuel\nFAC_AFU_RATIO_ERU_INI V 0... 80H 0 ...1 0.0078125 -\nFlex Fuel ratio at the beginning of the driving cycle for engine running adaptation\nFAC_AFU_RATIO_ERU_VLD V 0... FFH 0... 0.99609375 0.00390625 -\nValidity value of engine running adaptation for deactivation of the function\nFAC_ER_DIF_RATIO V 80... 7FH -2... 1.984375 0.015625 -\nRatio of ER_STND_DIF_AFR_AFL compared with difference between lean and rich maps\nFAC_ERU_WUP_COR V 0... FFFFH 0...\n15.99975585938\n244.141e-6 -\nWarm up correction factor for the engine running adaptation\nFAC_MFF_AFU_CYL_ERU [NC_CYL_NR] O/V 0... FFFFH 0...\n15.99975585938\n244.141e-6 -\nCylinder individual injection mass correstion based on Engine running adaptation from ALFU\nFAC_MFF_AFU_RATIO_ERU_INI V 40... C0H 0.5 ...1.5 0.0078125 -\nInjection mass correction factor for the initial FF ratio\nFAC_MFF_ERU V 0... FFFFH 0... 1.999969 30.5176e-6 -\nInjection mass calculation factor for engine running adaptation\nFAC_MFF_ERU_AD O/V 0... FFFFH 0... 1.999969 30.5176e-6 -\nFinal injection mass correction for the engine running adaptation\nFAC_MFF_ERU_AD_CLC V 0... FFFFH 0... 1.999969 30.5176e-6 -\nCalculated injection mass correction for the engine running adaptation\nIDX_CBK_NR_ERU V 0... 1H 0 ...1 1 -\nExhaust cylinder bank selected for injection correction\nIDX_INJ_COR V 0... FFH 0... 255 1 -\nIndex counter to apply injection correction\nLAMB_ADD_ERU_AD O/V 8000... 7FFFH -8...\n7.999755859375\n244.141e-6 -\nActual additive lambda correction of the engine running adaptation saved in non volatile memory\nLAMB_ADD_ERU_AD_LAMB V 8000... 7FFFH -8...\n7.999755859375\n244.141e-6 -\nAdditive lambda correction calculated out of the calculated lambda\nFile: 30709J08.00A\n1318Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3001, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c31c0b2f-9e19-442a-8e5d-54e6b1330f37": {"__data__": {"id_": "c31c0b2f-9e19-442a-8e5d-54e6b1330f37", "embedding": null, "metadata": {"page_label": "31", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9690b080-d6e6-4cb2-a4fb-3325d428db77", "node_type": "4", "metadata": {"page_label": "31", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "ea9b73006c39bacfaf1293c9cfc076e869d04c5fd611ace26ce66a1223789bde", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\nName Mode Coded Limits Display Limits Resolution Unit\nLAMB_ADD_ERU_AD_MAX V 8000... 7FFFH -8...\n7.999755859375\n244.141e-6 -\nMaximum additive lambda correction for the engine running adaptation (positive value = enrichment)\nLAMB_ADD_ERU_AD_MIN V 8000... 7FFFH -8...\n7.999755859375\n244.141e-6 -\nMinimum additive lambda correction for the engine running adaptation (positive value = enrichment)\nLAMB_CLC_ER V 0... FFFFH 0...\n15.99975585938\n244.141e-6 -\nCalculated lambda out of engine roughness values\nLAMB_CLC_ER_FIL V 0... FFFFH 0...\n15.99975585938\n244.141e-6 -\nFiltered calculated lambda out of engine roughness values\nLV_FAC_AFU_RATIO_ERU_ACT O/V 0... 1H 0 ...1 1 -\nFlag indicating, that the injection time correction is to be done by FAC_AFU_RATIO_ERU\nLV_FAC_AFU_RATIO_ERU_VLD O/V/S 0... 1H 0 ...1 1 -\nFlag indicating, that the injection time correction done by FAC_AFU_RATIO_ERU is valid\nNR_CYL_MFF_AFL V 0... BH 0... 11 1 -\nCylinder number of the lean cylinder\nNR_CYL_MFF_AFR V 0... BH 0... 11 1 -\nCylinder number of the rich cylinder\n\ufffd Input Data\nC_MFF_SUM_REFU_MAX\n{p. 1406}\nEFF_IGA_AV\n{p. 25177}\nER_STND_MMV_AFU\n[NC_CYL_NR]\n{p. 1304}\nFAC_AFU_RATIO\n{p. 1396}\nFAC_AFU_RATIO_EXT_ADJ\n{p. 23173}\nFAC_AFU_RATIO_FTL_MAX\n{p. 1369}\nFAC_AFU_RATIO_FTL_MIN\n{p. 1369}\nLAMB_SP [NC_CBK_EX_NR]\n{p. 23075}\nLV_DRV1_STND_AFU_FDOUT\n{p. 1304}\nLV_ES\n{p. 7530}\nLV_FAC_AFU_RATIO_EXT_ADJ\n{p. 23183}\nLV_FAC_AFU_RATIO_LAMB_\nACT\n{p. 1350}\nLV_INH_FAC_AFU_RATIO_ERU\n{p. 1347}\nLV_IS\n{p. 7530}\nLV_PL\n{p. 7530}\nLV_ST_END\n{p. 7530}\nMAF\n{p. 3012}\nMFF_SUM_REFU\n{p. 1369}\nN_32\n{p. 8079}\nNC_CBK_EX_NR\n{p. 13927}\nNC_CYL_NR\n{p. 1316}\nNC_NR_INJ_COR\n{p. 1292}\nNC_NR_LEN_ER_DIF_MAF\n{p. 1292}\nNC_NR_LEN_ER_DIF_N_32\n{p. 1292}\nSTATE_ALFU_CTL\n{p. 1405}\nTCO\n{p. 8846}\nTCO_ST\n{p. 8846}\nTOIL\n{p. 7287}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_CRLC_LAMB_CLC_ER_FIL V 0... FFH 0... 0.99609375 0.00390625 -\nFilter constant of caluclated lambda\nC_CTR_CLC_ERU_AD_LAMB_INI V 0... FFH 0... 255 1 -\nDelay counter initialisation dependant on warm up correction factor\nFile: 30709J08.00A\n1319Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2595, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5efa04e4-b856-4b00-a206-2ba894f66dbb": {"__data__": {"id_": "5efa04e4-b856-4b00-a206-2ba894f66dbb", "embedding": null, "metadata": {"page_label": "32", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ed9cafe1-a3f1-40e4-bff1-d510336643ae", "node_type": "4", "metadata": {"page_label": "32", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "d512ee9e6091a7e79544889fc17a6f749cb4d42f040ede2e0647f7a4d3a72280", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\nName Mode Coded Limits Display Limits Resolution Unit\nC_CTR_SEG_MFF_AFU_ER_INI V 0... FFFFH 0... 65535 1 -\nInitialisation value of CTR_SEG_MFF_AFU_ER in case of reached maximum\nC_FAC_AFU_RATIO_ERU_VLD_INC V 0... FFH 0... 0.99609375 0.00390625 -\nIncrement for validity counter of engine running adaptation\nC_FAC_MFF_AFU_COR_MIN V 80... 7FH -0.125... 0.124023 976.561e-6 -\nMinimum injection correction spread to enable lambda calculation\nC_MAF_MIN_ERU_VLD V 0... FFFFH 0... 1389 0.02119478 mg/stk\nMass air ?ow threshold for validity calculation\nC_MFF_FAC_ERU V 0... FFFFH 0...\n0.124998092651\n1.90735e-6 -\nStandard injection time calculation factor for the engine running adaptation\nC_TOIL_THD_ERU_MAX V 0... C8H -40 ...160 1 \ufffdC\nUpper oil temperature threshold for validity calculation\nC_TOIL_THD_ERU_MIN V 0... C8H -40 ...160 1 \ufffdC\nLower oil temperature threshold for validity calculation\nID_EX_CBK_NR_ERU V 0... 1H 0 ...1 1 -\nLDPM_IDX_INJ_COR_1_ALFU NC_NR_\nINJ_COR\n0... FFH 0... 255 1 -\nExhaust cylinder bank of the cylinder where the injection correction is applied\nID_FAC_MFF_AFU_CYL_ERU V 0... FFH -2... 1.984375 0.015625 -\nLDPM_IDX_INJ_COR_1_ALFU NC_NR_\nINJ_COR\n0... FFH 0... 255 1 -\nLDP_CYL_NR_ERU_ID_MFF_AFU_CYL 4 0... BH 0... 11 1 -\nMap to calibrate on which cylinder the injection correction is applied including ramping\nIP_CTR_SEG_MFF_AFU_ERU_RST V 0... FFFFH 0... 65535 1 -\nLDP_FAC_ERU_WUP_COR_IP_CTR_SEG 6 0... FFFFH 0...\n15.99975585938\n244.141e-6 -\nThreshold to reset segment counter for ERU based on warm up correction\nIP_ER_STND_DIF_AFR V 0... FFFFH -325.78...\n325.7700579834\n0.00994202 1/s2\nLDPM_N_32_ER_STND_DIF NC_NR_\nLEN_ER_\nDIF_N_\n32\n0... FFH 0... 8160 32 rpm\nLDPM_MAF_ER_STND_DIF NC_NR_\nLEN_ER_\nDIF_MAF\n0... FFFFH 0... 1389 0.02119478 mg/stk\nEngine roughness difference at rich global lambda speci?ed by C_LAMB_CLC_AFR\nIP_ER_STND_DIF_AFS V 0... FFFFH -325.78...\n325.7700579834\n0.00994202 1/s2\nLDPM_N_32_ER_STND_DIF NC_NR_\nLEN_ER_\nDIF_N_\n32\n0... FFH 0... 8160 32 rpm\nLDPM_MAF_ER_STND_DIF NC_NR_\nLEN_ER_\nDIF_MAF\n0... FFFFH 0... 1389 0.02119478 mg/stk\nEngine roughness difference at stoiciometric global lambda\nIP_FAC_AFU_RATIO_MFF_FAC V 0... 80H 0 ...1 0.0078125 -\nFile: 30709J08.00A\n1320Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2726, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b10cf82d-595d-42b0-8e35-224a751cb7dd": {"__data__": {"id_": "b10cf82d-595d-42b0-8e35-224a751cb7dd", "embedding": null, "metadata": {"page_label": "33", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "46adb889-a57e-45e1-9b00-6d3d077b6735", "node_type": "4", "metadata": {"page_label": "33", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "878084f27aedf085563e9b9470467ab4276049f7113ff9dd514fd84a8930c1f7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e6ddcc29-5bdf-4adc-a529-24ee67f5ec2e", "node_type": "1", "metadata": {}, "hash": "6b7dde57a9d8e5bfac93ed4d55746663a5d6cbe1a49544d6061bcd6d9d1c3b69", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\nName Mode Coded Limits Display Limits Resolution Unit\nLDP_MFF_FAC_IP_FAC_AFU 4 0... FFFFH 0... 1.999969 30.5176e-6 -\nInverse map to IP_MFF_FAC_AFU\nIP_FAC_ERU_WUP_COR V 0... FFFFH 0...\n15.99975585938\n244.141e-6 -\nLDP_TCO_IP_FAC_ERU_WUP_COR 6 0... FEH -48... 142.5 0.75 \ufffdC\nLDPM_TCO_ST_1_ALFU 6 0... FEH -48... 142.5 0.75 \ufffdC\nWarm up correction factor for the engine running adaptation\nIP_FAC_IGA_COR V 0... FFFFH 0...\n1.999969482422\n30.5176e-6 -\nLDP_EFF_IGA_AV_IP_FAC_IGA_COR 6 0... FFFFH 0...\n1.999969482422\n30.5176e-6 -\nFactor to ER_STND based on EFF_IGA\nIP_FAC_MFF_AFU_COR_ERU V 0... FFH -0.125...\n0.1240234375\n976.563e-6 -\nLDPM_N_32_2_ALFU 14 0... FFH 0... 8160 32 rpm\nLDPM_MAF_1_ALFU 10 0... FFFFH 0... 1389 0.02119478 mg/stk\nMap to de?ne the injection correction spread between the lean and the rich cylinder\nIP_LAMB_ADD_ERU_AD_LAMB V 0... FFFFH -8...\n7.999755859375\n244.141e-6 -\nLDP_DELTA_LAMB_CLC_ER_IP_LAMB 9 0... FFFFH -8...\n7.999755859375\n244.141e-6 -\nLambda correction dependend on diference between calculated lambda and lambda set point\nIP_LAMB_CLC_ER_AFR V 0... FFFFH 0...\n15.99975585938\n244.141e-6 -\nLDPM_FAC_ER_DIF_1_ALFU 6 0... FFH -2... 1.984375 0.015625 -\nNon linear dependency of ER_STND_DIF_AFR_AFL and Lambda in rich area\nIP_LAMB_CLC_ER_AFS V 0... FFFFH 0...\n15.99975585938\n244.141e-6 -\nLDPM_FAC_ER_DIF_1_ALFU 6 0... FFH -2... 1.984375 0.015625 -\nNon linear dependency of ER_STND_DIF_AFR_AFL and Lambda in stoichiometric area\nIP_LAMB_SP_ERU V 0... FFFFH 0...\n15.99975585938\n244.141e-6 -\nLDP_LAMB_SP_IP_LAMB_SP_ERU 6 0... FFFFH 0...\n15.99975585938\n244.141e-6 -\nLDP_FAC_ERU_WUP_COR_IP_LAMB_SP 6 0... FFFFH 0...\n15.99975585938\n244.141e-6 -\nLambda setpoint for engine running adaptation with additional warm up correction\nIP_MFF_BAS_AFU V 0... FFFFH 0...\n0.124998092651\n1.90735e-6 -\nLDP_FAC_AFU_RATIO_ERU_INI 6 0... 80H 0 ...1 0.0078125 -\nStoichiometric air/fuel ratio dependent on alternative fuel ratio\nIP_TCO_MIN_ERU_VLD V 0.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2360, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e6ddcc29-5bdf-4adc-a529-24ee67f5ec2e": {"__data__": {"id_": "e6ddcc29-5bdf-4adc-a529-24ee67f5ec2e", "embedding": null, "metadata": {"page_label": "33", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "46adb889-a57e-45e1-9b00-6d3d077b6735", "node_type": "4", "metadata": {"page_label": "33", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "878084f27aedf085563e9b9470467ab4276049f7113ff9dd514fd84a8930c1f7", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b10cf82d-595d-42b0-8e35-224a751cb7dd", "node_type": "1", "metadata": {"page_label": "33", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "7024c0c53e44118f38c26279e1f12a7457178fd6229d3a2d9d3eb4260c4294f9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": ".. FFFFH 0...\n0.124998092651\n1.90735e-6 -\nLDP_FAC_AFU_RATIO_ERU_INI 6 0... 80H 0 ...1 0.0078125 -\nStoichiometric air/fuel ratio dependent on alternative fuel ratio\nIP_TCO_MIN_ERU_VLD V 0... FEH -48... 142.5 0.75 \ufffdC\nLDPM_TCO_ST_1_ALFU 6 0... FEH -48... 142.5 0.75 \ufffdC\nTCO threshold to enable valid deactivation of the engine running adaptation\nLC_CLR_LAMB_ADD_ERU_AD V 0... 1H 0 ...1 1 -\nLogical calibration to reset LAMB_ADD_ERU_AD to a de?ned value\nLC_ERU_AFL_AFR V 0... 1H 0 ...1 1 -\nSwitch to increment CTR_CLC_ERU_AD_LAMB just after lean and rich operation of the cylinder\nFile: 30709J08.00A\n1321Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 2173, "end_char_idx": 2878, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "11af09e2-b06b-4f6d-9006-a244bf33c82f": {"__data__": {"id_": "11af09e2-b06b-4f6d-9006-a244bf33c82f", "embedding": null, "metadata": {"page_label": "34", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9b647e38-848a-42a9-8054-57fccedb1569", "node_type": "4", "metadata": {"page_label": "34", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "7b5fe619dd2df60a08898a4fb01b8f24ccef06c4305fea17b5e71eb48b64475b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\nName Mode Coded Limits Display Limits Resolution Unit\nLC_FAC_AFU_RATIO_ERU_MAN_ACT V 0... 1H 0 ...1 1 -\nManual activation of engine running adaptation\n\ufffd Action De?nitions\nACTION_ALFU_RstVldEru() Mode: O\nThis action resets the validity of the engine running adaptation\n\ufffd General Information\n\ufffd Signal ?ow diagram:\nFile: 30709J08.00A\n1322Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 857, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4c510506-e790-4576-9816-8cb530d9b4c2": {"__data__": {"id_": "4c510506-e790-4576-9816-8cb530d9b4c2", "embedding": null, "metadata": {"page_label": "35", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c9a9ae37-2872-4a9a-833d-2df20556c84e", "node_type": "4", "metadata": {"page_label": "35", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "5659fec30e5c9acae903543fc1c3338c283cf60da8696bd88e8cd7a6393702d9", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "21ff3a33-88f6-4db1-9bfb-f668fed404b0", "node_type": "1", "metadata": {}, "hash": "d5ad658e9c507d11c1d11aa75b193a93e685079869693919ae924e33b8f51b11", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\nSDA_SRS / SDA V 7.1.1 / 16?Dec?2013\n[fc_NVM]\n[rstvlderu]\n[ini]\n[afu_ratio_eru_100ms]\n[fc_SEG_INI]\n[fc_100MS]\n[fc_SEG]\n[afu_ratio_eru_seg]\n[rstvlderu]\n[afu_ratio_eru_100ms]\n[afu_ratio_eru_seg]\n[fc_NVM]\n[fc_SEG_INI]\n[fc_100MS]\n[ini]\n[fc_SEG]\nTOIL\n22\nTCO_ST\n24\nTCO\n21\nV.6.3\nCTR_CLC_ERU_AD_LAMB:    V     \nCTR_SEG_MFF_AFU_ERU:    V     \nCYL_NR_ERU:    V     \nDELTA_LAMB_CLC_ER:    V     \nER_STND_DIF_AFR_AFL:    V     \nFAC_AFU_RATIO_ERU:  O V     \nFAC_AFU_RATIO_ERU_INI:    V     \nFAC_AFU_RATIO_ERU_VLD:    V     \nFAC_ERU_WUP_COR:    V     \nFAC_ER_DIF_RATIO:    V     \nFAC_MFF_AFU_CYL_ERU:  O V     \nFAC_MFF_AFU_RATIO_ERU_INI:    V     \nFAC_MFF_AFU_RATIO_FTL_MAX:  ? ? ? \nFAC_MFF_AFU_RATIO_FTL_MIN:  ? ? ?", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1117, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "21ff3a33-88f6-4db1-9bfb-f668fed404b0": {"__data__": {"id_": "21ff3a33-88f6-4db1-9bfb-f668fed404b0", "embedding": null, "metadata": {"page_label": "35", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c9a9ae37-2872-4a9a-833d-2df20556c84e", "node_type": "4", "metadata": {"page_label": "35", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "5659fec30e5c9acae903543fc1c3338c283cf60da8696bd88e8cd7a6393702d9", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4c510506-e790-4576-9816-8cb530d9b4c2", "node_type": "1", "metadata": {"page_label": "35", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "fcb56de9376e3304bf4377e5e018c023e7218a7e112c38df71ae4cb328ef1ac5", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "? ? \nFAC_MFF_AFU_RATIO_FTL_MIN:  ? ? ? \nFAC_MFF_ERU:    V     \nFAC_MFF_ERU_AD:  O V     \nFAC_MFF_ERU_AD_CLC:    V     \nIDX_CBK_NR_ERU:    V     \nIDX_INJ_COR:    V     \nLAMB_ADD_ERU_AD:  O V     \nLAMB_ADD_ERU_AD_LAMB:    V     \nLAMB_ADD_ERU_AD_MAX:    V     \nLAMB_ADD_ERU_AD_MIN:    V     \nLAMB_CLC_ER:    V     \nLAMB_CLC_ER_FIL:    V     \nLV_FAC_AFU_RATIO_ERU_ACT:  O V     \nLV_FAC_AFU_RATIO_ERU_VLD:  O V S   \nNR_CYL_MFF_AFL:    V     \nNR_CYL_MFF_AFR:    V     \nSTATE_ALFU_CTL\n7\nRSTVLDERU\nX.4\nrstvlderu\nN_32\n20\nNC_NR_LEN_ER_DIF_N_32\n26\nNC_NR_LEN_ER_DIF_MAF\n25\nNC_NR_INJ_COR\n28\nNC_CYL_NR\n19\nNC_CBK_EX_NR\n27\nMFF_SUM_REFU\n3\nMAF\n18\nLV_ST_END\n17\nLV_PL\n16\nLV_IS\n15\nLV_INH_FAC_AFU_RATIO_ERU\n1\nLV_FAC_AFU_RATIO_LAMB_ACT\n6\nLV_FAC_AFU_RATIO_EXT_ADJ\n14\nLV_FAC_AFU_RATIO_ERU_VLD\n6\nLV_FAC_AFU_RATIO_ERU_ACT\n5\nLV_ES\n13\nLV_DRV1_STND_AFU_FDOUT\n12\nLAMB_SP\n11\nLAMB_ADD_ERU_AD\n4\nINI\nX.1\nfc_NVM\nfc_INI\ninput\nfeedback\nini\nV.5.7\nALFU_REQGNENGRUN0__100MS\nV.5.7\nALFU_REQGNENGRUN0__SEG\nV.5.7\nALFU_REQGNENGRUN0__NVMSTO\nV.5.7\nALFU_REQGNENGRUN0__NVMRES\nV.5.7\nALFU_REQGNENGRUN0__NVMINI\nV.5.7\nALFU_REQGNENGRUN0__RST\nFAC_MFF_ERU_AD\n3\nFAC_MFF_AFU_CYL_ERU\n2\nFAC_AFU_RATIO_FTL_MIN\n5\nFAC_AFU_RATIO_FTL_MAX\n4\nFAC_AFU_RATIO_EXT_ADJ\n10\nFAC_AFU_RATIO_ERU\n1\nFAC_AFU_RATIO\n2\nER_STND_MMV_AFU\n9\nEFF_IGA_AV\n8\nC_MFF_SUM_REFU_MAX\n23\nAFU_RATIO_ERU_SEG\nX.2\nfc_SEG\ninput\nfeedback\nfc_SEG_INI\nafu_ratio_eru_seg\nAFU_RATIO_ERU_100MS\nX.3\nfc_100MS\ninput\nafu_ratio_eru_100ms\nACTION_ALFU_RstVldEru_T3\n7\nTCO_ST\nC_MFF_SUM_REFU_MAX\nTOIL\nTCO\nN_32\nNC_CYL_NR\nMFF_SUM_REFU\nMAF\nLV_ST_END\nLV_PL\nSTATE_ALFU_CTL\nLV_IS\nLV_INH_FAC_AFU_RATIO_ERU\nLV_FAC_AFU_RATIO_LAMB_ACT\nLV_FAC_AFU_RATIO_EXT_ADJ\nLV_ES\nLV_DRV1_STND_AFU_FDOUT\nLAMB_SP\nFAC_AFU_RATIO_FTL_MIN\nFAC_AFU_RATIO_FTL_MAX\nFAC_AFU_RATIO_EXT_ADJ\nFAC_AFU_RATIO\nER_STND_MMV_AFU\nEFF_IGA_AV\nsys_eve__nvmsto\nsys_eve__nvmres\nsys_eve__nvmini\nSYS_EVE__SEG\nSYS_EVE__RST\nSYS_EVE__100MS\nFigure 4.6.1:\n4.6.1 Initialisation\n\ufffd General Information\n\ufffd Application Conditions\n\ufffd Function Description\nFile: 30709J08.00A\n1323Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 1079, "end_char_idx": 3173, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1a1132a4-2dfe-4daa-9278-76ff72fa0ea0": {"__data__": {"id_": "1a1132a4-2dfe-4daa-9278-76ff72fa0ea0", "embedding": null, "metadata": {"page_label": "36", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "732bc2ee-c7fe-47e4-9e01-f83e9aeb3a11", "node_type": "4", "metadata": {"page_label": "36", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "bdd0d9f666ce29948b7905610baa8c02e48759bc9d2f852747b043a92c592686", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\nini\n1\nLV_FAC_AFU_RATIO_ERU_VLD\nsize: 1\ninit:0\nV.6.5\nNVMY[store]\nin out\nLV_FAC_AFU_RATIO_ERU_VLD\nsize: 1\ninit:0\nV.6.5\nNVMY[read/init]\nout\nLV_FAC_AFU_RATIO_ERU_VLD\nsize: 1\ninit:0\nV.6.5\nNVMY[read/init]\nout\n[fc_DEAC_SEG]\n[fc_ACT_SEG]\n[fc_RST]\n[fc_DEAC_SEG]\n[fc_ACT_SEG]\n[fc_RST]\nRST\nX.1.1\nfc()\nFAC_AFU_RATIO rst\nMerge\nINI_DACT\nX.1.3\nfc()\nFAC_AFU_RATIO_ERU\nCTR_SEG_MFF_AFU_ERU\nFAC_MFF_ERU_AD\nFAC_AFU_RATIO_ERU_INI\nLV_FAC_AFU_RATIO_ERU_ACT\nFAC_MFF_AFU_CYL_ERU\nLAMB_ADD_ERU_AD\nINI_ACT\nX.1.2\nfc()\nFAC_AFU_RATIO\nFAC_AFU_RATIO_FTL_MAX\nFAC_AFU_RATIO_FTL_MIN\nFAC_AFU_RATIO_ERU_INI\nCTR_SEG_MFF_AFU_ERU\nFAC_MFF_AFU_RATIO_ERU_INI\nFAC_MFF_AFU_RATIO_FTL_MAX\nFAC_MFF_AFU_RATIO_FTL_MIN\nLAMB_ADD_ERU_AD_MAX\nLAMB_ADD_ERU_AD_MIN\nV.5.35\nBusMerge\nfeedback\n4\ninput\n3\nfc_INI\n2\nfc_NVM\n1\nini\nLAMB_ADD_ERU_AD\nFAC_MFF_AFU_CYL_ERU\nLV_FAC_AFU_RATIO_ERU_ACT\nFAC_AFU_RATIO_ERU_INI\nFAC_MFF_ERU_AD\nCTR_SEG_MFF_AFU_ERU\nLAMB_ADD_ERU_AD_MIN\nLAMB_ADD_ERU_AD_MAX\nFAC_MFF_AFU_RATIO_FTL_MIN\nFAC_MFF_AFU_RATIO_FTL_MAX\nFAC_MFF_AFU_RATIO_ERU_INI\nCTR_SEG_MFF_AFU_ERU\nFAC_AFU_RATIO_ERU_INI\n<sys_eve__nvmini>\nLV_FAC_AFU_RATIO_ERU_VLD\n<LV_FAC_AFU_RATIO_ERU_VLD>\n<sys_eve__nvmsto>\n<sys_eve__nvmres>\n<fc_DEAC_SEG>\n<fc_ACT_SEG>\n<fc_RST>\n<FAC_AFU_RATIO_ERU>\n<FAC_AFU_RATIO_FTL_MIN>\n<FAC_AFU_RATIO_FTL_MAX>\n<FAC_AFU_RATIO>\n<FAC_AFU_RATIO>\nFigure 4.6.2:\nFile: 30709J08.00A\n1324Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1843, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "402fe8a9-ef03-4c88-b9d5-509b5e937992": {"__data__": {"id_": "402fe8a9-ef03-4c88-b9d5-509b5e937992", "embedding": null, "metadata": {"page_label": "37", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f391fbfd-c8e6-4659-93ad-3d30bc12795d", "node_type": "4", "metadata": {"page_label": "37", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "afccfa64be2b8289bc07a4ddd686bdd2c64049a7c93dcb207ef45f862b27d0ff", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.1.1 Initialisation at RESET event\nLV_FAC_AFU_RATIO_ERU_VLD should be set to ?0? in case of check\nsum error\nrst\n1\ninit = 1\nV.6.4\n[ NC_CYL_NR ] array\nIP_FAC_AFU_RATIO_MFF_FAC\nV.6.4\nx_val IP_val\n[FAC_MFF_AFU_RATIO_ERU_INI]\n[FAC_MFF_AFU_RATIO_ERU_INI]\nIP_MFF_BAS_AFU\nV.6.4\nx_val IP_val\nV.6.1\nV.6.1\nV.6.1\nV.6.1\nV.6.1\nV.6.7\n?\n+\nV.6.7\nV.6.7\nV.6.8\nV.6.8\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nV.6.4\nC_MFF_FAC_ERU\nV.6.4\n1\nV.6.4\n0V.6.4\nC_MFF_FAC_ERU\nV.6.4\n1\nV.6.4\n1\nV.6.4\n0\nV.6.4\n0\nV.6.4\n1\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nf()\nFAC_AFU_RATIO\n1\nFAC_ERU_WUP_COR\nFAC_AFU_RATIO_ERU\nFAC_MFF_AFU_CYL_ERU\nLAMB_ADD_ERU_AD_LAMB\nDELTA_LAMB_CLC_ER\nIDX_CBK_NR_ERU\nER_STND_DIF_AFR_AFL\nIDX_INJ_COR\nCYL_NR_ERU\nCTR_CLC_ERU_AD_LAMB\nFAC_MFF_ERU_AD\nLAMB_CLC_ER_FIL\nLAMB_CLC_ER\nFAC_MFF_AFU_RATIO_FTL_MIN\nFAC_AFU_RATIO_ERU_VLD\nFAC_ER_DIF_RATIO\nNR_CYL_MFF_AFL\nNR_CYL_MFF_AFR\nLV_FAC_AFU_RATIO_ERU_ACT\nFAC_MFF_AFU_RATIO_FTL_MAX\nLAMB_ADD_ERU_AD_MIN\nLAMB_ADD_ERU_AD_MAX\nCTR_SEG_MFF_AFU_ERU\nrst_1\nrst\nFAC_AFU_RATIO_ERU_INI\nFAC_MFF_AFU_RATIO_ERU_INI\nFAC_MFF_ERU\nFAC_MFF_ERU_AD_CLC\nLAMB_ADD_ERU_AD\nFigure 4.6.3:\nFile: 30709J08.00A\n1325Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1685, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "dabbfe5f-e90a-41c2-af60-465d1155b9dc": {"__data__": {"id_": "dabbfe5f-e90a-41c2-af60-465d1155b9dc", "embedding": null, "metadata": {"page_label": "38", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e5d4c103-1155-48ef-9ced-a04e72bff20f", "node_type": "4", "metadata": {"page_label": "38", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "a473f819919353a503f30ecbac5822de4cecb96ee0b1d0365ef1bb5f108e5a39", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.1.2 Initialisation at Segment activation\nLAMB_ADD_ERU_AD_MIN\n7\nLAMB_ADD_ERU_AD_MAX\n6\nFAC_MFF_AFU_RATIO_FTL_MIN\n5\nFAC_MFF_AFU_RATIO_FTL_MAX\n4\nFAC_MFF_AFU_RATIO_ERU_INI\n3\nCTR_SEG_MFF_AFU_ERU\n2\nFAC_AFU_RATIO_ERU_INI\n1\n[FAC_MFF_AFU_RATIO_FTL_MIN]\n[FAC_MFF_AFU_RATIO_FTL_MAX]\n[FAC_MFF_AFU_RATIO_ERU_INI]\n[FAC_AFU_RATIO_ERU_INI]\n[FAC_MFF_AFU_RATIO_ERU_INI]\n[FAC_MFF_AFU_RATIO_FTL_MIN]\n[FAC_MFF_AFU_RATIO_FTL_MAX]\n[FAC_MFF_AFU_RATIO_ERU_INI]\n[FAC_AFU_RATIO_ERU_INI]\nIP_MFF_BAS_AFU\nV.6.4\nx_val IP_val\nIP_MFF_BAS_AFU\nV.6.4\nx_val IP_val\nIP_MFF_BAS_AFU\nV.6.4\nx_val IP_val\nV.6.1\nV.6.1\nV.6.1\nV.6.7\n+\n?\nV.6.7\n+\n?\n1\nV.6.8\nV.6.8\nV.6.8\nV.6.8\nV.6.8\nV.6.4\n1\nV.6.4\n1\nV.6.4\nC_MFF_FAC_ERU\nV.6.4\nC_MFF_FAC_ERU\nV.6.4\nC_MFF_FAC_ERU\nV.6.4\n0\nf()\nFAC_AFU_RATIO_FTL_MIN\n3\nFAC_AFU_RATIO_FTL_MAX\n2\nFAC_AFU_RATIO\n1\nFigure 4.6.4:\nFile: 30709J08.00A\n1326Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1346, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fc6d4a4a-6991-4f78-91c0-3465a90826fd": {"__data__": {"id_": "fc6d4a4a-6991-4f78-91c0-3465a90826fd", "embedding": null, "metadata": {"page_label": "39", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "161da535-72c7-44d2-9597-69f79a945624", "node_type": "4", "metadata": {"page_label": "39", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "0f534dc6e713d1d87dc31834f465551142e0cf65297bc86474b62a86036c73f7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.1.3 Initialisation at Segment deactivation\nLAMB_ADD_ERU_AD\n6\nFAC_MFF_AFU_CYL_ERU\n5\nLV_FAC_AFU_RATIO_ERU_ACT\n4\nFAC_AFU_RATIO_ERU_INI\n3\nFAC_MFF_ERU_AD\n2\nCTR_SEG_MFF_AFU_ERU\n1\ninit = 1\nV.6.4\n[ NC_CYL_NR ] array\nV.6.1\nV.6.4\n0\nV.6.4\n0\nV.6.4\n1\nV.6.4\n0 f()\nFAC_AFU_RATIO_ERU\n1\nFigure 4.6.5:\n4.6.2 Calculation at Segment synchronous\n\ufffd General Information\n\ufffd Application Conditions\nFile: 30709J08.00A\n1327Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 921, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4a9d4954-e3f2-488d-909b-be61b6301a17": {"__data__": {"id_": "4a9d4954-e3f2-488d-909b-be61b6301a17", "embedding": null, "metadata": {"page_label": "40", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ccea864f-7812-4eb0-acda-dba044ea1ef4", "node_type": "4", "metadata": {"page_label": "40", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "00ebbb598ea0eafe5d275ab59e3dcb072b0c630c56a81a14d70c6b7fe59e34e5", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\nALFU/\ninactive/\nactive/\nSYS_EVE__RST\n{fc_RST ;}\n[LV_ST_END == 1&&...\n(((STATE_ALFU_CTL == 2 || ...\nSTATE_ALFU_CTL == 3) && ...\nLV_INH_FAC_AFU_RATIO_ERU == 0 && ...\nLV_FAC_AFU_RATIO_LAMB_ACT == 0 && ...\nLV_FAC_AFU_RATIO_ERU_VLD == 0) ||...\nLC_FAC_AFU_RATIO_ERU_MAN_ACT == 1)]\n{fc_ACT_SEG ;}\n[LV_ST_END == 0 ||...\n(((STATE_ALFU_CTL ~= 2 && ...\nSTATE_ALFU_CTL ~= 3) || ...\nLV_INH_FAC_AFU_RATIO_ERU == 1 || ...\nLV_FAC_AFU_RATIO_LAMB_ACT == 1 || ...\nLV_FAC_AFU_RATIO_ERU_VLD == 1) &&...\nLC_FAC_AFU_RATIO_ERU_MAN_ACT == 0)]\n{fc_DEAC_SEG ;}\n[1]12\nSYS_EVE__SEG\n{fc_SEG ;}1\n2\nFigure 4.6.6:\n\ufffd Function Description\nFile: 30709J08.00A\n1328Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1149, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1d97893a-e2ee-4185-be46-b864a98530e6": {"__data__": {"id_": "1d97893a-e2ee-4185-be46-b864a98530e6", "embedding": null, "metadata": {"page_label": "41", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4373a670-0d01-421c-a661-fd798b27aabb", "node_type": "4", "metadata": {"page_label": "41", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "d623a2e4a94a9de70fb2c328b0506616c70ae0b5e58bd411135cfbd21c79c9e9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\nafu_ratio_eru_seg\n2\nfc_SEG_INI\n1\nOPM_SEG\nX.2.1\nfc()\ninput\nfeedback\nopm_seg\nV.6.4\nLC_FAC_AFU_RATIO_ERU_MAN_ACT\nAPP_CDN\nSYS_EVE__RST\nSYS_EVE__SEG\nLC_FAC_AFU_RATIO_ERU_MAN_ACT\nLV_FAC_AFU_RATIO_LAMB_ACT\nLV_INH_FAC_AFU_RATIO_ERU\nLV_ST_END\nSTATE_ALFU_CTL\nLV_FAC_AFU_RATIO_ERU_VLD\nfc_RST\nfc_ACT_SEG\nfc_DEAC_SEG\nfc_SEG\nfeedback\n3\ninput\n2\nfc_SEG\n1\n<SYS_EVE__SEG>\n<LV_FAC_AFU_RATIO_ERU_VLD>\n<STATE_ALFU_CTL>\n<LV_ST_END>\n<LV_INH_FAC_AFU_RATIO_ERU>\n<LV_FAC_AFU_RATIO_LAMB_ACT>\n<SYS_EVE__RST>\nafu_ratio_eru_seg\nFigure 4.6.7:\nFile: 30709J08.00A\n1329Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1057, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "05f05a15-28d2-4a08-98e7-c3158d1c0a6b": {"__data__": {"id_": "05f05a15-28d2-4a08-98e7-c3158d1c0a6b", "embedding": null, "metadata": {"page_label": "42", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "704bab92-ce1b-4066-9b22-6b35c8ba5840", "node_type": "4", "metadata": {"page_label": "42", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "7e959a8e7ec44a96e89c51ae49348d66fa5771ceb9bf56f3693e29463b644441", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a541946e-9680-46fb-b054-67db8b2ed249", "node_type": "1", "metadata": {}, "hash": "a634a8736926df82ad8d4d0baaaddcb2fcb9aced39f6ba102dac6e61486533d2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1 During ?Engine Running Out of Start? (LV_ST_END = 1: Segment Synchronous)\nopm_seg\n1\nV.6.1\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n[fc_10]\n[fc_9]\n[fc_8]\n[fc_7]\n[fc_6]\n[fc_5]\n[fc_4]\n[fc_3]\n[fc_12]\n[fc_11]\n[fc_2]\n[fc_1]\n[fc_8][fc_7]\n[fc_6]\n[fc_5]\n[fc_4]\n[fc_3]\n[fc_12]\n[fc_11]\n[fc_10]\n[fc_9]\n[fc_2]\n[fc_1]\nV.6.1\nV.6.1\nV.6.1\nV.6.1\nV.6.1\nV.6.1\nVLD_DEAC\nX.2.1.6\nfc()MFF_SUM_REFU\nMAF\nTOIL\nC_MFF_SUM_REFU_MAX\nTCO\nTCO_ST\nFAC_AFU_RATIO_ERU_VLD_in\nLV_FAC_AFU_RATIO_ERU_VLD_in\nFAC_AFU_RATIO_ERU_VLD_out\nLV_FAC_AFU_RATIO_ERU_VLD_out\nIT_COR\nX.2.1.5\nfc()\nLAMB_ADD_ERU_AD_in\nFAC_MFF_AFU_RATIO_ERU_INI\nFAC_MFF_ERU_AD_CLC\nLV_FAC_AFU_RATIO_ERU_ACT\nFAC_MFF_ERU\nFAC_AFU_RATIO_ERU\nINT_LIM\nX.2.1.3\nfc()LAMB_ADD_ERU_AD_MIN\nLAMB_ADD_ERU_AD_MAX\nLAMB_ADD_ERU_AD_in\nLAMB_ADD_ERU_AD_LAMB\nLAMB_ADD_ERU_AD_out\nCTR_MFF_INJ_COR\nX.2.1.2\nfc()CTR_SEG_MFF_AFU_ERU_in\nIDX_INJ_COR_in\nFAC_ERU_WUP_COR\nfeedback\ninput\nctr_mff_inj_cor\nCBK_DET_MAN_RST\nX.2.1.4\nfc()LAMB_ADD_ERU_AD_in\nIDX_INJ_COR\nLAMB_ADD_ERU_AD_out\nIDX_CBK_NR_ERU\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nAFR_AFL_CLC\nX.2.1.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1505, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a541946e-9680-46fb-b054-67db8b2ed249": {"__data__": {"id_": "a541946e-9680-46fb-b054-67db8b2ed249", "embedding": null, "metadata": {"page_label": "42", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "704bab92-ce1b-4066-9b22-6b35c8ba5840", "node_type": "4", "metadata": {"page_label": "42", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "7e959a8e7ec44a96e89c51ae49348d66fa5771ceb9bf56f3693e29463b644441", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "05f05a15-28d2-4a08-98e7-c3158d1c0a6b", "node_type": "1", "metadata": {"page_label": "42", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "f0d442db2efecfd77faa1f0cc38118617f1e13860affb96aac7e07b638a607d7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "4\nfc()LAMB_ADD_ERU_AD_in\nIDX_INJ_COR\nLAMB_ADD_ERU_AD_out\nIDX_CBK_NR_ERU\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nAFR_AFL_CLC\nX.2.1.1\nfc()NC_CYL_NR\nN_32\nMAF\nTCO\nTCO_ST\nIDX_INJ_COR\nNR_CYL_MFF_AFL_in\nNR_CYL_MFF_AFR_in\nFAC_MFF_AFU_CYL_ERU\nNR_CYL_MFF_AFR_out\nNR_CYL_MFF_AFL_out\nFAC_ERU_WUP_COR\nf()\nfeedback\n2\ninput\n1\n<LV_FAC_AFU_RATIO_ERU_VLD>\n<FAC_AFU_RATIO_ERU_VLD>\n<TCO_ST>\n<TCO>\n<TCO_ST>\nopm_seg\n<FAC_ERU_WUP_COR>\n<TCO>\n<IDX_INJ_COR>\n<IDX_INJ_COR>\n<LAMB_ADD_ERU_AD_LAMB>\n<LAMB_ADD_ERU_AD>\n<LAMB_ADD_ERU_AD_MAX>\n<LAMB_ADD_ERU_AD_MIN>\nvld_deac\nit_cor<FAC_MFF_AFU_RATIO_ERU_INI>\n<LAMB_ADD_ERU_AD>\nint_lim\nLAMB_ADD_ERU_AD\n<C_MFF_SUM_REFU_MAX>\nafr_afl_clc\n<TOIL>\n<MAF>\n<MFF_SUM_REFU>\n<LAMB_ADD_ERU_AD>\ncbk_det_man_rst\n<CTR_SEG_MFF_AFU_ERU>\n<NR_CYL_MFF_AFR>\n<NR_CYL_MFF_AFL>\n<IDX_INJ_COR>\n<MAF>\n<N_32>\n<NC_CYL_NR>\nLV_FAC_AFU_RATIO_ERU_VLD\nFAC_AFU_RATIO_ERU_VLD\nFAC_AFU_RATIO_ERU\nFAC_MFF_ERU\nLV_FAC_AFU_RATIO_ERU_ACT\nFAC_MFF_ERU_AD_CLC\nLAMB_ADD_ERU_AD\nFigure 4.6.8:\nFile: 30709J08.00A\n1330Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 1325, "end_char_idx": 2461, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fa0a4c81-d290-418e-a270-6639ecf28cee": {"__data__": {"id_": "fa0a4c81-d290-418e-a270-6639ecf28cee", "embedding": null, "metadata": {"page_label": "43", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f40a97d6-7e9e-43da-b3be-3a9fdcc0aca9", "node_type": "4", "metadata": {"page_label": "43", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "630b69c00334e988a59d45f19860c7d14173da3b30c077b1e473e1fdbbfddb92", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.1 Injection time correct and warm up factor determination\nFAC_ERU_WUP_COR\n4\nNR_CYL_MFF_AFL_out\n3\nNR_CYL_MFF_AFR_out\n2\nFAC_MFF_AFU_CYL_ERU\n1\nV.6.1\nWUP_COR_FAC\nX.2.1.1.2\nTCO\nTCO_ST\nFAC_ERU_WUP_COR\nCLC_CI_IT_COR\nX.2.1.1.1\nNC_CYL_NR\nN_32\nMAF\nIDX_INJ_COR\nNR_CYL_MFF_AFL_in\nNR_CYL_MFF_AFR_in\nFAC_MFF_AFU_CYL_ERU\nNR_CYL_MFF_AFR_out\nNR_CYL_MFF_AFL_out\nfor { ... }\nf()\nNR_CYL_MFF_AFR_in\n8\nNR_CYL_MFF_AFL_in\n7\nIDX_INJ_COR\n6\nTCO_ST\n5\nTCO\n4\nMAF\n3\nN_32\n2\nNC_CYL_NR\n1\nFAC_ERU_WUP_COR\nFAC_MFF_AFU_CYL_ERU\nNR_CYL_MFF_AFL\nNR_CYL_MFF_AFR\nFigure 4.6.9:\nFile: 30709J08.00A\n1331Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1087, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0e29cf5f-42b2-4e0e-80ab-ff99a08ff011": {"__data__": {"id_": "0e29cf5f-42b2-4e0e-80ab-ff99a08ff011", "embedding": null, "metadata": {"page_label": "44", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5ea3eeb1-ff37-4f22-b188-55147e9fa2b1", "node_type": "4", "metadata": {"page_label": "44", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "7ea207d58d9f9b2e6c393320b26002cc0a82919b72000364ee645fbbb300e4f6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.1.1 Cylinder individual injection time correction\nNR_CYL_MFF_AFL_out\n3\nNR_CYL_MFF_AFR_out\n2\nFAC_MFF_AFU_CYL_ERU\n1\nsize: [NC_CYL_NR]\nV.6.5\nC0\nu\n[NR_CYL_MFF_AFL_in]\n[NR_CYL_MFF_AFR_in]\n[FAC_MFF_AFU_CYL_ERU_i]\n[CYL_NR_ERU]\n[NR_CYL_MFF_AFL_in]\n[NR_CYL_MFF_AFR_in]\n[CYL_NR_ERU]\n[NR_CYL_MFF_AFL_in]\n[FAC_MFF_AFU_CYL_ERU_i]\n[CYL_NR_ERU]\n[FAC_MFF_AFU_CYL_ERU_i]\n[NR_CYL_MFF_AFR_in]\n[CYL_NR_ERU]\n[CYL_NR_ERU]\nIP_FAC_MFF_AFU_COR_ERU\nV.6.4\nx_val\ny_val\nIP_val\nID_FAC_MFF_AFU_CYL_ERU\nV.6.4\nx_val\ny_val\nID_val\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nV.6.7\n+\n+\nMux\nMux\nMux\nV.6.7\nV.6.0\n1\n1\nV.6.0\nFor\nIterator\nN 0 : N?1\nDemux\nV.6.4\n1\nV.6.4\n1\nV.6.4\n1\nNR_CYL_MFF_AFR_in\n6\nNR_CYL_MFF_AFL_in\n5\nIDX_INJ_COR\n4\nMAF\n3\nN_32\n2\nNC_CYL_NR\n1\nFigure 4.6.10:\n4.6.2.1.1.2 Warm up factor\nFAC_ERU_WUP_COR\n1\nIP_FAC_ERU_WUP_COR\nV.6.4\nx_val\ny_val\nIP_val\nTCO_ST\n2\nTCO\n1\nFigure 4.6.11:\nFile: 30709J08.00A\n1332Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1393, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0c20629b-a0ec-45ac-bb26-ee3765d4f2b4": {"__data__": {"id_": "0c20629b-a0ec-45ac-bb26-ee3765d4f2b4", "embedding": null, "metadata": {"page_label": "45", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "03eb5bfc-0a80-4462-9403-10abd4299f1d", "node_type": "4", "metadata": {"page_label": "45", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "0572a255e481dc556c17674368894a2d1eb11720886d329cd5745ae1b0911cdd", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.2 Segment counter for consumed fuel mass\nctr_mff_inj_cor\n1\nIP_CTR_SEG_MFF_AFU_ERU_RST\nV.6.4\nx_val IP_val\nV.6.0\ncond_if\nif\nelse\nV.6.0\ncond_if\nif\nelse\nV.6.0\ncond_if\nif\nelse\nV.6.0\nLAM_COR\nX.2.1.2.3\nfc()feedback\ninput\nlam_cor\nINI_IDX_CTR\nX.2.1.2.1\nfc()\nfeedback ini_idx_ctr\nINC_CTR\nX.2.1.2.2\nfc()\nfeedback inc_ctr\nIDX_INI_CTR_INC\nX.2.1.2.4\nfc()\nfeedbackidx_ini_ctr_inc\nV.6.0\nV.6.0\nV.6.0V.6.4\nC_CTR_SEG_MFF_AFU_ER_INI\nV.6.4\n0\nV.6.4\n0\nV.6.0\nBusMerge\nV.6.6\nAND f()\ninput\n5\nfeedback\n4\nFAC_ERU_WUP_COR\n3\nIDX_INJ_COR_in\n2\nCTR_SEG_MFF_AFU_ERU_in\n1\nctr_mff_inj_cor\nFigure 4.6.12:\n4.6.2.1.2.1 Set injection correction index\nini_idx_ctr\n1\nV.6.1\n1\n2\n[fc_2]\n[fc_1][fc_2]\n[fc_1]\nV.6.1\nIDX_CTR_CLC\nX.2.1.2.1.1\nfc()IDX_INJ_COR_out\nCTR_SEG_MFF_AFU_ERU_out\nV.6.0\nBusMerge\nf()\nfeedback\n1\nini_idx_ctr\nFigure 4.6.13:\nFile: 30709J08.00A\n1333Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1346, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "41fe9872-c801-4d6a-aeec-697901bf6355": {"__data__": {"id_": "41fe9872-c801-4d6a-aeec-697901bf6355", "embedding": null, "metadata": {"page_label": "46", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "965f6cd9-62e2-4eb4-b897-f7cb465e8a70", "node_type": "4", "metadata": {"page_label": "46", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "61225248f30e7a3cade8d723e07feabaeca3292fc264da614922dc6f7d7f99ce", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.2.1.1 Set and reset injection time correct and counter for consumed fuel mass\nCTR_SEG_MFF_AFU_ERU_out\n2\nIDX_INJ_COR_out\n1\nV.6.4\n0\nV.6.4\n1 f()\nFigure 4.6.14:\n4.6.2.1.2.2 Consumed fuel mass counter increment\ninc_ctr\n1\nV.6.1\n1\n2\n[fc_2]\n[fc_1]\n[fc_2]\n[fc_1]\nV.6.1\nCTR_MFF_INC\nX.2.1.2.2.1\nfc()\nIDX_INJ_COR_in\nCTR_SEG_MFF_AFU_ERU_in\nIDX_INJ_COR_out\nCTR_SEG_MFF_AFU_ERU_out\nV.6.0\nBusMerge\nf()\nfeedback\n1\ninc_ctr\n<CTR_SEG_MFF_AFU_ERU>\n<IDX_INJ_COR>\nFigure 4.6.15:\n4.6.2.1.2.2.1 Increment segment counter\nCTR_SEG_MFF_AFU_ERU_out\n2\nIDX_INJ_COR_out\n1\nV.6.1\nV.6.7\n+\n+\nV.6.4\n1\nf()\nCTR_SEG_MFF_AFU_ERU_in\n2\nIDX_INJ_COR_in\n1\nIDX_INJ_COR\nFigure 4.6.16:\nFile: 30709J08.00A\n1334Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1190, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2c9b9673-b67d-4e96-a971-3a5e18a7af75": {"__data__": {"id_": "2c9b9673-b67d-4e96-a971-3a5e18a7af75", "embedding": null, "metadata": {"page_label": "47", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4367dd6d-5cb2-4d3e-bda0-ec79efd73b7c", "node_type": "4", "metadata": {"page_label": "47", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "b07da1f2fc42e45a488a4a46cebabc6c8f2c8113c27503609c4c3ba913b14e54", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.2.3 Injection time index and lambda correction\nlam_cor\n1\nV.6.1\n1\n2\n3\n4\n[fc_4]\n[fc_3]\n[fc_2]\n[fc_1]\n[fc_4]\n[fc_3]\n[fc_2]\n[fc_1]\ninput1\n2\nV.6.1\nV.6.1\nIDX_CLC\nX.2.1.2.3.1\nfc()IDX_INJ_COR_in\nNC_NR_INJ_COR\nIDX_INJ_COR_out\nCTR_SEG_MFF_AFU_ERU_out\nCLC_LAMB_COR\nX.2.1.2.3.2\nfc()input\nfeedback\nclc_lamb_cor\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nf()\ninput\n2\nfeedback\n1\n<NC_NR_INJ_COR><NC_NR_INJ_COR>\nlam_cor\nctr_act_if\n<IDX_INJ_COR>\nFigure 4.6.17:\n4.6.2.1.2.3.1 Increment injection correction index\nCTR_SEG_MFF_AFU_ERU_out\n2\nIDX_INJ_COR_out\n1\nV.6.0\ncond_if\nif\nelseV.6.7\n+\n+V.6.7\n+\n?\nMerge\nV.6.0\nV.6.0\nV.6.4\n0\nV.6.4\n1V.6.4\n1\nV.6.4\n1\nf()\nNC_NR_INJ_COR\n2\nIDX_INJ_COR_in\n1\nIDX_INJ_COR\nFigure 4.6.18:\nFile: 30709J08.00A\n1335Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1231, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "422cd863-b3c2-4ff7-9950-9fc3a17db911": {"__data__": {"id_": "422cd863-b3c2-4ff7-9950-9fc3a17db911", "embedding": null, "metadata": {"page_label": "48", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9f7ba4c3-b99a-4a7d-84de-8e678e10faea", "node_type": "4", "metadata": {"page_label": "48", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "e80dd6366b62387819f0667b687f8c0ce1e10af327ee7ec1a180def57a68abf4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.2.3.2 Lambda correction\nclc_lamb_cor\n1\nV.6.1\n1\n2\n[fc_2]\n[fc_1]\n[fc_2]\n[fc_1]\nV.6.1\nLAMB_COR_ER_THEN\nX.2.1.2.3.2.1\nfc()input\nfeedback\nlamb_cor_er_then\nV.5.35\nBusMerge\nf()\nfeedback\n2\ninput\n1\nclc_lamb_cor\nFigure 4.6.19:\n4.6.2.1.2.3.2.1 Lambda correction\nlamb_cor_er_then\n1\nV.6.1\n1\n2\n[fc_2]\n[fc_1]\n[fc_2]\n[fc_1]\nV.6.1\nCOR_LAMB_EFF\nX.2.1.2.3.2.1.1\nfc()\nLV_DRV1_STND_AFU_FDOUT\nLV_IS\nLV_PL\nN_32\nMAF\ninput\nfeedback\ncor_lamb_eff\nV.6.0\nBusMerge\nf()\nfeedback\n2\ninput\n1\nlamb_cor_er_then\n<MAF>\n<N_32>\n<LV_PL>\n<LV_IS>\n<LV_DRV1_STND_AFU_FDOUT>\ncor_lamb_eff\nFigure 4.6.20:\nFile: 30709J08.00A\n1336Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1110, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "889c1e9c-23cb-4ef3-853b-f907cc2296f5": {"__data__": {"id_": "889c1e9c-23cb-4ef3-853b-f907cc2296f5", "embedding": null, "metadata": {"page_label": "49", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6479cd8d-0c8c-4a02-b837-2ea858340726", "node_type": "4", "metadata": {"page_label": "49", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "473a3e778de410469e9db063c57759632987a0670e85292cb4424ec72f3e7715", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.2.3.2.1.1 Calculation of necessary lambda correction by lambda ef?ciency\ncor_lamb_eff\n1\nIP_FAC_MFF_AFU_COR_ERU\nV.6.4\nx_val\ny_val\nIP_val\nV.6.0\ncond_if\nif\nelse\nV.6.2\nOR\nV.6.2\nNOT\nLAMB_COR_THEN\nX.2.1.2.3.2.1.1.1\nfc()\ninput\nfeedback\nlamb_cor_then\nLAMB_COR_ELSE\nX.2.1.2.3.2.1.1.2\nfc()\ninput\nfeedback\nlamb_cor_else\nV.6.0\nV.6.4\nC_FAC_MFF_AFU_COR_MIN\nV.5.35\nBusMerge\nV.6.6\nAND\nf()\nfeedback\n7\ninput\n6\nMAF\n5\nN_32\n4\nLV_PL\n3\nLV_IS\n2\nLV_DRV1_STND_AFU_FDOUT\n1\ncor_lamb_eff\nFigure 4.6.21:\nFile: 30709J08.00A\n1337Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1027, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b78544a7-541f-4f7f-b643-d629d064875e": {"__data__": {"id_": "b78544a7-541f-4f7f-b643-d629d064875e", "embedding": null, "metadata": {"page_label": "50", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3b03c299-ebe0-44fc-8487-c8062c92faf5", "node_type": "4", "metadata": {"page_label": "50", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "b5bf289d6f2abe91aa37b37cbd4a21c9763c0a83983a33c55c2d0eae0f88440b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.2.3.2.1.1.1 Calculation overview to determine lambda correction by lambda ef?ciency\nlamb_cor_then\n1\nV.6.1\n1\n2\n3\n4\n5\n6\n7\n8\n[fc_8]\n[fc_7]\n[fc_6]\n[fc_5]\n[fc_4]\n[fc_3]\n[fc_2]\n[fc_1]\n[fc_8]\n[fc_7]\n[fc_6]\n[fc_5]\n[fc_4][fc_3]\n[fc_2]\n[fc_1]\nV.6.1\nV.6.1\nV.6.1\nV.6.1\nLAMB_FIL\nX.2.1.2.3.2.1.1.1.3\nfc()LAMB_SP\nLAMB_CLC_ER\nLAMB_CLC_ER_FIL_in\nIDX_CBK_NR_ERU\nFAC_ERU_WUP_COR\nLAMB_CLC_ER_FIL_out\nDELTA_LAMB_CLC_ER\nER_DIF_RATIO\nX.2.1.2.3.2.1.1.1.2\nfc()ER_STND_DIF_AFR_AFL\nN_32\nMAF\nEFF_IGA_AV\nFAC_ER_DIF_RATIO_out\nLAMB_CLC_ER\nER_DIF\nX.2.1.2.3.2.1.1.1.1\nfc()ER_STND_MMV_AFU\nNR_CYL_MFF_AFR\nNR_CYL_MFF_AFL\nER_STND_DIF_AFR_AFL\nERU_AD_LAMB\nX.2.1.2.3.2.1.1.1.4\nfc()\nDELTA_LAMB_CLC_ER\nNR_CYL_MFF_AFR\nCTR_CLC_ERU_AD_LAMB_in\nNR_CYL_MFF_AFL\nLAMB_ADD_ERU_AD_LAMB_in\nNC_CYL_NR\nCTR_CLC_ERU_AD_LAMB_out\nLAMB_ADD_ERU_AD_LAMB_out\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nV.6.0\nBusMerge\nf()\nfeedback\n2\ninput\n1\nlamb_cor_then\n<FAC_ERU_WUP_COR>\n<EFF_IGA_AV>\n<IDX_CBK_NR_ERU>\n<LAMB_CLC_ER_FIL>\n<LAMB_ADD_ERU_AD_LAMB>\n<NR_CYL_MFF_AFL>\n<CTR_CLC_ERU_AD_LAMB>\n<NR_CYL_MFF_AFR>\n<DELTA_LAMB_CLC_ER>\ner_dif_ratio\n<NC_CYL_NR>\nlamb_fil\n<LAMB_SP>\n<LAMB_CLC_ER>\n<MAF>\n<N_32>\n<ER_STND_DIF_AFR_AFL>\ner_dif\n<NR_CYL_MFF_AFL>\n<NR_CYL_MFF_AFR>\n<ER_STND_MMV_AFU>\neru_ad_lambLAMB_ADD_ERU_AD_LAMB\nCTR_CLC_ERU_AD_LAMB\nDELTA_LAMB_CLC_ER\nLAMB_CLC_ER_FIL\nLAMB_CLC_ER\nFAC_ER_DIF_RATIO\nER_STND_DIF_AFR_AFL\nFigure 4.6.22:\n4.6.2.1.2.3.2.1.1.1.1 Difference in engine roughness between rich and lean cylinder\nER_STND_DIF_AFR_AFL\n1\nV.6.7\nC 0\n[..]\nV.6.7\nC 0\n[..]\nV.6.7\n+\n?\nf()\nNR_CYL_MFF_AFL\n3\nNR_CYL_MFF_AFR\n2\nER_STND_MMV_AFU\n1\nFigure 4.6.23:\nFile: 30709J08.00A\n1338Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2130, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c2d01e5a-bb25-4128-bb22-cda7c8239d38": {"__data__": {"id_": "c2d01e5a-bb25-4128-bb22-cda7c8239d38", "embedding": null, "metadata": {"page_label": "51", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1c2caff6-f568-4e7b-b1c7-f9b963dc1058", "node_type": "4", "metadata": {"page_label": "51", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "f7c8209b9e47e8f4c708e005910e2aa51257b2af8f9ab9e779e9c66343d939a1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.2.3.2.1.1.1.2 FAC_ER_DIF_RATIO calculation\nLAMB_CLC_ER\n2\nFAC_ER_DIF_RATIO_out\n1\nIP_LAMB_CLC_ER_AFR\nV.6.4\nx_val IP_val\nIP_LAMB_CLC_ER_AFS\nV.6.4\nx_val IP_val\n[IP_FAC_IGA_COR]\n[MAF]\n[N_32]\n[ER_STND_DIF_AFR_AFL]\n[IP_FAC_IGA_COR]\n[IP_FAC_IGA_COR]\n[N_32]\n[MAF]\n[ER_STND_DIF_AFR_AFL]\n[N_32]\n[MAF]\n[ER_STND_DIF_AFR_AFL]\n[ER_STND_DIF_AFR_AFL]\nIP_ER_STND_DIF_AFR\nV.6.4\nx_val\ny_val\nIP_val\nIP_ER_STND_DIF_AFS\nV.6.4\nx_val\ny_val\nIP_val\nIP_FAC_IGA_COR\nV.6.4\nx_val IP_val\nV.6.1\nV.6.1\nV.6.1\nV.6.1\nCheck ~= 0\nV.6.4\nMux\nMux\nV.6.7\nV.6.7\nV.6.0\nV.6.8\nV.6.8\nDemux\nV.6.4\n0\nf()\nEFF_IGA_AV\n4\nMAF\n3\nN_32\n2\nER_STND_DIF_AFR_AFL\n1\nFigure 4.6.24:\n4.6.2.1.2.3.2.1.1.1.3 Filter for Lambda\nDELTA_LAMB_CLC_ER\n2\nLAMB_CLC_ER_FIL_out\n1\nV.6.7\nC 0\n[..]\nV.6.1\nV.6.7\n+\n?\nIP_LAMB_SP_ERU\nx_value\ny_value\nIP_value\nIP_LAMB_SP_ERU\nV.6.6\nm\nu\nx_in\ny\nx_out\nV.6.4\nC_CRLC_LAMB_CLC_ER_FIL f()\nFAC_ERU_WUP_COR\n5\nIDX_CBK_NR_ERU\n4\nLAMB_CLC_ER_FIL_in\n3\nLAMB_CLC_ER\n2\nLAMB_SP\n1\nFigure 4.6.25:\nFile: 30709J08.00A\n1339Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1488, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e80e6375-699f-4fc6-a438-990ff8556612": {"__data__": {"id_": "e80e6375-699f-4fc6-a438-990ff8556612", "embedding": null, "metadata": {"page_label": "52", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "cdfab62a-c7db-4af1-91a7-6ba1904a8483", "node_type": "4", "metadata": {"page_label": "52", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "b600674b2dbf398fca759962f3ad2d35b694c68c158696a33094d252f3636045", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.2.3.2.1.1.1.4 Corrected value of additive lambda\nLAMB_ADD_ERU_AD_LAMB_out\n2\nCTR_CLC_ERU_AD_LAMB_out\n1\nIP_LAMB_ADD_ERU_AD_LAMB\nV.6.4\nx_val IP_val\n[NR_CYL_MFF_AFL]\n[LAMB_ADD_ERU_AD_LAMB_in]\n[NR_CYL_MFF_AFR]\n[CTR_CLC_ERU_AD_LAMB_in][LAMB_ADD_ERU_AD_LAMB_in]\n[LAMB_ADD_ERU_AD_LAMB_in]\n[CTR_CLC_ERU_AD_LAMB_in]\n[NR_CYL_MFF_AFR]\n[NR_CYL_MFF_AFR]\n[CTR_CLC_ERU_AD_LAMB_in]\n[CTR_CLC_ERU_AD_LAMB_in]\n[CTR_CLC_ERU_AD_LAMB_in]\n[NR_CYL_MFF_AFL]\n[NR_CYL_MFF_AFL]\n[LAMB_ADD_ERU_AD_LAMB_in]\n[LAMB_ADD_ERU_AD_LAMB_in]\n[LAMB_ADD_ERU_AD_LAMB_in]\n[CTR_CLC_ERU_AD_LAMB_in] [CTR_CLC_ERU_AD_LAMB_in]\nV.6.1\nV.6.1\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nV.6.7\n+\n?\nV.6.7\n+\n?V.6.7\n+\n?\nV.6.7\n+\n?V.6.7\n+\n?\nMux\nMux\nMux\nMux\nMux\nMux\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nDemux\nV.6.4\nC_CTR_CLC_ERU_AD_LAMB_INI\nV.6.4\n1\nV.6.4\n1\nV.6.4\n1\nV.6.4\n1\nV.6.4\n1\nV.6.4\nLC_ERU_AFL_AFR\nV.6.4\n0\nV.6.4\n0\nf()\nNC_CYL_NR\n6\nLAMB_ADD_ERU_AD_LAMB_in\n5\nNR_CYL_MFF_AFL\n4\nCTR_CLC_ERU_AD_LAMB_in\n3\nNR_CYL_MFF_AFR\n2\nDELTA_LAMB_CLC_ER\n1\nFigure 4.6.26:\n4.6.2.1.2.3.2.1.1.2 No lambda correction\nlamb_cor_else\n1\nV.6.1\n1\n2\n[fc_2]\n[fc_1]\n[fc_1]\n[fc_2]\nV.6.1\nCLC\nX.2.1.2.3.2.1.1.2.1\nfc()LAMB_SP\nIDX_CBK_NR_ERU\nFAC_ERU_WUP_COR\nLAMB_ADD_ERU_AD_LAMB\nLAMB_CLC_ER_FIL\nV.5.35\nBusMerge\nf()\nfeedback\n2\ninput\n1\n<FAC_ERU_WUP_COR>\nlamb_cor_else\n<IDX_CBK_NR_ERU>\n<LAMB_SP>\nLAMB_CLC_ER_FIL\nLAMB_ADD_ERU_AD_LAMB\nFigure 4.6.27:\nFile: 30709J08.00A\n1340Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1929, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c3ba194b-9979-4651-9f9a-eae9639e2571": {"__data__": {"id_": "c3ba194b-9979-4651-9f9a-eae9639e2571", "embedding": null, "metadata": {"page_label": "53", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "56dbe1dc-2fa7-44a8-b86f-89657619697b", "node_type": "4", "metadata": {"page_label": "53", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "69444fdee75b135bb49bcb13f89b40fee374b9f4495584e7a1e1ffb44bf23762", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.2.3.2.1.1.2.1 Additive lambda correction is set to ?0?\nLAMB_CLC_ER_FIL\n2\nLAMB_ADD_ERU_AD_LAMB\n1\nV.6.7\nC 0\n[..]\nIP_LAMB_SP_ERU\nx_value\ny_value\nIP_value\nIP_LAMB_SP_ERU\nV.6.4\n0f()\nFAC_ERU_WUP_COR\n3\nIDX_CBK_NR_ERU\n2\nLAMB_SP\n1\nFigure 4.6.28:\n4.6.2.1.2.4 Set injection time index\nidx_ini_ctr_inc\n1\nV.6.1\n1\n2\n[fc_2]\n[fc_1]\n[fc_2]\n[fc_1]\nV.6.1\nCTR_INC_CLC\nX.2.1.2.4.1\nfc()\nIDX_INJ_COR_in\nCTR_SEG_MFF_AFU_ERU_in\nIDX_INJ_COR_out\nCTR_SEG_MFF_AFU_ERU_out\nV.6.0\nBusMerge\nf()\nfeedback\n1\nidx_ini_ctr_inc\n<IDX_INJ_COR>\n<CTR_SEG_MFF_AFU_ERU>\nFigure 4.6.29:\n4.6.2.1.2.4.1 Freeze injection time index\nCTR_SEG_MFF_AFU_ERU_out\n2\nIDX_INJ_COR_out\n1\nV.6.1\nV.6.7\n+\n+\nV.6.4\n1\nf()\nCTR_SEG_MFF_AFU_ERU_in\n2\nIDX_INJ_COR_in\n1\nIDX_INJ_COR\nFigure 4.6.30:\nFile: 30709J08.00A\n1341Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1276, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8adf9f0a-3b1e-450d-aa59-d69363e37c6d": {"__data__": {"id_": "8adf9f0a-3b1e-450d-aa59-d69363e37c6d", "embedding": null, "metadata": {"page_label": "54", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "df8b9eb7-8660-4e5b-a8bd-1ab252053efb", "node_type": "4", "metadata": {"page_label": "54", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "cb9da70d515889f7ffc7c9910ba06fd4ee4ad94af0cc23710fc317d151019f24", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.3 Integration and limitation\nLAMB_ADD_ERU_AD_out\n1\nV.6.7\n+\n+\nV.6.3\nmin\nV.6.3\nmax f()\nLAMB_ADD_ERU_AD_LAMB\n4\nLAMB_ADD_ERU_AD_in\n3\nLAMB_ADD_ERU_AD_MAX\n2\nLAMB_ADD_ERU_AD_MIN\n1\nFigure 4.6.31:\n4.6.2.1.4 Cylinder bank injected cylinder and manual reset\nIDX_CBK_NR_ERU\n2\nLAMB_ADD_ERU_AD_out\n1\nID_EX_CBK_NR_ERU\nV.6.4\nx_val ID_val\nCheck ~= 0\nV.6.4\n1\nV.6.4\nLC_CLR_LAMB_ADD_ERU_AD\nV.6.4\n0\nf()\nIDX_INJ_COR\n2\nLAMB_ADD_ERU_AD_in\n1\nIDX_CBK_NR_ERU\nFigure 4.6.32:\nFile: 30709J08.00A\n1342Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1000, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2faf4dcf-01a3-440d-977d-8b8ecbaf56e6": {"__data__": {"id_": "2faf4dcf-01a3-440d-977d-8b8ecbaf56e6", "embedding": null, "metadata": {"page_label": "55", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fb9b34a1-5110-4987-8eca-11bb7cb0fa8c", "node_type": "4", "metadata": {"page_label": "55", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "4d26a94e09af8ff0baf20af57a7cbaa626e8bf6075b087188f7b54f2c78c0cf5", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.5 Calculation of injection time correction or ethanol content factor\nFAC_AFU_RATIO_ERU\n4\nFAC_MFF_ERU\n3\nLV_FAC_AFU_RATIO_ERU_ACT\n2\nFAC_MFF_ERU_AD_CLC\n1\nIP_FAC_AFU_RATIO_MFF_FAC\nV.6.4\nx_val IP_val\n[FAC_MFF_ERU_AD_CLC]\n[FAC_MFF_ERU_AD_CLC]\nV.6.1\nV.6.1V.6.7\n+\n?\nV.6.7\nV.6.7\nV.6.8\nV.6.4\nC_MFF_FAC_ERU\nV.6.4\n1\nV.6.4\n1\nV.6.4\n1\nf()\nFAC_MFF_AFU_RATIO_ERU_INI\n2\nLAMB_ADD_ERU_AD_in\n1\nFigure 4.6.33:\nFile: 30709J08.00A\n1343Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 941, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "be5074e0-01eb-44e3-91c5-d51f45404893": {"__data__": {"id_": "be5074e0-01eb-44e3-91c5-d51f45404893", "embedding": null, "metadata": {"page_label": "56", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5db016f1-ce5b-4f65-9896-d028ad7a9d58", "node_type": "4", "metadata": {"page_label": "56", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c210fc0a768f1c32bda0ec939acbde990a56b5622a3a5dbda2c25ad8f63f1049", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n4.6.2.1.6 Calculation of validity for the deactivation of the function\nLV_FAC_AFU_RATIO_ERU_VLD_out\n2\nFAC_AFU_RATIO_ERU_VLD_out\n1\n[LV_FAC_AFU_RATIO_ERU_VLD_in]\n[FAC_AFU_RATIO_ERU_VLD]\n[LV_FAC_AFU_RATIO_ERU_VLD_in]\n[LV_FAC_AFU_RATIO_ERU_VLD_in]\n[FAC_AFU_RATIO_ERU_VLD]\nIP_TCO_MIN_ERU_VLD\nV.6.4\nx_val IP_val\nV.6.1\nV.6.1\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nCheck ~= 0\nV.6.4\nV.6.7\n+\n+\nV.6.2\nOR\nMux\nMux\nMux\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nV.6.0\nDemux\nV.6.4\n0\nV.6.4\n0\nV.6.4\n0\nV.6.4\n1\nV.6.4\n0.996096375\nV.6.4\nC_FAC_AFU_RATIO_ERU_VLD_INC\nV.6.4\nC_MAF_MIN_ERU_VLD\nV.6.4\nC_TOIL_THD_ERU_MAX\nV.6.4\nC_TOIL_THD_ERU_MIN\nV.6.6\nAND\nf()\nLV_FAC_AFU_RATIO_ERU_VLD_in\n8\nFAC_AFU_RATIO_ERU_VLD_in\n7\nTCO_ST\n6\nTCO\n5\nC_MFF_SUM_REFU_MAX\n4\nTOIL\n3\nMAF\n2\nMFF_SUM_REFU\n1\nFigure 4.6.34:\n4.6.3 Calculation at 100MS\n\ufffd General Information\n\ufffd Application Conditions\nInitialisation: all outputs to zero at RST\nActivation: LV_ES == 1 && LV_FAC_AFU_RATIO_EXT_ADJ == 1\nDeactivation: never\nRecurrence: 100MS\n\ufffd Function Description\nFile: 30709J08.00A\n1344Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1529, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "66b9e710-1726-44f4-bb11-91a57dcbe75d": {"__data__": {"id_": "66b9e710-1726-44f4-bb11-91a57dcbe75d", "embedding": null, "metadata": {"page_label": "57", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1a229ca6-8e84-4de4-bc36-a87f74ced88d", "node_type": "4", "metadata": {"page_label": "57", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "4cf1e4f9ec069700281ab62eef4ea9cd496c558e5057a80f0cb9a7f4cb1df8df", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\nafu_ratio_eru_100ms\n1\nOPM_100MS\nX.3.1\nfc()\ninput opm_100ms\nAPP_CDN\nV.7.2\nfc_100MS\nLV_ES\nLV_FAC_AFU_RATIO_EXT_ADJ\nfc_OPM__100MS\nRecurrence:        100MS\nActivation:\nLV_ES==1&&LV_FAC_AFU_RATIO_EXT_ADJ==1\nDeactivation:\nnever\ninput\n2\nfc_100MS\n1\n<LV_ES>\n<LV_FAC_AFU_RATIO_EXT_ADJ>\n<SYS_EVE__100MS>\nafu_ratio_eru_100ms\nFigure 4.6.35:\n4.6.3.1 100MS overview\nopm_100ms\n1\nCLC\nX.3.1.1\nFAC_AFU_RATIO_EXT_ADJ\nLAMB_ADD_ERU_AD\nFAC_AFU_RATIO_ERU_INI\nf()\ninput\n1\nFAC_AFU_RATIO_ERU_INI\nLAMB_ADD_ERU_AD\n<FAC_AFU_RATIO_EXT_ADJ>\nopm_100ms\nFigure 4.6.36:\n4.6.3.1.1 During ?Engine stop? (LV_ES = 1 and LV_FAC_AFU_RATIO_EXT_ADJ = 1:100MS)\nFAC_AFU_RATIO_ERU_INI\n2\nLAMB_ADD_ERU_AD\n1\nV.6.1\nV.6.4\n0\nFAC_AFU_RATIO_EXT_ADJ\n1\nFigure 4.6.37:\n4.6.4 ACTION_ALFU_RstVldEru\n\ufffd General Information\n\ufffd Application Conditions\nFile: 30709J08.00A\n1345Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1331, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "63586925-8741-4956-8399-602888cac8ab": {"__data__": {"id_": "63586925-8741-4956-8399-602888cac8ab", "embedding": null, "metadata": {"page_label": "58", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "bb421a72-b221-4608-abc2-7b2ada7bbb8b", "node_type": "4", "metadata": {"page_label": "58", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c6582e5144f952e1f88e724aba5e57ea28cf78a6fdbfacd9b6d72440736d83c2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU)\n\ufffd Function Description\nrstvlderu\n1\nX.4.1\nFunction definition:\nACTION_ALFU_RstVldEru\nrstvlderu\nFigure 4.6.38:\n4.6.4.1 ACTION_ALFU_RstVldEru\nLV_FAC_AFU_RATIO_ERU_VLD\n2\nActionExport\n1\nV.5.3\nLV_FAC_AFU_RATIO_ERU_VLD\nACTION_CREATOR\nACTION_ALFU_RstVldEru\nGlobalV.5.3\nX.4.1.1\nTrigger()\nActionImport\n<LV_FAC_AFU_RATIO_ERU_VLD>\n<ACTION_ALFU_RstVldEru_T3>\n<ACTION_ALFU_RstVldEru_T3>\nFigure 4.6.39:\n4.6.4.1.1 Reset valid ERU value\nV.6.4\n0check\nscope\nV.5.3\nLV_FAC_AFU_RATIO_ERU_VLD\nTrigger\nf()\nActionImport\n1\nFigure 4.6.40:\nFile: 30709J08.00A\n1346Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1057, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4cf8adf2-3e9a-405f-b1da-d453d3efbe21": {"__data__": {"id_": "4cf8adf2-3e9a-405f-b1da-d453d3efbe21", "embedding": null, "metadata": {"page_label": "59", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f44e57cd-3836-4e3c-a029-df7beaf267ad", "node_type": "4", "metadata": {"page_label": "59", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "f988faafab997953dd9f654885652153bf727b9720ee8b381be485f415cdd20b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU) (Appl. Inc.)\n4.7 Engine running adaptation (AFU) (Appl. Inc.)\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nLV_INH_FAC_AFU_RATIO_ERU O/V 0... 1H 0 ...1 1 -\nFlag for the deactivation of the Eninge running adaption\n\ufffd Input Data\nLC_FAC_AFU_RATIO_CONF\n{p. 1397}\nLV_ES\n{p. 7530}\nLV_FAC_AFU_RATIO_SENS_\nVLD\n{p. 1294}\nNC_STATE_AFU_SENS_CONF\n{p. 1292}\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_FID_ERR_AFU_SENS_ERU V 0... FFFFH 0... 65535 1 -\nFARM permission for FF sensor diagnosis in Engine running adaptation module\nNC_FID_ERR_CAM_ERU V 0... FFFFH 0... 65535 1 -\nFARM permission for CAM diagnosis in Engine running adaptation module\nNC_FID_ERR_CRK_ERU V 0... FFFFH 0... 65535 1 -\nFARM permission for CRK diagnosis in Engine running adaptation module\n\ufffd Import actions:\nACTION_FARM_GetPermission(IN <PRM_FID>, OUT <PRM_LV_PRMS>)\n\ufffd General Information\nIn case of system errors or during the EOL procedure it is necessary to deactivate the Engine running adapta-\ntion via the ?ag LV_INH_FAC_AFU_RATIO_ERU\n\ufffd Application Conditions\nInitialization: RST, IGKON\nRecurrence: SEG\nActivation: always\nDeactivation: never\n\ufffd Function Description\nFile: 30709K04.00C\n1347Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1731, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2a62bccc-8ba7-4c41-b545-63827914bfc9": {"__data__": {"id_": "2a62bccc-8ba7-4c41-b545-63827914bfc9", "embedding": null, "metadata": {"page_label": "60", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "04944d25-dd8f-4bfb-bb5e-a22a41e29652", "node_type": "4", "metadata": {"page_label": "60", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "673e28c365ed055515ccca8022d98ca9e5c6e0cc5e2152665a04357c2eca76cd", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU) (Appl. Inc.)\nSDA_SRS / SDA V 5.3.2 / 09?May?2010\n1\nLV_INH_FAC_AFU_RATIO_ERU\nLV_INH_FAC_AFU_RATIO_ERU:  O V   \nV. 6.3\nfc()\ninput opm\nOPM\nX.2\n5\nNC_STATE_AFU_SENS_CONF\n3\nLV_FAC_AFU_RATIO_SENS_VLD\n2\nLV_ES\n1\nLC_FAC_AFU_RATIO_CONF\nfc()\nini\nINI\nX.1\nfc_INI\nfc_OPM__SEG\nRecurrence:        SEG\nInit:             RST\n            IGKON\nActivation:\nalways\nDeactivation:\nnever\nAPP_CDN\nV. 7.2\n5\nACTION_FARM_GetPermission_T3\nFigure 4.7.1:\n4.7.1 Initialisation at RESET & IGKON\n1\nini\n0\nV. 6.4\nf()\niniLV_INH_FAC_AFU_RATIO_ERU\nFigure 4.7.2:\nFile: 30709K04.00C\n1348Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1067, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "41dfaef6-fa11-4247-94b2-5c08182d2e29": {"__data__": {"id_": "41dfaef6-fa11-4247-94b2-5c08182d2e29", "embedding": null, "metadata": {"page_label": "61", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4871a907-f1cf-4826-9b7a-831ecd888e07", "node_type": "4", "metadata": {"page_label": "61", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "46870f10d00ad2bccbed276110d3e4955a9dcf664c4905fc7f79887d377b69a3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine running adaptation (AFU) (Appl. Inc.)\n4.7.2 Overview for calculation\n4.7.2.1 Inhibition ?ag for ERU based AFU detection\n1\nLV_INH_FAC_AFU_RATIO_ERU\n[LC_FAC_AFU_RATIO_CONF]\n[LC_FAC_AFU_RATIO_CONF]\n[LC_FAC_AFU_RATIO_CONF]\nOR\nOR\nNOT\nNOT\nNOT\nNOT\nNOT\nV. 6.0\nV. 6.0\n1\nV. 6.4\n0\nV. 6.4\nAND\nAND\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\n8\nNC_FID_ERR_CAM_ERU\n7\nNC_FID_ERR_CRK_ERU\n6\nNC_FID_ERR_AFU_SENS_ERU\n5\nACTION_FARM_GetPermission_T3\n4\nNC_STATE_AFU_SENS_CONF\n3\nLV_FAC_AFU_RATIO_SENS_VLD\n2\nLV_ES\n1\nLC_FAC_AFU_RATIO_CONF\nFigure 4.7.3:\nFile: 30709K04.00C\n1349Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1180, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "94870e8a-f475-46de-b588-c0611e592f99": {"__data__": {"id_": "94870e8a-f475-46de-b588-c0611e592f99", "embedding": null, "metadata": {"page_label": "62", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "13a743e8-0a76-440a-aa44-7a6a8ccbefa9", "node_type": "4", "metadata": {"page_label": "62", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "a9b11c3f2329acc75dcfd0191ba82e5b9948c3af9f22be357ab80f498bd5dc8e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\n4.8 Lambda based ?ex fuel ratio detection\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nCTR_FAC_AFU_RATIO_LAMB_INT V 0... FFFFH 0... 65535 1 -\nCounter to determine mean value of FAC_AFU_RATIO_LAMB\nFAC_AFU_RATIO_LAMB O/V/S 0... 80H 0 ...1 0.0078125 -\nFF ratio determined by the lambda based detection algorithm\nFAC_AFU_RATIO_LAMB_INT V 0... FFFFH 0... 511.9921875 0.0078125 -\nIntegrated FAC_AFU_RATIO_LAMB excluding similar values\nFAC_AFU_RATIO_LAMB_OLD O/V/S 0... 80H 0 ...1 0.0078125 -\nFF ratio determined by the lambda based detection algorithm before refueling\nFAC_AFU_RATIO_LAMB_VLD O/V 0... FFH 0... 15.9375 0.0625 -\nFactor which speci?es the validity of the lambda based FF ratio value\nFAC_I_AFU_RATIO_DOWN V 0... 3FCH 0 ...4 0.00392157 -\nFactor to decrease I-controller share for the FF ratio detection controller (FAC_AFU_RATIO_LAMB)\nFAC_I_AFU_RATIO_UP V 0... 3FCH 0 ...4 0.00392157 -\nFactor to increase I-controller share for the FF ratio detection controller (FAC_AFU_RATIO_LAMB)\nLV_FAC_AFU_LAMB_CTL_ACT O/V 0... 1H 0 ...1 1 -\nInternal ?ag to activate the controler for the lambda based FF ratio detection\nLV_FAC_AFU_RATIO_LAMB_ACT O/V 0... 1H 0 ...1 1 -\nFlag indicating that the lambda based FF ratio detection is active\nLV_FAC_AFU_RATIO_LAMB_VLD O/V 0... 1H 0 ...1 1 -\nFlag indicating that the lambda based FF ratio detection is valid\nT_DLY_FAC_AFU_LAMB_CTL V 0... FFH 0... 25.5 0.1 s\nDelay timer for next controller update\nT_FAC_AFU_RATIO_LAMB_VLD O/V/S 0... FFFFH 0... 6553.5 0.1 s\nDuration time since last re?ll for the conditions for a valid FF ratio\n\ufffd Input Data\nCTR_FUEL_OIL\n{p. 23170}\nFAC_AFU_RATIO\n{p. 1396}\nFAC_AFU_RATIO_EXT_ADJ\n{p. 23173}\nFAC_AFU_RATIO_FTL_MAX\n{p. 1369}\nFAC_AFU_RATIO_FTL_MIN\n{p. 1369}\nFAC_LAM_MV_MMV_AFU\n[NC_CBK_EX_NR]\n{p. 23173}\nIDX_EX_CBK_LAMB\n{p. 1366}\nLV_CP_CLOSE_ACT\n{p. 10414}\nLV_ES\n{p. 7530}\nLV_FAC_AFU_LAMB_OIL_COLD\n{p. 1405}\nLV_FAC_AFU_RATIO_EXT_ADJ\n{p. 23183}\nLV_INH_FAC_AFU_RATIO_\nLAMB\n{p. 1366}\nLV_LAM_LSCL\n[NC_CBK_EX_NR]\n{p. 22406}\nMAF\n{p. 3012}\nN_32\n{p. 8079}\nSTATE_ALFU_CTL\n{p. 1405}\nFile: 3090A804.00B\n1350Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2615, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3e3ac9dd-0742-48dd-8d85-ab77bacfee68": {"__data__": {"id_": "3e3ac9dd-0742-48dd-8d85-ab77bacfee68", "embedding": null, "metadata": {"page_label": "63", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f7535a78-7fb8-4e4d-868f-8b4ba3d01673", "node_type": "4", "metadata": {"page_label": "63", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "5c4308af6d1c93c945be998124562abbd6dabc7a8065ef35b79231ac68684680", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d673b732-2372-4ae0-af68-2ff3b6289d38", "node_type": "1", "metadata": {}, "hash": "365a4bd6cb285075c96e85127ed6d88f13cffd71a9d85012c3150942303d104d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_FAC_AFU_LAMB_INT_BOL V 0... FFH 0... 15.9375 0.0625 -\nBottom limit to start FAC_AFU_RATIO_LAMB mean value determination\nC_FAC_AFU_LAMB_INT_TOL V 0... FFH 0... 15.9375 0.0625 -\nTop limit to end FAC_AFU_RATIO_LAMB mean value determination\nC_FAC_AFU_RATIO_LAMB_INI V 0... 80H 0 ...1 0.0078125 -\nInitialization value of FAC_AFU_RATIO_LAMB on LC_FAC_AFU_RATIO_LAMB_CLR\nC_FAC_AFU_RATIO_LAMB_VLD_DEAC V 0... FFH 0... 15.9375 0.0625 -\nThreshold of validity where the function is deactivated\nC_FAC_I_AFU_RATIO_DOWN V 0... 3FCH 0 ...4 0.00392157 -\nFactor to decrease I-controller share for the FF ratio detection controller (FAC_AFU_RATIO_LAMB)\nC_FAC_I_AFU_RATIO_DOWN_FAST V 0... 3FCH 0 ...4 0.00392157 -\nFactor to decrease I-controller share for the FF ratio detection controller (FAC_AFU_RATIO_LAMB)\nC_FAC_I_AFU_RATIO_UP V 0... 3FCH 0 ...4 0.00392157 -\nFactor to increase I-controller share for the FF ratio detection controller (FAC_AFU_RATIO_LAMB)\nC_FAC_I_AFU_RATIO_UP_FAST V 0... 3FCH 0 ...4 0.00392157 -\nFactor to increase I-controller share for the FF ratio detection controller (FAC_AFU_RATIO_LAMB)\nC_FAC_LAM_MV_AFU_THD_DOWN V 0... FFFFH -50...\n49.99847412109\n0.00152588 %\nFactor to speed up FAC_AFU_RATIO_LAMB detection algorithm\nC_FAC_LAM_MV_AFU_THD_UP V 0... FFFFH -50...\n49.99847412109\n0.00152588 %\nFactor to speed up FAC_AFU_RATIO_LAMB detection algorithm\nC_FAC_LAM_MV_BOL_AFU_ACT V 0... FFFFH -50...\n49.99847412109\n0.00152588 %\nBottom limit of the lambda controller which has to be reached to activate the controler\nC_FAC_LAM_MV_TOL_AFU_ACT V 0... FFFFH -50...\n49.99847412109\n0.00152588 %\nTop limit of the lambda controller which has to be reached to activate the controler\nC_T_DLY_FAC_AFU_LAMB_CTL_UPD V 0... FFH 0... 25.5 0.1 s\nDelay time for next controller update\nC_T_FAC_AFU_RATIO_OIL_COLD_MAX V 0... FFFFH 0... 6553.5 0.1 s\nMaximum duration time for T_FAC_AFU_RATIO_LAMB_VLD und cold conditions for fuel evaporation from oil\nIP_FAC_AFU_RATIO_LAMB_VLD V 0... FFH 0... 15.9375 0.0625 -\nLDP_T_FAC_LAMB_VLD_IP_FAC_VLD 6 0... FFFFH 0... 6553.5 0.1 s\nMap to specify the validity of the lambda based FF ratio value\nIP_MAF_MIN_FAC_AFU_LAMB_VLD V 0... FFFFH 0... 1389 0.02119478 mg/stk\nLDP_N_32_IP_MAF_MIN_VLD 4 0... FFH 0...", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2723, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d673b732-2372-4ae0-af68-2ff3b6289d38": {"__data__": {"id_": "d673b732-2372-4ae0-af68-2ff3b6289d38", "embedding": null, "metadata": {"page_label": "63", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f7535a78-7fb8-4e4d-868f-8b4ba3d01673", "node_type": "4", "metadata": {"page_label": "63", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "5c4308af6d1c93c945be998124562abbd6dabc7a8065ef35b79231ac68684680", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3e3ac9dd-0742-48dd-8d85-ab77bacfee68", "node_type": "1", "metadata": {"page_label": "63", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "520316d140c2c0499e60819568c9b7d0416b923932bb039b634de5d7e073695d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": ".. FFFFH 0... 6553.5 0.1 s\nMap to specify the validity of the lambda based FF ratio value\nIP_MAF_MIN_FAC_AFU_LAMB_VLD V 0... FFFFH 0... 1389 0.02119478 mg/stk\nLDP_N_32_IP_MAF_MIN_VLD 4 0... FFH 0... 8160 32 rpm\nLDPM_CTR_FUEL_OIL_1_ALFU 6 0... FFH 0... 255 1 -\nMinimum mass air ?ow to generate ?rst validity\nLC_FAC_AFU_RATIO_LAMB_CLR V 0... 1H 0 ...1 1 -\nLogical switch to reset lambda based FF ratio detection manually to C_FAC_AFU_RATIO_LAMB_INI\nLC_FAC_AFU_RATIO_LAMB_INT V 0... 1H 0 ...1 1 -\nLogical switch to activate mean value determination of FAC_AFU_RATIO_LAMB during valid learn\nLC_FAC_AFU_RATIO_LAMB_LIM V 0... 1H 0 ...1 1 -\nLogical switch to limit FAC_AFU_RATIO_LAMB with FTL based limits\nLC_FAC_AFU_RATIO_LAMB_MAN_ACT V 0... 1H 0 ...1 1 -\nLogical calibration to activate the lambda base FF ratio detection manually\nFile: 3090A804.00B\n1351Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 2525, "end_char_idx": 3480, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "79a0146b-588f-4666-a8e4-e33bacdc8889": {"__data__": {"id_": "79a0146b-588f-4666-a8e4-e33bacdc8889", "embedding": null, "metadata": {"page_label": "64", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0fad20ce-b345-4835-b17f-c8589e6f3408", "node_type": "4", "metadata": {"page_label": "64", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "79d0956f7931c487eb07d162a4eb0e36104aa26dd6f64e27e850bb3d918aa2d3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\n\ufffd Action De?nitions\nACTION_ALFU_RstVldLamb() Mode: O\nThis action resets the duration time since last re?ll for the conditions for a valid FF ratio and the validity of the lambda based FF ratio\ndetection algorithm\n\ufffd General Information\nThis module uses the lambda controller output to detect the ?ex fuel ratio\nStoichiometric ratio of Ethanol is different from Gasoline. The Lambda controller output will be different as\nthere is a change in Air-Fuel ratio. A factor corresponding to this Lambda deviation is controlled to get the\noverall Lambda to ?1?. This cumulated factor is used to determine the Flex fuel ratio\n\ufffd Application Conditions\nInitialization: RST, NVMRES, NVMINI, NVMSTO, ES2ERU\nRecurrence: 100MS\nActivation: always\nDeactivation: never\n\ufffd Function Description\nFile: 3090A804.00B\n1352Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1324, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "781a136f-27b0-43b2-aff0-d53ffc879eaa": {"__data__": {"id_": "781a136f-27b0-43b2-aff0-d53ffc879eaa", "embedding": null, "metadata": {"page_label": "65", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "36174ea9-0da8-40b8-9e8c-5c43218c295d", "node_type": "4", "metadata": {"page_label": "65", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c3a278ce0549c2d471f9af115103cae02516f1f48055801a996dca6cb0304ea2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\nSDA_SRS / SDA V 5.3.2 / 06?Jun?2008\n8\nACTION_ALFU_RstVldLamb\n7\nLV_FAC_AFU_LAMB_CTL_ACT\n6\nLV_FAC_AFU_RATIO_LAMB_ACT\n5\nT_FAC_AFU_RATIO_LAMB_VLD\n4\nLV_FAC_AFU_RATIO_LAMB_VLD\n3\nFAC_AFU_RATIO_LAMB_VLD\n2\nFAC_AFU_RATIO_LAMB_OLD\n1\nFAC_AFU_RATIO_LAMB\nCTR_FAC_AFU_RATIO_LAMB_INT:    V   \nFAC_AFU_RATIO_LAMB:  O V S \nFAC_AFU_RATIO_LAMB_INT:    V   \nFAC_AFU_RATIO_LAMB_OLD:  O V S \nFAC_AFU_RATIO_LAMB_VLD:  O V   \nFAC_I_AFU_RATIO_DOWN:    V   \nFAC_I_AFU_RATIO_UP:    V   \nLV_FAC_AFU_LAMB_CTL_ACT:  O V   \nLV_FAC_AFU_RATIO_LAMB_ACT:  O V   \nLV_FAC_AFU_RATIO_LAMB_VLD:  O V   \nT_DLY_FAC_AFU_LAMB_CTL:    V   \nT_FAC_AFU_RATIO_LAMB_VLD:  O V S \nV. 6.3\n5\nSTATE_ALFU_CTL\nfeedback rstvldlamb\nRSTVLDLAMB\nX.3\nfc()input\nfeedback\nopm_100ms\nOPM_100MS\nX.2\n14\nN_32\n13\nMAF\n11\nLV_LAM_LSCL\n7\nLV_INH_FAC_AFU_RATIO_LAMB\n10\nLV_FAC_AFU_RATIO_EXT_ADJ\n6\nLV_FAC_AFU_LAMB_OIL_COLD\n12\nLV_ES\n16\nLV_CP_CLOSE_ACT\nfc_INI\nfeedback\nini\nINI\nX.1\n2\nIDX_EX_CBK_LAMB\n9\nFAC_LAM_MV_MMV_AFU\n4\nFAC_AFU_RATIO_FTL_MIN\n3\nFAC_AFU_RATIO_FTL_MAX\n8\nFAC_AFU_RATIO_EXT_ADJ\n1\nFAC_AFU_RATIO\n15\nCTR_FUEL_OIL\nfc_INI\nfc_OPM__100MS\nRecurrence:        100MS\nInit:             RST\n            NVMRES\n            NVMINI\n            NVMSTO\n            ES2ERU\nActivation:\nalways\nDeactivation:\nnever\nAPP_CDN\nV. 7.2\nFigure 4.8.1:\nFile: 3090A804.00B\n1353Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1805, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a0d2270c-6ed5-4752-9024-e7936eb794e3": {"__data__": {"id_": "a0d2270c-6ed5-4752-9024-e7936eb794e3", "embedding": null, "metadata": {"page_label": "66", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fdb4ab03-c651-44ed-99c9-4f8ce97d75ed", "node_type": "4", "metadata": {"page_label": "66", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "a0ef5ea719510b34ca2657ca7db28ea114d1a3b240d3ab1a0a4d89e812948935", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\n4.8.1 Initialisations\n4.8.1.1 Initialisation at RESET & ES2ERU event\nat shecksum error: all NVMY values = 0H\n1\nini_rst_es2eru\nx_val IP_val\nIP_FAC_AFU_RATIO_LAMB_VLD\nV. 6.4\n1\nV. 6.0\n0\nV. 6.4\nC_FAC_AFU_RATIO_LAMB_VLD_DEAC\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nf()\n1\nT_FAC_AFU_RATIO_LAMB_VLD\nFAC_AFU_RATIO_LAMB_INT\nCTR_FAC_AFU_RATIO_LAMB_INT\nLV_FAC_AFU_RATIO_LAMB_ACT\nFAC_I_AFU_RATIO_UP\nFAC_I_AFU_RATIO_DOWN\nLV_FAC_AFU_LAMB_CTL_ACT\nT_DLY_FAC_AFU_LAMB_CTL\nLV_FAC_AFU_RATIO_LAMB_VLD\nini_rst_es2eru\nFAC_AFU_RATIO_LAMB_VLD\nFigure 4.8.2:\n4.8.1.2 NVMY data handling: Initialisation\n4.8.1.3 NVMY data handling: Read\n4.8.1.4 NVMY data handling: Store\n4.8.2 Calculation at 100MS\n4.8.2.1 Lambda based AFU ratio detection sequence\n4.8.2.1.1 Manual reset of lambda based AFU_RATIO\nFor testing purposes the Lambda based AFU ratio can be manually set. Validity factor and timer should be\nreset as the value is manually set.\nFile: 3090A804.00B\n1354Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1481, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f023740b-b585-471d-b529-39b86b27e471": {"__data__": {"id_": "f023740b-b585-471d-b529-39b86b27e471", "embedding": null, "metadata": {"page_label": "67", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0b047ed8-6e28-4d86-bd50-85b654b0af58", "node_type": "4", "metadata": {"page_label": "67", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "068875a15a82752147352e6b1a8265a59c4bb6857a8427a424fc732267f3d677", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\n6\nFAC_AFU_RATIO_LAMB_INT_out\n5\nCTR_FAC_AFU_RATIO_LAMB_INT_out\n4\nFAC_AFU_RATIO_LAMB_VLD_out\n3\nT_FAC_AFU_RATIO_LAMB_VLD_out\n2\nLV_FAC_AFU_RATIO_LAMB_VLD_out\n1\nFAC_AFU_RATIO_LAMB_out\nCheck ~= 0\nMux\nMux\n1\n1\n1\n1\n1\n1\nDemux\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nC_FAC_AFU_RATIO_LAMB_INI\nV. 6.4\nLC_FAC_AFU_RATIO_LAMB_CLR\nV. 6.4\n0\nV. 6.4\nf()\n6\nFAC_AFU_RATIO_LAMB_INT_in\n5\nCTR_FAC_AFU_RATIO_LAMB_INT_in\n4\nFAC_AFU_RATIO_LAMB_VLD_in\n3\nT_FAC_AFU_RATIO_LAMB_VLD_in\n2\nLV_FAC_AFU_RATIO_LAMB_VLD_in\n1\nFAC_AFU_RATIO_LAMB_in\nFigure 4.8.3:\n4.8.2.1.2 Set of FAC_AFU_RATIO_xxx due to external adjustment\nAn external device like a scan tool can be used to set the AFU ratio value in cases like fuel tank replacement,\nEOL etc.,\n4\nFAC_AFU_RATIO_LAMB_VLD\n3\nT_FAC_AFU_RATIO_LAMB_VLD\n2\nLV_FAC_AFU_RATIO_LAMB_VLD\n1\nFAC_AFU_RATIO_LAMB\nx_val IP_val\nIP_FAC_AFU_RATIO_LAMB_VLD\nV. 6.4\nCheck ~= 0\nMux\nMux\n1\n1\n1\n1\nDemux\n6553.5\nV. 6.4\n1\nV. 6.4\nAND\nf()\n7\nLV_ES\n6\nFAC_AFU_RATIO_EXT_ADJ\n5\nLV_FAC_AFU_RATIO_EXT_ADJ\n4\nT_FAC_AFU_RATIO_LAMB_VLD_cur\n3\nFAC_AFU_RATIO_LAMB_VLD_cur\n2\nLV_FAC_AFU_RATIO_LAMB_VLD_cur\n1\nFAC_AFU_RATIO_LAMB_cur\nFigure 4.8.4:\nFile: 3090A804.00B\n1355Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1653, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "cc1fce8c-b792-4653-9e7a-bcdb2344c060": {"__data__": {"id_": "cc1fce8c-b792-4653-9e7a-bcdb2344c060", "embedding": null, "metadata": {"page_label": "68", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a64e31fe-4cee-436a-a694-8779d32cd17f", "node_type": "4", "metadata": {"page_label": "68", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "cb78b81f3e6cd5c92c53f23765c364f2a2a133fad1199586d242aa6f4f2dac86", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\n4.8.2.1.3 Activation conditions for Lambda based AFU detection\nLambda based AFU ratio detection is triggered when a refuel is detected and the Lambda sensor is ready.\nThe controller remains activated until the determined value gets validated. A provision is made to manually\nactivate the Lambda based AFU detection process\n1\nlamb_ctl_act\nC\n0\n[..]\n[fc_FALSE]\n[fc_THEN]\n[fc_FALSE]\n[fc_THEN]\nV. 6.0\ncond_if\nif\nelse\nV. 6.1\n4\nVLD_LEARN\nV. 6.4\nOR\nOR\nNOT\n3\nLEARN\nV. 6.4\nfc()\ninput\nfeedback\nlamb_ctl\nLAMB_CTL\nX.2.1.3.1\nV. 6.0\nV. 6.0\nV. 6.0\nLC_FAC_AFU_RATIO_LAMB_MAN_ACT\nV. 6.4\nfc()\nfeedback clc_else\nCLC_ELSE\nX.2.1.3.2\n2\nCHG\nV. 6.4\nBusMerge\nV. 6.0\nAND\nf()\n6\nfeedback\n5\ninput\n4\nIDX_EX_CBK_LAMB\n3\nLV_INH_FAC_AFU_RATIO_LAMB\n2\nLV_LAM_LSCL\n1\nSTATE_ALFU_CTL\nlamb_ctl_act\nFigure 4.8.5:\n4.8.2.1.3.1 Sequencing for Lambda based AFU detection\n4.8.2.1.3.1.1 At activation of Lambda based detection\nEvaluated AFU ratio is assigned as the initial value for Lambda based AFU detection. Previously learned value\nis used to quickly arrive at the new value else an arbitrary value should be considered which may take a longer\ntime and more processing.\n2\nLV_FAC_AFU_RATIO_LAMB_ACT\n1\nFAC_AFU_RATIO_LAMB_out\nV. 6.0\ncond_if\nif\nelse\nV. 6.1\nV. 6.1\nMerge\n1\nV. 6.4\nf()\n3\nFAC_AFU_RATIO_LAMB_in\n2\nLV_FAC_AFU_RATIO_LAMB_ACT_in\n1\nFAC_AFU_RATIO\nFigure 4.8.6:\n4.8.2.1.3.1.2 Lambda control deviation detected\nMoving mean value of the lambda controller is checked for range.\nFile: 3090A804.00B\n1356Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1985, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2adb6b6f-7ec8-4058-8cd0-c69c16fbaf5d": {"__data__": {"id_": "2adb6b6f-7ec8-4058-8cd0-c69c16fbaf5d", "embedding": null, "metadata": {"page_label": "69", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7a3ecca1-5415-40e4-8616-5cc7be640fb3", "node_type": "4", "metadata": {"page_label": "69", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "30841bdc8893f8f3119fc13a7bed0fe7bab7bf9d80f03a9d2d8bfbaadbf8e1c1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\nZero crossing pos. direction\nZero crossing neg. direction\n2\nT_DLY_FAC_AFU_LAMB_CTL_out\n1\nLV_FAC_AFU_LAMB_CTL_ACT_out\nC\n0\n[..]\n[else]\n[T_DLY_FAC_AFU_LAMB_CTL]\n[LV_FAC_AFU_LAMB_CTL_ACT]\n[else]\n[T_DLY_FAC_AFU_LAMB_CTL]\n[T_DLY_FAC_AFU_LAMB_CTL]\n[LV_FAC_AFU_LAMB_CTL_ACT]\nz\n1\nInit = 0\nz\n1\nInit = 0\nCheck ~= 0\nCheck ~= 0\nOR\nOR\nMux\nMux\nMux\nV. 6.0\nV. 6.3\n1\n1\nV. 6.0\nV. 6.0\nV. 6.0\nV. 6.0\nDemux\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nC_FAC_LAM_MV_BOL_AFU_ACT\nV. 6.4\nC_FAC_LAM_MV_TOL_AFU_ACT\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\nAND\nANDf()\n4\nT_DLY_FAC_AFU_LAMB_CTL_in\n3\nLV_FAC_AFU_LAMB_CTL_ACT_in\n2\nIDX_EX_CBK_LAMB\n1\nFAC_LAM_MV_MMV_AFU\nFigure 4.8.7:\n4.8.2.1.3.1.3 Update of Lambda based FF detection factor\nConditions to updated Lambda based FF detection factor. It is observed that the Oil temperature has in?uence\non the factor detection because of oil evaporation at cold temperatures. Hence the new value will be learned\nonly when the oil temperature reaches suf?cient temperature to ensure no evaporation\n1\nupd_lamb_ff_fac\n[fc_FALSE]\n[fc_THEN]\n[fc_FALSE]\n[fc_THEN]\nV. 6.0\ncond_if\nif\nelse\nV. 6.1\nV. 6.0C_T_DLY_FAC_AFU_LAMB_CTL_UPD\nV. 6.4\nfc()\ninput\nfeedback\nclc_then\nCLC_THEN\nX.2.1.3.1.3.1\nfc()\nfeedback clc_else\nCLC_ELSE\nX.2.1.3.1.3.2\nBusMerge\nV. 5.35\nANDf()\n4\nfeedback\n3\nT_DLY_FAC_AFU_LAMB_CTL\n2\nLV_FAC_AFU_LAMB_CTL_ACT\n1\ninput\nupd_lamb_ff_fac\nFigure 4.8.8:\nFile: 3090A804.00B\n1357Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1898, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ef90248c-3f03-4503-b859-2fa7857ce391": {"__data__": {"id_": "ef90248c-3f03-4503-b859-2fa7857ce391", "embedding": null, "metadata": {"page_label": "70", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a34bc9eb-8e50-4176-97d4-f17bdc8bec28", "node_type": "4", "metadata": {"page_label": "70", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "d4dae319d68dfe8d5fdd68269daaf62d081164d2766a9abbd1dc62ec74a9ba22", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\n4.8.2.1.3.1.3.1 Sequencing for incrementing or decrementing the Lambda based FF detection factor\n4.8.2.1.3.1.3.1.1 Condition check to determine FAC_I_AFU_xxx\nConditions to determine if the moving mean value from Lambda controller is on negative or positive side.\nLambda based AFU ratio value is ensured to be within the maximum and minimum limits determined be FTL\nbased AFU detection algorithm\n1\nup_down_clc_1\nC\n0\n[..]\n[fc_FALSE]\n[fc_THEN]\n[FAC_LAM_MV_MMV_AFU]\n[FAC_LAM_MV_MMV_AFU]\n[fc_FALSE]\n[fc_THEN]\n[FAC_LAM_MV_MMV_AFU]\nV. 6.0\ncond_if\nif\nelse\nV. 6.0\ncond_if\nif\nelse\nV. 6.1\nfc()\nfeedback ratio_up_else\nRATIO_UP_ELSE\nX.2.1.3.1.3.1.1.3\nfc()\ninput\nfeedback\nratio_up_clc\nRATIO_UP_CLC\nX.2.1.3.1.3.1.1.2\nfc()input\nfeedback\nratio_down_clc\nRATIO_DOWN_CLC\nX.2.1.3.1.3.1.1.1\nOR\nOR\nNOT\nNOT\nV. 6.0\nV. 6.3\nV. 6.0\nV. 6.0\nLC_FAC_AFU_RATIO_LAMB_LIM\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nLC_FAC_AFU_RATIO_LAMB_LIM\nV. 6.4\n0\nV. 6.4\nBusMerge\nV. 5.35\nAND\nAND\nf()\n7\nfeedback\n6\ninput\n5\nFAC_AFU_RATIO_LAMB_cur\n4\nIDX_EX_CBK_LAMB\n3\nFAC_AFU_RATIO_FTL_MAX\n2\nFAC_AFU_RATIO_FTL_MIN\n1\nFAC_LAM_MV_MMV_AFU\nup_down_clc_1\nT_DLY_FAC_AFU_LAMB_CTL\nFigure 4.8.9:\n4.8.2.1.3.1.3.1.1.1 Sequencing for decrementing Lambda based FF detection factor\n1\nratio_down_clc\n1\n2\nV. 6.1\n[fc_2]\n[fc_1]\n[fc_2]\n[fc_1]\nV. 6.1\nfc()FAC_LAM_MV_MMV_AFU\nIDX_EX_CBK_LAMB\nFAC_AFU_RATIO_LAMB_in\nFAC_I_AFU_RATIO_DOWN\nFAC_AFU_RATIO_LAMB_out\nCLC_DOWN\nX.2.1.3.1.3.1.1.1.1\nBusMerge\nV. 6.0\nf()\n2\nfeedback\n1\ninput\nratio_down_clc\n<IDX_EX_CBK_LAMB>\nFAC_I_AFU_RATIO_DOWN\nFAC_AFU_RATIO_LAMB\n<FAC_LAM_MV_MMV_AFU>\n<FAC_AFU_RATIO_LAMB>\nratio_down_clc\nFigure 4.8.10:\n4.8.2.1.3.1.3.1.1.1.1 FAC_I_RATIO_DOWN determination\nLambda based AFU ratio is calculated with the new factor. Minimum decrement of at least one resolution is\ntaken care.\nFile: 3090A804.00B\n1358Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2299, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d5a6be37-99ee-49ad-bd50-8599eefada27": {"__data__": {"id_": "d5a6be37-99ee-49ad-bd50-8599eefada27", "embedding": null, "metadata": {"page_label": "71", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0dcd4d5a-36a4-4fa6-9c2b-74acc8bf9648", "node_type": "4", "metadata": {"page_label": "71", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "9e31d025b98da215de17dce35985625c32a9500617a59b0d24b1081475b31f5f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\nController decreases at least 1 Hex\n2\nFAC_AFU_RATIO_LAMB_out\n1\nFAC_I_AFU_RATIO_DOWN\nC\n0\n[..]\n[FAC_LAM_MV_MMV_AFU]\n[FAC_LAM_MV_MMV_AFU]\n[FAC_LAM_MV_MMV_AFU]\nCheck ~= 0\n+\n+\nV. 6.7\nV. 6.7\nmin\nV. 6.3\nV. 6.0\n1\n1\n?0.0078125\nV. 6.4\nC_FAC_I_AFU_RATIO_DOWN\nV. 6.4\nC_FAC_LAM_MV_AFU_THD_DOWN\nV. 6.4\nC_FAC_I_AFU_RATIO_DOWN_FAST\nV. 6.4\nf()\n3\nFAC_AFU_RATIO_LAMB_in\n2\nIDX_EX_CBK_LAMB\n1\nFAC_LAM_MV_MMV_AFU\nFigure 4.8.11:\n4.8.2.1.3.1.3.1.1.2 Sequencing for incrementing Lambda based FF detection factor\n1\nratio_up_clc\n1\n2\nV. 6.1\n[fc_2]\n[fc_1]\n[fc_2]\n[fc_1]\nV. 6.1\nfc()FAC_LAM_MV_MMV_AFU\nIDX_EX_CBK_LAMB\nFAC_AFU_RATIO_LAMB_in\nFAC_I_AFU_RATIO_UP\nFAC_AFU_RATIO_LAMB_out\nCLC_DOWN\nX.2.1.3.1.3.1.1.2.1\nBusMerge\nV. 6.0\nf()\n2\nfeedback\n1\ninput\nratio_up_clc\n<IDX_EX_CBK_LAMB>\nFAC_AFU_RATIO_LAMB\n<FAC_LAM_MV_MMV_AFU>\n<FAC_AFU_RATIO_LAMB>\nFAC_I_AFU_RATIO_UP\nratio_up_clc\nFigure 4.8.12:\n4.8.2.1.3.1.3.1.1.2.1 FAC_I_AFU_RATIO_UP determination\nLambda based FF detection factor is incremented when the moving mean value of Lambda controller is\ngreater than ?0?. Minimum increment of atleast on resolution is taken care\nFile: 3090A804.00B\n1359Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1637, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9c00397a-829c-497f-9492-9c6464c1b17b": {"__data__": {"id_": "9c00397a-829c-497f-9492-9c6464c1b17b", "embedding": null, "metadata": {"page_label": "72", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8522567a-d1b6-4ed9-a920-c3d465ac763d", "node_type": "4", "metadata": {"page_label": "72", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "227f7cef0ca81d0a37c1d201a054c2557e459fc521677c63cfef35b1bc51ad55", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\nController Increases at least 1 Hex\n2\nFAC_AFU_RATIO_LAMB_out\n1\nFAC_I_AFU_RATIO_UP\nC\n0\n[..]\n[FAC_LAM_MV_MMV_AFU]\n[FAC_LAM_MV_MMV_AFU]\n[FAC_LAM_MV_MMV_AFU]\nCheck ~= 0\n+\n+\nV. 6.7\nV. 6.7\nmax\nV. 6.3\n1\n1\nV. 6.0C_FAC_LAM_MV_AFU_THD_UP\nV. 6.4\nC_FAC_I_AFU_RATIO_UP_FAST\nV. 6.4\n0.0078125\nV. 6.4\nC_FAC_I_AFU_RATIO_UP\nV. 6.4\nf()\n3\nFAC_AFU_RATIO_LAMB_in\n2\nIDX_EX_CBK_LAMB\n1\nFAC_LAM_MV_MMV_AFU\nFigure 4.8.13:\n4.8.2.1.3.1.3.1.1.3 Feedthrough sequencing\n1\nratio_up_else\nV. 6.1\nf()\n1\nfeedback ratio_up_else\nFigure 4.8.14:\n4.8.2.1.3.1.3.1.2 Limitation for FAC_AFU_RATIO_LAMB\nCalculated Lambda based AFU ratio is made sure to be within the possible maximum and minimum Ethanol\ncontent. This limits are determined in the FTL based AFu detection speci?cation\n1\nFAC_AFU_RATIO_LAMB\nmin\nV. 6.3\nmax\nV. 6.3\nf()\n3\nFAC_AFU_RATIO_FTL_MIN\n2\nFAC_AFU_RATIO_FTL_MAX\n1\nFAC_AFU_RATIO_LAMB_cur\nFigure 4.8.15:\nFile: 3090A804.00B\n1360Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1424, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9455704d-f249-45e3-8cf3-5df04e3249a5": {"__data__": {"id_": "9455704d-f249-45e3-8cf3-5df04e3249a5", "embedding": null, "metadata": {"page_label": "73", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "efc53751-3703-49f5-8f67-a399cf5a4226", "node_type": "4", "metadata": {"page_label": "73", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "70187bb9e5a3dfe7a6e2db7c9ab6b0167f46cf0e4dbcfeb590cdbdcab105d7ec", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\n4.8.2.1.3.1.3.2 Delay timer sequencing\n1\nclc_else\n1\n2\nV. 6.1\n[fc_2]\n[fc_1]\n[fc_2][fc_1]\nV. 6.1\nfc()\nT_DLY_FAC_AFU_LAMB_CTL_in T_DLY_FAC_AFU_LAMB_CTL_out\nT_INC\nX.2.1.3.1.3.2.1\nBusMerge\nV. 6.0\nf()\n1\nfeedback clc_else\nT_DLY_FAC_AFU_LAMB_CTL<T_DLY_FAC_AFU_LAMB_CTL> clc_else\nFigure 4.8.16:\n4.8.2.1.3.1.3.2.1 Incrementing delay timer\nIncrements the delay timer between two controller updates\n1\nT_DLY_FAC_AFU_LAMB_CTL_out\n+\n+\nV. 6.70.1\nV. 6.4\nf() 1\nT_DLY_FAC_AFU_LAMB_CTL_in\nFigure 4.8.17:\n4.8.2.1.3.1.4 First increment of valid timer due to driving conditions and new fuel completely arrived\nValidity of the Lambda based AFU value and the duration\n2\nFAC_AFU_RATIO_LAMB_VLD\n1\nT_FAC_AFU_RATIO_LAMB_VLD\n[T_FAC_AFU_RATIO_LAMB_VLD_cur]\n[T_FAC_AFU_RATIO_LAMB_VLD_cur]\nx_val IP_val\nIP_FAC_AFU_RATIO_LAMB_VLD\nV. 6.4\nx_val IP_val\nIP_FAC_AFU_RATIO_LAMB_VLD\nV. 6.4\nx_val\ny_val\nIP_val\nIP_MAF_MIN_FAC_AFU_LAMB_VLD\nV. 6.4\nCheck ~= 0\nCheck ~= 0\n+\n+\nV. 6.7\nMux\nMux\nMux\n3\nLEARN\nV. 6.4\n1\n1\nV. 6.0\nV. 6.0\nDemux0\nV. 6.4\n0.1\nV. 6.4\nf()\n6\nSTATE_ALFU_CTL\n5\nCTR_FUEL_OIL\n4\nN_32\n3\nMAF\n2\nT_FAC_AFU_RATIO_LAMB_VLD_cur\n1\nFAC_AFU_RATIO_LAMB_VLD_cur\nFigure 4.8.18:\nFile: 3090A804.00B\n1361Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1681, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "43e4d195-5673-4c96-879c-cc793524fcec": {"__data__": {"id_": "43e4d195-5673-4c96-879c-cc793524fcec", "embedding": null, "metadata": {"page_label": "74", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ff42a52b-a4c2-4b50-a48c-a5139336118a", "node_type": "4", "metadata": {"page_label": "74", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "e9fab636a619fdd2ac4d7cc996851d5c545f9216162a1dc2bae637ffc331c96e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\n4.8.2.1.3.1.5 Activation of valid learn mean value determination\n1\nvld_learn_int\nV. 6.0\ncond_if\nif\nelse\nV. 6.1\nV. 6.1\nfc()\nfeedback vld_learn_mv\nVLD_LEARN_MV\nX.2.1.3.1.5.1\nLC_FAC_AFU_RATIO_LAMB_INT\nV. 6.4\nBusMerge\nV. 6.0\nf()\n1\nfeedback vld_learn_int\nFigure 4.8.19:\n4.8.2.1.3.1.5.1 Mean value based FAC_AFU_RATIO_LAMB determination during valid learn\n4.8.2.1.3.1.5.1.1 FAC_AFU_RATIO_LAMB value updation considering mean values\n3\nFAC_AFU_RATIO_LAMB_out\n2\nCTR_FAC_AFU_RATIO_LAMB_INT_out\n1\nFAC_AFU_RATIO_LAMB_INT_out\n1\n2\nV. 6.1\n[fc_2]\n[fc_1]\n[CTR_FAC_AFU_RATIO_LAMB_INT_cur]\n[FAC_AFU_RATIO_LAMB_VLD]\n[FAC_AFU_RATIO_LAMB_cur]\n[CTR_FAC_AFU_RATIO_LAMB_INT_in]\n[FAC_AFU_RATIO_LAMB_INT_in]\n[FAC_AFU_RATIO_LAMB_cur]\n[FAC_AFU_RATIO_LAMB_INT_in]\n[CTR_FAC_AFU_RATIO_LAMB_INT_in]\n[FAC_AFU_RATIO_LAMB_INT_in]\n[CTR_FAC_AFU_RATIO_LAMB_INT_in]\n[FAC_AFU_RATIO_LAMB_INT_in]\n[fc_1]\n[FAC_AFU_RATIO_LAMB_cur]\n[CTR_FAC_AFU_RATIO_LAMB_INT_cur]\n[CTR_FAC_AFU_RATIO_LAMB_INT_cur]\n[fc_2]\n[FAC_AFU_RATIO_LAMB_cur]\n[FAC_AFU_RATIO_LAMB_VLD]\n[FAC_AFU_RATIO_LAMB_VLD]\n[FAC_AFU_RATIO_LAMB_INT_in]\n[CTR_FAC_AFU_RATIO_LAMB_INT_in]\nV. 6.1\nV. 6.1\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\n+\n+\nV. 6.7\n+\n+\nV. 6.7\n+\n+\nV. 6.7\nNOT\nMux\nMux\nMux\nV. 6.0\n[MX;MN[\nV. 6.1\nMX\nMN\nu\ny\nV. 6.0\nV. 6.0\n512\nFFFFh\nV. 6.4\nV. 6.8\nDemux\n0\nV. 6.4\n1\nV. 6.4\n1\nV. 6.4\nC_FAC_AFU_LAMB_INT_TOL\nV. 6.4\nC_FAC_AFU_LAMB_INT_BOL\nV. 6.4\nAND\nAND\nf()\n6\nLV_FAC_AFU_LAMB_CTL_ACT\n5\nCTR_FAC_AFU_RATIO_LAMB_INT_in\n4\nFAC_AFU_RATIO_LAMB_INT_in\n3\nFAC_AFU_RATIO_LAMB_cur\n2\nFAC_AFU_RATIO_LAMB_VLD\n1\nLV_FAC_AFU_RATIO_LAMB_ACT\nFigure 4.8.20:\nFile: 3090A804.00B\n1362Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2095, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "32e9463c-343c-4a2f-9d76-5983ab82db7e": {"__data__": {"id_": "32e9463c-343c-4a2f-9d76-5983ab82db7e", "embedding": null, "metadata": {"page_label": "75", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "632f7a80-6ece-499f-9a85-7afa24e54432", "node_type": "4", "metadata": {"page_label": "75", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "205af00a2e642d45052f48b2df50d3678e840244e17c81634fc4823330b03c2d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\n4.8.2.1.3.1.6 Incrementation of valid timer for detection\n1\nT_FAC_AFU_RATIO_LAMB_VLD_out\nC\n0\n[..]\n[FAC_AFU_RATIO_LAMB]\n[cond]\n[FAC_LAM_MV_MMV_AFU]\n[FAC_AFU_RATIO_LAMB]\n[FAC_AFU_RATIO_LAMB]\n[FAC_LAM_MV_MMV_AFU]\n[cond]\n[FAC_AFU_RATIO_LAMB]\n[FAC_LAM_MV_MMV_AFU]\n4\nVLD_LEARN\nV. 6.4\nCheck ~= 0\nCheck ~= 0+\n+\nV. 6.7\nOR\nOR\nOR\nNOT\nV. 6.0\n1\nV. 6.0\nV. 6.0\nV. 6.0\nV. 6.0\nV. 6.0\nV. 6.0\nV. 6.0\n1\nV. 6.4\n0\nV. 6.4\nLC_FAC_AFU_RATIO_LAMB_LIM\nV. 6.4\n0.1\nV. 6.4\nC_T_FAC_AFU_RATIO_OIL_COLD_MAX\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nLC_FAC_AFU_RATIO_LAMB_LIM\nV. 6.4\nANDAND\nAND\nAND\nAND\nAND\nf()\n10\nIDX_EX_CBK_LAMB\n9\nLV_CP_CLOSE_ACT\n8\nFAC_AFU_RATIO_FTL_MAX\n7\nFAC_AFU_RATIO_FTL_MIN\n6\nLV_FAC_AFU_LAMB_OIL_COLD\n5\nFAC_LAM_MV_MMV_AFU\n4\nSTATE_ALFU_CTL\n3\nLV_FAC_AFU_LAMB_CTL_ACT\n2\nFAC_AFU_RATIO_LAMB\n1\nT_FAC_AFU_RATIO_LAMB_VLD_in\nFigure 4.8.21:\n4.8.2.1.3.1.7 Calculation of learned = valid Bit\nSetting of valid AFU ratio\n2\nLV_FAC_AFU_RATIO_LAMB_VLD\n1\nFAC_AFU_RATIO_LAMB_VLD\nx_val IP_val\nIP_FAC_AFU_RATIO_LAMB_VLD\nV. 6.4\n1\nV. 6.0\nC_FAC_AFU_RATIO_LAMB_VLD_DEAC\nV. 6.4\nf()\n1\nT_FAC_AFU_RATIO_LAMB_VLD\nFigure 4.8.22:\nFile: 3090A804.00B\n1363Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1619, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2a4505b2-8527-4be6-8d1c-ef4180ba1033": {"__data__": {"id_": "2a4505b2-8527-4be6-8d1c-ef4180ba1033", "embedding": null, "metadata": {"page_label": "76", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b3c788dc-7051-457c-8047-46a3f5fff887", "node_type": "4", "metadata": {"page_label": "76", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "1de8b09df797278fc05db9c58171531dac8d823f465b89ab2b616817b19cbfbd", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\n4.8.2.1.3.2 Sequence to reset Lambda activation\n1\nclc_else\n1\n2\nV. 6.1\n[fc_2]\n[fc_1]\n[fc_2]\n[fc_1]\nV. 6.1\nfc()\nLV_FAC_AFU_RATIO_LAMB_ACT\nLV_FAC_AFU_LAMB_CTL_ACT\nRST_LAMB_ACT\nX.2.1.3.2.1\nBusMerge\nV. 6.0\nf()\n1\nfeedback\nclc_else\nLV_FAC_AFU_RATIO_LAMB_ACT clc_else\nLV_FAC_AFU_LAMB_CTL_ACT\nFigure 4.8.23:\n4.8.2.1.3.2.1 Reset Lambda based detection actuation\nLambda based AFU detection algorithm is not active\n2\nLV_FAC_AFU_LAMB_CTL_ACT\n1\nLV_FAC_AFU_RATIO_LAMB_ACT\n0\nV. 6.4\n0\nV. 6.4\nf()\nFigure 4.8.24:\n4.8.3 ACTION_ALFU_RstVldLamb\n1\nrstvldlamb\nFAC_AFU_RATIO_LAMB\nActionExport\nFAC_AFU_RATIO_LAMB_OLD\nT_FAC_AFU_RATIO_LAMB_VLD\nFAC_AFU_RATIO_LAMB_VLD\nLV_FAC_AFU_RATIO_LAMB_VLD\nACTIONDEF_ALFU_RstVldLamb\n1\nfeedback rstvldlamb<FAC_AFU_RATIO_LAMB>\nFigure 4.8.25:\nFile: 3090A804.00B\n1364Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1299, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5af152cf-69ae-48fa-b112-d5d8d87b40c4": {"__data__": {"id_": "5af152cf-69ae-48fa-b112-d5d8d87b40c4", "embedding": null, "metadata": {"page_label": "77", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a9b71ebc-7d07-41a1-94fd-edb6a5ea44b5", "node_type": "4", "metadata": {"page_label": "77", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "7331b28a2c4ce084bcccf5c910d41e5d2899d1609c8f53a6ead38f7cf2434cc5", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection\n4.8.4 ACTION_ALFU_RstVldLamb\n5\nLV_FAC_AFU_RATIO_LAMB_VLD\n4\nFAC_AFU_RATIO_LAMB_VLD\n3\nT_FAC_AFU_RATIO_LAMB_VLD\n2\nFAC_AFU_RATIO_LAMB_OLD\n1\nActionExport\nLV_FAC_AFU_RATIO_LAMB_VLD\nV. 5.3\nFAC_AFU_RATIO_LAMB_VLD\nV. 5.3\nT_FAC_AFU_RATIO_LAMB_VLD\nV. 5.3\nFAC_AFU_RATIO_LAMB_OLD\nV. 5.3\nFAC_AFU_RATIO_LAMB\nV. 5.3\nACTION_ALFU_RstVldLamb\nAggregate LocalV. 5.3\nACTION_CREATOR\nTrigger()\nActionImport\n1\nFAC_AFU_RATIO_LAMB\n<ACTION_ALFU_RstVldLamb_T2><ACTION_ALFU_RstVldLamb_T2>\nFigure 4.8.26:\n4.8.4.1 Calculation of RstVldLamb\nx_val IP_val\nIP_FAC_AFU_RATIO_LAMB_VLD\nV. 6.4\nV. 6.1\nV. 6.1\nV. 6.0\nC_FAC_AFU_RATIO_LAMB_VLD_DEAC\nV. 6.4\n0\nV. 6.4\nIn1check\nscope\nLV_FAC_AFU_RATIO_LAMB_VLD\nV. 5.3\nFAC_AFU_RATIO_LAMB_VLD\nV. 5.3\nT_FAC_AFU_RATIO_LAMB_VLD\nV. 5.3\nFAC_AFU_RATIO_LAMB_OLD\nV. 5.3\nFAC_AFU_RATIO_LAMB\nV. 5.3\nf()\nTrigger\n1\nActionImport\n<FAC_AFU_RATIO_LAMB>\nFigure 4.8.27:\nFile: 3090A804.00B\n1365Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1401, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "03b280a5-f96a-498c-a55e-03168340e3f5": {"__data__": {"id_": "03b280a5-f96a-498c-a55e-03168340e3f5", "embedding": null, "metadata": {"page_label": "78", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "665be6e4-984e-4a11-a8a6-01c7c97274b1", "node_type": "4", "metadata": {"page_label": "78", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "adb5394cb899adc2d74dffbd451821c5651e14ff9f7ce97af1ff208ce71963a8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection (Appl. Inc.)\n4.9 Lambda based ?ex fuel ratio detection (Appl. Inc.)\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nIDX_EX_CBK_LAMB O/V/S 0... 1H 0 ...1 1 -\nExhaust bank used to determine FAC_AFU_RATIO by LAMBDA\nLV_INH_FAC_AFU_RATIO_LAMB O/V 0... 1H 0 ...1 1 -\nFlag to inhibit FAC_AFU_RATIO based on LAMBDA\n\ufffd Input Data\nLC_FAC_AFU_RATIO_CONF\n{p. 1397}\nNC_STATE_AFU_SENS_CONF\n{p. 1292}\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_FID_ERR_AFU_SENS_LAMB V 0... FFFFH 0... 65535 1 -\nFARM permission for FF sensor diagnosis in Lambda based Ethanol detection\nNC_FID_ERR_AFU_SUM_LS_UP [NC_CBK_EX_NR] V 0... FFFFH 0... 65535 1 -\nFARM permission for currently present fault on upstream oxygen sensor signal used in ALFU\n\ufffd Import actions:\nACTION_FARM_GetPermission(IN <PRM_FID>, OUT <PRM_LV_PRMS>)\n\ufffd General Information\n\ufffd Application Conditions\nInitialization: RST, ES2ERU, NVMRES, NVMINI, NVMSTO\nRecurrence: 100MS\nActivation: always\nDeactivation: never\n\ufffd Function Description\nFile: 3090B303.00C\n1366Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1574, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4e7617f3-8c84-4687-b5e0-7dbd35fcf214": {"__data__": {"id_": "4e7617f3-8c84-4687-b5e0-7dbd35fcf214", "embedding": null, "metadata": {"page_label": "79", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "80f07d2a-5251-43fd-a248-6d2963ef7183", "node_type": "4", "metadata": {"page_label": "79", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "7237f0caead69c40ef97901d82a6ed17aed1948b2d28a95e9ecb97f28b4de318", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection (Appl. Inc.)\nSDA_SRS / SDA V 5.3.2 / 09?May?2010\n2\nIDX_EX_CBK_LAMB\n1\nLV_INH_FAC_AFU_RATIO_LAMB\nIDX_EX_CBK_LAMB:  O V S \nLV_INH_FAC_AFU_RATIO_LAMB:  O V   \nV. 6.3\nfc()\ninput opm\nOPM\nX.2\n1\nNC_STATE_AFU_SENS_CONF\n2\nLC_FAC_AFU_RATIO_CONF\nfc_INI\nfeedback\nini\nINI\nX.1\nfc_INI\nfc_OPM__100MS\nRecurrence:        100MS\nInit:             RST\n            ES2ERU\n            NVMRES\n            NVMINI\n            NVMSTO\nActivation:\nalways\nDeactivation:\nnever\nAPP_CDN\nV. 7.2\n3\nACTION_FARM_GetPermission_T3\nFigure 4.9.1:\n4.9.1 Initialisation at RESET event\n1\nini\nNVMY[store]\nIDX_EX_CBK_LAMB\nsize: 1\ninit:0\nNVMY[read/init]\nIDX_EX_CBK_LAMB\nsize: 1\ninit:0\nNVMY[read/init]\nIDX_EX_CBK_LAMB\nsize: 1\ninit:0\nMux\nMerge\n0\nV. 6.4\n2\nfeedback\n1\nfc_INI\n<IDX_EX_CBK_LAMB>\nIDX_EX_CBK_LAMB\n<fc_NVMSTO>\n<fc_NVMRES>\n<fc_NVMINI>\n<fc_ES2ERU>\n<fc_RST>\nLV_INH_FAC_AFU_RATIO_LAMB ini\nFigure 4.9.2:\nFile: 3090B303.00C\n1367Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1409, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2dda3455-8a16-412e-a25f-d6ae4fe5b19a": {"__data__": {"id_": "2dda3455-8a16-412e-a25f-d6ae4fe5b19a", "embedding": null, "metadata": {"page_label": "80", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "981b3679-df1b-4d14-bb2a-ea5511d27fa4", "node_type": "4", "metadata": {"page_label": "80", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "91c1c4011ae5b7f664bd567758f7cb2516489f04b221acde4f86440519872617", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Lambda based ?ex fuel ratio detection (Appl. Inc.)\n4.9.2 Calculation at 100ms\n4.9.2.1 Selection of exhaust bank & Inhibition of Lambda based Ethanol detection\n2\nLV_INH_FAC_AFU_RATIO_LAMB\n1\nIDX_EX_CBK_LAMB\nC\n0\n[..]\n[IDX_EX_CBK_LAMB]\n[IDX_EX_CBK_LAMB]\nV. 6.1\nOR\nNOT\nNOT\nV. 6.0\n0\nV. 6.4\n0\nV. 6.4\nAND\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\n5\nNC_FID_ERR_AFU_SUM_LS_UP\n4\nNC_FID_ERR_AFU_SENS_LAMB\n3\nACTION_FARM_GetPermission_T3\n2\nLC_FAC_AFU_RATIO_CONF\n1\nNC_STATE_AFU_SENS_CONF\nFigure 4.9.3:\nFile: 3090B303.00C\n1368Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1076, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "272f8a1a-ac54-4723-985c-3a3975302245": {"__data__": {"id_": "272f8a1a-ac54-4723-985c-3a3975302245", "embedding": null, "metadata": {"page_label": "81", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b0d5a960-a34e-47a5-b161-e7d6f742eabe", "node_type": "4", "metadata": {"page_label": "81", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "21625432a2928055a93563a46e38bb5b8fa8445e3ec4be8eb0b3cf9af3627ecd", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n4.10 Fuel tank level based ?ex fuel ratio detection\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nFAC_AFU_RATIO_FTL O/V/S 0... 80H 0 ...1 0.0078125 -\nFF ratio detected by fuel tank level algorithm\nFAC_AFU_RATIO_FTL_MAX O/V/S 0... 80H 0 ...1 0.0078125 -\nEthanol content in the tank if fuel with highest possible ethanol content was ?lled in\nFAC_AFU_RATIO_FTL_MAX_TMP V 0... 80H 0 ...1 0.0078125 -\nTemporary Value to determine which value to use for FAC_AFU_RATIO_FTL_MAX calculation\nFAC_AFU_RATIO_FTL_MIN O/V/S 0... 80H 0 ...1 0.0078125 -\nEthanol content in the tank if fuel with lowest possible ethanol content was ?lled in\nFAC_AFU_RATIO_FTL_MIN_TMP V 0... 80H 0 ...1 0.0078125 -\nTemporary Value to determine which value to use for FAC_AFU_RATIO_FTL_MIN calculation\nFAC_AFU_RATIO_FTL_VLD O/V 0... FFH 0... 15.9375 0.0625 -\nFactor which speci?es the validity of the fuel tank level based FF ratio value\nFTL_PERC V 0... FFH 0... 99.609375 0.390625 %\nFuel tank level in per cent\nFTL_PERC_MAX_VS_STOP V 0... FFH 0... 99.609375 0.390625 %\nMaximum of the fuel tank level during standstill (VS=0) of the vehicle\nFTL_PERC_ST_REFU O/V/S 0... FFH 0... 99.609375 0.390625 %\nFuel tank level in per cent at engine start after refueling\nFTL_PERC_STOP O/V/S 0... FFH 0... 99.609375 0.390625 %\nFuel tank level in per cent at engine stop\nFTL_PERC_STOP_REFU O/V/S 0... FFH 0... 99.609375 0.390625 %\nFuel tank level in per cent at engine stop before refueling\nFTL_PERC_VS_STOP V 0... FFH 0... 99.609375 0.390625 %\nFuel tank level at beginning of the standstill (VS=0) of the vehicle\nLV_FAC_AFU_RATIO_FTL_ACT O/V 0... 1H 0 ...1 1 -\nFlag indicating fuel tank level detection activation\nLV_FAC_AFU_RATIO_FTL_VLD O/V/S 0... 1H 0 ...1 1 -\nFlag indicating that the FF ratio detected by fuel tank is valid\nLV_FAC_AFU_RATIO_VLD_RST O/V 0... 1H 0 ...1 1 -\nReset of all ethanol content valid bits\nLV_FTL_REFU O/V 0... 1H 0 ...1 1 -\nFlag indicating that a refueling was detected\nLV_VS_STOP V 0... 1H 0 ...1 1 -\nFlag indicating, that the car is standing still (for refueling detection with running engine)\nMFF_SUM_REFU O/V/S 0... FFFFH 0... 131.07 0.002 l\nCummulated injected fuel mass since last refueling\nMFF_SUM_REFU_INT - 0... FFFFFFFFH 0... 131072 30.5176e-6 ml\nInternal value to integrate the fuel mass after refueling\nT_VS_STOP V 0... FFFFH 0... 6553.5 0.1 s\nVehicle standstill duration time\nFile: 3090AB04.00D\n1369Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2953, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "783653d1-5da6-498c-9c6b-c8cfc5549880": {"__data__": {"id_": "783653d1-5da6-498c-9c6b-c8cfc5549880", "embedding": null, "metadata": {"page_label": "82", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "02f6c432-c7bb-4793-9471-efc8a123a9d4", "node_type": "4", "metadata": {"page_label": "82", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "13f7c009d85e937b1cc9f772b44f4075e33e8b2f0c716cafe7442873ce729a2a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "371642ab-4c7e-4b69-8c26-ad061f041d17", "node_type": "1", "metadata": {}, "hash": "57f1d3ab095b9d4a6eab319230ea3262c6e6289bdf3e6b5917979dd9b6abb169", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n\ufffd Input Data\nFAC_AFU_RATIO\n{p. 1396}\nFAC_AFU_RATIO_EXT_ADJ\n{p. 23173}\nFAC_AFU_RATIO_LAMB\n{p. 1350}\nFTL\n{p. 12256}\nLC_FAC_AFU_RATIO_CONF\n{p. 1397}\nLC_FTL_REFU_MAN_DET\n{p. 1389}\nLV_ES\n{p. 7530}\nLV_FAC_AFU_RATIO_EXT_ADJ\n{p. 23183}\nLV_FAC_AFU_RATIO_EXT_REQ\n{p. 23183}\nLV_FAC_AFU_RATIO_LAMB_\nVLD\n{p. 1350}\nLV_FAC_AFU_RATIO_RST_REQ\n{p. 1389}\nLV_FAC_AFU_RATIO_VLD\n{p. 1396}\nLV_FTL_CAN_VLD_AFU\n{p. 1389}\nLV_FTL_EOL_END\n{p. 1389}\nLV_INH_FAC_AFU_RATIO_FTL\n{p. 1389}\nLV_PUC\n{p. 7530}\nLV_STST_STOP_CYC\n{p. 8458}\nMFF_SP_AFU\n{p. 1389}\nNC_STATE_AFU_SENS_CONF\n{p. 1292}\nVS\n{p.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 991, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "371642ab-4c7e-4b69-8c26-ad061f041d17": {"__data__": {"id_": "371642ab-4c7e-4b69-8c26-ad061f041d17", "embedding": null, "metadata": {"page_label": "82", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "02f6c432-c7bb-4793-9471-efc8a123a9d4", "node_type": "4", "metadata": {"page_label": "82", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "13f7c009d85e937b1cc9f772b44f4075e33e8b2f0c716cafe7442873ce729a2a", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "783653d1-5da6-498c-9c6b-c8cfc5549880", "node_type": "1", "metadata": {"page_label": "82", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "29f969ef0c6bbba27ffb280f654b365aaf9734deef5847307f7c037819853f54", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "1389}\nLV_FTL_EOL_END\n{p. 1389}\nLV_INH_FAC_AFU_RATIO_FTL\n{p. 1389}\nLV_PUC\n{p. 7530}\nLV_STST_STOP_CYC\n{p. 8458}\nMFF_SP_AFU\n{p. 1389}\nNC_STATE_AFU_SENS_CONF\n{p. 1292}\nVS\n{p. 26240}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_FAC_AFU_RATIO_FTL_INI V 0... 80H 0 ...1 0.0078125 -\nInitialization value of FAC_AFU_RATIO_FTL on LC_CLR_FAC_AFU_RATIO_FTL\nC_FAC_AFU_RATIO_FTL_MAX_INI V 0... 80H 0 ...1 0.0078125 -\nInitialization value of FAC_AFU_RATIO_FTL_MAX on LC_CLR_FAC_AFU_RATIO_FTL\nC_FAC_AFU_RATIO_FTL_MIN_INI V 0... 80H 0 ...1 0.0078125 -\nInitialization value of FAC_AFU_RATIO_FTL_MIN on LC_CLR_FAC_AFU_RATIO_FTL\nC_FAC_AFU_RATIO_FTL_OFS_MAX V 0... 80H 0 ...1 0.0078125 -\nError Threshold for FAC_AFU_RATIO_FTL_MAX calculation\nC_FAC_AFU_RATIO_FTL_OFS_MIN V 0... 80H 0 ...1 0.0078125 -\nError Threshold for FAC_AFU_RATIO_FTL_MIN calculation\nC_FAC_AFU_RATIO_FTL_VLD V 0... FFH 0... 15.9375 0.0625 -\nCalibartion constant to determine the validity factor for the FTL based FF detection value\nC_FAC_AFU_RATIO_MAX_REFU V 0... 80H 0 ...1 0.0078125 -\nMaximum possible ethanol content to be ?lled in\nC_FAC_AFU_RATIO_MIN_REFU V 0... 80H 0 ...1 0.0078125 -\nMinimum possible ethanol content to be ?lled in\nC_FTL_PERC_OFS V 0... FFH 0... 99.609375 0.390625 %\nRest fuel remaining in tank at FTL = 0 in percent\nC_FTL_PERC_REFU_MIN V 0... FFH 0... 99.609375 0.390625 %\nFTL percentage below which tank is considered empty for FTL based ALFU detection\nC_MFF_SUM_REFU_EXT_REQ_INI V 0... FFFFH 0... 131.07 0.002 l\nInit value for MFF_SUM_REFU on external request\nC_MFF_SUM_REFU_THD_FTL_INI V 0... FFFFH 0... 131.07 0.002 l\nInit value for MFF_SUM_REFU on manual refuelling detection or FTL error\nC_T_DLY_VS_STOP_DET V 0... FFFFH 0... 6553.5 0.1 s\nDelay time for \"vehicle stopped\" detection\nIP_FTL_PERC_HYS_REFU V 0... FFH -50... 49.609375 0.390625 %\nLDP_FTL_PERC_STOP 6 0... FFH 0... 99.609375 0.390625 %\nNecessary FTL percentage which has to be ?lled up to detect a refueling\nLC_AFU_FTL_REFU_BIN V 0... 1H 0 ...1 1 -\nAssume only binary fuel available (e.g. E0 and E85)\nLC_CLR_FAC_AFU_RATIO_FTL V 0... 1H 0 ...1 1 -\nFile: 3090AB04.00D\n1370Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 821, "end_char_idx": 3067, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1d9c2eed-9e5b-42ad-b9fd-233ad1bd2d7c": {"__data__": {"id_": "1d9c2eed-9e5b-42ad-b9fd-233ad1bd2d7c", "embedding": null, "metadata": {"page_label": "83", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fed3ee41-957b-4e15-8505-1b247dd95d4f", "node_type": "4", "metadata": {"page_label": "83", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "269ec179cabd1879577b7ed43b220ad4cf40e00c31f1035b55f565e1a4ccd1a7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\nName Mode Coded Limits Display Limits Resolution Unit\nLogical switch to reset FTL based FF ratio detection manually to C_FAC_AFU_RATIO_FTL_INI\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_FID_ERR_AFU_SENS_FTL V 0... FFFFH 0... 65535 1 -\nFARM permission for FF sensor diagnosis in Fuel tank level based module\nNC_FID_ERR_FTL_SENS_FTL V 0... FFFFH 0... 65535 1 -\nFARM permission for Fuel Tank level sensor diagnosis in Fuel tank level based module\n\ufffd Import actions:\nACTION_FARM_GetPermission(IN <PRM_FID>, OUT <PRM_LV_PRMS>)\n\ufffd General Information\nThis module detects refuelling during the beginning of every DC and while engine is running. Based on this\nrefuelling (LV_FTL_REFU) value other detection algorithms like Engine running adaptation and Lambda based\nwill get activated. Also a maximum and minimum Ethanol content will get calculated based on the refuel\namount which will be used by other algorithms as boundaries. Ethanol content will then be determined using\nLambda values after the Lambda sensor becomes active.\n\ufffd Application Conditions\nInitialization: RST, NVMRES, NVMINI, NVMSTO\nRecurrence: 100MS\nActivation: always\nDeactivation: never\n\ufffd Function Description\nFile: 3090AB04.00D\n1371Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1763, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d420299e-3789-44da-9944-7679356ef18b": {"__data__": {"id_": "d420299e-3789-44da-9944-7679356ef18b", "embedding": null, "metadata": {"page_label": "84", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e7d50704-e49a-410d-89da-14ab97aa695a", "node_type": "4", "metadata": {"page_label": "84", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "697c4e1e0a4a17a71faedc74a3ae03c86423de5b7abf9f3da7e91355748b67b3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\nSDA_SRS / SDA V 5.3.2 / 09?May?2010\n12\nLV_FAC_AFU_RATIO_FTL_ACT\n11\nLV_FAC_AFU_RATIO_VLD_RST\n10\nMFF_SUM_REFU\n9\nLV_FTL_REFU\n8\nLV_FAC_AFU_RATIO_FTL_VLD\n7\nFTL_PERC_ST_REFU\n6\nFTL_PERC_STOP_REFU\n5\nFTL_PERC_STOP\n4\nFAC_AFU_RATIO_FTL_VLD\n3\nFAC_AFU_RATIO_FTL_MIN\n2\nFAC_AFU_RATIO_FTL_MAX\n1\nFAC_AFU_RATIO_FTL\n[fc_OPM]\n[fc_OPM]\n19\nVS\nFAC_AFU_RATIO_FTL:  O V S \nFAC_AFU_RATIO_FTL_MAX:  O V S \nFAC_AFU_RATIO_FTL_MAX_TMP:    V   \nFAC_AFU_RATIO_FTL_MIN:  O V S \nFAC_AFU_RATIO_FTL_MIN_TMP:    V   \nFAC_AFU_RATIO_FTL_VLD:  O V   \nFTL_PERC:    V   \nFTL_PERC_MAX_VS_STOP:    V   \nFTL_PERC_STOP:  O V S \nFTL_PERC_STOP_REFU:  O V S \nFTL_PERC_ST_REFU:  O V S \nFTL_PERC_VS_STOP:    V   \nLV_FAC_AFU_RATIO_FTL_ACT:  O V   \nLV_FAC_AFU_RATIO_FTL_VLD:  O V S \nLV_FAC_AFU_RATIO_VLD_RST:  O V   \nLV_FTL_REFU:  O V   \nLV_VS_STOP:    V   \nMFF_SUM_REFU:  O V S \nMFF_SUM_REFU_INT:  ? ? ? \nT_VS_STOP:    V   \nV. 6.3\nfc()\ninput\nfeedback\nopm_100ms\nOPM_100MS\nX.2\n18\nNC_STATE_AFU_SENS_CONF\n8\nMFF_SP_AFU\n20\nLV_STST_STOP_CYC\n17\nLV_PUC\n6\nLV_INH_FAC_AFU_RATIO_FTL\n5\nLV_FTL_EOL_END\n9\nLV_FTL_CAN_VLD_AFU\n3\nLV_FAC_AFU_RATIO_VLD\n7\nLV_FAC_AFU_RATIO_RST_REQ\n2\nLV_FAC_AFU_RATIO_LAMB_VLD\n16\nLV_FAC_AFU_RATIO_EXT_REQ\n15\nLV_FAC_AFU_RATIO_EXT_ADJ\n14\nLV_ES\n21\nLC_FTL_REFU_MAN_DET\n12\nLC_FAC_AFU_RATIO_CONF fc_INI\nfeedback\ninput\nini\nINI\nX.1\n11\nFTL\n1\nFAC_AFU_RATIO_LAMB\n10\nFAC_AFU_RATIO_EXT_ADJ\n4\nFAC_AFU_RATIO\nfc_INI\nfc_OPM__100MS\nRecurrence:        100MS\nInit:             RST\n            NVMRES\n            NVMINI            NVMSTO\nActivation: always\nDeactivation:\nnever\nAPP_CDN\nV. 7.2\n21\nACTION_FARM_GetPermission_T3\nFigure 4.10.1:\n4.10.1 Initializations\n4.10.1.1 NVMY data handling: Initialization\n4.10.1.2 NVMY data handling: Read\nFile: 3090AB04.00D\n1372Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2237, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "83a5e094-b046-41d0-b3be-a341b4151c8e": {"__data__": {"id_": "83a5e094-b046-41d0-b3be-a341b4151c8e", "embedding": null, "metadata": {"page_label": "85", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "455297a2-9da0-4e7b-8744-4d8f69c678f9", "node_type": "4", "metadata": {"page_label": "85", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "5ad378148a7d7cf5ab870bfad2fad3e2e7272514decf3bfbeba220ae0ab247b0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n4.10.1.3 NVMY data handling: Store\n4.10.1.4 Initialization at RESET event\nWhen the AFU ratio detected by FTL based algorithm is valid, the FAC_AFU_RATIO_VLD is set to C_FAC_AFU_\nRATIO_FTL_VLD else it is reinitialised to ?0?. Rest all variable are set to ?0?\nAt CHECK SUM error,\nFAC_AFU_RATIO_FTL_MIN = 0\nFAC_AFU_RATIO_FTL_MAX = 1\n1\nrst_ini\nCheck ~= 0\n1\n1\n1\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nC_FAC_AFU_RATIO_FTL_VLD\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nf()\n3\nFAC_AFU_RATIO\n2\nMFF_SUM_REFU\n1\nLV_FAC_AFU_RATIO_FTL_VLD\nT_VS_STOP\nFTL_PERC_MAX_VS_STOP\nFTL_PERC_VS_STOP\nLV_VS_STOP\nLV_FTL_REFU\nLV_FAC_AFU_RATIO_VLD_RST\nFTL_PERC\nLV_FAC_AFU_RATIO_FTL_ACT\nFAC_AFU_RATIO_FTL_VLD\nFAC_AFU_RATIO_FTL_MAX_TMP\nFAC_AFU_RATIO_FTL_MIN_TMP\nrst_ini\nMFF_SUM_REFU_INT\nFigure 4.10.2:\n4.10.2 Calculation at 100MS\n4.10.2.1 Manual reset and overall reset of valid Ethanol values\n4.10.2.1.1 Manual reset\nManuall clear and resetting of all FTL based values to prede?ned values. FTL based AFU ratio validity bit is\nreset to ?0?\nFile: 3090AB04.00D\n1373Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1573, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1559be8c-84ca-4209-9635-8801da2f4860": {"__data__": {"id_": "1559be8c-84ca-4209-9635-8801da2f4860", "embedding": null, "metadata": {"page_label": "86", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d5f4cfc1-ec9d-4797-bbe3-a8c1cea02b45", "node_type": "4", "metadata": {"page_label": "86", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "386494f3fb3cd45999d59a2711164b49a842bd5c1f2a9c24bd398546839c2fff", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n5\nLV_FAC_AFU_RATIO_FTL_VLD_out\n4\nFAC_AFU_RATIO_FTL_VLD_out\n3\nFAC_AFU_RATIO_FTL_MAX_out\n2\nFAC_AFU_RATIO_FTL_MIN_out\n1\nFAC_AFU_RATIO_FTL_out\nCheck ~= 0\n1\n1\n1\n1\n1\nDemux\nC_FAC_AFU_RATIO_FTL_INI\nV. 6.4\nLC_CLR_FAC_AFU_RATIO_FTL\nV. 6.4\nC_FAC_AFU_RATIO_FTL_MAX_INI\nV. 6.4\nC_FAC_AFU_RATIO_FTL_MIN_INI\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nf()\n5\nLV_FAC_AFU_RATIO_FTL_VLD_in\n4\nFAC_AFU_RATIO_FTL_VLD_in\n3\nFAC_AFU_RATIO_FTL_MAX_in\n2\nFAC_AFU_RATIO_FTL_MIN_in\n1\nFAC_AFU_RATIO_FTL_in\nFigure 4.10.3:\n4.10.2.1.2 Condition check to reset valid learn conditions\nBased on a reset request the valid Ethanol content will be reset\n1\nman_det\nV. 6.0\ncond_if\nif\nelse\nV. 6.1\nfc()\nman_rst rst_vld\nRST_VLD\nX.2.1.2.2\nNOT\nfc()\ninput\nman_rst\nclc_man_det\nCLC_MAN_DET\nX.2.1.2.1\nBusMerge\nV. 6.0\nAND f()\n4\nman_rst\n3\nLV_INH_FAC_AFU_RATIO_FTL\n2\nLV_FAC_AFU_RATIO_RST_REQ\n1\ninput\nman_det\nFigure 4.10.4:\nFile: 3090AB04.00D\n1374Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1409, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e60f4afb-2d03-4ab3-ab79-ceaca5db8433": {"__data__": {"id_": "e60f4afb-2d03-4ab3-ab79-ceaca5db8433", "embedding": null, "metadata": {"page_label": "87", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "933db61f-bf46-45c7-9bbc-c731faaf43e2", "node_type": "4", "metadata": {"page_label": "87", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "46eaf035d4d58a8eac63ad44eb9777d092ed7ebc50ffa49196f6e9d2cb11654b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n4.10.2.1.2.1 Calculation if a reset is requested\n4.10.2.1.2.1.1 Resetting all learned valid Ethanol content\n8\nLV_FAC_AFU_RATIO_VLD_RST_out\n7\nMFF_SUM_REFU_INT_out\n6\nFAC_AFU_RATIO_FTL\n5\nLV_FAC_AFU_RATIO_FTL_VLD\n4\nFAC_AFU_RATIO_FTL_VLD\n3\nFAC_AFU_RATIO_FTL_MIN\n2\nLV_FTL_REFU\n1\nFAC_AFU_RATIO_FTL_MAX\n[MFF_SUM_REFU_in]\n[MFF_SUM_REFU_in]\n[MFF_SUM_REFU_in]\nCheck ~= 0\nCheck ~= 0\nORNOT\nmin\nV. 6.3\nmin\nV. 6.3\n1\n1\n1\n1\n1\n1\nV. 6.0 1\nV. 6.4\nC_MFF_SUM_REFU_EXT_REQ_INI\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\nC_MFF_SUM_REFU_THD_FTL_INI\nV. 6.4\n0\nV. 6.4\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\nf()\n8\nNC_FID_ERR_AFU_SENS_FTL\n7\nLV_FAC_AFU_RATIO_VLD_RST_in\n6\nMFF_SUM_REFU_in\n5\nLV_FAC_AFU_RATIO_EXT_REQ\n4\nLC_FAC_AFU_RATIO_CONF\n3\nACTION_FARM_GetPermission_T3\n2\nFAC_AFU_RATIO\n1\nNC_STATE_AFU_SENS_CONF\nFigure 4.10.5:\n4.10.2.1.2.2 Calculation if there is no reset request\n4.10.2.1.2.2.1 Reset of LV_FAC_AFU_RATIO_VLD_RST\n1\nLV_FAC_AFU_RATIO_VLD_RST\n0\nV. 6.4\nf()\nFigure 4.10.6:\n4.10.2.2 Calculation due to external request\n4.10.2.2.1 Set of FAC_AFU_RATIO_xxx due to external request\nFTL based FF ration value will be set to FAC_AFU_RATIO_EXT_ADJ while the engine is not running and when\nthere is a requirement to set the value to externally provide value (eg. during testing). LV_FTL_REFU will not be\nset high as the FF ratio value is manually overridden. FTL_PERC, FTL_PERC_STOP and FTL_PERC_STOP_REFU\nvalues will be set to corrected fuel tank level value.\nFile: 3090AB04.00D\n1375Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1995, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "050790ed-2420-411c-9f92-b4dc2869f2b9": {"__data__": {"id_": "050790ed-2420-411c-9f92-b4dc2869f2b9", "embedding": null, "metadata": {"page_label": "88", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6e9ede98-6b6b-439f-90ee-37384a5a0dbc", "node_type": "4", "metadata": {"page_label": "88", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "b96d1b87843ef7bd82ed417f61d3dec335f7f6f013cd32f7e27e96677eb0645a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n9\nFTL_PERC_STOP_REFU_out\n8\nFTL_PERC_STOP_out\n7\nFTL_PERC_out\n6\nLV_FTL_REFU\n5\nLV_FAC_AFU_RATIO_FTL_VLD\n4\nFAC_AFU_RATIO_FTL_VLD\n3\nFAC_AFU_RATIO_FTL_MIN\n2\nFAC_AFU_RATIO_FTL_MAX\n1\nFAC_AFU_RATIO_FTL\nCheck ~= 0\n+\n+\nV. 6.7\nMux\nMux\n1\n1\n1\n1\n1\n1\n1\n1\n1\nDemux\nC_FTL_PERC_OFS\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\nC_FAC_AFU_RATIO_FTL_VLD\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\nAND\nf()\n13\nFTL_PERC_in\n12\nFTL_PERC_STOP_REFU_in\n11\nFTL_PERC_STOP_in\n10\nLV_FTL_REFU_cur\n9\nLV_FAC_AFU_RATIO_FTL_VLD_cur\n8\nFAC_AFU_RATIO_FTL_VLD_cur\n7\nFAC_AFU_RATIO_FTL_MIN_cur\n6\nFAC_AFU_RATIO_FTL_MAX_cur\n5\nFAC_AFU_RATIO_FTL_cur\n4\nLV_ES\n3\nFTL\n2\nLV_FAC_AFU_RATIO_EXT_ADJ\n1\nFAC_AFU_RATIO_EXT_ADJ\nFigure 4.10.7:\n4.10.2.2.2 Which variable to be used for FAC_AFU_RATIO_FTL_MIN/MAX calculation\nBased on the validity of Ethanol content the initial maximum and minimum possible Ethanol contents are\ntaken. If the determined Ethanol content is valid then it will be used else the previous maximum and minimum\nEthanol values will be used.\nFile: 3090AB04.00D\n1376Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1522, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "dc189222-5c89-41b9-85a5-200635c2a005": {"__data__": {"id_": "dc189222-5c89-41b9-85a5-200635c2a005", "embedding": null, "metadata": {"page_label": "89", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f08a72bd-2bf2-452c-b6d7-a1143641b53f", "node_type": "4", "metadata": {"page_label": "89", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c10d8189d73ebcf01750f4b00f8193d332e5340de6f4d1425a790c3d62e53668", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n2\nFAC_AFU_RATIO_FTL_MAX_TMP_out\n1\nFAC_AFU_RATIO_FTL_MIN_TMP_out\n[LV_FAC_AFU_RATIO_VLD]\n[LV_FAC_AFU_RATIO_VLD]\n[LV_FAC_AFU_RATIO_VLD]\n[LV_FAC_AFU_RATIO_VLD]\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nNOT\nNOT\nMux\nMux\nMux\nMux\n1\n1\nDemuxLC_AFU_FTL_REFU_BIN\nV. 6.4\nLC_AFU_FTL_REFU_BIN\nV. 6.4\nAND\nAND\nf()\n7\nFAC_AFU_RATIO_FTL_MIN\n6\nFAC_AFU_RATIO_FTL_MAX\n5\nFAC_AFU_RATIO_FTL\n4\nFAC_AFU_RATIO_FTL_MIN_TMP_in\n3\nFAC_AFU_RATIO_FTL_MAX_TMP_in\n2\nFAC_AFU_RATIO\n1\nLV_FAC_AFU_RATIO_VLD\nFigure 4.10.8:\n4.10.2.3 FTL based FlexFuel algorithm\nCondition evaluations to check and detect refuelling at the beginning of every driving cycle and to store\ncalculated values during engine stop so that the stored values can be used during next driving cycle. Refuelling\nduring engine running condition is also considered\nFile: 3090AB04.00D\n1377Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1340, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6efbbad0-b09c-409f-9552-d6a193d24ec1": {"__data__": {"id_": "6efbbad0-b09c-409f-9552-d6a193d24ec1", "embedding": null, "metadata": {"page_label": "90", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "820b3a73-f54a-494b-9d46-8c7b4c845955", "node_type": "4", "metadata": {"page_label": "90", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "bfe0fa66bdda9f36ee66617b3fe5be73e030f08ddabc9b39d40d47a3a9910d0f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n1\nftl_fu\n[LC_FTL_REFU_MAN_DET]\n[ext_req_min_max]\n[input]\n[LV_FAC_AFU_RATIO_EXT_REQ]\n[LV_FAC_AFU_RATIO_EXT_ADJ]\n[LV_ERR_FTL]\n[LV_FAC_AFU_RATIO_FTL_ACT]\n[LV_FTL_CAN_VLD_AFU]\n[LV_ES]\n[LC_FTL_REFU_MAN_DET]\n[LC_FTL_REFU_MAN_DET]\n[ext_req_min_max]\n[input]\n[LV_FAC_AFU_RATIO_EXT_REQ]\n[LV_FAC_AFU_RATIO_EXT_ADJ]\n[LV_ERR_FTL]\n[ext_req_min_max]\n[input]\n[LV_FAC_AFU_RATIO_FTL_ACT]\n[LV_ERR_FTL]\n[LV_FAC_AFU_RATIO_FTL_ACT]\n[LV_FTL_CAN_VLD_AFU]\n[LV_ES]\n[LV_FAC_AFU_RATIO_EXT_REQ]\n[LV_FAC_AFU_RATIO_EXT_ADJ]\n[ext_req_min_max]\n[input]\n[LV_FTL_CAN_VLD_AFU]\n[LV_ES]\nV. 6.0\ncond_if\nif\nelse\nV. 6.0\ncond_if\nif\nelse\nOR\nfc()input\next_req_min_max\nnot_if\nNOT_IF\nX.2.3.3\nNOT\nNOT\nNOT\nNOT\nNOT\nNOT\nNOT\nNOT\nNOT\nNOT\nNOT\nNOT\nNOT\nNC_FID_ERR_FTL_SENS_FTL\nV. 6.4\nfc()input\next_req_min_max\nclc_ftl_stop\nCLC_FTL_STOP\nX.2.3.2\nfc()input\next_req_min_max\nclc_act\nCLC_ACT\nX.2.3.1\nBusMerge\nV. 6.0\nAND\nAND\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\nf()\n10\next_req_min_max\n9\nLV_FAC_AFU_RATIO_FTL_ACT\n8\ninput\n7\nLC_FTL_REFU_MAN_DET\n6\nLV_INH_FAC_AFU_RATIO_FTL\n5\nLV_FAC_AFU_RATIO_EXT_REQ\n4\nLV_FAC_AFU_RATIO_EXT_ADJ\n3\nACTION_FARM_GetPermission_T3\n2\nLV_FTL_CAN_VLD_AFU\n1\nLV_ES\nftl_fu\nFigure 4.10.9:\n4.10.2.3.1 Refuel detection at the beginning of driving cycle\n4.10.2.3.1.1 Fuel tank level percentage determination\nDetermination of fuel tank level percentage considering the residual fuel inside the tank C_FTL_PER_OFS\n3\nLV_FAC_AFU_RATIO_FTL_ACT\n2\nFTL_PERC_ST_REFU\n1\nFTL_PERC\n+\n+\nV. 6.7\n1\n1\nC_FTL_PERC_OFS\nV. 6.4\n1\nV. 6.4\nf() 1\nFTL\nFigure 4.10.10:\nFile: 3090AB04.00D\n1378Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2073, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "55725992-c41a-4e56-8012-71dce8afdde5": {"__data__": {"id_": "55725992-c41a-4e56-8012-71dce8afdde5", "embedding": null, "metadata": {"page_label": "91", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4b0fc7b2-423b-417a-a698-b539c9da4e61", "node_type": "4", "metadata": {"page_label": "91", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "62143c004023e28decfd57488981792c93a8708e3cdfc45f3ab22d61f429bdde", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n4.10.2.3.1.2 Refueling at engine restart\nComparing current fuel tank level with the previous fuel tank level at engine stop. A hysterisis map is consid-\nered to check minimum refuel from the previous refuel to con?rm refueling.\n1\nrefu_st\nx_val IP_val\nIP_FTL_PERC_HYS_REFU\nV. 6.4\nV. 6.0\ncond_if\nif\nelse\n+\n+\nV. 6.7\nfc()clc_act_1 rst_lv_ftl_refu\nRST_LV_FTL_REFU\nX.2.3.1.2.2\nV. 6.0\nfc()\ninput\nclc_act_1\nftl_refu\nFTL_REFU\nX.2.3.1.2.1\nBusMerge\nV. 6.0\nf()\n4\nclc_act_1\n3\nFTL_PERC_STOP\n2\nFTL_PERC\n1\ninput\nrefu_st\nFigure 4.10.11:\n4.10.2.3.1.2.1 Calculation if refueling is detected during engine restart\n4.10.2.3.1.2.1.1 FAC_AFU_RATIO_FTL_MAX/MIN determination\nRefuelling at engine start is detected, hence LV_FTL_REFU will be set high and the corresponding maximum\nand minimum possible Ethanol content is calculated\n5\nFAC_AFU_RATIO_FTL_MIN\n4\nFAC_AFU_RATIO_FTL_MAX\n3\nFAC_AFU_RATIO_FTL_VLD\n2\nLV_FAC_AFU_RATIO_FTL_VLD\n1\nLV_FTL_REFU\n[FTL_PERC_ST_REFU]\n[FTL_PERC_STOP]\n[FTL_PERC_ST_REFU]\n[FTL_PERC_STOP]\n[FTL_PERC_ST_REFU]\n[FTL_PERC_STOP]\n[FTL_PERC_ST_REFU]\n[FTL_PERC_STOP]\n[FTL_PERC_ST_REFU]\n[FTL_PERC_STOP]\n+\n+\nV. 6.7\n?\n+\nV. 6.7\n+\n+\nV. 6.7\n?\n+\nV. 6.7\nV. 6.7\nV. 6.7\nV. 6.7\nV. 6.7\nV. 6.8\nV. 6.8\nC_FAC_AFU_RATIO_MAX_REFU\nV. 6.4\n0\nV. 6.4\nC_FAC_AFU_RATIO_MIN_REFU\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\nf()\n4\nFTL_PERC_ST_REFU\n3\nFAC_AFU_RATIO_FTL_MIN_TMP\n2\nFAC_AFU_RATIO_FTL_MAX_TMP\n1\nFTL_PERC_STOP\nFigure 4.10.12:\nFile: 3090AB04.00D\n1379Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1943, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "de7e5fca-3f37-4472-8760-d3c1bcd57c32": {"__data__": {"id_": "de7e5fca-3f37-4472-8760-d3c1bcd57c32", "embedding": null, "metadata": {"page_label": "92", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5ec65e3c-7d73-4e6d-bc4d-a9076da0c2a4", "node_type": "4", "metadata": {"page_label": "92", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "b3d43308458e1279e473eab278f656378b55d6b6a7ec8f35e0a48ca37f88dcaa", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n4.10.2.3.1.2.1.2 Set valid bit and factor for FTL\nWhen the overall Ethanol content becomes valid then the FTL based Ethanol content is said to be valid and\nthe valid content is assigned\n2\nFAC_AFU_RATIO_FTL_VLD\n1\nLV_FAC_AFU_RATIO_FTL_VLD\nCheck ~= 0\nNOT\nMux\nMux\n1\n1\nDemux\nC_FAC_AFU_RATIO_FTL_VLD\nV. 6.4\n1\nV. 6.4\nLC_AFU_FTL_REFU_BIN\nV. 6.4\nAND\nf()\n3\nFAC_AFU_RATIO_FTL_VLD_cur\n2\nLV_FAC_AFU_RATIO_FTL_VLD_cur\n1\nLV_FAC_AFU_RATIO_VLD\nFigure 4.10.13:\n4.10.2.3.1.2.1.3 Inaccuracy of detection\nCorrection offsets for inaccurate detection of maximum and minimum possible Ethanol contents.\nFile: 3090AB04.00D\n1380Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1138, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "86be158e-e2ba-41a9-b7be-d9ec6b1e5ed5": {"__data__": {"id_": "86be158e-e2ba-41a9-b7be-d9ec6b1e5ed5", "embedding": null, "metadata": {"page_label": "93", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "83ba0ea7-e40f-4905-b7f2-1d6fcd591d4f", "node_type": "4", "metadata": {"page_label": "93", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "4b3795150573de96146358b884db8c1fc01e234fe3a44d7ab317ae4fd62985e6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n6\nLV_FAC_AFU_RATIO_VLD_RST_out\n5\nFTL_PERC_STOP_REFU_out\n4\nFTL_PERC_STOP_out\n3\nMFF_SUM_REFU_INT_out\n2\nFAC_AFU_RATIO_FTL_MAX_out\n1\nFAC_AFU_RATIO_FTL_MIN_out\nx_val IP_val\nIP_FTL_PERC_HYS_REFU\nV. 6.4\nCheck ~= 0\nCheck ~= 0\n+\n?\nV. 6.7\n+\n+\nV. 6.7\n+\n?\nV. 6.7\nORNOT\nmin\nV. 6.3\nmin\nV. 6.3\nmax\nV. 6.3\n1\nV. 6.0\nV. 6.0\n1\nV. 6.4\n99.60937\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nC_FAC_AFU_RATIO_FTL_OFS_MAX\nV. 6.4\nC_FAC_AFU_RATIO_FTL_OFS_MIN\nV. 6.4\nC_MFF_SUM_REFU_THD_FTL_INI\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\nf()\n12\nNC_FID_ERR_AFU_SENS_FTL\n11\nLV_FAC_AFU_RATIO_VLD_RST_in\n10\nMFF_SUM_REFU_in\n9\nFTL_PERC\n8\nFTL_PERC_STOP_in\n7\nFTL_PERC_STOP_REFU_in\n6\nFTL_PERC_ST_REFU\n5\nFAC_AFU_RATIO_FTL_MAX_in\n4\nFAC_AFU_RATIO_FTL_MIN_in\n3\nLC_FAC_AFU_RATIO_CONF\n2\nNC_STATE_AFU_SENS_CONF\n1\nACTION_FARM_GetPermission_T3\nFigure 4.10.14:\n4.10.2.3.1.2.2 Refueling is not detected at engine start\n4.10.2.3.1.2.2.1 No Refueling detected\n1\nLV_FAC_AFU_RATIO_VLD_RST\n0\nV. 6.4\nf()\nFigure 4.10.15:\n4.10.2.3.2 Calculation of last engine stop\n4.10.2.3.2.1 Calculation at deactivation (calculation of last tank level at engine stop)\nWhen the engine stops current fuel tank level is recorded and they will be used during next driving cycle. The\nrefuel ?ag will be rest to ?0?\nFile: 3090AB04.00D\n1381Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1820, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ea90975a-439b-4b29-b632-6a1f45d367cd": {"__data__": {"id_": "ea90975a-439b-4b29-b632-6a1f45d367cd", "embedding": null, "metadata": {"page_label": "94", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0f676af4-d878-4d25-948d-ddc438a5fb78", "node_type": "4", "metadata": {"page_label": "94", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "3fb3763708ecb44c7d87c74d570444d62c86d377183d24e95ad5464f553bd96a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\nLow tank level considered as empty tank\n5\nFTL_PERC_STOP\n4\nFTL_PERC_STOP_REFU_out\n3\nLV_FTL_REFU\n2\nT_VS_STOP\n1\nLV_FAC_AFU_RATIO_FTL_ACT\n[LV_FAC_AFU_RATIO_VLD]\n[FTL_PERC_STOP]\n[FTL_PERC_STOP_REFU_tmp]\n[FTL_PERC]\n[FTL_PERC_STOP_REFU_tmp]\n[LV_FAC_AFU_RATIO_VLD]\n[LV_FAC_AFU_RATIO_VLD]\n[FTL_PERC]\n[FTL_PERC_STOP_REFU_tmp]\n[FTL_PERC_STOP]\n[FTL_PERC_STOP]\n[FTL_PERC]\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nNOT\nMux\nMux\nV. 6.0\n1\n1\n1\n1\n1\n1\nDemux\nC_FTL_PERC_OFS\nV. 6.4\nC_FTL_PERC_REFU_MIN\nV. 6.4\nC_FTL_PERC_OFS\nV. 6.4\n0\nV. 6.4\nAND\nf()\n5\nFTL_PERC_STOP_REFU_in\n4\nFTL_PERC\n3\nLV_STST_STOP_CYC\n2\nLV_FTL_EOL_END\n1\nLV_FAC_AFU_RATIO_VLD\nFigure 4.10.16:\nFile: 3090AB04.00D\n1382Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1187, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "da0ca8ae-d5f3-4b23-9da8-5e8c4a039178": {"__data__": {"id_": "da0ca8ae-d5f3-4b23-9da8-5e8c4a039178", "embedding": null, "metadata": {"page_label": "95", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "55ccec65-2766-4a6a-8fd2-7c7b16f4dfad", "node_type": "4", "metadata": {"page_label": "95", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "5e5b344dc22aba2c952bc0777266e75c8fba6a0955bff76a0728d025afedcce6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n4.10.2.3.3 FTL based AFU detection when Engine is running\n4.10.2.3.3.1 Condition checking while engine running\n1\nclc\n[fc_ELSE]\n[fc_THEN]\n[fc_THEN]\n[fc_ELSE]\nV. 6.0\ncond_if\nif\nelse\nNOT\nNOT\nNOT\nNOT\nNOT\nNC_FID_ERR_FTL_SENS_FTL\nV. 6.4\nfc()\ninput\next_req_min_max\ncond_if\nCOND_IF\nX.2.3.3.1.1fc()\next_req_min_max clc_not_if\nCLC_NOT_IF\nX.2.3.3.1.2\nBusMerge\nV. 6.0\nAND\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\nf()\n10\next_req_min_max\n9\nLV_FAC_AFU_RATIO_FTL_ACT\n8\nLC_FTL_REFU_MAN_DET\n7\nLV_INH_FAC_AFU_RATIO_FTL\n6\nLV_FAC_AFU_RATIO_EXT_REQ\n5\nLV_FAC_AFU_RATIO_EXT_ADJ\n4\nACTION_FARM_GetPermission_T3\n3\nLV_FTL_CAN_VLD_AFU\n2\nLV_ES\n1\ninput\nclc\nFigure 4.10.17:\n4.10.2.3.3.1.1 Calculation at every 100ms if active (calculation during engine runs)\nRefuel detection and calculation of maximum and minimum values while engine is running\n4.10.2.3.3.1.1.1 FTL_PERC calculation\nCurrent fuel tank lever determination considering minimum offset\n1\nFTL_PERC\n+\n+\nV. 6.7\nC_FTL_PERC_OFS\nV. 6.4\nf() 1\nFTL\nFigure 4.10.18:\nFile: 3090AB04.00D\n1383Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1565, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "bbc497a5-a3cb-4af3-b4d6-0261b2dd1b27": {"__data__": {"id_": "bbc497a5-a3cb-4af3-b4d6-0261b2dd1b27", "embedding": null, "metadata": {"page_label": "96", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ee941d81-b06a-4047-9cbc-fc4774ac232f", "node_type": "4", "metadata": {"page_label": "96", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "1b3bc153685823fbcb1b059072ade2b1e27d346046ffa4daf96c7e0cc66b88b8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n4.10.2.3.3.1.1.2 Vehicle stops and fuel comes to rest\nDetecting vehicle stop\n1\nclc_vs\nV. 6.0\ncond_if\nif\nelse\nfc()\next_req_min_max vs_stop_fu\nVS_STOP_FU\nX.2.3.3.1.1.2.1\nfc()\next_req_min_max\ninput\nvs_st\nVS_ST\nX.2.3.3.1.1.2.2\nV. 6.0\n0\nV. 6.4\nBusMerge\nV. 6.0\nf()\n3\next_req_min_max\n2\ninput\n1\nVS\nclc_vs\nFigure 4.10.19:\n4.10.2.3.3.1.1.2.1 Vehicle stopped and engine running\n4.10.2.3.3.1.1.2.1.1 Vehicle speed based calculation\nDetermination of fuel tank level when vehicle stops. A minimum delay time ?C_T_DLY_VS_STOP_DET? is consid-\nered to make sure complete rest of fuel\nFuel at rest\n4\nT_VS_STOP_out\n3\nFTL_PERC_MAX_VS_STOP_out\n2\nLV_VS_STOP_out\n1\nFTL_PERC_VS_STOP_out\n[FTL_PERC]\n[T_VS_STOP_in]\n[LV_VS_STOP_in]\n[FTL_PERC]\n[FTL_PERC]\n[T_VS_STOP_in]\n[T_VS_STOP_in]\n[LV_VS_STOP_in]\n[LV_VS_STOP_in]\nCheck ~= 0\nCheck ~= 0\n+\n+\nV. 6.7\nNOT\nMux\nMux\nmin\nV. 6.3\nmax\nV. 6.3\n1\n1\nV. 6.0\nDemux\nC_T_DLY_VS_STOP_DET\nV. 6.4\n0.1\nV. 6.4\n1\nV. 6.4\nAND\nf()\n6\nFTL_PERC_VS_STOP_in\n5\nFTL_PERC_MAX_VS_STOP_in\n4\nT_VS_STOP_in\n3\nLV_VS_STOP_in\n2\nFTL_PERC_STOP\n1\nFTL_PERC\nFigure 4.10.20:\n4.10.2.3.3.1.1.2.2 Vehicle starts moving\n4.10.2.3.3.1.1.2.2.1 Vehicle moves\nFuel tank level at vehicle stop and start is recorded when vehicle starts moving\nFile: 3090AB04.00D\n1384Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1767, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5c515ac7-6935-496f-8407-395468d9bb03": {"__data__": {"id_": "5c515ac7-6935-496f-8407-395468d9bb03", "embedding": null, "metadata": {"page_label": "97", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7c34a390-97dc-4211-a9b0-f52dbad65f53", "node_type": "4", "metadata": {"page_label": "97", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "41ee1fd928f0a961f70330f8f2b60ac30317cadbe7163083b0df2e0cbe78b5fb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n6\nFTL_PERC_STOP_REFU\n5\nFTL_PERC_STOP\n4\nFTL_PERC_ST_REFU\n3\nFTL_PERC_MAX_VS_STOP_out\n2\nT_VS_STOP\n1\nLV_VS_STOP_out\n[FTL_PERC_VS_STOP]\n[FTL_PERC_MAX_VS_STOP_in]\n[FTL_PERC_STOP_REFU_in]\n[FTL_PERC_VS_STOP]\n[FTL_PERC_VS_STOP]\n[FTL_PERC_VS_STOP]\n[FTL_PERC_VS_STOP]\n[FTL_PERC_MAX_VS_STOP_in]\n[FTL_PERC_MAX_VS_STOP_in]\n[FTL_PERC_STOP_REFU_in]\n[FTL_PERC_STOP_REFU_in]\nCheck ~= 0\nCheck ~= 0\n+\n+\nV. 6.7\nMux\nMux\nx_val IP_val\nIP_FTL_PERC_HYS_REFU\nV. 6.4\n1\n1\n1\n1\n1\n1\n1\n1\nV. 6.0\nDemux\n0\nV. 6.4\nAND\nf()\n7\nFTL_PERC_ST_REFU_in\n6\nFTL_PERC_STOP_in\n5\nFTL_PERC_STOP_REFU_in\n4\nFTL_PERC_MAX_VS_STOP_in\n3\nFTL_PERC_VS_STOP\n2\nLV_VS_STOP_in\n1\nLV_FAC_AFU_RATIO_VLD\nFigure 4.10.21:\n4.10.2.3.3.1.1.3 Refueling at running engine\nComparison of fuel tank level and vehicle stop and start to detect refueling\n1\neru_refu\n[fc_ELSE]\n[fc_THEN]\n[fc_THEN]\n[fc_ELSE]\nx_val IP_val\nIP_FTL_PERC_HYS_REFU\nV. 6.4\nV. 6.0\ncond_if\nif\nelse\n+\n+\nV. 6.7\nfc()\nclc_vs not_if\nNOT_IF\nX.2.3.3.1.1.3.2\nV. 6.0\nfc()\ninput\nclc_vs\neru_refu_clc\nERU_REFU_CLC\nX.2.3.3.1.1.3.1\nBusMerge\nV. 6.0\nf()\n4\nclc_vs\n3\nFTL_PERC_STOP\n2\nFTL_PERC_ST_REFU\n1\ninput\neru_refu\nFigure 4.10.22:\nFile: 3090AB04.00D\n1385Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1664, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f54cf230-3672-420f-a9f5-5e13e4cafb80": {"__data__": {"id_": "f54cf230-3672-420f-a9f5-5e13e4cafb80", "embedding": null, "metadata": {"page_label": "98", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "530f2f44-044a-479a-9b3b-0745c084fe42", "node_type": "4", "metadata": {"page_label": "98", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c99c0ee1ad88a12a0b86d40f8dea39be9568aaf193b02746b98f5911af1c7e3e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n4.10.2.3.3.1.1.3.1 Calculation when refueling is detected while engine is running\n4.10.2.3.3.1.1.3.1.1 FAC_AFU_RATIO_FTL_MAX/MIN calculation while engine is running\nRefuelling is detected and set. Maximum and minimum possible Ethanol content is calculated.\n5\nFAC_AFU_RATIO_FTL_MIN\n4\nFAC_AFU_RATIO_FTL_MAX\n3\nFAC_AFU_RATIO_FTL_VLD\n2\nLV_FAC_AFU_RATIO_FTL_VLD\n1\nLV_FTL_REFU\n[FTL_PERC_ST_REFU]\n[FTL_PERC_STOP]\n[FTL_PERC_ST_REFU]\n[FTL_PERC_STOP]\n[FTL_PERC_ST_REFU]\n[FTL_PERC_STOP]\n[FTL_PERC_ST_REFU]\n[FTL_PERC_STOP]\n[FTL_PERC_ST_REFU]\n[FTL_PERC_STOP]\n+\n+\nV. 6.7\n?\n+\nV. 6.7\n+\n+\nV. 6.7\n?\n+\nV. 6.7\nV. 6.7\nV. 6.7\nV. 6.7\nV. 6.7\nV. 6.8\nV. 6.8\nC_FAC_AFU_RATIO_MAX_REFU\nV. 6.4\nC_FAC_AFU_RATIO_MIN_REFU\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4f()\n4\nFTL_PERC_ST_REFU\n3\nFTL_PERC_STOP\n2\nFAC_AFU_RATIO_FTL_MIN_TMP\n1\nFAC_AFU_RATIO_FTL_MAX_TMP\nFigure 4.10.23:\n4.10.2.3.3.1.1.3.1.2 Setting valid bit\nFTL valid bits are set when the determined Ethanol content gets validated\n2\nFAC_AFU_RATIO_FTL_VLD_out\n1\nLV_FAC_AFU_RATIO_FTL_VLD_out\nCheck ~= 0\nNOT\nMux\nMux\n1\n1\nDemux\nC_FAC_AFU_RATIO_FTL_VLD\nV. 6.4\n1\nV. 6.4\nLC_AFU_FTL_REFU_BIN\nV. 6.4\nAND\nf()\n3\nFAC_AFU_RATIO_FTL_VLD_in\n2\nLV_FAC_AFU_RATIO_FTL_VLD_in\n1\nLV_FAC_AFU_RATIO_VLD\nFigure 4.10.24:\n4.10.2.3.3.1.1.3.1.3 Inaccuracy of detection\nSetting offset if inaccuracy is detected\nFile: 3090AB04.00D\n1386Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1854, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2b7b843f-70f0-4da6-a3f0-26f35681dd94": {"__data__": {"id_": "2b7b843f-70f0-4da6-a3f0-26f35681dd94", "embedding": null, "metadata": {"page_label": "99", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4d4934be-b924-46ff-b03b-5e12775d7d02", "node_type": "4", "metadata": {"page_label": "99", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "91ffcf10bbed9032043de0493ea864f6cf2d55af56c2a8779560aeae008ec458", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n6\nLV_FAC_AFU_RATIO_VLD_RST_out\n5\nFTL_PERC_STOP_REFU_out\n4\nFTL_PERC_STOP_out\n3\nMFF_SUM_REFU_INT_out\n2\nFAC_AFU_RATIO_FTL_MAX_out\n1\nFAC_AFU_RATIO_FTL_MIN_out\n[FTL_PERC_ST_REFU]\n[FTL_PERC_ST_REFU]\nx_val IP_val\nIP_FTL_PERC_HYS_REFU\nV. 6.4\nCheck ~= 0\nCheck ~= 0\n+\n+\nV. 6.7\n+\n?\nV. 6.7\n+\n?\nV. 6.7\nORNOT\nmin\nV. 6.3\nmin\nV. 6.3\nmax\nV. 6.3\n1\nV. 6.0\nV. 6.0\nC_FAC_AFU_RATIO_FTL_OFS_MAX\nV. 6.4\n1\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n99.60937\nV. 6.4\nC_FAC_AFU_RATIO_FTL_OFS_MIN\nV. 6.4\nC_MFF_SUM_REFU_THD_FTL_INI\nV. 6.4\n0\nV. 6.4\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\nf()\n11\nNC_FID_ERR_AFU_SENS_FTL\n10\nLV_FAC_AFU_RATIO_VLD_RST_in\n9\nMFF_SUM_REFU_in\n8\nFTL_PERC_STOP_in\n7\nFTL_PERC_STOP_REFU_in\n6\nFTL_PERC_ST_REFU\n5\nFAC_AFU_RATIO_FTL_MAX_in\n4\nFAC_AFU_RATIO_FTL_MIN_in\n3\nLC_FAC_AFU_RATIO_CONF\n2\nNC_STATE_AFU_SENS_CONF\n1\nACTION_FARM_GetPermission_T3\nFigure 4.10.25:\n4.10.2.3.3.1.1.3.2 Reset valid bit if refuel is not detected when vehicle moves\n4.10.2.3.3.1.1.3.2.1 Reset LV_FAC_AFU_RATIO_VLD_RST\n1\nLV_FAC_AFU_RATIO_VLD_RST\n0\nV. 6.4\nf()\nFigure 4.10.26:\n4.10.2.3.3.1.2 Feedthrough if Vehicle does not stop\nFile: 3090AB04.00D\n1387Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1660, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4d269bec-acbf-40d4-a0df-d8b350cd97e7": {"__data__": {"id_": "4d269bec-acbf-40d4-a0df-d8b350cd97e7", "embedding": null, "metadata": {"page_label": "100", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "2de22bab-f0a0-444f-b1c0-8153b76e59ed", "node_type": "4", "metadata": {"page_label": "100", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "2b24c7d75576e002cf6c1e379c9ad9aa91e487b15fb751ecbac8911029b85770", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection\n4.10.2.4 MFF based calculations\n4.10.2.4.1 MFF_SUM_REFU calculation\nAccumulating mass fuel ?ow from last refuel. During engine stop and PUC activated it should maintain previ-\nous values\n2\nMFF_SUM_REFU_out\n1\nMFF_SUM_REFU_INT_out\n[MFF_SUM_REFU_INT_in]\n[MFF_SUM_REFU_INT]\n[MFF_SUM_REFU_INT_in]\n[MFF_SUM_REFU_INT_in]\n[MFF_SUM_REFU_INT]\nCheck ~= 0\n+\n+\nV. 6.7\nNOT\nNOT\nMux\nMux\n1\n1\nDemuxAND\nf()\n5\nMFF_SUM_REFU_in\n4\nMFF_SUM_REFU_INT_in\n3\nMFF_SP_AFU\n2\nLV_PUC\n1\nLV_ES\nFigure 4.10.27:\n4.10.2.4.2 Valid bit for binary fuels\nFTL based Ethanol content is calculated if the fuel system is binary and Lambda based Ethanol value is used\nto decide the Ethanol content\n3\nFAC_AFU_RATIO_FTL_VLD\n2\nLV_FAC_AFU_RATIO_FTL_VLD\n1\nFAC_AFU_RATIO_FTL\nCheck ~= 0\nCheck ~= 0\n+\n?\nV. 6.7\n+\n?\nV. 6.7\nMux\nMux\nV. 6.0\n1\n1\n1u y\nV. 6.2 Demux\nC_FAC_AFU_RATIO_FTL_VLD\nV. 6.4\nLC_AFU_FTL_REFU_BIN\nV. 6.4\n1\nV. 6.4\nAND\nf()\n7\nFAC_AFU_RATIO_FTL_in\n6\nFAC_AFU_RATIO_FTL_VLD_in\n5\nLV_FAC_AFU_RATIO_FTL_VLD_in\n4\nFAC_AFU_RATIO_FTL_MIN\n3\nFAC_AFU_RATIO_FTL_MAX\n2\nFAC_AFU_RATIO_LAMB\n1\nLV_FAC_AFU_RATIO_LAMB_VLD\nFigure 4.10.28:\nFile: 3090AB04.00D\n1388Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1630, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2a21acde-6999-442f-9ead-07077b5a6398": {"__data__": {"id_": "2a21acde-6999-442f-9ead-07077b5a6398", "embedding": null, "metadata": {"page_label": "101", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "920740de-4fd7-4e2b-b7d0-c9cb1f80057b", "node_type": "4", "metadata": {"page_label": "101", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "b7dd17f90ca2df78cbb5217113974affb91a63adee2dd7e2130d00a7e9db64eb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection (Appl. Inc.)\n4.11 Fuel tank level based ?ex fuel ratio detection (Appl. Inc.)\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nLV_FAC_AFU_RATIO_RST_REQ O/V 0... 1H 0 ...1 1 -\nRequest for reset of valid learn conditions of ethanol content\nLV_FTL_CAN_VLD_AFU O/V 0... 1H 0 ...1 1 -\nFlag indicating, that the FTL signal is valid and can be used\nLV_FTL_EOL_END O/V 0... 1H 0 ...1 1 -\nFlag indicating that the \ufffdend of line\ufffd procedure is ?nished and customer usage mode is active\nLV_INH_FAC_AFU_RATIO_FTL O/V 0... 1H 0 ...1 1 -\nInhibit bit for FTL based ?ex fuel ratio determination\nMFF_SP_AFU O/V 0... FFFFH 0...\n15.99975585938\n244.141e-6 ml\nFuel mass setpoint used for MFF_SUM_REFU calculation\nT_FTL_CAN_VLD V 0... FFH 0... 25.5 0.1 s\nTimer to delay validity of FTL signal to get the newest FTL value\n\ufffd Input Data\nFTL\n{p. 12256}\nIDX_EX_CBK_LAMB\n{p. 1366}\nLC_FAC_AFU_RATIO_CONF\n{p. 1397}\nLV_ES\n{p. 7530}\nLV_FAC_AFU_RATIO_DFT_ST_\nACT\n{p. 1424}\nLV_FAC_AFU_RATIO_EXT_REQ\n{p. 23183}\nLV_PUC\n{p. 7530}\nMFF_SP_MV\n{p. 11463}\nMFF_SUM_REFU\n{p. 1369}\nN_32\n{p. 8079}\nNC_STATE_AFU_SENS_CONF\n{p. 1292}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_FTL_H_REFU_DET V 0... FFH 0... 99.609375 0.390625 %\nFuel tank level for refueling detection due to refueling at very high fuel tank level\nC_MFF_SP_AFU V 0... FFFFH 0...\n19.99969482e-6\n305.18e-12 -\nFactor to calculate the injected fuel volume per 100ms (Unit: [(stk * ml)/(rpm * mg)], ADD de?nition [-])\nC_MFF_SUM_REFU_H_REFU_DET V 0... FFFFH 0... 131.07 0.002 l\nIntegrated fuel mass for refueling detection due to refueling at very high fuel tank level\nC_MFF_SUM_REFU_MAX_REFU_DET V 0... FFFFH 0... 131.07 0.002 l\nIntegrated fuel mass where refueling is detected latest (MFF_SUM_REFU >tank volume)\nC_T_FTL_CAN_VLD V 0... FFH 0... 25.5 0.1 s\nTime to wait for actual value of FTL_CAN\nLC_FTL_REFU_MAN_DET V 0... 1H 0 ...1 1 -\nLogical calibration to set the refueling ?ag manually\nFile: 3090B203.00D\n1389Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2517, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d747b7d5-a180-4c98-aa87-02a057b017fb": {"__data__": {"id_": "d747b7d5-a180-4c98-aa87-02a057b017fb", "embedding": null, "metadata": {"page_label": "102", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0b6320f3-8827-4fd4-8673-afde2785bfc1", "node_type": "4", "metadata": {"page_label": "102", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "183bcecdddcc8205ada0c04d5ca2f63dabce0957fc0d25331789cef8df6661a9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection (Appl. Inc.)\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_FID_ERR_AFU_SENS_FTL_AI V 0... FFFFH 0... 65535 1 -\nFARM permission for FF sensor diagnosis in Fuel tank level based application incidence\nNC_FID_ERR_AFU_SUM_LS_UP [NC_CBK_EX_NR] V 0... FFFFH 0... 65535 1 -\nFARM permission for currently present fault on upstream oxygen sensor signal used in ALFU\nNC_FID_ERR_FTL_SENS_FTL_AI V 0... FFFFH 0... 65535 1 -\nFARM permission for Fuel tank level sensor diagnosis in Fuel tank level based application incidence\n\ufffd Import actions:\nACTION_FARM_GetPermission(IN <PRM_FID>, OUT <PRM_LV_PRMS>)\n\ufffd General Information\n\ufffd Application Conditions\nInitialization: RST\nRecurrence: 100MS\nActivation: always\nDeactivation: never\n\ufffd Function Description\nFile: 3090B203.00D\n1390Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1326, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b4638882-8df2-4c4a-a3cd-1b26d35c9191": {"__data__": {"id_": "b4638882-8df2-4c4a-a3cd-1b26d35c9191", "embedding": null, "metadata": {"page_label": "103", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0fad3848-d517-4f5f-9b60-26ff5f205b2b", "node_type": "4", "metadata": {"page_label": "103", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "8d4c5c396d0e63fdb613d75fd6e1e07a05f195415491fae44b016a2cc3eae6d8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection (Appl. Inc.)\nSDA_SRS / SDA V 5.3.2 / 28?May?2010\n5\nLV_INH_FAC_AFU_RATIO_FTL\n4\nLV_FTL_CAN_VLD_AFU\n3\nLV_FAC_AFU_RATIO_RST_REQ\n2\nLV_FTL_EOL_END\n1\nMFF_SP_AFU\nLV_FAC_AFU_RATIO_RST_REQ:  O V   \nLV_FTL_CAN_VLD_AFU:  O V   \nLV_FTL_EOL_END:  O V   \nLV_INH_FAC_AFU_RATIO_FTL:  O V   \nMFF_SP_AFU:  O V   \nT_FTL_CAN_VLD:    V   \nV. 6.3\nfc()input\nfeedback\nopm\nOPM\nX.2\n2\nN_32\n10\nNC_STATE_AFU_SENS_CONF\n9\nMFF_SUM_REFU\n1\nMFF_SP_MV\n4\nLV_PUC\n8\nLV_FAC_AFU_RATIO_EXT_REQ\n7\nLV_FAC_AFU_RATIO_DFT_ST_ACT\n3\nLV_ES\n6\nLC_FAC_AFU_RATIO_CONF\nfc()\nini\nINI\nX.1\n12\nIDX_EX_CBK_LAMB\n5\nFTL\nfc_INI\nfc_OPM__100MS\nRecurrence:        100MS\nInit:             RST\nActivation:\nalways\nDeactivation:\nnever\nAPP_CDN\nV. 7.2\n12\nACTION_FARM_GetPermission_T3\nFigure 4.11.1:\n4.11.1 Initialisation at RESET event\n1\nini\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\nf()\nLV_FAC_AFU_RATIO_RST_REQ\nT_FTL_CAN_VLD\nLV_FTL_CAN_VLD_AFU\nLV_INH_FAC_AFU_RATIO_FTL\nLV_FTL_EOL_END\nMFF_SP_AFU\nini\nFigure 4.11.2:\nFile: 3090B203.00D\n1391Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1513, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "dc537150-24fb-454f-a386-b6ec113ec6f2": {"__data__": {"id_": "dc537150-24fb-454f-a386-b6ec113ec6f2", "embedding": null, "metadata": {"page_label": "104", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7e6fe63f-690b-49d1-a62a-b47edd810666", "node_type": "4", "metadata": {"page_label": "104", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "683eafff5dfc095174887e2446d8109b86d986e1a6a12dd5c29b5b3d841b9fdd", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection (Appl. Inc.)\n4.11.2 Formula Section\n4.11.2.1 Inhibition of Refuel Detection\n1\nLV_INH_FAC_AFU_RATIO_FTL\n0\nV. 6.4\nFigure 4.11.3:\n4.11.2.2 MFF_SP_AFU for MFF_SUM_REFU calculation\n1\nMFF_SP_AFU_out\nCheck ~= 0NOT\nNOT\nV. 6.7\nV. 6.7\nC_MFF_SP_AFU\nV. 6.4\nAND\n5\nMFF_SP_AFU_in\n4\nLV_PUC\n3\nLV_ES\n2\nN_32 1\nMFF_SP_MV\nFigure 4.11.4:\nFile: 3090B203.00D\n1392Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 876, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "63060629-325a-47d8-9ee8-e458e713f761": {"__data__": {"id_": "63060629-325a-47d8-9ee8-e458e713f761", "embedding": null, "metadata": {"page_label": "105", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c56f4692-2fe4-4763-a3b7-0efc3d6fb172", "node_type": "4", "metadata": {"page_label": "105", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "16a00dc5eeb9122b390d735fc61575e0e0f18fc49374e51478506fc374129c65", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection (Appl. Inc.)\n4.11.2.3 Ensure valid FTL signal\n2\nLV_FTL_CAN_VLD_AFU_out\n1\nT_FTL_CAN_VLD_out\nCheck ~= 0\nCheck ~= 0\n+\n+\nV. 6.7\nMux\nMux\nMux\n1\n1\nV. 6.0\nV. 6.0\nDemux\n0\nV. 6.4\n0\nV. 6.4\n0.1\nV. 6.4\n1\nV. 6.4\nC_T_FTL_CAN_VLD\nV. 6.4\n0\nV. 6.4\nAND\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\n5\nNC_FID_ERR_FTL_SENS_FTL_AI\n4\nLV_FTL_CAN_VLD_AFU_in\n3\nT_FTL_CAN_VLD_in\n2\nACTION_FARM_GetPermission_T3\n1\nFTL\nFigure 4.11.5:\nFile: 3090B203.00D\n1393Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 977, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "551cd5b6-32f1-4d79-905d-d3525b2db90d": {"__data__": {"id_": "551cd5b6-32f1-4d79-905d-d3525b2db90d", "embedding": null, "metadata": {"page_label": "106", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "460671ae-63c2-4ed8-a782-bda078a06ff3", "node_type": "4", "metadata": {"page_label": "106", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "fe7ddb91341d07420301a0f68c2bf9cf13875e57e36ccf0413bca2ad597229d1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Fuel tank level based ?ex fuel ratio detection (Appl. Inc.)\n4.11.2.4 Additional Refueling Request\n1\nLV_FAC_AFU_RATIO_RST_REQ\nC\n0\n[..]\n[LV_ES]\n[LV_ES]\n[LV_ES]\nOR\nOR\nNOT\nNOT\nNOT\nV. 6.0\nV. 6.0\nV. 6.0\nu y\nV. 6.2\nu y\nV. 6.2\nu y\nV. 6.2\nu y\nV. 6.2\nu y\nV. 6.3\nu y\nV. 6.3\nV. 6.0\nC_MFF_SUM_REFU_MAX_REFU_DET\nV. 6.4\nC_MFF_SUM_REFU_H_REFU_DET\nV. 6.4\nC_FTL_H_REFU_DET\nV. 6.4\nLC_FTL_REFU_MAN_DET\nV. 6.4\n0\nV. 6.4\nAND\nAND\nAND\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\n13\nNC_FID_ERR_FTL_SENS_FTL_AI\n12\nNC_FID_ERR_AFU_SUM_LS_UP\n11\nNC_FID_ERR_AFU_SENS_FTL_AI\n10\nLV_FTL_CAN_VLD_AFU\n9\nIDX_EX_CBK_LAMB\n8\nACTION_FARM_GetPermission_T3\n7\nNC_STATE_AFU_SENS_CONF\n6\nMFF_SUM_REFU\n5\nLV_FAC_AFU_RATIO_EXT_REQ\n4\nLV_FAC_AFU_RATIO_DFT_ST_ACT\n3\nLC_FAC_AFU_RATIO_CONF\n2\nFTL\n1\nLV_ES\nFigure 4.11.6:\nFile: 3090B203.00D\n1394Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1409, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "dc4ce9c2-6161-410b-b57a-be551ed6db08": {"__data__": {"id_": "dc4ce9c2-6161-410b-b57a-be551ed6db08", "embedding": null, "metadata": {"page_label": "107", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0e5ebebc-9304-4def-8466-3d9416c00533", "node_type": "4", "metadata": {"page_label": "107", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "3f4754720f6d333049ba1dbec68cdaf2aaf718794deffbe396151c83780cd6b1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based ?ex fuel ratio detection\n4.12 Engine roughness based ?ex fuel ratio detection\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nFAC_AFU_RATIO_ER O/V 0... 80H 0 ...1 0.0078125 -\nFF ratio determined by the engine roughness based detection algorithm\nFAC_AFU_RATIO_ER_VLD O/V 0... FFH 0... 15.9375 0.0625 -\nFactor which speci?es the validity of the engine roughness based FF ratio value\nFAC_DELTA_LAMB_AFU_ER O/V F800... 800H -0.125 ...0.125 61e-6 -\nLambda deviation due to cylinder individual injection correction\nFAC_MFF_AFU_CYL_ER [NC_CYL_NR] O/V 0... FFFFH 0... 15.99975 244.1e-6 -\nCylinder individual injection mass correction based on Engine roughness from ALFU\nLV_FAC_AFU_RATIO_ER_ACT O/V 0... 1H 0 ...1 1 -\nFlag indicating, that the engine roughness based FF detection function is active\nLV_FAC_AFU_RATIO_ER_VLD O/V 0... 1H 0 ...1 1 -\nFlag indicating, that the engine roughness based FF detection function has valid learned\n\ufffd Action De?nitions\nACTION_ALFU_RSTVLDER() Mode: O\nThis action resets the validity of the engine roughness based FF ratio detection algorithm\n\ufffd Application conditions\nInitialisation: at reset:\nFAC_MFF_AFU_CYL_ER[NC_CYL_NR] = 1.0 (1000H)\nall other variables with zero\nRecurrence: once\ndo nothing\nFile: 3090AA01.00A\n1395Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1780, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "67c39272-8fad-4500-9d21-911326d57b53": {"__data__": {"id_": "67c39272-8fad-4500-9d21-911326d57b53", "embedding": null, "metadata": {"page_label": "108", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "39b660a5-7436-4c7c-b53d-76bc5ebfa9e8", "node_type": "4", "metadata": {"page_label": "108", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "27f3a69bd59e02e34e72e10391113a6fabd48300dfd3dfb7e5c2717bf463e01a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination\n4.13 Alternative fuel ratio determination\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nFAC_AFU_RATIO O/V 0... 80H 0 ...1 0.0078125 -\nContent of alternativ fuel in fuel tank\nFAC_AFU_RATIO_DET O/V/S 0... 80H 0 ...1 0.0078125 -\nContent of alternative fuel determined by detection functions\nFAC_AFU_RATIO_VLD O/V 0... 400H 0... 64 0.0625 -\nFactor for the overall validity of the alternative fuel ration\nLV_FAC_AFU_RATIO_DFT_ST_ACT_RST O/V 0... 1H 0 ...1 1 -\nFlag indicating that LV_FAC_AFU_RATIO_DFT_ST_ACT be reset to zero\nLV_FAC_AFU_RATIO_VLD O/V 0... 1H 0 ...1 1 -\nFlag indicating that the determined FF ratio is valid\nSTATE_ALFU V\n0H INACTIVE\n1H REFU_DET\n2H DFT_ST_ACT\n3H ERU_DET_ACT\n4H ERU_DET_VLD\n5H LAM_DET_ACT\n6H LAM_CTL_ACT\n7H LAM_DET_VLD\n8H ER_DET_ACT\n9H ER_DET_VLD\nAH FAC_AFU_VLD\nBH SENS_ERR\nCH SENS_VALUE\n- -\nState of Alternative Fuel Detection Functionality\n\ufffd Input Data\nFAC_AFU_RATIO_DFT_ST\n{p. 1424}\nFAC_AFU_RATIO_ER\n{p. 1395}\nFAC_AFU_RATIO_ER_VLD\n{p. 1395}\nFAC_AFU_RATIO_ERU\n{p. 1318}\nFAC_AFU_RATIO_FTL\n{p. 1369}\nFAC_AFU_RATIO_FTL_VLD\n{p. 1369}\nFAC_AFU_RATIO_LAMB\n{p. 1350}\nFAC_AFU_RATIO_LAMB_VLD\n{p. 1350}\nFAC_AFU_RATIO_SENS_MMV_\nDLY\n{p. 1294}\nLV_FAC_AFU_LAMB_CTL_ACT\n{p. 1350}\nLV_FAC_AFU_RATIO_DFT_ST_\nACT\n{p. 1424}\nLV_FAC_AFU_RATIO_ER_ACT\n{p. 1395}\nLV_FAC_AFU_RATIO_ER_VLD\n{p. 1395}\nLV_FAC_AFU_RATIO_ERU_ACT\n{p. 1319}\nLV_FAC_AFU_RATIO_ERU_VLD\n{p. 1319}\nLV_FAC_AFU_RATIO_LAMB_\nACT\n{p. 1350}\nLV_FAC_AFU_RATIO_LAMB_\nVLD\n{p. 1350}\nLV_FAC_AFU_RATIO_SENS_\nVLD\n{p. 1294}\nLV_FTL_REFU\n{p. 1369}\nNC_STATE_AFU_SENS_CONF\n{p. 1292}\nFile: 3090A604.00C\n1396Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2110, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "58dc00c5-5d7c-4e84-89bc-094d6449e3e3": {"__data__": {"id_": "58dc00c5-5d7c-4e84-89bc-094d6449e3e3", "embedding": null, "metadata": {"page_label": "109", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "df1e215e-abba-462b-baf2-f0fbcd7ecb2b", "node_type": "4", "metadata": {"page_label": "109", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "6b018ced5913b17a207304acf90e6947d0f5ebefad21c399cb5aae249658920b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_FAC_AFU_RATIO_LGRD V 0... 80H 0 ...1 0.0078125 -\nGradient limitation for FAC_AFU_RATIO\nC_FAC_AFU_RATIO_MAN V 0... 80H 0 ...1 0.0078125 -\nManual alternative fuel ratio value\nC_FAC_AFU_RATIO_VLD_THD_1 V 0... 400H 0... 64 0.0625 -\nThreshold to enable weighted mean value calculation out of the different methods\nC_FAC_AFU_RATIO_VLD_THD_2 V 0... 400H 0... 64 0.0625 -\nThreshold to set validity falg for the overall FF ratio\nLC_FAC_AFU_RATIO_CONF V 0... 1H 0 ...1 1 -\nLogical value to indicate AFU sensor con?guration\nLC_FAC_AFU_RATIO_CONT V 0... 1H 0 ...1 1 -\nLogical calibration to enable a continous calculation even if a valid value of the FF ratio is available\nLC_FAC_AFU_RATIO_MAN_ACT V 0... 1H 0 ...1 1 -\nLogical calibration to use the manual alternative fuel ratio value\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_FID_ERR_AFU_SENS_AFU V 0... FFFFH 0... 65535 1 -\nFARM permission for FF sensor diagnosis in alternative fuel ratio determination module\n\ufffd Import actions:\nACTION_FARM_GetPermission(IN <PRM_FID>, OUT <PRM_LV_PRMS>)\n\ufffd General Information\n\ufffd Application Conditions\nInitialization: RST, NVMINI, NVMRES, NVMSTO\nRecurrence: 100MS\nActivation: always\nDeactivation: never\n\ufffd Function Description\nFile: 3090A604.00C\n1397Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1860, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "aabf86bf-ec6e-4909-94e1-47515782ed3a": {"__data__": {"id_": "aabf86bf-ec6e-4909-94e1-47515782ed3a", "embedding": null, "metadata": {"page_label": "110", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "bae763e9-34c2-40a5-8187-f26796e99b80", "node_type": "4", "metadata": {"page_label": "110", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "54edc0c3a9843c8dc9ecc05b27934a29f7a529996a7806ff6b1e6a427ed6d753", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination\nSDA_SRS / SDA V 5.3.2 / 09?May?2010\n5\nLV_FAC_AFU_RATIO_DFT_ST_ACT_RST\n4\nLV_FAC_AFU_RATIO_VLD\n3\nFAC_AFU_RATIO_VLD\n2\nFAC_AFU_RATIO_DET\n1\nFAC_AFU_RATIOFAC_AFU_RATIO:  O V   \nFAC_AFU_RATIO_DET:  O V S \nFAC_AFU_RATIO_VLD:  O V   \nLV_FAC_AFU_RATIO_DFT_ST_ACT_RST:  O V   \nLV_FAC_AFU_RATIO_VLD:  O V   \nSTATE_ALFU:    V   \nV. 6.3\nfc()input\nfeedback\nopm\nOPM\nX.2\n21\nNC_STATE_AFU_SENS_CONF\n14\nLV_FTL_REFU\n20\nLV_FAC_AFU_RATIO_SENS_VLD\n8\nLV_FAC_AFU_RATIO_LAMB_VLD\n7\nLV_FAC_AFU_RATIO_LAMB_ACT\n4\nLV_FAC_AFU_RATIO_ER_VLD\n3\nLV_FAC_AFU_RATIO_ER_ACT\n11\nLV_FAC_AFU_RATIO_ERU_VLD\n10\nLV_FAC_AFU_RATIO_ERU_ACT\n15\nLV_FAC_AFU_RATIO_DFT_ST_ACT\n17\nLV_FAC_AFU_LAMB_CTL_ACT\nfc_INI\nfeedback\nini\nINI\nX.1\n18\nFAC_AFU_RATIO_SENS_MMV_DLY\n6\nFAC_AFU_RATIO_LAMB_VLD\n5\nFAC_AFU_RATIO_LAMB\n13\nFAC_AFU_RATIO_FTL_VLD\n12\nFAC_AFU_RATIO_FTL\n2\nFAC_AFU_RATIO_ER_VLD\n9\nFAC_AFU_RATIO_ERU\n1\nFAC_AFU_RATIO_ER\n16\nFAC_AFU_RATIO_DFT_ST\nfc_INI\nfc_OPM__100MS\nRecurrence:        100MS\nInit:             RST\n            NVMINI\n            NVMRES\n            NVMSTO\nActivation:\nalways\nDeactivation:\nnever\nAPP_CDN\nV. 7.2\n21\nACTION_FARM_GetPermission_T3\nFigure 4.13.1:\nFile: 3090A604.00C\n1398Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1658, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3951b2c0-978c-46aa-98ce-580fbcb244ef": {"__data__": {"id_": "3951b2c0-978c-46aa-98ce-580fbcb244ef", "embedding": null, "metadata": {"page_label": "111", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d14f5d53-659f-4699-8d84-a1f65d0547b5", "node_type": "4", "metadata": {"page_label": "111", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c657268b8188be4c3e4952a244737d935d9718b34c409e49574798a7f7f8f46e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination\n4.13.1 Initialisation\n4.13.1.1 Initialisation at RESET event\n1\nrst\n0\nINACTIVE\nV. 6.4\n1\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nf()\n1\nFAC_AFU_RATIO_DET\nSTATE_ALFU\nLV_FAC_AFU_RATIO_DFT_ST_ACT_RST\nLV_FAC_AFU_RATIO_VLD\nFAC_AFU_RATIO_VLD\nFAC_AFU_RATIO\nrst\nFigure 4.13.2:\n4.13.2 Calculation at every 100MS\n4.13.2.1 Valid bit for use outside ALFU\n1\nFAC_AFU_RATIO_VLD\nCheck ~= 0\n+\n+\n+\nV. 6.7\nOR\nV. 6.0\n0\nV. 6.4\n0\nV. 6.4\nLC_FAC_AFU_RATIO_CONF\nV. 6.4\nf()\n4\nFAC_AFU_RATIO_ER_VLD\n3\nFAC_AFU_RATIO_FTL_VLD\n2\nFAC_AFU_RATIO_LAMB_VLD\n1\nNC_STATE_AFU_SENS_CONF\nFigure 4.13.3:\nFile: 3090A604.00C\n1399Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1094, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a0948443-d9f8-49ea-92c1-cc19de81ad38": {"__data__": {"id_": "a0948443-d9f8-49ea-92c1-cc19de81ad38", "embedding": null, "metadata": {"page_label": "112", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "bd078c92-b6e5-4104-99e1-944f354b7e5f", "node_type": "4", "metadata": {"page_label": "112", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "0447fbe627d7238d23f19e05fbe3d3533ed79904ae386adf7198f7ae0daf8f23", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination\n4.13.2.2 State bit for monitoring ALFU\n1\nSTATE_ALFU\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\n12\nSENS_VALUE\nV. 6.4\n11\nSENS_ERR\nV. 6.4\n1\nREFUEL_DET\nV. 6.4\nNOT\nNOT\nNOT\n7\nLAM_DET_VLD\nV. 6.4\n5\nLAM_DET_ACT\nV. 6.4\n6\nLAM_CTL_ACT\nV. 6.4\n0\nINACTIVE\nV. 6.4\n10\nFAC_AFU_VLD\nV. 6.4\n9\nER_DET_VLD\nV. 6.4\n8\nER_DET_ACT\nV. 6.4\n4\nERU_DET_VLD\nV. 6.4\n3\nERU_DET_ACT\nV. 6.4\nV. 6.0\n2\nDFT_ST_ACT\nV. 6.4\nLC_FAC_AFU_RATIO_CONF\nV. 6.4\n1\nV. 6.4\nAND\nAND\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\nf()\n13\nNC_FID_ERR_AFU_SENS_AFU\n12\nLV_FAC_AFU_RATIO_VLD\n11\nLV_FAC_AFU_RATIO_DFT_ST_ACT\n10\nLV_FAC_AFU_RATIO_LAMB_ACT\n9\nACTION_FARM_GetPermission\n8\nLV_FAC_AFU_RATIO_ER_VLD\n7\nLV_FAC_AFU_RATIO_ER_ACT\n6\nLV_FAC_AFU_RATIO_ERU_VLD\n5\nLV_FAC_AFU_RATIO_ERU_ACT\n4\nLV_FAC_AFU_RATIO_LAMB_VLD\n3\nLV_FAC_AFU_LAMB_CTL_ACT\n2\nLV_FTL_REFU\n1\nNC_STATE_AFU_SENS_CONF\nFigure 4.13.4:\nFile: 3090A604.00C\n1400Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1480, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "db531ac5-193f-416a-a6a8-21df61d98ff5": {"__data__": {"id_": "db531ac5-193f-416a-a6a8-21df61d98ff5", "embedding": null, "metadata": {"page_label": "113", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c0750c0b-e042-410b-b123-7e48f179cbc4", "node_type": "4", "metadata": {"page_label": "113", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "a9d9623d8f8da4e31063715563a46b336f95bec1117d68bb43e175886c7ac5e9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination\n4.13.2.3 Determination of LV_FAC_AFU_RATIO_VLD\n1\nLV_FAC_AFU_RATIO_VLD\nOR\nNOT\nV. 6.0\nV. 6.0\nC_FAC_AFU_RATIO_VLD_THD_2\nV. 6.4\nLC_FAC_AFU_RATIO_CONF\nV. 6.4\n1\nV. 6.4\nAND\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\nf()\n5\nNC_FID_ERR_AFU_SENS_AFU\n4\nFAC_AFU_RATIO_VLD\n3\nACTION_FARM_GetPermission\n2\nLV_FAC_AFU_RATIO_SENS_VLD\n1\nNC_STATE_AFU_SENS_CONF\nFigure 4.13.5:\nFile: 3090A604.00C\n1401Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 921, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1d5b47d4-1f80-4e19-8e69-45ed2414ac5e": {"__data__": {"id_": "1d5b47d4-1f80-4e19-8e69-45ed2414ac5e", "embedding": null, "metadata": {"page_label": "114", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "979dd91a-89a5-4d6c-8557-d392352b1d89", "node_type": "4", "metadata": {"page_label": "114", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "40a223e089264d2c3eb71c914cd30500899b354b01c9c750836d1eaf599e6374", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination\n4.13.2.4 Calculation of FAC_AFU_RATIO_DET\n2\nLV_FAC_AFU_RATIO_DFT_ST_ACT_RST\n1\nFAC_AFU_RATIO_DET\n[FAC_AFU_RATIO_LAMB]\n[lv_err_afu_sens]\n[NC_STATE_AFU_SENS_CONF]\n[FAC_AFU_RATIO_LAMB]\n[FAC_AFU_RATIO_LAMB]\n[lv_err_afu_sens]\n[NC_STATE_AFU_SENS_CONF]\n[lv_err_afu_sens]\n[lv_err_afu_sens]\n[NC_STATE_AFU_SENS_CONF]\n[NC_STATE_AFU_SENS_CONF]\n[NC_STATE_AFU_SENS_CONF]\nV. 6.0\ncond_if\nif\nelse\nV. 6.0\ncond_if\nif\nelseOR\nNOT\nNOT\nNOT\nMerge\nMerge\nV. 5.2\nV. 5.2\nV. 6.0\nV. 6.0\nV. 6.0\n1\nV. 6.4\nLC_FAC_AFU_RATIO_CONF\nV. 6.4\n1\nV. 6.4\n1\nV. 6.4\n1\nV. 6.4\nLC_FAC_AFU_RATIO_CONF\nV. 6.4\n0\nV. 6.4\nfc()FAC_AFU_RATIO_LAMB\nFAC_AFU_RATIO_VLD\nLV_FAC_AFU_RATIO_VLD\nNC_STATE_AFU_SENS_CONF\nlv_err_afu_sens\nFAC_AFU_RATIO_ER\nFAC_AFU_RATIO_ER_VLD\nFAC_AFU_RATIO_FTL\nFAC_AFU_RATIO_FTL_VLD\nFAC_AFU_RATIO_LAMB_VLD\nLV_FAC_AFU_RATIO_DFT_ST_ACT_RST_in\nLV_FAC_AFU_RATIO_ERU_ACT\nFAC_AFU_RATIO_ERU\nFAC_AFU_RATIO_DET_in\nFAC_AFU_RATIO_DET_out\nLV_FAC_AFU_RATIO_DFT_ST_ACT_RST_out\nCLC_ELSE\nX.2.4.1\nAND\nAND AND\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\nf()\n18\nNC_FID_ERR_AFU_SENS_AFU\n17\nFAC_AFU_RATIO_ERU\n16\nLV_FAC_AFU_RATIO_ERU_ACT\n15\nFAC_AFU_RATIO_LAMB_VLD\n14\nFAC_AFU_RATIO_FTL_VLD\n13\nFAC_AFU_RATIO_FTL\n12\nFAC_AFU_RATIO_ER_VLD\n11\nFAC_AFU_RATIO_ER\n10\nFAC_AFU_RATIO_SENS_MMV_DLY\n9\nLV_FAC_AFU_RATIO_SENS_VLD\n8\nFAC_AFU_RATIO_LAMB\n7\nACTION_FARM_GetPermission\n6\nNC_STATE_AFU_SENS_CONF\n5\nLV_FAC_AFU_RATIO_LAMB_ACT\n4\nFAC_AFU_RATIO_DET_in\n3\nLV_FAC_AFU_RATIO_DFT_ST_ACT_RST_in\n2\nLV_FAC_AFU_RATIO_VLD\n1\nFAC_AFU_RATIO_VLD\nFigure 4.13.6:\nFile: 3090A604.00C\n1402Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2037, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4b4072a2-db2c-42f5-a763-b27519819305": {"__data__": {"id_": "4b4072a2-db2c-42f5-a763-b27519819305", "embedding": null, "metadata": {"page_label": "115", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "214492b8-1c26-40e4-b8c3-1fb1ef395fb1", "node_type": "4", "metadata": {"page_label": "115", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c3e8a180ecd0fc2d14bcf7f50a8231ce59c20aa86db9248b78a3cfdb898b5592", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination\n4.13.2.4.1 Drivability intervention based on ER before LAMB based detection\nDrivability intervention based on ER before lamb_based detection\n2\nLV_FAC_AFU_RATIO_DFT_ST_ACT_RST_out\n1\nFAC_AFU_RATIO_DET_out\n[LV_FAC_AFU_RATIO_DFT_ST_ACT_RST]\n[NC_STATE_AFU_SENS_CONF]\n[LV_FAC_AFU_RATIO_DFT_ST_ACT_RST]\n[NC_STATE_AFU_SENS_CONF]\n[NC_STATE_AFU_SENS_CONF]\nCheck ~= 0\nCheck ~= 0\n+\n+\n+\nV. 6.7\nOR\nOR\nNOT\nMux\nMux\nMux\nV. 6.7\nV. 6.7\nV. 6.7\n1\n1\nV. 6.0\nV. 6.0\nV. 6.0\nV. 6.8\nDemux\n0\nV. 6.4\n1\nV. 6.4\nLC_FAC_AFU_RATIO_CONT\nV. 6.4\nC_FAC_AFU_RATIO_VLD_THD_1\nV. 6.4\n1\nV. 6.4\nLC_FAC_AFU_RATIO_CONF\nV. 6.4\n0\nV. 6.4\nAND\nAND\nAND\nf()\n14\nFAC_AFU_RATIO_DET_in\n13\nFAC_AFU_RATIO_ERU\n12\nLV_FAC_AFU_RATIO_ERU_ACT\n11\nLV_FAC_AFU_RATIO_DFT_ST_ACT_RST_in\n10\nFAC_AFU_RATIO_LAMB_VLD\n9\nFAC_AFU_RATIO_FTL_VLD\n8\nFAC_AFU_RATIO_FTL\n7\nFAC_AFU_RATIO_ER_VLD\n6\nFAC_AFU_RATIO_ER\n5\nlv_err_afu_sens\n4\nNC_STATE_AFU_SENS_CONF\n3\nLV_FAC_AFU_RATIO_VLD\n2\nFAC_AFU_RATIO_VLD\n1\nFAC_AFU_RATIO_LAMB\nFigure 4.13.7:\nFile: 3090A604.00C\n1403Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1500, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8848defb-b4c4-4c02-996a-e9a4fd05a057": {"__data__": {"id_": "8848defb-b4c4-4c02-996a-e9a4fd05a057", "embedding": null, "metadata": {"page_label": "116", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7cd0072c-ff1a-4473-9502-7b896c4ba512", "node_type": "4", "metadata": {"page_label": "116", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "826861a6016377d76413cc159a5c16d5d505d359aee64a02e3bce285f3052876", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination\n4.13.2.5 Manual setting of FAC_AFU_RATIO\n2\nFAC_AFU_RATIO_DET_out\n1\nFAC_AFU_RATIO_out\n[FAC_AFU_RATIO_DET_in]\n[FAC_AFU_RATIO_DET_in]\n[FAC_AFU_RATIO_DET_in]\n[FAC_AFU_RATIO_DET_in]\n[FAC_AFU_RATIO_DET_in]\n[FAC_AFU_RATIO_DET_in]\n[FAC_AFU_RATIO_DET_in]\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\n+\n?\nV. 6.7\n+\n+\nV. 6.7\n?\n+\nV. 6.7\nMux\nMux\nMux\nMux\nMux\nV. 6.3\n1\n1\nV. 6.0\nDemux\nC_FAC_AFU_RATIO_MAN\nV. 6.4\nC_FAC_AFU_RATIO_LGRD\nV. 6.4\nC_FAC_AFU_RATIO_MAN\nV. 6.4\nLC_FAC_AFU_RATIO_MAN_ACT\nV. 6.4\nC_FAC_AFU_RATIO_LGRD\nV. 6.4\n?C_FAC_AFU_RATIO_LGRD\nV. 6.4\nC_FAC_AFU_RATIO_LGRD\nV. 6.4\nf()\n4\nFAC_AFU_RATIO_DFT_ST\n3\nLV_FAC_AFU_RATIO_DFT_ST_ACT\n2\nFAC_AFU_RATIO_in\n1\nFAC_AFU_RATIO_DET_in\nFigure 4.13.8:\nFile: 3090A604.00C\n1404Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1230, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "957c4a34-f7e2-496a-adf5-29e857f18521": {"__data__": {"id_": "957c4a34-f7e2-496a-adf5-29e857f18521", "embedding": null, "metadata": {"page_label": "117", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "45f0a1c5-07ff-4026-9855-c8036bb2c8fe", "node_type": "4", "metadata": {"page_label": "117", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "36d92e71013625250181bb21a325c80b0fdf8f55dba2e44cc940a03790bdc283", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n4.14 Alternative fuel ratio determination (Appl. Inc.)\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nFAC_AFU_AFS O/V 0... 320H 0... 16 0.02 -\nStoichiometric Factor for Ethanol Gasoline blend\nFAC_AFU_SAE O/V 0... FFH 0... 100 0.39215686 %\nPID 52, Alcohol Fuel Percentage\nLV_FAC_AFU_CP_DEAC O/V 0... 1H 0 ...1 1 -\nFlag indicating that canister purge is forbidden\nLV_FAC_AFU_LAMB_LDC O/V 0... 1H 0 ...1 1 -\nFlag indicating that limited dynamics condition for ALFU was met\nLV_FAC_AFU_LAMB_OIL O/V 0... 1H 0 ...1 1 -\nFlag indicating that fuel vaporization from oil is not not critical (cold and hot condition)\nLV_FAC_AFU_LAMB_OIL_COLD O/V 0... 1H 0 ...1 1 -\nFlag indicating that fuel has not yet started to vaporize from oil (cold condition)\nLV_FAC_AFU_LAMB_OIL_HOT V 0... 1H 0 ...1 1 -\nFlag indicating that fuel is completely vaporized from oil (hot condition)\nLV_TQ_N_FAC_AFU_ER_VLD V 0... 1H 0 ...1 1 -\nFlag indicating that driving window is active for engine roughness based ?ex fuel detection\nLV_TQ_N_FAC_AFU_LAMB_VLD O/V 0... 1H 0 ...1 1 -\nFlag indicating that driving window is active\nLV_VS_GRD_INT_AFU V 0... 1H 0 ...1 1 -\nFlag indicating that mixing inside fuel tank is suf?cient\nN_MMV_LDC_AFU_LAMB V 0... 1FE0H 0... 8160 1 rpm\nMoving mean average of N for limited dynamics condition\nPERC_FF V 0... FFH 0... 100 0.39215686 %\nFlex Fuel percentage for display\nSTATE_ALFU_CTL O/V\n0H FINISHED\n1H WAIT\n2H CHG\n3H LEARN\n4H VLD_LEARN\n5H VALIDATION\n- -\nState controling the actions of ALFU\nSTATE_FUEL_TYPE_SAE O/V\n1H GAS\n2H METH\n3H ETH\n4H DSL\n5H LPG\n6H CNG\n7H PROP\n8H ELEC\n9H BI_GAS\nAH BI_METH\nBH BI_ETH\nCH BI_LPG\nDH BI_CNG\nEH BI_PROP\nFH BI_ELEC\n- -\nFile: 3090B103.00C\n1405Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2233, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "756cbd2a-c71d-47ce-8005-e62bb527edb7": {"__data__": {"id_": "756cbd2a-c71d-47ce-8005-e62bb527edb7", "embedding": null, "metadata": {"page_label": "118", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "625c0c94-0c18-4836-b155-23515eb625c0", "node_type": "4", "metadata": {"page_label": "118", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "621d4dccb58eeec991e95e4d93d3dc89924577b23dfc829bcb68e212b7051d75", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "46621dcb-9563-413d-ba65-fbdc7120a8e5", "node_type": "1", "metadata": {}, "hash": "a34ba4bfbc3b37b2eb1ba6218d32743cba2ac8c34d929282baf1b0d779fe966d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\nName Mode Coded Limits Display Limits Resolution Unit\nPID 51, Fuel currently in use in vehicle\nT_FAC_AFU_LAMB_OIL_HOT V 0... FFFFH 0... 6553.5 0.1 s\nTimer for fuel evaporation from oil\nT_LDC_FAC_AFU V 0... FFH 0... 25.5 0.1 s\nTimer to activate limited dynamics condition for use in ALFU\nTQ_MMV_LDC_AFU_LAMB V 0... FFFFH 0... 1389 0.02119478 mg/stk\nMoving mean average of MAF/MFF for limited dynamics condition\nVS_GRD_INT_AFU V 0... FFFFH 0... 655.35 0.01 km/h\nIntegral of VS_GRD to ensure suf?ecient gradient of VS for fuel mixing in tank\n\ufffd Input Data\nCTR_FUEL_OIL\n{p. 23170}\nFAC_AFU_RATIO\n{p. 1396}\nFAC_AFU_RATIO_LAMB_VLD\n{p. 1350}\nIDX_EX_CBK_LAMB\n{p. 1366}\nLV_FAC_AFU_RATIO_ERU_VLD\n{p. 1319}\nLV_FAC_AFU_RATIO_EXT_REQ\n{p. 23183}\nLV_FAC_AFU_RATIO_LAMB_\nVLD\n{p. 1350}\nLV_FAC_AFU_RATIO_VLD\n{p. 1396}\nLV_FAC_AFU_RATIO_VLD_RST\n{p. 1369}\nLV_IS\n{p. 7530}\nLV_LAM_LSCL\n[NC_CBK_EX_NR]\n{p. 22406}\nLV_PUC\n{p. 7530}\nLV_ST_END\n{p. 7530}\nMAF\n{p. 3012}\nMFF_SUM_REFU\n{p. 1369}\nN\n{p. 8079}\nN_32\n{p. 8079}\nTCO\n{p. 8846}\nTOIL\n{p. 7287}\nVS_GRD\n{p. 23200}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_CRLC_N_MMV_LDC_AFU_LAMB V 0... FFH 0... 0.99609375 0.00390625 -\nCorrelation constant for MMV ?lter of N for limited dynamics condition\nC_CRLC_TQ_MMV_LDC_AFU_LAMB V 0... FFH 0... 0.99609375 0.00390625 -\nCorrelation constant for MMV ?lter of N for limited dynamics condition\nC_FAC_AFU_AFS_MAX V 0... 320H 0... 16 0.02 -\nMaximum Value for Stoichiometric Factor\nC_FAC_AFU_AFS_MIN V 0... 320H 0... 16 0.02 -\nMinimum Value for Stoichiometric Factor\nC_FUEL_MAX_CONF V 0... FFH 0... 100 0.39215686 %\nCalibration constant to de?ne maximum ethanol content possible\nC_MFF_SUM_REFU_LEARN_DEAC V 0... FFFFH 0... 131.07 0.002 l\nThreshold for MFF_SUM_REFU to end learn phase\nC_MFF_SUM_REFU_MAX V 0... FFFFH 0... 131.07 0.002 l\nMax. threshold for MFF_SUM_REFU for controller activation\nC_MFF_SUM_REFU_MIN V 0... FFFFH 0... 131.07 0.002 l\nMin.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2370, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "46621dcb-9563-413d-ba65-fbdc7120a8e5": {"__data__": {"id_": "46621dcb-9563-413d-ba65-fbdc7120a8e5", "embedding": null, "metadata": {"page_label": "118", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "625c0c94-0c18-4836-b155-23515eb625c0", "node_type": "4", "metadata": {"page_label": "118", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "621d4dccb58eeec991e95e4d93d3dc89924577b23dfc829bcb68e212b7051d75", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "756cbd2a-c71d-47ce-8005-e62bb527edb7", "node_type": "1", "metadata": {"page_label": "118", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "5d64dde31941906aa72972047df7aa0d756a665e28d6204e9badb84ec2bbc23d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "threshold for MFF_SUM_REFU for controller activation\nC_MFF_SUM_REFU_MIN V 0... FFFFH 0... 131.07 0.002 l\nMin. threshold for MFF_SUM_REFU for controller activation\nC_N_BOL_FAC_AFU_LAMB_VLD V 0... FFH 0... 8160 32 rpm\nBottom limit of engine speed range N_32 for valid learning of FF ratio\nC_N_LDC_FAC_AFU_LAMB V 0... 1FE0H 0... 8160 1 rpm\nFile: 3090B103.00C\n1406Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 2261, "end_char_idx": 2727, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1eec9f4d-8e3f-4381-838e-4412df148328": {"__data__": {"id_": "1eec9f4d-8e3f-4381-838e-4412df148328", "embedding": null, "metadata": {"page_label": "119", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6d53154d-758d-47cb-8756-cebeec52419a", "node_type": "4", "metadata": {"page_label": "119", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "674a67f4650cb558d51e130cec0ae6d10b5374708c39f2c1227018447cc3675a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "2686e231-4e72-4091-9e03-4e8f7f9a46d6", "node_type": "1", "metadata": {}, "hash": "db13ee224aedc5bfc52e0887c5300cf0678763e4a517ff7154ae829984def1f8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\nName Mode Coded Limits Display Limits Resolution Unit\nN threshold to pass limited dynamics condition\nC_N_TOL_FAC_AFU_LAMB_VLD V 0... FFH 0... 8160 32 rpm\nTop limit of engine speed range (N_32) for valid learning of FF ratio\nC_T_LDC_FAC_AFU V 0... FFH 0... 25.5 0.1 s\nThresholf for Timer to activate limited dynamics condition for use in ALFU\nC_TCO_THD_FAC_AFU_VLD_LEARN V 0... FEH -48... 142.5 0.75 \ufffdC\nCoolant temperature threshold which has to be reached to get a valid lambda based FF ratio\nC_TOIL_FAC_AFU_LAMB_OIL_COLD V 0... C8H -40 ...160 1 \ufffdC\nOil temperature threshold below which no fuel vapozization from oil occurs\nC_TQ_BOL_FAC_AFU_LAMB_VLD V 0... FFFFH 0... 1389 0.02119478 mg/stk\nBottom limit of mass air ?ow range for valid learning of FF ratio\nC_TQ_LDC_FAC_AFU_LAMB V 0... FFFFH 0... 1389 0.02119478 mg/stk\nMAF/MFF threshold to pass limited dynaics condition\nC_TQ_TOL_FAC_AFU_LAMB_VLD V 0... FFFFH 0... 1389 0.02119478 mg/stk\nTop limit of mass air ?ow range for valid learning of FF ratio\nC_VS_GRD_INT_AFU V 0... FFFFH 0... 655.35 0.01 km/h\nMax. threshold for VS_GRD_INT_AFU\nID_MAF_MAX_AFU_ER_ACT V 0... FFFFH 0... 1389 0.02119478 mg/stk\nLDPM_N_32_1_ALFU 10 0... FFH 0... 8160 32 rpm\nMass air ?ow max. threshold to deactivate the engine roughness based FF ratio detection algorithm\nID_MAF_MIN_AFU_ER_ACT V 0... FFFFH 0... 1389 0.02119478 mg/stk\nLDPM_N_32_1_ALFU 10 0... FFH 0... 8160 32 rpm\nMass air ?ow min.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1855, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2686e231-4e72-4091-9e03-4e8f7f9a46d6": {"__data__": {"id_": "2686e231-4e72-4091-9e03-4e8f7f9a46d6", "embedding": null, "metadata": {"page_label": "119", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6d53154d-758d-47cb-8756-cebeec52419a", "node_type": "4", "metadata": {"page_label": "119", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "674a67f4650cb558d51e130cec0ae6d10b5374708c39f2c1227018447cc3675a", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1eec9f4d-8e3f-4381-838e-4412df148328", "node_type": "1", "metadata": {"page_label": "119", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "25a4d5781fd7ccb54bdc69635b36dd2aac702f3836a26f3c8b83cadbc2a9ae1f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "threshold to deactivate the engine roughness based FF ratio detection algorithm\nID_MAF_MIN_AFU_ER_ACT V 0... FFFFH 0... 1389 0.02119478 mg/stk\nLDPM_N_32_1_ALFU 10 0... FFH 0... 8160 32 rpm\nMass air ?ow min. threshold to deactivate the engine roughness based FF ratio detection algorithm\nIP_T_FAC_AFU_LAMB_OIL_HOT V 0... FFFFH 0... 6553.5 0.1 s\nLDPM_CTR_FUEL_OIL_1_ALFU 6 0... FFH 0... 255 1 -\nMap to specify that all fuel has vaporized from oil\nIP_TOIL_FAC_AFU_LAMB_OIL_HOT V 0... C8H -40 ...160 1 \ufffdC\nLDPM_CTR_FUEL_OIL_1_ALFU 6 0... FFH 0... 255 1 -\nOil temperature threshold which had to be reached to allow vaporization from oil\nLC_FAC_AFU_LAMB_EXT_REQ_OIL_ENA V 0... 1H 0 ...1 1 -\nLogical switch to enable learning trigger by external request independent from oil temperature\nLC_FAC_AFU_LAMB_EXT_REQ_VS_ENA V 0... 1H 0 ...1 1 -\nLogical switch to enable learning triggered by external request independent from VS_GRD\nLC_FAC_AFU_LAMB_OIL_COLD V 0... 1H 0 ...1 1 -\nLogical switch to activate condition for vaporization of fuel from oil under COLD condition\nLC_FAC_AFU_LAMB_OIL_HOT V 0... 1H 0 ...1 1 -\nLogical switch to activate condition for vaporization of fuel from oil under HOT condition\nLC_FAC_AFU_RATIO_LAMB_IS V 0... 1H 0 ...1 1 -\nLogical switch to activate FAC_AFU_RATIO_LAMB learning only outside LV_IS = 1\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_FID_ERR_VS_AFU_AI V 0... FFFFH 0... 65535 1 -\nFARM permission for vehicle speed diagnosis in alternative fuel ratio determination application incidence module\nFile: 3090B103.00C\n1407Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 1649, "end_char_idx": 3331, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "59c9980a-6bba-4fa1-932a-0503bc0502f6": {"__data__": {"id_": "59c9980a-6bba-4fa1-932a-0503bc0502f6", "embedding": null, "metadata": {"page_label": "120", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d63fad18-8df6-4042-b750-81f278d29193", "node_type": "4", "metadata": {"page_label": "120", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "04d0b46bebf59b0360b36c1a724f383dbc268173670acd8cad023652ccd53ea0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n\ufffd Import actions:\nACTION_ALFU_RstVldEr()\nACTION_ALFU_RstVldEru()\nACTION_ALFU_RstVldLamb()\nACTION_FARM_GetPermission(IN <PRM_FID>, OUT <PRM_LV_PRMS>)\n\ufffd General Information\n\ufffd Application Conditions\nInitialization: RST\nRecurrence: 100MS, 1S\nActivation: always\nDeactivation: never\n\ufffd Function Description\nFile: 3090B103.00C\n1408Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 863, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fc13f3d6-e0de-4481-a6e0-d5f1554c0c17": {"__data__": {"id_": "fc13f3d6-e0de-4481-a6e0-d5f1554c0c17", "embedding": null, "metadata": {"page_label": "121", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b811c328-c499-4977-bc89-9865b7a2f9f6", "node_type": "4", "metadata": {"page_label": "121", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "46d74aeafcdd59ead71d4ce55a91762e7872811806e7e05cef194fc0525b55f5", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\nSDA_SRS / SDA V 5.3.2 / 24?May?2010\n9\nSTATE_ALFU_CTL\n8\nLV_TQ_N_FAC_AFU_LAMB_VLD\n7\nLV_FAC_AFU_LAMB_OIL_COLD\n6\nLV_FAC_AFU_LAMB_OIL\n5\nLV_FAC_AFU_LAMB_LDC\n4\nSTATE_FUEL_TYPE_SAE\n3\nLV_FAC_AFU_CP_DEAC\n2\nFAC_AFU_SAE\n1\nFAC_AFU_AFS\n18\nVS_GRD\n19\nTOIL\n12\nTCO FAC_AFU_AFS:  O V   \nFAC_AFU_SAE:  O V   \nLV_FAC_AFU_CP_DEAC:  O V   \nLV_FAC_AFU_LAMB_LDC:  O V   \nLV_FAC_AFU_LAMB_OIL:  O V   \nLV_FAC_AFU_LAMB_OIL_COLD:  O V   \nLV_FAC_AFU_LAMB_OIL_HOT:    V   \nLV_TQ_N_FAC_AFU_ER_VLD:    V   \nLV_TQ_N_FAC_AFU_LAMB_VLD:  O V   \nLV_VS_GRD_INT_AFU:    V   \nN_MMV_LDC_AFU_LAMB:    V   \nPERC_FF:    V   \nSTATE_ALFU_CTL:  O V   \nSTATE_FUEL_TYPE_SAE:  O V   \nTQ_MMV_LDC_AFU_LAMB:    V   \nT_FAC_AFU_LAMB_OIL_HOT:    V   \nT_LDC_FAC_AFU:    V   \nVS_GRD_INT_AFU:    V   \nV. 6.3\nfc()input\nfeedback\nopm_1s\nOPM_1S\nX.3\nfc()\ninput\nfeedback\nopm\nOPM_100MS\nX.2\n11\nN_32\n13\nN\n6\nMFF_SUM_REFU\n10\nMAF\n17\nLV_ST_END\n9\nLV_PUC\n8\nLV_LAM_LSCL\n15\nLV_IS\n5\nLV_FAC_AFU_RATIO_VLD_RST\n2\nLV_FAC_AFU_RATIO_VLD\n4\nLV_FAC_AFU_RATIO_LAMB_VLD\n14\nLV_FAC_AFU_RATIO_EXT_REQ\n7\nLV_FAC_AFU_RATIO_ERU_VLD\nfc()\nini\nINI\nX.1\n24\nIDX_EX_CBK_LAMB\n3\nFAC_AFU_RATIO_LAMB_VLD\n1\nFAC_AFU_RATIO\n16\nCTR_FUEL_OIL\nfc_INI\nfc_OPM__100MS\nfc_OPM__1S\nRecurrence:        100MS\n            1S\nInit:             RST\nActivation:\nalways\nDeactivation:\nnever\nAPP_CDN\nV. 7.2\n21\nACTION_FARM_GetPermission_T3\n22\nACTION_ALFU_RstVldLamb_T2\n23\nACTION_ALFU_RstVldEru_T2\n23\nACTION_ALFU_RstVldEr_T2\nFigure 4.14.1:\nFile: 3090B103.00C\n1409Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1971, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4fc29518-1087-4a82-8251-6fa41cbe4044": {"__data__": {"id_": "4fc29518-1087-4a82-8251-6fa41cbe4044", "embedding": null, "metadata": {"page_label": "122", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0e9c35b8-30cb-46cb-b067-f176dcdc11cd", "node_type": "4", "metadata": {"page_label": "122", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "d5b02f265012da357a633940cf9e294737b77490917e1fbd9e68f55b2005e939", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n4.14.1 Initialisation at RESET\n1\nini\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nf()\nPERC_FF\nLV_TQ_N_FAC_AFU_LAMB_VLD\nLV_TQ_N_FAC_AFU_ER_VLD\nLV_FAC_AFU_LAMB_OIL_COLD\nLV_FAC_AFU_LAMB_OIL_HOT\nLV_FAC_AFU_LAMB_OIL\nLV_FAC_AFU_CP_DEAC\nLV_FAC_AFU_LAMB_LDC\nVS_GRD_INT_AFU\nTQ_MMV_LDC_AFU_LAMB\nT_LDC_FAC_AFU\nT_FAC_AFU_LAMB_OIL_HOT\nSTATE_ALFU_CTL\nSTATE_FUEL_TYPE_SAE\nN_MMV_LDC_AFU_LAMB\nLV_VS_GRD_INT_AFU\nFAC_AFU_SAE\nFAC_AFU_AFS\nini\nFigure 4.14.2:\nFile: 3090B103.00C\n1410Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1117, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3735025e-bf77-47fd-adc8-84d729a7708a": {"__data__": {"id_": "3735025e-bf77-47fd-adc8-84d729a7708a", "embedding": null, "metadata": {"page_label": "123", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "51af58e5-a7e8-4ea2-a3cd-23369ffb39aa", "node_type": "4", "metadata": {"page_label": "123", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "ef5056b87dfb3f538f545260bc4a9300feaccb6726aff0af8d7ad8f2bf4889e4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n4.14.2 Calculation overview\n4.14.2.1 General Flex Fuel Conditions\nSAE conform fuel type display\nFor display the percentage of Flex Fuel\nis given by\nCalculated everytime FAC_AFU_RATIO \nis calculated\nStoichiometric Factor\n4\nSTATE_FUEL_TYPE_SAE\n3\nFAC_AFU_AFS\n2\nPERC_FF\n1\nFAC_AFU_SAE\n[FAC_AFU_SAE]\n[PERC_FF]\n[FAC_AFU_SAE]\n[FAC_AFU_SAE]\n[FAC_AFU_SAE]\n[PERC_FF]\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\n+\n+\nV. 6.7\n?\n+\nV. 6.7\n+\n?\nV. 6.7\n V. 6.7\nV. 6.7\n]MX;MN[\nV. 6.1\nMX\nMN\nu\ny\n]MX;MN]\nV. 6.1\nMX\nMN\nu\ny\n1\n1\n100\nV. 6.4\n10\nV. 6.4\n1\nGAS\nV. 6.4\n3\nETH\nV. 6.4\nV. 6.0\nV. 6.8\nC_FAC_AFU_AFS_MAX\nV. 6.4\nC_FAC_AFU_AFS_MIN\nV. 6.4\n10\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nC_FUEL_MAX_CONF\nV. 6.4\nC_FAC_AFU_AFS_MIN\nV. 6.4\n1\nV. 6.4\n9\nBI_GAS\nV. 6.4\n11\nBI_ETH\nV. 6.4\n100\nV. 6.4\nf()\n1\nFAC_AFU_RATIO\nFigure 4.14.3:\nFile: 3090B103.00C\n1411Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1329, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "21247919-da0c-4158-9604-47e2e32a539d": {"__data__": {"id_": "21247919-da0c-4158-9604-47e2e32a539d", "embedding": null, "metadata": {"page_label": "124", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1ffd895f-772d-45c7-8459-fb6935101ef0", "node_type": "4", "metadata": {"page_label": "124", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "47ba1c53f313e02ae10e0ffa2d85f2b40f7aa49384c98d464ff0e33c7a38786a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n4.14.2.2 Deactivation of Canister purge\n1\nLV_FAC_AFU_CP_DEAC1\nWAIT\nV. 6.4\nOR NOT\n0\nFINISHED\nV. 6.4\nV. 6.0\nV. 6.0\nf() 1\nSTATE_ALFU_CTL\nFigure 4.14.4:\n4.14.2.3 Driving window for valid learning active\n2\nLV_TQ_N_FAC_AFU_ER_VLD\n1\nLV_TQ_N_FAC_AFU_LAMB_VLD\n[MAF]\n[N_32]\n[MAF]\n[MAF]\n[N_32]\n[N_32]\n[N_32]\nx_val ID_val\nID_MAF_MIN_AFU_ER_ACT\nx_val ID_val\nID_MAF_MAX_AFU_ER_ACT\nCheck ~= 0\nOR\nOR\nNOT\nMux\nMux\n[MX;MN]\nV. 6.1\nMX\nMN\nu\ny\n]MX;MN[\nV. 6.1\nMX\nMN\nu\ny\n]MX;MN[\nV. 6.1\nMX\nMN\nu\ny\n1\n1\nDemux\n0\nV. 6.4\n0\nV. 6.4\nC_TQ_TOL_FAC_AFU_LAMB_VLD\nV. 6.4\nC_TQ_BOL_FAC_AFU_LAMB_VLD\nV. 6.4\nC_N_TOL_FAC_AFU_LAMB_VLD\nV. 6.4\nC_N_BOL_FAC_AFU_LAMB_VLD\nV. 6.4\nAND\nAND\nf()\n5\nLV_PUC\n4\nMAF\n3\nLV_FAC_AFU_RATIO_EXT_REQ\n2\nN_32\n1\nLV_ST_END\nFigure 4.14.5:\nFile: 3090B103.00C\n1412Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1280, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8ab5b0af-bc61-4692-ac10-d3d25e859925": {"__data__": {"id_": "8ab5b0af-bc61-4692-ac10-d3d25e859925", "embedding": null, "metadata": {"page_label": "125", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "baa99e69-c58c-4f8b-af68-1134a7ce3527", "node_type": "4", "metadata": {"page_label": "125", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "df7e720b730c6a6cd3a56574aea25845d011c59061b71aa73ce42299246b20e6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n4.14.2.4 Limited Dynamics condition\n4\nT_LDC_FAC_AFU_out\n3\nLV_FAC_AFU_LAMB_LDC\n2\nTQ_MMV_LDC_AFU_LAMB_out\n1\nN_MMV_LDC_AFU_LAMB_out\n[TQ_MMV_LDC_AFU_LAMB_in]\n[N_MMV_LDC_AFU_LAMB_in]\n[N]\n[TQ_MMV_LDC_AFU_LAMB]\n[N_MMV_LDC_AFU_LAMB]\n[MAF]\n[N_MMV_LDC_AFU_LAMB_in]\n[N_MMV_LDC_AFU_LAMB_in]\n[TQ_MMV_LDC_AFU_LAMB_in]\n[TQ_MMV_LDC_AFU_LAMB]\n[MAF]\n[MAF]\n[N_MMV_LDC_AFU_LAMB]\n[N]\n[TQ_MMV_LDC_AFU_LAMB_in]\n[N]\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\n+\n+\nV. 6.7\n+\n?\nV. 6.7\n+\n?\nV. 6.7\nMux\nMux\nMux\nMux\nMux\nV. 6.0\nV. 6.0\n1\n1\n1\n1\nV. 6.0\nm\nu\nx_in\ny\nx_out\nV. 6.6\nm\nu\nx_in\ny\nx_out\nV. 6.6\nDemux\nDemux\n0\nV. 6.4\n0\nV. 6.4\n0.1\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\nC_T_LDC_FAC_AFU\nV. 6.4\nC_TQ_LDC_FAC_AFU_LAMB\nV. 6.4\nC_N_LDC_FAC_AFU_LAMB\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nC_CRLC_TQ_MMV_LDC_AFU_LAMB\nV. 6.4\nC_CRLC_N_MMV_LDC_AFU_LAMB\nV. 6.4\nV. 6.5\nV. 6.5\nAND\nf()\n6\nTQ_MMV_LDC_AFU_LAMB_in\n5\nN_MMV_LDC_AFU_LAMB_in\n4\nT_LDC_FAC_AFU_in\n3\nN\n2\nMAF\n1\nLV_ST_END\nFigure 4.14.6:\n4.14.2.5 Oil temperature conditions\n4.14.2.5.1 Temperature below evaporation from oil\nFuel still vaporizes\n1\nLV_FAC_AFU_LAMB_OIL_COLD\nV. 6.0\nC_TOIL_FAC_AFU_LAMB_OIL_COLD\nV. 6.4\nf() 1\nTOIL\nFigure 4.14.7:\nFile: 3090B103.00C\n1413Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1672, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0b42174a-3345-4b41-bd05-0dbc476dc6f0": {"__data__": {"id_": "0b42174a-3345-4b41-bd05-0dbc476dc6f0", "embedding": null, "metadata": {"page_label": "126", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "872ed18c-1da5-4e5e-9771-46da90a37b81", "node_type": "4", "metadata": {"page_label": "126", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "180ec37ca61a1a2e59bf2f62c3056f4ecb9380d2594e30ac8ae742f96f80b338", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n4.14.2.5.2 Observation of Oil dilution conditions\nTimer for Oil temperature above threshold\n2\nT_FAC_AFU_LAMB_OIL_HOT_out\n1\nLV_FAC_AFU_LAMB_OIL_HOT_out\n[T_FAC_AFU_LAMB_OIL_HOT_in]\n[T_FAC_AFU_LAMB_OIL_HOT]\n[CTR_FUEL_OIL]\n[T_FAC_AFU_LAMB_OIL_HOT_in]\n[T_FAC_AFU_LAMB_OIL_HOT_in]\n[T_FAC_AFU_LAMB_OIL_HOT]\n[CTR_FUEL_OIL]\n[CTR_FUEL_OIL]\nx_val IP_val\nIP_T_FAC_AFU_LAMB_OIL_HOT\nV. 6.4\nx_val IP_val\nIP_TOIL_FAC_AFU_LAMB_OIL_HOT\nV. 6.4\nCheck ~= 0\nCheck ~= 0\n+\n+\nV. 6.7\nORNOT\nNOT\nMux\nMux\n1\n1\nV. 6.0\nV. 6.0\nDemux\n0\nV. 6.4\nLC_FAC_AFU_RATIO_LAMB_IS\nV. 6.4\n0.1\nV. 6.4f()\n6\nLV_FAC_AFU_LAMB_OIL_HOT_in\n5\nT_FAC_AFU_LAMB_OIL_HOT_in\n4\nLV_IS\n3\nLV_FAC_AFU_RATIO_EXT_REQ\n2\nCTR_FUEL_OIL\n1\nTOIL\nFigure 4.14.8:\n4.14.2.5.3 Vaporisation of Fuel from Oil detection condition\nFuel still vaporizes\n1\nLV_FAC_AFU_LAMB_OIL\nOR\nLC_FAC_AFU_LAMB_EXT_REQ_OIL_ENA\nV. 6.4\nLC_FAC_AFU_LAMB_OIL_HOT\nV. 6.4\nLC_FAC_AFU_LAMB_OIL_COLD\nV. 6.4\nAND\nAND\nANDf()\n3\nLV_FAC_AFU_RATIO_EXT_REQ\n2\nLV_FAC_AFU_LAMB_OIL_HOT\n1\nLV_FAC_AFU_LAMB_OIL_COLD\nFigure 4.14.9:\nFile: 3090B103.00C\n1414Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1566, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "96ef6b38-bcd0-4237-87a3-9480800b3399": {"__data__": {"id_": "96ef6b38-bcd0-4237-87a3-9480800b3399", "embedding": null, "metadata": {"page_label": "127", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "cd4d34bd-edf3-43ac-89b2-843b5c42cfa2", "node_type": "4", "metadata": {"page_label": "127", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "bfa47e9e1f6bccba9fc69b3f1a751942bb81cf22df9dadfe68fb0e90138079a8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n4.14.2.6 Enable conditions for Alternative fuel determination process\nV. 6.0\ncond_if if\nfc()\nACTION_ALFU_RstVldLamb\nACTION_ALFU_RstVldEr\nACTION_ALFU_RstVldEru\nFCT_CALL\nX.2.6.1\nf()\n4\nACTION_ALFU_RstVldEru\n3\nACTION_ALFU_RstVldEr\n2\nACTION_ALFU_RstVldLamb\n1\nLV_FAC_AFU_RATIO_VLD_RST\nFigure 4.14.10:\n4.14.2.6.1 Action calls\nActionImport\nACTION_ALFU_RstVldLamb\nActionImport\nACTION_ALFU_RstVldEru\nActionImport\nACTION_ALFU_RstVldEr\nf()\n3\nACTION_ALFU_RstVldEru\n2\nACTION_ALFU_RstVldEr\n1\nACTION_ALFU_RstVldLamb\nFigure 4.14.11:\nFile: 3090B103.00C\n1415Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1079, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8e77a810-af5d-454f-bf68-f7f31673e940": {"__data__": {"id_": "8e77a810-af5d-454f-bf68-f7f31673e940", "embedding": null, "metadata": {"page_label": "128", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9b13abea-ddc7-441e-a247-f5dfd57379ca", "node_type": "4", "metadata": {"page_label": "128", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "57a628aaf8ed2cbd14bbeb1064b2015ab72a8ed3ee92197a56bd2768e8b4a729", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n4.14.2.7 STATE_ALFU_CTL selection\nFile: 3090B103.00C\n1416Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 597, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "04a685d6-8feb-403a-8d5b-ac60cf03d6b2": {"__data__": {"id_": "04a685d6-8feb-403a-8d5b-ac60cf03d6b2", "embedding": null, "metadata": {"page_label": "129", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "23a1e438-1c1e-4302-8512-31ad776442dc", "node_type": "4", "metadata": {"page_label": "129", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "1fb9b0ea37f56c3e84d7e753864a75483f693ef9a9b556061c74b6d1475f8460", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\nFile: 3090B103.00C\n1417Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 563, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "92a06989-3d5f-42e1-9456-f155dc5c2ba4": {"__data__": {"id_": "92a06989-3d5f-42e1-9456-f155dc5c2ba4", "embedding": null, "metadata": {"page_label": "130", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "303c559e-a155-4820-ba32-6f164baf8ee5", "node_type": "4", "metadata": {"page_label": "130", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "e563094d3b0791b4a060c1fc007d903f31e6b1bbf49e5603ed6893d1bc7db1e1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n1\nctl_afu_det\n[validation]\n[vld_learn]\n[learn]\n[chg]\n[wait]\n[finished]\n[validation]\n[vld_learn]\n[learn]\n[chg]\n[wait]\n[finished]\ncase: { }\ninput\nfeedback\nwait\nWAIT\nX.2.7.2\ncase: { }input\nfeedback\nvld_learn\nVLD_LEARN\nX.2.7.5\ncase: { }\ninput\nfeedback\nvalidation\nVALIDATION\nX.2.7.6\nu1\ncase [ 0 ]:\ncase [ 1 ]:\ncase [ 2 ]:\ncase [ 3 ]:\ncase [ 4 ]:\ncase [ 5 ]:\ncase: { }\ninput\nfeedback\nlearn\nLEARN\nX.2.7.4\ncase: { }\ninput finished\nFINISHED\nX.2.7.1\ncase: { }input\nfeedback\nchg\nCHG\nX.2.7.3\nBusMerge\nV. 5.35\nf()\n3\nfeedback\n2\nSTATE_ALFU_CTL\n1\ninput\nctl_afu_det\nFigure 4.14.12:\nFile: 3090B103.00C\n1418Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1128, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6dc98d90-8b44-4fcc-839d-6a9964c3dda9": {"__data__": {"id_": "6dc98d90-8b44-4fcc-839d-6a9964c3dda9", "embedding": null, "metadata": {"page_label": "131", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e2d96273-0495-4ecb-a684-8b8cef94c0b4", "node_type": "4", "metadata": {"page_label": "131", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "21adeb8bcf1fc0090d6bcef50e33e117f54d51dfe84553874bdabbeb3538ec2e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n4.14.2.7.1 FINISHED to WAIT\n4.14.2.7.1.1 Transition from state ?FINISHED? to state ?WAIT?\n1\nSTATE_ALFU_CTL\n1\nWAIT\nV. 6.4\nCheck ~= 0\nNOT\n0\nFINISHED\nV. 6.4\n1\nLV_FAC_AFU_RATIO_VLD\nFigure 4.14.13:\n4.14.2.7.2 From WAIT\n4.14.2.7.2.1 Transition from state ?WAIT?\n1\nSTATE_ALFU_CTL\nC\n0\n[..]\n[wait_2_validation]\n[LV_FAC_AFU_RATIO_VLD]\n[wait_2_learn]\n[wait_2_vldlearn]\n[TCO]\n[MFF_SUM_REFU]\n[wait_2_chg]\n[LV_FAC_AFU_RATIO_VLD]\n[wait_2_validation]\n[LV_FAC_AFU_RATIO_VLD]\n[wait_2_learn]\n[MFF_SUM_REFU]\n[wait_2_vldlearn]\n[TCO]\n[MFF_SUM_REFU]\n[MFF_SUM_REFU]\n[wait_2_chg]\n1\nWAIT\nV. 6.4\n4\nVLD_LEARN\nV. 6.4\n5\nVALIDATION\nV. 6.4\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nNOT\nNOT\nNOT\n3\nLEARN\nV. 6.4\n[MX;MN[\nV. 6.1\nMX\nMN\nu\ny\n[MX;MN[\nV. 6.1\nMX\nMN\nu\ny\nV. 6.0\nV. 6.0\n0\nV. 6.4\n0\nFINISHED\nV. 6.4\nV. 6.0\nC_MFF_SUM_REFU_MAX\nV. 6.4\nC_MFF_SUM_REFU_LEARN_DEAC\nV. 6.4\nC_TCO_THD_FAC_AFU_VLD_LEARN\nV. 6.4\nC_MFF_SUM_REFU_MAX\nV. 6.4\nC_MFF_SUM_REFU_MAX\nV. 6.4\nC_MFF_SUM_REFU_MIN\nV. 6.4\n2\nCHG\nV. 6.4\nAND\nAND\nAND\n13\nLV_VS_GRD_INT_AFU\n12\nLV_TQ_N_FAC_AFU_ER_VLD\n11\nLV_TQ_N_FAC_AFU_LAMB_VLD\n10\nLV_FAC_AFU_LAMB_LDC\n9\nLV_FAC_AFU_LAMB_OIL\n8\nIDX_EX_CBK_LAMB\n7\nFAC_AFU_RATIO_LAMB_VLD\n6\nLV_FAC_AFU_RATIO_ERU_VLD\n5\nLV_FAC_AFU_RATIO_LAMB_VLD\n4\nLV_LAM_LSCL\n3\nTCO\n2\nMFF_SUM_REFU\n1\nLV_FAC_AFU_RATIO_VLD\nFigure 4.14.14:\nFile: 3090B103.00C\n1419Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1840, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "49a22885-cb3c-4bf9-bc00-d2d57f38dbe1": {"__data__": {"id_": "49a22885-cb3c-4bf9-bc00-d2d57f38dbe1", "embedding": null, "metadata": {"page_label": "132", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9b44a365-03db-4aaa-8b25-6bb1d305850d", "node_type": "4", "metadata": {"page_label": "132", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "471724d009ce0790e102627c9f56e99e828fb18a02a8f5adf6d7f5516362a67e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n4.14.2.7.3 From ?CHG?\n4.14.2.7.3.1 Transition from state ?CHG?\n1\nSTATE_ALFU_CTL\nC\n0\n[..]\n[TCO]\n[MFF_SUM_REFU]\n[MFF_SUM_REFU]\n[MFF_SUM_REFU]\n[TCO]\n[MFF_SUM_REFU]\n1\nWAIT\nV. 6.4\n4\nVLD_LEARN\nV. 6.4\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nOR\nNOT\nNOT\nV. 6.0\n3\nLEARN\nV. 6.4\nV. 6.0\nV. 6.0\nV. 6.0\nC_MFF_SUM_REFU_MAX\nV. 6.4\nC_MFF_SUM_REFU_MIN\nV. 6.4\nC_TCO_THD_FAC_AFU_VLD_LEARN\nV. 6.4\nC_MFF_SUM_REFU_MAX\nV. 6.4\n2\nCHG\nV. 6.4\nAND\n10\nLV_VS_GRD_INT_AFU\n9\nLV_FAC_AFU_LAMB_LDC\n8\nLV_TQ_N_FAC_AFU_LAMB_VLD\n7\nLV_FAC_AFU_LAMB_OIL\n6\nIDX_EX_CBK_LAMB\n5\nTCO\n4\nMFF_SUM_REFU\n3\nLV_ST_END\n2\nLV_FAC_AFU_RATIO_LAMB_VLD\n1\nLV_LAM_LSCL\nFigure 4.14.15:\nFile: 3090B103.00C\n1420Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1175, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9c45cbfc-4361-4b78-a7d6-967d424f8ece": {"__data__": {"id_": "9c45cbfc-4361-4b78-a7d6-967d424f8ece", "embedding": null, "metadata": {"page_label": "133", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "cd0c0142-2f85-4d5a-bfff-ff8d5c78215c", "node_type": "4", "metadata": {"page_label": "133", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "3131150378a043dfb1705398f2b47a7bdce503a7f5637107e3ce8bdb6fd3940f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n4.14.2.7.4 From ?LEARN?\n4.14.2.7.4.1 Transition from state ?LEARN?\n1\nSTATE_ALFU_CTL\nC\n0\n[..]\n[TCO]\n[MFF_SUM_REFU]\n[MFF_SUM_REFU]\n[TCO]\n[MFF_SUM_REFU]\n[MFF_SUM_REFU]\n1\nWAIT\nV. 6.4\n4\nVLD_LEARN\nV. 6.4\nCheck ~= 0\nCheck ~= 0\nOR\nNOT\nNOT\nV. 6.0\n3\nLEARN\nV. 6.4\nV. 6.0\nV. 6.0\nV. 6.0\nV. 6.0\n0\nV. 6.4\nC_TCO_THD_FAC_AFU_VLD_LEARN\nV. 6.4\nC_MFF_SUM_REFU_MAX\nV. 6.4\nC_MFF_SUM_REFU_LEARN_DEAC\nV. 6.4\nC_MFF_SUM_REFU_MIN\nV. 6.4\nAND\n12\nLV_VS_GRD_INT_AFU\n11\nLV_TQ_N_FAC_AFU_LAMB_VLD\n10\nLV_FAC_AFU_LAMB_LDC\n9\nLV_FAC_AFU_LAMB_OIL\n8\nIDX_EX_CBK_LAMB\n7\nLV_FAC_AFU_RATIO_ERU_VLD\n6\nLV_ST_END\n5\nFAC_AFU_RATIO_LAMB_VLD\n4\nTCO\n3\nMFF_SUM_REFU\n2\nLV_FAC_AFU_RATIO_LAMB_VLD\n1\nLV_LAM_LSCL\nFigure 4.14.16:\nFile: 3090B103.00C\n1421Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1232, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "09078daf-58a2-4075-a271-3ac778c710b9": {"__data__": {"id_": "09078daf-58a2-4075-a271-3ac778c710b9", "embedding": null, "metadata": {"page_label": "134", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8683a401-a54a-4ba0-be90-53d790d0e4a5", "node_type": "4", "metadata": {"page_label": "134", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "91d3871ec45dae3bc0039b451d015b70f4a69aa245de899e3ab22897a9c6d475", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n4.14.2.7.5 From VLD_LEARN\n4.14.2.7.5.1 Transition from state ?VLD_LEARN?\n1\nSTATE_ALFU_CTL\nC\n0\n[..]\n[LV_FAC_AFU_RATIO_VLD]\n[TCO]\n[MFF_SUM_REFU]\n[LV_FAC_AFU_RATIO_VLD]\n[TCO]\n[MFF_SUM_REFU]\n[LV_FAC_AFU_RATIO_VLD]\n1\nWAIT\nV. 6.4\n4\nVLD_LEARN\nV. 6.4\n5\nVALIDATION\nV. 6.4\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nOR\nNOT\nNOT\nNOT\nNOT\nNOT\nNOT\nV. 6.0\nV. 6.0\n0\nFINISHED\nV. 6.4\nC_TCO_THD_FAC_AFU_VLD_LEARN\nV. 6.4\nC_MFF_SUM_REFU_MAX\nV. 6.4\nAND11\nLV_TQ_N_FAC_AFU_ER_VLD\n10\nLV_TQ_N_FAC_AFU_LAMB_VLD\n9\nLV_FAC_AFU_LAMB_LDC\n8\nLV_FAC_AFU_LAMB_OIL\n7\nIDX_EX_CBK_LAMB\n6\nLV_ST_END\n5\nLV_FAC_AFU_RATIO_LAMB_VLD\n4\nLV_LAM_LSCL\n3\nTCO\n2\nMFF_SUM_REFU\n1\nLV_FAC_AFU_RATIO_VLD\nFigure 4.14.17:\n4.14.2.7.6 From Validation\n4.14.2.7.6.1 Transition from state ?VALIDATION?\n1\nSTATE_ALFU_CTL\nC\n0\n[..]\n[TCO]\n[MFF_SUM_REFU]\n[TCO]\n[MFF_SUM_REFU]\n1\nWAIT\nV. 6.4\n5\nVALIDATION\nV. 6.4\nCheck ~= 0\nCheck ~= 0\nOR\nNOT\nNOT\nNOT\nNOT\nNOT\nV. 6.0\nV. 6.0\n0\nFINISHED\nV. 6.4\nC_TCO_THD_FAC_AFU_VLD_LEARN\nV. 6.4\nC_MFF_SUM_REFU_MAX\nV. 6.4\n9\nLV_FAC_AFU_LAMB_LDC\n8\nLV_TQ_N_FAC_AFU_ER_VLD\n7\nLV_FAC_AFU_LAMB_OIL\n6\nIDX_EX_CBK_LAMB\n5\nLV_ST_END\n4\nLV_LAM_LSCL\n3\nTCO\n2\nMFF_SUM_REFU\n1\nLV_FAC_AFU_RATIO_VLD\nFigure 4.14.18:\nFile: 3090B103.00C\n1422Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1700, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1cc14252-1f90-4061-8e18-6a963eeb17f4": {"__data__": {"id_": "1cc14252-1f90-4061-8e18-6a963eeb17f4", "embedding": null, "metadata": {"page_label": "135", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f1890444-edf2-4c37-8a1c-0ff05281da1b", "node_type": "4", "metadata": {"page_label": "135", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "23efd3efb283d170d8dbd1b58688af0550f393c92d2f3efafd70842a400c2d48", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Alternative fuel ratio determination (Appl. Inc.)\n4.14.3 Calculation at 1S\n4.14.3.1 Mixing of fuel inside tank suf?cient\n2\nLV_VS_GRD_INT_AFU_out\n1\nVS_GRD_INT_AFU_out\nCheck ~= 0\n+\n+\nV. 6.7\nOR\nNOT\n1\nV. 6.0\n1\nV. 6.4\nLC_FAC_AFU_LAMB_EXT_REQ_VS_ENA\nV. 6.4\nC_VS_GRD_INT_AFU\nV. 6.4\nV. 6.5\nAND\nActionImport\nPRM_FID\nPRM_LV_PRMS\nACTION_FARM_GetPermission\n6\nNC_FID_ERR_VS_AFU_AI\n5\nLV_VS_GRD_INT_AFU_in\n4\nVS_GRD_INT_AFU_in\n3\nACTION_FARM_GetPermission_T3\n2\nLV_FAC_AFU_RATIO_EXT_REQ\n1\nVS_GRD\nFigure 4.14.19:\nFile: 3090B103.00C\n1423Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1007, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "42db3c37-a2a0-44db-bdf7-f85e77397caa": {"__data__": {"id_": "42db3c37-a2a0-44db-bdf7-f85e77397caa", "embedding": null, "metadata": {"page_label": "136", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4e20cd5b-7371-437b-b0d8-92289466b306", "node_type": "4", "metadata": {"page_label": "136", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c65362b8f2f9e9e38a03c00da36f52c6dbe2a5c0b87ba9787eb0813be7cea59f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15 Default start strategy\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nCTR_CYC_DFT_ST O/V/S 0... FFH 0... 255 1 -\nEngine start cycle counter for the default start\nCTR_CYC_ST V 0... FFH 0... 255 1 -\nEngine start cycle counter\nCTR_DFT_ST O/V/S 0... FFFFH 0... 65535 1 -\nNumber of starts with active default start values\nCTR_ST_ES_AFU O/V/S 0... FFH 0... 255 1 -\nFault start counter\nFAC_AFU_RATIO_DFT_ST O/V 0... 80H 0 ...1 0.0078125 -\nContent of alternative fuel for the default start strategy\nFAC_AFU_RATIO_DFT_ST_MAX V 0... 80H 0 ...1 0.0078125 -\nMaximum value for the content of alternative fuel for the default start strategy\nFAC_AFU_RATIO_DFT_ST_MIN V 0... 80H 0 ...1 0.0078125 -\nMinimum value for the content of alternative fuel for the default start strategy\nFAC_DFT_ST V 0... 80H 0 ...1 0.0078125 -\nFactor for the default start calculation\nLV_CTR_DFT_ST_INC V 0... 1H 0 ...1 1 -\nFlag to request a incremented CTR_DFT_ST\nLV_FAC_AFU_RATIO_DFT_ST_ACT O/V 0... 1H 0 ...1 1 -\nFlag indicating that the default start values are active\nLV_FAC_AFU_RATIO_DFT_ST_REQ O/V/S 0... 1H 0 ...1 1 -\nFlag indicating that the default start strategy is requested\nLV_ST_ES_AFU O/V 0... 1H 0 ...1 1 -\nFlag indicating that the engine showed a faulty start\nLV_ST_VLD_AFU O/V/S 0... 1H 0 ...1 1 -\nFlag indicating that the last engine start was OK from ALFU perspecitve\nMAF_DFT_ST V 0... FFFFH 0... 1389 0.02119478 mg/stk\nFiltered MAF for default start request detection\nN_DFT_ST V 0... 1FE0H 0... 8160 1 rpm\nFiltered engine speed for default start detection\nT_AST_CTR_CYC_DFT_ST_RST V 0... FFFFH 0... 6553.5 0.1 s\nTime after start to reset default start cycle counter\nT_AST_DFT_ST_REQ_RST V 0... FFFFH 0... 6553.5 0.1 s\nTime after start to reset default start request\n\ufffd Input Data\nCTR_FUEL_OIL\n{p. 23170}\nFAC_AFU_RATIO_DET\n{p. 1396}\nFAC_AFU_RATIO_FTL_MAX\n{p. 1369}\nFAC_AFU_RATIO_FTL_MIN\n{p. 1369}\nFAC_AFU_RATIO_LAMB_VLD\n{p. 1350}\nLV_ES\n{p. 7530}\nLV_FAC_AFU_RATIO_DFT_ST_\nACT_RST\n{p. 1396}\nLV_FAC_AFU_RATIO_ERU_ACT\n{p. 1319}\nFile: 3090BE04.00B\n1424Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2568, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3aa7014e-643c-43ed-8dde-5122bec9d245": {"__data__": {"id_": "3aa7014e-643c-43ed-8dde-5122bec9d245", "embedding": null, "metadata": {"page_label": "137", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9b238fef-eb11-4f8a-bca3-648716683e3b", "node_type": "4", "metadata": {"page_label": "137", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "e3cbfc59b76a4c2a38cad42650efc095986b5ba41852d54bcc2114c686c6a531", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\nLV_FAC_AFU_RATIO_ERU_VLD\n{p. 1319}\nLV_FAC_AFU_RATIO_LAMB_\nACT\n{p. 1350}\nLV_FTL_EOL_END\n{p. 1389}\nLV_IGK\n{p. 24082}\nLV_PUC\n{p. 7530}\nLV_ST\n{p. 7530}\nLV_STST_STOP_CYC\n{p. 8458}\nMAF\n{p. 3012}\nN\n{p. 8079}\nSTATE_ALFU_CTL\n{p. 1405}\nT_AST\n{p. 8436}\nTCO\n{p. 8846}\nTOIL\n{p. 7287}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_CRLC_MAF_DFT_ST_DEC V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nFilter constant for MAF_DFT_ST for decreasing MAF\nC_CRLC_MAF_DFT_ST_INC V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nFilter constant for MAF_DFT_ST for increasing MAF\nC_CRLC_N_DFT_ST V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nFilter constant for N_DFT_ST\nC_CTR_FUEL_MIN_DFT_ST_REQ V 0... FFH 0... 255 1 -\nMinimum CTR_FUEL oil to detect a default start request\nC_CTR_ST_ES_MIN_DFT_ST_REQ V 0... FFH 0... 255 1 -\nNumber of fault starts to request the default start strategy\nC_FAC_CTR_CYC_DFT_ST_RST V 0... FFH 0... 255 1 -\nNumber of different phases during default start\nC_N_MIN_CTR_DFT_ST_INC V 0... 1FE0H 0... 8160 1 rpm\nMinimum engine speed to increment default start cycle counter\nC_NR_CTR_CYC_ST_MIN_ST_ES V 0... FFH 0... 255 1 -\nMinimum number of cycles in start to detect a fault start\nC_TOIL_MAX_DFT_ST_REQ V 0... C8H -40 ...160 1 \ufffdC\nTOIL top limit for default start request detection\nC_TOIL_MIN_DFT_ST_REQ V 0... C8H -40 ...160 1 \ufffdC\nTOIL bottom limit for default start request detection\nID_CTR_CYC_DFT_ST_RST V 0... FFH 0... 255 1 -\nLDPM_TCO_1_ALFU 8 0... FEH -48... 142.5 0.75 \ufffdC\nCTR_CYC_DFT_ST threshold for reset of CTR_CYC_DFT_ST\nID_FAC_DFT_ST V 0... 80H 0 ...2 0.015625 -\nLDP_CTR_CYC_DFT_ST 24 0... FFH 0... 255 1 -\nLDPM_TCO_1_ALFU 8 0... FEH -48... 142.5 0.75 \ufffdC\nFactor for the calculation of FAC_AFU_RATIO_DFT_ST\nIP_FAC_AFU_RATIO_MAX_OFS V 0... FFH -1... 0.9921875 0.0078125 -\nLDPM_TCO_1_ALFU 8 0... FEH -48... 142.5 0.75 \ufffdC\nOffset on FAC_AFU_RATIO_MAX_FTL for the FAC_AFU_RATIO_MAX_DFT_ST calculation\nIP_FAC_AFU_RATIO_MIN_OFS V 0... FFH -1... 0.9921875 0.0078125 -\nLDPM_TCO_1_ALFU 8 0... FEH -48... 142.5 0.75 \ufffdC\nFile: 3090BE04.00B\n1425Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2580, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c2b52fef-964c-41a6-ba13-11810d0ab6a7": {"__data__": {"id_": "c2b52fef-964c-41a6-ba13-11810d0ab6a7", "embedding": null, "metadata": {"page_label": "138", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d347ae49-d37f-4e0d-b282-429d0b960423", "node_type": "4", "metadata": {"page_label": "138", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c59890ec42d1f94535f69cffd53d2e55d640d27c0cd6b3304e9fae4b9fedf705", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\nName Mode Coded Limits Display Limits Resolution Unit\nOffset on FAC_AFU_RATIO_MIN_FTL for the FAC_AFU_RATIO_MIN_DFT_ST calculation\nIP_MAF_DFT_ST_MIN V 0... FFFFH 0... 1389 0.02119478 mg/stk\nLDP_N_DFT_ST_IP_MAF_DFT_ST_MIN 4 0... 1FE0H 0... 8160 1 rpm\nLDPM_CTR_FUEL_OIL_1_ALFU 6 0... FFH 0... 255 1 -\nMAF threshold for default start request detection\nIP_T_AST_CTR_CYC_DFT_ST_RST V 0... FFH 0... 255 1 s\nLDPM_TCO_1_ALFU 8 0... FEH -48... 142.5 0.75 \ufffdC\nTime after start to reset default start cycle counter\nIP_T_AST_DFT_ST_REQ_RST V 0... FFH 0... 255 1 s\nLDPM_TCO_1_ALFU 8 0... FEH -48... 142.5 0.75 \ufffdC\nTime after start to reset the default start request\nLC_CTR_DFT_ST_RST V 0... 1H 0 ...1 1 -\nLogical calibration to reset CTR_DFT_ST\nLC_FAC_AFU_RATIO_DFT_ST_ENA V 0... 1H 0 ...1 1 -\nLogical calibration to enable the default start strategy\n\ufffd General Information\n\ufffd Signal ?ow diagram:\nFile: 3090BE04.00B\n1426Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1416, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f239b058-9a6d-4b1e-a9eb-60bf42a11a89": {"__data__": {"id_": "f239b058-9a6d-4b1e-a9eb-60bf42a11a89", "embedding": null, "metadata": {"page_label": "139", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "bba39b07-b5ec-454a-ba62-e94b623fd238", "node_type": "4", "metadata": {"page_label": "139", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "cfd45415f4ff363431aec23da864adc0b031757a90805a457ba39888ed96b945", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "97c24c45-06b5-490f-8498-ba7404e94c8c", "node_type": "1", "metadata": {}, "hash": "5f721872be682a7e5b4b85be3a9b62e6b449cf5a761f46142232b71a8fbd5392", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\nSDA_SRS / SDA V 5.3.2 / 12?Jun?2008\n8\nLV_ST_VLD_AFU\n7\nLV_ST_ES_AFU\n6\nLV_FAC_AFU_RATIO_DFT_ST_REQ\n5\nLV_FAC_AFU_RATIO_DFT_ST_ACT\n4\nFAC_AFU_RATIO_DFT_ST\n3\nCTR_ST_ES_AFU\n2\nCTR_DFT_ST\n1\nCTR_CYC_DFT_ST\n18\nT_AST\n17\nTOIL\n16\nTCO\nCTR_CYC_DFT_ST:  O V S \nCTR_CYC_ST:    V   \nCTR_DFT_ST:  O V S \nCTR_ST_ES_AFU:  O V S \nFAC_AFU_RATIO_DFT_ST:  O V   \nFAC_AFU_RATIO_DFT_ST_MAX:    V   \nFAC_AFU_RATIO_DFT_ST_MIN:    V   \nFAC_DFT_ST:    V   \nLV_CTR_DFT_ST_INC:    V   \nLV_FAC_AFU_RATIO_DFT_ST_ACT:  O V   \nLV_FAC_AFU_RATIO_DFT_ST_REQ:  O V S \nLV_ST_ES_AFU:  O V   \nLV_ST_VLD_AFU:  O V S \nMAF_DFT_ST:    V   \nN_DFT_ST:    V   \nT_AST_CTR_CYC_DFT_ST_RST:    V   \nT_AST_DFT_ST_REQ_RST:    V   \nV. 6.3\n9\nSTATE_ALFU_CTL\nfc_SEG\ninput\nfeedback\nopm_seg\nOPM_SEG\nX.5\nfc_EXITST\ninput\nopm_esitst\nOPM_EXITST\nX.4\nfc_ES2ERU\nfeedback\ninput\ndft_st\nOPM_ES2ERU\nX.2\nfc_ERU2ES\ninput\nfeedback\nclc_eru2es\nOPM_ERU2ES\nX.3\nfc_1S\ninput\nfeedback\nopm_1s\nOPM_1S\nX.6\nfc_RST\nfc_100MS\nfc_NVMINI\nfc_NVMRES\nfc_NVMSTO\ninput\nfeedback\nopm_100ms\nOPM_100MS\nX.1\n15\nN\n14\nMAF\n21\nLV_STST_STOP_CYC\n13\nLV_ST\n12\nLV_PUC\n19\nLV_IGK\n10\nLV_FTL_EOL_END\n6\nLV_FAC_AFU_RATIO_LAMB_ACT\n8\nLV_FAC_AFU_RATIO_ERU_VLD\n7\nLV_FAC_AFU_RATIO_ERU_ACT\n1\nLV_FAC_AFU_RATIO_DFT_ST_ACT_RST\n20\nLV_ES\nALFU_REQCODFTST0__1S\nV. 5.7\nALFU_REQCODFTST0__SEG\nV. 5.7\nALFU_REQCODFTST0__EXITST\nV. 5.7\nALFU_REQCODFTST0__ERU2ES\nV. 5.7\nALFU_REQCODFTST0__ES2ERU\nV. 5.7\nALFU_REQCODFTST0__NVMSTO\nV. 5.7\nALFU_REQCODFTST0__NVMRES\nV. 5.7\nALFU_REQCODFTST0__NVMINI\nV. 5.7\nALFU_REQCODFTST0__100MS\nV. 5.7\nALFU_REQCODFTST0__RST\nV.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1918, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "97c24c45-06b5-490f-8498-ba7404e94c8c": {"__data__": {"id_": "97c24c45-06b5-490f-8498-ba7404e94c8c", "embedding": null, "metadata": {"page_label": "139", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "bba39b07-b5ec-454a-ba62-e94b623fd238", "node_type": "4", "metadata": {"page_label": "139", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "cfd45415f4ff363431aec23da864adc0b031757a90805a457ba39888ed96b945", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f239b058-9a6d-4b1e-a9eb-60bf42a11a89", "node_type": "1", "metadata": {"page_label": "139", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "784846cb26637c4710491b4fabb64f64d56349ca2cf9490bd27d4ce6ce4e25dc", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "5.7\nALFU_REQCODFTST0__NVMSTO\nV. 5.7\nALFU_REQCODFTST0__NVMRES\nV. 5.7\nALFU_REQCODFTST0__NVMINI\nV. 5.7\nALFU_REQCODFTST0__100MS\nV. 5.7\nALFU_REQCODFTST0__RST\nV. 5.7\n5\nFAC_AFU_RATIO_LAMB_VLD\n4\nFAC_AFU_RATIO_FTL_MIN\n3\nFAC_AFU_RATIO_FTL_MAX\n2\nFAC_AFU_RATIO_DET\n11\nCTR_FUEL_OIL\nFigure 4.15.1:\n4.15.1 Calculation at 100MS\n\ufffd General Information\n\ufffd Application Conditions\nInitialization: RST, NVMINI, NVMRES, NVMSTO\nRecurrence: 100MS\nActivation: LV_IGK == 1\nDeactivation: LV_IGK == 0\n\ufffd Function Description\nFile: 3090BE04.00B\n1427Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 1763, "end_char_idx": 2386, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "86307b8c-2697-49cb-ae22-18f18688aca4": {"__data__": {"id_": "86307b8c-2697-49cb-ae22-18f18688aca4", "embedding": null, "metadata": {"page_label": "140", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "63b8f32a-a243-4932-b763-8364c3f43562", "node_type": "4", "metadata": {"page_label": "140", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "e05961d5527c66699062f0a42d911d8ad03dc7d0718f12aa5bed7b8ac1dbdc17", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n1\nopm_100ms\nfc()MAF\nLV_FAC_AFU_RATIO_LAMB_ACT\nCTR_FUEL_OIL\nSTATE_ALFU_CTL\nLV_FAC_AFU_RATIO_ERU_ACT\nTOIL\nLV_PUC\nT_AST\nN\nLV_FTL_EOL_END\nLV_FAC_AFU_RATIO_ERU_VLD\nFAC_AFU_RATIO_LAMB_VLD\nLV_FAC_AFU_RATIO_DFT_ST_ACT_RST\nCTR_ST_ES_AFU_in\nCTR_ST_ES_AFU\nLV_FAC_AFU_RATIO_DFT_ST_REQ_in\nMAF_DFT_ST_in\nCTR_CYC_DFT_ST_in\nLV_FAC_AFU_RATIO_DFT_ST_ACT_in\nN_DFT_ST_in\nT_AST_CTR_CYC_DFT_ST_RST\nT_AST_DFT_ST_REQ_RST\nMAF_DFT_ST_out\nLV_FAC_AFU_RATIO_DFT_ST_REQ_out\nN_DFT_ST_out\nCTR_CYC_DFT_ST_out\nLV_FAC_AFU_RATIO_DFT_ST_ACT_out\nCTR_ST_ES_AFU_out\nOPM\nX.1.2\nfc_INI\nfeedback\nini\nINI\nX.1.1\nBusMerge\nV. 5.35\nfc_RST\nfc_NVMINI\nfc_NVMRES\nfc_NVMSTO\nfc_100MS\nLV_IGK\nfc_INI\nfc_OPM__100MS\nRecurrence:        100MS\nInit:             RST\n            NVMINI\n            NVMRES\n            NVMSTO\nActivation:\nLV_IGK==1\nDeactivation:\nLV_IGK==0\nAPP_CDN\nV. 7.2\n7\nfeedback\n6\ninput\n5\nfc_NVMSTO\n4\nfc_NVMRES\n3\nfc_NVMINI\n2\nfc_100MS\n1\nfc_RST\n<T_AST_DFT_ST_REQ_RST>\n<T_AST_CTR_CYC_DFT_ST_RST>\nopm_100ms\n<CTR_ST_ES_AFU>\n<CTR_ST_ES_AFU>\n<N_DFT_ST>\nCTR_ST_ES_AFU\n<LV_IGK>\n<LV_FAC_AFU_RATIO_DFT_ST_ACT>\n<LV_FAC_AFU_RATIO_DFT_ST_ACT_RST>\nLV_FAC_AFU_RATIO_DFT_ST_ACT\n<CTR_CYC_DFT_ST>\n<MAF_DFT_ST>\n<LV_FAC_AFU_RATIO_DFT_ST_REQ>\n<FAC_AFU_RATIO_LAMB_VLD>\n<LV_FAC_AFU_RATIO_ERU_VLD>\n<LV_FTL_EOL_END>\n<N>\n<T_AST>\n<LV_PUC>\n<TOIL>\n<LV_FAC_AFU_RATIO_ERU_ACT>\n<STATE_ALFU_CTL>\n<CTR_FUEL_OIL>\n<LV_FAC_AFU_RATIO_LAMB_ACT>\n<MAF>\nCTR_CYC_DFT_ST\nN_DFT_ST\nLV_FAC_AFU_RATIO_DFT_ST_REQ\nMAF_DFT_ST\nFigure 4.15.2:\nFile: 3090BE04.00B\n1428Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1979, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0c0cbff6-6efe-44f7-8374-ecd222e0fa27": {"__data__": {"id_": "0c0cbff6-6efe-44f7-8374-ecd222e0fa27", "embedding": null, "metadata": {"page_label": "141", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fd9303c5-e7c6-4b22-a67e-d525db90b779", "node_type": "4", "metadata": {"page_label": "141", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "63a5ac356c26ecb45b9951194c2604204886c58f8866bcd3faf4a3ad0939af37", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.1.1 Initialisation\n4.15.1.1.1 Reset\n1\nrst\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\nf()\nT_AST_DFT_ST_REQ_RST\nT_AST_CTR_CYC_DFT_ST_RST\nLV_FAC_AFU_RATIO_DFT_ST_ACT\nFAC_AFU_RATIO_DFT_ST_MAX\nFAC_AFU_RATIO_DFT_ST_MIN\nFAC_AFU_RATIO_DFT_ST\nCTR_CYC_ST\nFAC_DFT_ST\nLV_ST_ES_AFU\nMAF_DFT_ST\nLV_CTR_DFT_ST_INC\nN_DFT_ST\nrst\nFigure 4.15.3:\n4.15.1.1.2 Initialisation of non volatile memory\n4.15.1.1.3 Read non volatile memory\n4.15.1.1.4 Store non valotile memory\nFile: 3090BE04.00B\n1429Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1054, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2ca049dd-1fa0-4792-94ec-71ff7df2f6fc": {"__data__": {"id_": "2ca049dd-1fa0-4792-94ec-71ff7df2f6fc", "embedding": null, "metadata": {"page_label": "142", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6f95b64f-1431-4fc1-8a53-41be3616fb97", "node_type": "4", "metadata": {"page_label": "142", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "b684c1a164077159d66307011f914369670cf06f942e87b0d8ff6b7bbab0a3df", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.1.2 Default-Start-Request-Detection\n4.15.1.2.1 Determination of default start MAF\n2\nN_DFT_ST_out\n1\nMAF_DFT_ST_out\n[MAF]\n[MAF]\n[MAF]\n[MAF]\nCheck ~= 0\n+\n+\nV. 6.7\n+\n?\nV. 6.7\n+\n+\nV. 6.7\n+\n?\nV. 6.7\n+\n+\nV. 6.7\n+\n?\nV. 6.7\nV. 6.7\nV. 6.7\nV. 6.7\nV. 6.0\nC_CRLC_MAF_DFT_ST_INC\nV. 6.4\nC_CRLC_MAF_DFT_ST_DEC\nV. 6.4\nC_CRLC_N_DFT_ST\nV. 6.4\n4\nN_DFT_ST_in\n3\nN\n2\nMAF_DFT_ST_in\n1\nMAF\nFigure 4.15.4:\nFile: 3090BE04.00B\n1430Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 920, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b1fd3291-f3aa-47c6-9da4-38a757fb467f": {"__data__": {"id_": "b1fd3291-f3aa-47c6-9da4-38a757fb467f", "embedding": null, "metadata": {"page_label": "143", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "45c0a2d5-728e-47a5-8fed-bf9f6351f6ef", "node_type": "4", "metadata": {"page_label": "143", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "4a3c1e3314e57a789870d509a61539e5bb65328381b21087478dc8f0e7cbc40f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.1.2.2 Logical switch for default start request\n1\nLV_FAC_AFU_RATIO_DFT_ST_REQ_out\nx_val\ny_val\nIP_val\nIP_MAF_DFT_ST_MIN\nV. 6.4\nx_val\ny_val\nIP_val\nIP_MAF_DFT_ST_MIN\nV. 6.4\n[MAF_DFT_ST]\n[N_DFT_ST]\n[TOIL]\n[CTR_FUEL_OIL]\n[clc_1]\n[CTR_FUEL_OIL]\n[N_DFT_ST]\n[clc_1]\n[CTR_FUEL_OIL]\n[N_DFT_ST]\n[TOIL]\n[MAF_DFT_ST]\n[MAF_DFT_ST]\n[CTR_FUEL_OIL]\n[clc_1]\nCheck ~= 0\nCheck ~= 0\nD:1 \nD:1 \nOROR\nOR\nOR\nOR\nNOT\nV. 6.0\n3\nLEARN\nV. 6.4\n[MX;MN]\nV. 6.1\nMX\nMN\nu\ny\nV. 6.0\nV. 6.0\nV. 6.0\nV. 6.0\nV. 6.0\nV. 6.0\n0\nV. 6.4\nC_CTR_ST_ES_MIN_DFT_ST_REQ\nV. 6.4\nC_TOIL_MAX_DFT_ST_REQ\nV. 6.4\nC_TOIL_MIN_DFT_ST_REQ\nV. 6.4\nC_CTR_FUEL_MIN_DFT_ST_REQ\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\n2\nCHG\nV. 6.4\nAND\nAND\nAND\nAND\n13\nFAC_AFU_RATIO_LAMB_VLD\n12\nLV_FAC_AFU_RATIO_ERU_VLD\n11\nLV_FTL_EOL_END\n10\nLV_PUC\n9\nLV_FAC_AFU_RATIO_ERU_ACT\n8\nLV_FAC_AFU_RATIO_DFT_ST_REQ_in\n7\nCTR_ST_ES_AFU\n6\nTOIL\n5\nSTATE_ALFU_CTL\n4\nCTR_FUEL_OIL\n3\nLV_FAC_AFU_RATIO_LAMB_ACT\n2\nN_DFT_ST\n1\nMAF_DFT_ST\nFigure 4.15.5:\nFile: 3090BE04.00B\n1431Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1464, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1fad2415-add6-4504-b864-e2854582256e": {"__data__": {"id_": "1fad2415-add6-4504-b864-e2854582256e", "embedding": null, "metadata": {"page_label": "144", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3685f819-abc6-4585-9a35-b3c0a23f94d5", "node_type": "4", "metadata": {"page_label": "144", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "0ea041ad7f254337c2c374f25d24b1cd7d1ffb1ffce92d2d1db790ed12b56110", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.1.2.3 Reset engine start cycle counter for default start\n4\nLV_FAC_AFU_RATIO_DFT_ST_ACT_out\n3\nCTR_ST_ES_AFU_out\n2\nLV_FAC_AFU_RATIO_DFT_ST_REQ_out\n1\nCTR_CYC_DFT_ST_out\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\nMux\nMux\n1\n1\nV. 6.0\nV. 6.0\nDemux\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n0\nV. 6.4\n8\nT_AST_DFT_ST_REQ_RST\n7\nT_AST_CTR_CYC_DFT_ST_RST\n6\nCTR_ST_ES_AFU_in\n5\nLV_FAC_AFU_RATIO_DFT_ST_ACT_in\n4\nLV_FAC_AFU_RATIO_DFT_ST_ACT_RST\n3\nCTR_CYC_DFT_ST_in\n2\nT_AST\n1\nLV_FAC_AFU_RATIO_DFT_ST_REQ_in\nFigure 4.15.6:\n4.15.2 Additional calculations for default start strategy\n\ufffd General Information\n\ufffd Application Conditions\nInitialization: all outputs to zero at RST\nRecurrence: ES2ERU\nActivation: always\nDeactivation: never\n\ufffd Function Description\n1\ndft_st\nfc()\nLV_FAC_AFU_RATIO_DFT_ST_REQ\nCTR_DFT_ST_in\nLV_FAC_AFU_RATIO_DFT_ST_ACT_in\nTCO\nLV_ST_VLD_AFU\nLV_FAC_AFU_RATIO_DFT_ST_ACT_out\nCTR_DFT_ST_out\nT_AST_CTR_CYC_DFT_ST_RST\nT_AST_DFT_ST_REQ_RST\nOPM\nX.2.2\nfc_ES2ERU fc_OPM__ES2ERU\nRecurrence:        ES2ERU\nActivation:\nalways\nDeactivation:\nnever\nAPP_CDN\nV. 7.2\n3\ninput\n2\nfeedback\n1\nfc_ES2ERU\nT_AST_DFT_ST_REQ_RST\nT_AST_CTR_CYC_DFT_ST_RST\n<TCO>\n<LV_FAC_AFU_RATIO_DFT_ST_ACT>\n<CTR_DFT_ST>\n<LV_FAC_AFU_RATIO_DFT_ST_REQ>\ndft_stCTR_DFT_ST\nLV_FAC_AFU_RATIO_DFT_ST_ACT\nLV_ST_VLD_AFU\nFigure 4.15.7:\nFile: 3090BE04.00B\n1432Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1792, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2f3c7dca-0502-49fc-9a09-f810916d929c": {"__data__": {"id_": "2f3c7dca-0502-49fc-9a09-f810916d929c", "embedding": null, "metadata": {"page_label": "145", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "51d47e60-510f-4b59-a18c-3a0f471be0d1", "node_type": "4", "metadata": {"page_label": "145", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "12f0a1d4d0a72dea7131f4749e653167fb92407c2f3106fdf519966c3e440ccc", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.2.1 Calculation at transition from ?Engine stop? to ?Engine running?\nCalculation done when LV_ES = 1 ??> 0\n5\nT_AST_DFT_ST_REQ_RST\n4\nT_AST_CTR_CYC_DFT_ST_RST\n3\nCTR_DFT_ST_out\n2\nLV_FAC_AFU_RATIO_DFT_ST_ACT_out\n1\nLV_ST_VLD_AFU\nx_val IP_val\nIP_T_AST_DFT_ST_REQ_RST\nV. 6.4\nx_val IP_val\nIP_T_AST_CTR_CYC_DFT_ST_RST\nV. 6.4\nCheck ~= 0\n+\n+\nV. 6.7\nMux\nMux\n1\n1\nDemux\nLC_FAC_AFU_RATIO_DFT_ST_ENA\nV. 6.4\n1\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\nAND\nf()\n4\nTCO\n3\nLV_FAC_AFU_RATIO_DFT_ST_ACT_in\n2\nCTR_DFT_ST_in\n1\nLV_FAC_AFU_RATIO_DFT_ST_REQ\nFigure 4.15.8:\n4.15.3 Calculation at transition from ?engine running? to ?engine stop?\n\ufffd General Information\n\ufffd Application Conditions\nInitialization: all outputs to zero at RST\nRecurrence: ERU2ES\nActivation: always\nDeactivation: never\n\ufffd Function Description\nFile: 3090BE04.00B\n1433Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1310, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "55f614e6-ff5f-49eb-926f-76a5cb221500": {"__data__": {"id_": "55f614e6-ff5f-49eb-926f-76a5cb221500", "embedding": null, "metadata": {"page_label": "146", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6e43a769-c1b0-4ca7-bd6f-37de320a8f21", "node_type": "4", "metadata": {"page_label": "146", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "ab61a0bdbaccad0644815c4a08488b0e9ab6e796d0fd4be70f4bd42b3ab19415", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\nCalculation done when LV_ES = 0 ??> 1\n1\nclc_eru2es\nfc()\ninput\nfeedback\nclc_eru2es\nOPM\nX.3.1\nfc_ERU2ES fc_OPM__ERU2ES\nRecurrence:        ERU2ES\nActivation:\nalways\nDeactivation:\nnever\nAPP_CDN\nV. 7.2\n3\nfeedback\n2\ninput\n1\nfc_ERU2ES\nFigure 4.15.9:\nFile: 3090BE04.00B\n1434Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 779, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "28bf11da-6497-4b25-9940-96b5e3e92d3f": {"__data__": {"id_": "28bf11da-6497-4b25-9940-96b5e3e92d3f", "embedding": null, "metadata": {"page_label": "147", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "06f1a211-05d0-43a2-92d7-ac87b17e7d2e", "node_type": "4", "metadata": {"page_label": "147", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "da733f97e85d0ed023eafaba8816ae27863324c9a5a777232af4fae8515a6414", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.3.1 Calculation overview\n4.15.3.1.1 LV_ST_ES_AFU calculation\n3\nLV_CTR_DFT_ST_INC_out\n2\nCTR_ST_ES_AFU_out\n1\nLV_ST_ES_AFU_out\n[T_AST_CTR_CYC_DFT_ST_RST]\n[TCO]\n[LV_STST_STOP_CYC]\n[LV_IGK]\n[T_AST]\n[LV_ST_VLD_AFU]\n[CTR_ST_ES_AFU_in]\n[LV_ST_ES_AFU_in]\n[LV_CTR_DFT_ST_INC_in]\n[LV_STST_STOP_CYC]\n[LV_IGK]\n[CTR_ST_ES_AFU_in]\n[LV_ST_ES_AFU_in]\n[T_AST]\n[CTR_ST_ES_AFU_in]\n[LV_ST_VLD_AFU]\n[T_AST]\n[LV_CTR_DFT_ST_INC_in]\n[T_AST_CTR_CYC_DFT_ST_RST]\n[LV_STST_STOP_CYC]\n[LV_IGK]\n[LV_ST_VLD_AFU]\n[T_AST]\n[TCO]\n[LV_IGK]\n[LV_ST_VLD_AFU]\n[LV_ST_VLD_AFU]\n[T_AST_CTR_CYC_DFT_ST_RST]\n[LV_CTR_DFT_ST_INC_in]\n[LV_CTR_DFT_ST_INC_in]\nx_val IP_val\nIP_T_AST_CTR_CYC_DFT_ST_RST\nV. 6.4\nCheck ~= 0\nCheck ~= 0\nCheck ~= 0\n+\n+\nV. 6.7\nOR\nOR\nNOT\nNOT\nNOT\nNOT\nMux\nMux\nMux\nV. 6.0\n1\n1\n1\nV. 6.0\nV. 6.0\nV. 6.0\nDemux\n0\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\nC_NR_CTR_CYC_ST_MIN_ST_ES\nV. 6.4\nAND\nAND\nAND\nAND\n11\nLV_STST_STOP_CYC\n10\nLV_IGK\n9\nTCO\n8\nT_AST\n7\nT_AST_CTR_CYC_DFT_ST_RST\n6\nLV_FAC_AFU_RATIO_DFT_ST_ACT\n5\nLV_CTR_DFT_ST_INC_in\n4\nLV_ST_ES_AFU_in\n3\nCTR_ST_ES_AFU_in\n2\nCTR_CYC_ST\n1\nLV_ST_VLD_AFU\nFigure 4.15.10:\nFile: 3090BE04.00B\n1435Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1614, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "88e81f27-d1da-4918-9e3c-86774b0083e9": {"__data__": {"id_": "88e81f27-d1da-4918-9e3c-86774b0083e9", "embedding": null, "metadata": {"page_label": "148", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f7c8d9b0-b5d4-47d9-801f-d299f0398431", "node_type": "4", "metadata": {"page_label": "148", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "f05f82222ec4020cfdd77695e1368dbd979c6270ed659d3e39f78e0eb76adfa2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.3.1.2 Default start activation check\n4\nFAC_AFU_RATIO_DFT_ST_out\n3\nFAC_DFT_ST_out\n2\nCTR_CYC_DFT_ST_out\n1\nCTR_CYC_ST_out\n[fc_ELSE]\n[fc_THEN]\n[fc_ELSE]\n[fc_THEN]\nV. 6.0\ncond_if\nif\nelse\nMerge\nMerge\nMerge\nV. 6.0\nfc()\nLV_CTR_DFT_ST_INC\nCTR_CYC_DFT_ST_in\nTCO\nFAC_AFU_RATIO_DFT_ST_MAX\nFAC_AFU_RATIO_DFT_ST_MIN\nFAC_AFU_RATIO_DET\nCTR_CYC_DFT_ST_out\nFAC_DFT_ST\nFAC_AFU_RATIO_DFT_ST\nDFT_ST_ACT\nX.3.1.2.1\n0\nV. 6.4\n0\nV. 6.4\n9\nFAC_AFU_RATIO_DET\n8\nTCO\n7\nFAC_AFU_RATIO_DFT_ST_MIN\n6\nFAC_AFU_RATIO_DFT_ST_MAX\n5\nCTR_CYC_DFT_ST_in\n4\nFAC_AFU_RATIO_DFT_ST_in\n3\nFAC_DFT_ST_in\n2\nLV_FAC_AFU_RATIO_DFT_ST_ACT\n1\nLV_CTR_DFT_ST_INC\nFigure 4.15.11:\n4.15.3.1.2.1 Overview\n4.15.3.1.2.1.1 Default start cycle counter calculation\n1\nCTR_CYC_DFT_ST_out\n[CTR_CYC_DFT_ST_in]\n[CTR_CYC_DFT_ST_in]\n[CTR_CYC_DFT_ST_in]\n[CTR_CYC_DFT_ST_in]\nx_val ID_val\nID_CTR_CYC_DFT_ST_RST\nCheck ~= 0\n+\n+\nV. 6.7\nfor { ... }\nTCO\nCTR_CYC_DFT_ST\nC_FAC_CTR_CYC_DFT_ST_RST\nLV_CLC_INC\nFor_Iterator_Subsystem\nX.3.1.2.1.1\nV. 6.8\n2\nV. 6.4\nC_FAC_CTR_CYC_DFT_ST_RST\nV. 6.4\nAND\n3\nTCO\n2\nCTR_CYC_DFT_ST_in\n1\nLV_CTR_DFT_ST_INC\nFigure 4.15.12:\nFile: 3090BE04.00B\n1436Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1610, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "906a052b-176e-4ff5-93ee-5158a8929d73": {"__data__": {"id_": "906a052b-176e-4ff5-93ee-5158a8929d73", "embedding": null, "metadata": {"page_label": "149", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4000f5db-5e98-4c70-93ec-e3d5e0b415e0", "node_type": "4", "metadata": {"page_label": "149", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "b249bd1d54167c0a6bc081b1c87e7a8371f186d3cd9197dc59be9035025ba0df", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.3.1.2.1.1.1 For loop\n1\nLV_CLC_INC\nC\n0\nu\nsize: [C_FAC_CTR_CYC_DFT_ST_RST]\nx_val ID_val\nID_CTR_CYC_DFT_ST_RST\n+\n+\nV. 6.7\nOR\nV. 6.7\n V. 6.0\nV. 6.0\nFor\nIteratorN 0 : N?1\nFor Iterator\nV. 6.8\n2\nV. 6.4\nAND\n3\nC_FAC_CTR_CYC_DFT_ST_RST\n2\nCTR_CYC_DFT_ST\n1\nTCO\nFigure 4.15.13:\n4.15.3.1.2.1.2 Reset counter\nStop For?Loop when the conditioned gets satisfied\n1\nCTR_CYC_DFT_ST_out\n[CTR_CYC_DFT_ST_in]\n[id_clc]\n[CTR_CYC_DFT_ST_in]\n[id_clc]\n[id_clc]\n[id_clc]\n[CTR_CYC_DFT_ST_in]\nx_val ID_val\nID_CTR_CYC_DFT_ST_RST\nCheck ~= 0\n+\n?\nV. 6.7\nV. 6.7\nV. 6.0\nV. 6.8\n0\nV. 6.4\n2\nV. 6.4\nC_FAC_CTR_CYC_DFT_ST_RST\nV. 6.4\nC_FAC_CTR_CYC_DFT_ST_RST\nV. 6.4\nconst\nctr_in\ntmp_id\nctr_out\nChart\n2\nTCO\n1\nCTR_CYC_DFT_ST_in\nFigure 4.15.14:\nFile: 3090BE04.00B\n1437Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1238, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b2bfe793-7f7b-4348-88ac-783d8bba88d5": {"__data__": {"id_": "b2bfe793-7f7b-4348-88ac-783d8bba88d5", "embedding": null, "metadata": {"page_label": "150", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "659743eb-1c62-4bb8-b33e-146f9bc8230f", "node_type": "4", "metadata": {"page_label": "150", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "bde16613d5c1965e30f2a43220deb0fd3855c2e746959014450e4056af41dc93", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.3.1.2.1.2.1 Chart\n[1]\n{i = i+1;}\n2\n2\n[i < const]\n1\n[ctr_in < i*tmp_id + tmp_id/2]\n{ctr_out = i*tmp_id;}\n1\nFigure 4.15.15:\nFile: 3090BE04.00B\n1438Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 663, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "37445964-51b4-4c7d-888e-6aa32f9ceae8": {"__data__": {"id_": "37445964-51b4-4c7d-888e-6aa32f9ceae8", "embedding": null, "metadata": {"page_label": "151", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3ed5703d-bc0f-43a5-a5f5-d3221d38f7a5", "node_type": "4", "metadata": {"page_label": "151", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "3eff350378f4cd7e0cf67390236b1bc7ab16548cc9672a086bc99bc966cfb765", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.3.1.2.1.3 FAC_AFU_RATIO_DFT_ST determination\n2\nFAC_AFU_RATIO_DFT_ST\n1\nFAC_DFT_ST\n[FAC_DFT_ST]\n[FAC_DFT_ST]\n[FAC_DFT_ST]\n[FAC_DFT_ST]\nx_val\ny_val\nID_val\nID_FAC_DFT_ST V. 6.1\n+\n?\nV. 6.7\n+\n+\n+\nV. 6.7\n+\n?\nV. 6.7\n+\n?\nV. 6.7\n+\n?\nV. 6.7\n+\n?\nV. 6.7\nV. 6.7\nV. 6.7\nV. 6.7\nmin\nV. 6.3\nmin\nV. 6.3\nmin\nV. 6.3\nmax\nV. 6.3\nmax\nV. 6.3\nmax\nV. 6.3\n1\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\n1\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\n1\nV. 6.4\n2\nV. 6.4\nV. 6.5\nV. 6.5\n5\nFAC_AFU_RATIO_DET\n4\nFAC_AFU_RATIO_DFT_ST_MIN\n3\nFAC_AFU_RATIO_DFT_ST_MAX\n2\nTCO\n1\nCTR_CYC_DFT_ST\nFigure 4.15.16:\n4.15.4 Calculation at exit start (transition from ?engine start? to ?IS? or ?PL?)\n\ufffd General Information\n\ufffd Application Conditions\nInitialization: all outputs to zero at RST\nRecurrence: EXITST\nActivation: always\nDeactivation: never\n\ufffd Function Description\nFile: 3090BE04.00B\n1439Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1348, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3c1addd1-0b72-4292-945b-e01079510518": {"__data__": {"id_": "3c1addd1-0b72-4292-945b-e01079510518", "embedding": null, "metadata": {"page_label": "152", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9ce61707-c3b1-410e-a927-9caf22becb89", "node_type": "4", "metadata": {"page_label": "152", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "b8f0d12e8e7424de9a5f1c0125f5be180bc3dc1ccf7bb861d49a67cfea5855f9", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n1\nopm_esitst\nfc()MAF\nN\nopm\nOPM\nX.4.1\nfc_EXITST fc_OPM__EXITST\nRecurrence:        EXITST\nActivation:\nalways\nDeactivation:\nnever\nAPP_CDN\nV. 7.2\n2\ninput\n1\nfc_EXITST\n<N>\n<MAF>\nFigure 4.15.17:\n4.15.4.1 Reset values\nCalculation done when LV_ST_END = 0 ??> 1\n1\nopm\n1\n1\n1\nV. 6.4\nf()\n2\nN\n1\nMAF\nLV_ST_VLD_AFU\nN_DFT_ST\nMAF_DFT_ST opm\nFigure 4.15.18:\n4.15.5 Calculation during start (LV_ST)\n\ufffd General Information\n\ufffd Application Conditions\nInitialization: all outputs to zero at RST, Activation\nRecurrence: SEG\nActivation: LV_ST == 1\nDeactivation: LV_ST == 0\n\ufffd Function Description\nFile: 3090BE04.00B\n1440Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1104, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "bfc1e09a-8450-44fc-b297-c77e0d2e0dff": {"__data__": {"id_": "bfc1e09a-8450-44fc-b297-c77e0d2e0dff", "embedding": null, "metadata": {"page_label": "153", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ad8a5c91-c861-4b75-87b8-782f86313e63", "node_type": "4", "metadata": {"page_label": "153", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "96eecc40138faf9d5d4123e48fd2ef8e155c954b5abc6873b26f5ff745b4cb11", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n1\nopm_seg\nfc()TCO\nN\nFAC_AFU_RATIO_DET\nCTR_CYC_ST_in\nLV_FAC_AFU_RATIO_DFT_ST_REQ\nCTR_CYC_DFT_ST_in\nFAC_AFU_RATIO_DFT_ST_MIN\nFAC_AFU_RATIO_DFT_ST_MAX\nCTR_CYC_ST_out\nCTR_CYC_DFT_ST_out\nFAC_DFT_ST\nFAC_AFU_RATIO_DFT_ST\nOPM\nX.5.2\nactivation\ninput\nclc_act\nCLC_ACT\nX.5.1\nBusMerge\nV. 5.35\nfc_SEG\nLV_ST\nfc_OPM__SEG\nactivation\nRecurrence:        SEG\nActivation:\nLV_ST==1\nDeactivation:\nLV_ST==0\nAPP_CDN\nV. 7.2\n3\nfeedback\n2\ninput\n1\nfc_SEG\n<FAC_AFU_RATIO_DET>\n<N>\n<TCO>\n<LV_ST>\nopm_seg\n<FAC_AFU_RATIO_DFT_ST_MAX>\n<FAC_AFU_RATIO_DFT_ST_MIN>\n<CTR_CYC_DFT_ST>\n<LV_FAC_AFU_RATIO_DFT_ST_REQ>\n<CTR_CYC_ST>\nFAC_AFU_RATIO_DFT_ST\nFAC_DFT_ST\nCTR_CYC_DFT_ST\nCTR_CYC_ST\nFigure 4.15.19:\n4.15.5.1 Activation condition check\n4.15.5.1.1 Calculation at activation\n2\nFAC_AFU_RATIO_DFT_ST_MAX\n1\nFAC_AFU_RATIO_DFT_ST_MIN\nx_val IP_val\nIP_FAC_AFU_RATIO_MIN_OFS\nV. 6.4\nx_val IP_val\nIP_FAC_AFU_RATIO_MAX_OFS\nV. 6.4\n+\n+\nV. 6.7\n+\n+\nV. 6.7\nmin\nV. 6.3\nmax\nV. 6.3\nf()\n3\nTCO\n2\nFAC_AFU_RATIO_FTL_MAX\n1\nFAC_AFU_RATIO_FTL_MIN\nFigure 4.15.20:\nFile: 3090BE04.00B\n1441Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1531, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8b681000-497d-403a-8d6b-71916fcd4542": {"__data__": {"id_": "8b681000-497d-403a-8d6b-71916fcd4542", "embedding": null, "metadata": {"page_label": "154", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f58d2bde-b1ea-4764-980a-a9c7be8ec366", "node_type": "4", "metadata": {"page_label": "154", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "115aa48c0b509e36f51d6d0476d7e8205b69037de11d52bf811233b2622644db", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.5.2 Formula section\n4\nFAC_AFU_RATIO_DFT_ST\n3\nFAC_DFT_ST\n2\nCTR_CYC_DFT_ST_out\n1\nCTR_CYC_ST_out\n[TCO]\n[TCO]\nV. 6.0\ncond_if\nif\nelse\n+\n+\nV. 6.7 Merge\nMerge\nMerge\nLC_FAC_AFU_RATIO_DFT_ST_ENA\nV. 6.4\n1\nV. 6.4\nfc()\nN\nTCO\nCTR_CYC_DFT_ST_in\nFAC_AFU_RATIO_DFT_ST_MIN\nFAC_AFU_RATIO_DFT_ST_MAX\nFAC_AFU_RATIO_DET\nCTR_CYC_DFT_ST_out\nFAC_DFT_ST\nFAC_AFU_RATIO_DFT_ST\nCLC_THEN\nX.5.2.1\nfc()\nFAC_AFU_RATIO_DET\nCTR_CYC_DFT_ST\nFAC_DFT_ST\nFAC_AFU_RATIO_DFT_ST\nCLC_ELSE\nX.5.2.2\nAND\nf()\n8\nFAC_AFU_RATIO_DFT_ST_MAX\n7\nFAC_AFU_RATIO_DFT_ST_MIN\n6\nCTR_CYC_DFT_ST_in\n5\nLV_FAC_AFU_RATIO_DFT_ST_REQ\n4\nCTR_CYC_ST_in\n3\nFAC_AFU_RATIO_DET\n2\nN\n1\nTCO\nFigure 4.15.21:\nFile: 3090BE04.00B\n1442Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1169, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "87bcb089-066c-4450-8607-2b7d279e293b": {"__data__": {"id_": "87bcb089-066c-4450-8607-2b7d279e293b", "embedding": null, "metadata": {"page_label": "155", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9c522f78-e532-447c-9ec3-26b251185890", "node_type": "4", "metadata": {"page_label": "155", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "85dfca3faef9a88aad1e9108d6df71c976e95f21fe1ed3e3083b15bb42564107", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.5.2.1 FAC_AFU_RATIO at default start\n3\nFAC_AFU_RATIO_DFT_ST\n2\nFAC_DFT_ST\n1\nCTR_CYC_DFT_ST_out\nx_val\ny_val\nID_val\nID_FAC_DFT_ST\n[FAC_AFU_RATIO_DFT_ST_MIN]\n[FAC_AFU_RATIO_DFT_ST_MAX]\n[CTR_CYC_DFT_ST_in]\n[TCO]\n[FAC_DFT_ST]\n[FAC_DFT_ST]\n[CTR_CYC_DFT_ST_in]\n[CTR_CYC_DFT_ST_in]\n[CTR_CYC_DFT_ST_in]\n[TCO]\n[TCO]\n[FAC_DFT_ST]\n[FAC_DFT_ST]\n[FAC_AFU_RATIO_DFT_ST_MIN]\n[FAC_AFU_RATIO_DFT_ST_MAX]\nx_val ID_val\nID_CTR_CYC_DFT_ST_RST\nV. 6.1\nCheck ~= 0\nCheck ~= 0\n+\n?\nV. 6.7\n+\n+\n+\nV. 6.7\n+\n?\nV. 6.7\n+\n?\nV. 6.7\n+\n?\nV. 6.7\n+\n?\nV. 6.7\n+\n+\nV. 6.7\nV. 6.7\nV. 6.7\nV. 6.7\nV. 6.7\nmin\nV. 6.3\nmin\nV. 6.3\nmin\nV. 6.3\nmax\nV. 6.3\nmax\nV. 6.3\nmax\nV. 6.3\nV. 6.0\nV. 6.0\n1\n1\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\n2\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\nC_FAC_CTR_CYC_DFT_ST_RST\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\n1\nV. 6.4\n0\nV. 6.4\n1\nV. 6.4\n1\nV. 6.4\nC_N_MIN_CTR_DFT_ST_INC\nV. 6.4\nV. 6.5\nV. 6.5\nf()\n6\nFAC_AFU_RATIO_DET\n5\nFAC_AFU_RATIO_DFT_ST_MAX\n4\nFAC_AFU_RATIO_DFT_ST_MIN\n3\nCTR_CYC_DFT_ST_in\n2\nTCO\n1\nN\nFigure 4.15.22:\nFile: 3090BE04.00B\n1443Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1496, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "bbc0bcd4-e4be-4baf-9bba-5ef8d953206e": {"__data__": {"id_": "bbc0bcd4-e4be-4baf-9bba-5ef8d953206e", "embedding": null, "metadata": {"page_label": "156", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a6a88869-08ee-45cc-b247-161d71ef2224", "node_type": "4", "metadata": {"page_label": "156", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "ae48f676181779b2b43ac5e79875f511ea27029821a66f36bf98300a7f12c443", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.5.2.2 FAC_AFU_RATIO when not in default start\n3\nFAC_AFU_RATIO_DFT_ST\n2\nFAC_DFT_ST\n1\nCTR_CYC_DFT_ST\n1\n0\nV. 6.4\n0\nV. 6.4\nf()\n1\nFAC_AFU_RATIO_DET\nFigure 4.15.23:\n4.15.6 Manual reset of CTR_DFT_ST\n\ufffd General Information\n\ufffd Application Conditions\nInitialization: all outputs to zero at RST\nRecurrence: 1S\nActivation: LV_ES == 1\nDeactivation: LV_ES == 0\n\ufffd Function Description\n1\nopm_1s\nfc()\nCTR_DFT_ST_in CTR_DFT_ST_out\nOPM\nX.6.1\nfc_1S\nLV_ES\nfc_OPM__1S\nRecurrence:        1S\nActivation:\nLV_ES==1\nDeactivation:\nLV_ES==0\nAPP_CDN\nV. 7.2\n3\nfeedback\n2\ninput\n1\nfc_1S\n<CTR_DFT_ST> opm_1sCTR_DFT_ST\n<LV_ES>\nFigure 4.15.24:\nFile: 3090BE04.00B\n1444Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1148, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b1aad192-28d3-4728-9717-bf330d7012e2": {"__data__": {"id_": "b1aad192-28d3-4728-9717-bf330d7012e2", "embedding": null, "metadata": {"page_label": "157", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c056ab19-702a-4aeb-883d-0a5dcb359486", "node_type": "4", "metadata": {"page_label": "157", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "909315be78908d40e3959e7049df95630bbda8864afe41baf2ce03749e5ded40", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Default start strategy\n4.15.6.1 Counter reset\n1\nCTR_DFT_ST_out\nCheck ~= 0\n0\nV. 6.4\nLC_CTR_DFT_ST_RST\nV. 6.4\nf()\n1\nCTR_DFT_ST_in\nFigure 4.15.25:\nFile: 3090BE04.00B\n1445Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 657, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8023937a-88ee-43d8-9dcf-56acde450997": {"__data__": {"id_": "8023937a-88ee-43d8-9dcf-56acde450997", "embedding": null, "metadata": {"page_label": "158", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c868b564-74d2-4171-85e7-d2781a5c9b67", "node_type": "4", "metadata": {"page_label": "158", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "e6badd979cf3041c85b12e9ce77846f6ab911e2ffef717a233da3be073db93e2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\n4.16 Engine roughness based fuel quality adaptation\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nCTR_FQ_ER_VLD V 0... FFFFH 0... 65535 1 -\nCounter of valid updates by the ER based fuel quality adaption\nCTR_SEG_DLY_I V 0... FFH 0... 255 1 -\nDelay segment counter to enable next I part change\nCTR_SEG_DLY_P V 0... FFFFH 0... 65535 1 -\nDelay segment counter to enable next p jump\nER_STD_MAX V 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nMaximum of ER_STD_BAL[NC_CYL_NR]\nER_STD_MAX_FIL V 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nFiltered maximum of ER_STD_BAL[NC_CYL_NR]\nER_STD_MAX_STND V 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nStandard maximum engine roughness\nER_STD_MAX_STND_FIL V 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nFiltered standard maximum engine roughness\nFAC_FQ O/V 0... FFH 0... 1.9921875 0.0078125 -\nFuel Quality factor\nFAC_FQ_ER_AD V 0... FFH 0... 1.9921875 0.0078125 -\nAdaptation factor for fuel quality adaptation by engine roughness\nFAC_FQ_ER_AD_VLD V 0... FFH 0... 1.9921875 0.0078125 -\nValidity factor for ER based fuel quality adaptation\nFAC_FQ_ST_AD_VLD V 0... FFH 0... 1.9921875 0.0078125 -\nValidity factor for ER based fuel quality adaptation\nFAC_FQ_TMP V 0... FFFFH 0...\n1.999969482422\n30.5176e-6 -\nFuel Quality factor temporary\nFAC_I_FQ_ER_AD O/V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nI-part (continuous adaptation) for the adaptation value for fuel quality by engine roughness\nFAC_P_FQ_ER_AD V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nP-part (triggert adaptation) for the adaptation value for fuel quality by engine roughness\nLV_FAC_FQ_END V 0... 1H 0 ...1 1 -\nLogical variable that indicates that the fuel quality adaptation has ended\n\ufffd Input Data\nC_FAC_MFF_MPL_INJ_HOM_\nMIN\n{p. 11428}\nC_FUP_MFF_LOW_PRS_MIN\n{p. 11428}\nEFF_IGA_AV\n{p. 25177}\nER_STD_AFU [NC_CYL_NR]\n{p. 1304}\nFAC_FQ_ST_AD\n{p. 11576}\nFAC_MFF_MPL_INJ_HOM\n[NC_NR_MFF_PLS]\n{p. 11466}\nFUP\n{p. 11886}\nIDX_CMB_MOD_CUR\n{p. 1721}\nLAMB_LS_UP [NC_CBK_EX_NR]\n{p. 2955}\nLAMB_SP_MV\n{p. 23075}\nLC_FAC_MFF_LOW_PRS_ENA\n{p. 11430}\nLV_DRV1_STND_AFU_FDOUT\n{p. 1304}\nFile: AE90EF01.00F\n1446Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2658, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1e4dcb36-bae7-4100-b5d2-ba04cf95f9b0": {"__data__": {"id_": "1e4dcb36-bae7-4100-b5d2-ba04cf95f9b0", "embedding": null, "metadata": {"page_label": "159", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "790d9bf2-115e-4088-9253-213608c90442", "node_type": "4", "metadata": {"page_label": "159", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "4c3228f091a387b402b1dfdd47a6314bf4c76f6fe5483a70b47e94379dcdfe80", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\nLV_ER_STND_ER_AFU_ACT\n{p. 1304}\nLV_FQ_ST_AD\n{p. 11577}\nLV_FQ_ST_AD_OK_1\n{p. 11578}\nLV_LAM_LSCL\n[NC_CBK_EX_NR]\n{p. 22406}\nLV_ST_END\n{p. 7530}\nMAF_STK_FG_PRED\n{p. 13894}\nN\n{p. 8079}\nN_32\n{p. 8079}\nNC_CBK_EX_NR\n{p. 13927}\nNC_CYL_NR\n{p. 1316}\nNC_NR_CMB_ER_STD_STND_\nMPLH\n{p. 1292}\nNC_NR_CMB_MOD\n{p. 1667}\nNC_NR_IV_PLS\n{p. 12909}\nSTATE_ENG\n{p. 7530}\nT_AST\n{p. 8436}\nTCO\n{p. 8846}\nTCO_ST\n{p. 8846}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_CRLC_ER_STD_MAX - 0... FFH 0... 0.99609375 0.00390625 -\nFilter constant for the ?ltering of ER_STD_MAX\nC_CRLC_ER_STD_MAX_STND - 0... FFH 0... 0.99609375 0.00390625 -\nFilter constant for the standard engine roughness\nC_ER_STD_MAX_THD_P - 8000... 7FFFH -325.78 ...325.77 0.00994202 1/s2\nER_STD_MAX threshold to activate a P-jump\nC_FAC_ER_STD_MAX_STND_FIL_FDOUT - 0... FFH 0... 0.99609375 0.00390625 -\nReduction factor for standard maximum engine roughness during FDOUT condition\nC_FAC_FQ_DEC_DEAC V 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nDecrement per 10ms of FQ in case of lambda controller activation\nC_FAC_FQ_DEC_TRA - 0... FFFFH 0...\n1.999969482422\n30.5176e-6 -\nDecrement factor for FAC_FQ determination\nC_FAC_FQ_VLD_SUM_THD_DEAC - 0... FFH 0... 1.9921875 0.0078125 -\nValidity threshold to deactivate the ER based fuel quality adaptation\nC_FAC_I_FQ_ER_AD_MAX - 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nMaximum of I-part\nC_FAC_P_FQ_ER_AD_DEC - 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nDecrement per 100ms of the P-part\nC_FAC_P_FQ_ER_AD_MAX - 0... FFFFH 0...\n0.999984741211\n15.2588e-6 -\nMaximum of I-part\nC_NR_SEG_DLY_I - 0... FFH 0... 255 1 -\nNumber of segments to delay for next I-part calculation\nC_NR_SEG_DLY_P - 0... FFFFH 0... 65535 1 -\nNumber of segments to delay next P-jump\nID_IDX_CMB_ER_STD_STND_MPLH - 0... FFH 0... 255 1 -\nLDP_IDX_CMB_MOD_CUR NC_NR_\nCMB_\nMOD\n0... FFH 0... 255 1 -\nFile: AE90EF01.00F\n1447Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2431, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "89510257-5494-4c59-940c-e14a0787740e": {"__data__": {"id_": "89510257-5494-4c59-940c-e14a0787740e", "embedding": null, "metadata": {"page_label": "160", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "425a5180-5104-44f9-a030-6e8cc20660e7", "node_type": "4", "metadata": {"page_label": "160", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c07cc8ea7ae69688044c102d15e5f5be2f15edb1724246858b8bc1e7fa8eae64", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b64e14ec-7240-48aa-b56e-e6399fda3e41", "node_type": "1", "metadata": {}, "hash": "4abfc6af144892ba3ae2b6147909c461402c2f9be7d86854fab15af4006ad70e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\nName Mode Coded Limits Display Limits Resolution Unit\nAllocation of map number (IP_FAC_CMB_ER_STD_STND_MPLH) to IDX_CMB_MOD_CUR; Deactivation = 255\nIP_ER_STD_IS_STND - 0... FFFFH -325.78 ...325.77 0.0099313 1/s2\nLDP_N_IP_ER_STD_IS_STND 4 0... 1FE0H 0... 8160 1 rpm\nLDP_MAF_STK_FG_PRED_IP_ER_STD 6 0... FFFFH 0... 2778 0.04238956 mg/stk\nStandard maximum engine roughness in idle\nIP_ER_STD_MAX_FIL_INI - 0... 7FFFH 0... 325.77 0.00994201 1/s2\nLDPM_TCO_ST_FQ_1 6 0... FEH -48... 142.5 0.75 \ufffdC\nCalibration map for Initialisation of ER_STD_MAX_FIL\nIP_ER_STD_MAX_STND_FIL_INI - 0... 7FFFH 0... 325.77 0.00994201 1/s2\nLDPM_TCO_ST_FQ_1 6 0... FEH -48... 142.5 0.75 \ufffdC\nCalibration map for Initialisation of ER_STD_MAX_STND_FIL\nIP_ER_STD_PL_STND - 0... FFFFH -325.78 ...325.77 0.0099313 1/s2\nLDPM_N_32_1_ALFU 10 0... FFH 0... 8160 32 rpm\nLDPM_MAF_STK_FG_PRED_1_ALFU 10 0... FFFFH 0... 2778 0.04238956 mg/stk\nStandard maximum engine roughness in part loead\nIP_FAC_AST_ER_STD_STND - 0... FFH 0... 7.96875 0.03125 -\nLDP_TCO_ST_IP_FAC_AST_ER 6 0... FEH -48... 142.5 0.75 \ufffdC\nLDP_T_AST_IP_FAC_AST_ER 5 0... FFFFH 0... 6553.5 0.1 s\nCorrection factor for standard engine roughness after start\nIP_FAC_CMB_ER_STD_STND_MPLH\n[NC_NR_CMB_ER_STD_STND_MPLH]\n- 0... FFH 0... 7.96875 0.03125 -\nLDPM_N_32_1_ALFU 10 0... FFH 0... 8160 32 rpm\nLDPM_MAF_STK_FG_PRED_1_ALFU 10 0... FFFFH 0... 2778 0.04238956 mg/stk\nCorrection of standard maximum engine roughness during CH mode with double injection\nIP_FAC_COR_IGA_ER_STD_STND - 0... FFH 0... 7.96875 0.03125 -\nLDP_EFF_IGA_AV_IP_FAC_COR_ER 6 0... FFFFH 0...\n1.999969482422\n30.5176e-6 -\nLDPM_TCO_IP_FAC_COR_ER_STD_STND 6 0... FEH -48... 142.5 0.75 \ufffdC\nCorrection of standard maximum engine roughness due to spark retard\nIP_FAC_COR_LAMB_ER_STD_STND - 0... FFH 0... 3.984375 0.015625 -\nLDP_LAMB_SP_IP_FAC_COR_ER 5 0... 7FFFH 0...\n31.9990234375\n976.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2292, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b64e14ec-7240-48aa-b56e-e6399fda3e41": {"__data__": {"id_": "b64e14ec-7240-48aa-b56e-e6399fda3e41", "embedding": null, "metadata": {"page_label": "160", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "425a5180-5104-44f9-a030-6e8cc20660e7", "node_type": "4", "metadata": {"page_label": "160", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c07cc8ea7ae69688044c102d15e5f5be2f15edb1724246858b8bc1e7fa8eae64", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "89510257-5494-4c59-940c-e14a0787740e", "node_type": "1", "metadata": {"page_label": "160", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c9c1f3ec73ce468e1b374c572aa54819a130b400fd0fe72132f064ff961678c2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "FEH -48... 142.5 0.75 \ufffdC\nCorrection of standard maximum engine roughness due to spark retard\nIP_FAC_COR_LAMB_ER_STD_STND - 0... FFH 0... 3.984375 0.015625 -\nLDP_LAMB_SP_IP_FAC_COR_ER 5 0... 7FFFH 0...\n31.9990234375\n976.563e-6 -\nLDPM_TCO_IP_FAC_COR_ER_STD_STND 6 0... FEH -48... 142.5 0.75 \ufffdC\nCorrection of standard maximum engine roughness due to combustion lambda\nIP_FAC_FQ_END - 0... FFH 0... 1.9921875 0.0078125 -\nLDP_FAC_FQ_ST_AD_IP_FAC_FQ_END 6 0... FFH 0... 1.9921875 0.0078125 -\nLDP_FAC_FQ_ER_AD_IP_FAC_FQ_END 6 0... FFH 0... 1.9921875 0.0078125 -\nFinal fuel quality adaptation value\nIP_FAC_FQ_ER_AD_VLD - 0... FFH 0... 1.9921875 0.0078125 -\nLDPM_TCO_ST_IP_FAC_FQ_AD_VLD 6 0... FEH -48... 142.5 0.75 \ufffdC\nLDP_CTR_SEG_ER_VLD_IP_FAC_FQ_ER 8 0... FFFFH 0... 65535 1 -\nValidity of the ER based fuel quality adaptation\nIP_FAC_FQ_ST_AD_VLD - 0... FFH 0... 1.9921875 0.0078125 -\nLDPM_TCO_ST_IP_FAC_FQ_AD_VLD 6 0... FEH -48... 142.5 0.75 \ufffdC\nValidity of fuel quality at engine start\nIP_FAC_FQ_T_AST - 0... FFFFH 0... 6553.5 0.1 s\nLDPM_TCO_ST_IP_FAC_FQ_AD_VLD 6 0... FEH -48... 142.5 0.75 \ufffdC\nFile: AE90EF01.00F\n1448Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 2073, "end_char_idx": 3289, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "31a18092-b342-468e-8467-eda627aef868": {"__data__": {"id_": "31a18092-b342-468e-8467-eda627aef868", "embedding": null, "metadata": {"page_label": "161", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9450265b-2c4a-460e-ac04-80bd05450e31", "node_type": "4", "metadata": {"page_label": "161", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "fcd608296209ca9baa9808c23d33fe2a8b63bf7f9f8fc5cb55aadf8fe5a13de7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\nName Mode Coded Limits Display Limits Resolution Unit\nCalibration map for deactivation of fuel quality engine running adaptation dep. time after start\nIP_FAC_I_FQ_ER_AD_INC - 0... FFFFH -1... 0.99996948 30.5176e-6 -\nLDP_ER_STD_DIF_STND_IP_FAC_I 7 0... FFFFH -325.78...\n325.7700579834\n0.00994202 1/s2\nLDPM_TCO_IP_FAC_FQ_ER_AD_INC 5 0... FEH -48... 142.5 0.75 \ufffdC\nI-part speed of the engine roughness based fuel quality adaptation\nIP_FAC_I_FQ_ER_AD_INC_P - 0... FFFFH -1... 0.99996948 30.5176e-6 -\nLDPM_TCO_IP_FAC_FQ_ER_AD_INC 5 0... FEH -48... 142.5 0.75 \ufffdC\nIncrement of I-part in case of a P-jump\nIP_FAC_INI_FQ_ST_AD - 0... FFH 0... 0.99609375 0.00390625 -\nLDPM_TCO_ST_IP_FAC_FQ_AD_VLD 6 0... FEH -48... 142.5 0.75 \ufffdC\nCalibration map to take over the engine start fuel quality value for initialization\nIP_FAC_LOW_PRS_ER_STD_STND V 0... FFH 0... 7.96875 0.03125 -\nLDP_TCO_ST_IP_FAC_LOW_PRS_ER_STD 6 0... FEH -48... 142.5 0.75 \ufffdC\nCorrection of standard maximum engine roughness due to low pressure in rail\nIP_FAC_P_FQ_ER_AD_INC_P - 0... FFFFH -1... 0.99996948 30.5176e-6 -\nLDPM_TCO_IP_FAC_FQ_ER_AD_INC 5 0... FEH -48... 142.5 0.75 \ufffdC\nIncrement of P-part in case of a P-jump\nLC_ENA_DEAC_FQ_ER_LSCL - 0... 1H 0 ...1 1 -\nSwitch to enable deactivation of ER based fuel quality adaptation by activ lambda controller\nLC_FAC_FQ_ENA - 0... 1H 0 ...1 1 -\nLogical calibration to enable the fuel quality adaptation\nLC_FAC_FQ_ER_ENA - 0... 1H 0 ...1 1 -\nLogical calibration to enable the ER based fuel quality adaptation\nLC_FAC_FQ_MV - 0... 1H 0 ...1 1 -\nLogical calibration to switch to weighted mean value calculation of ?nal fuel quality adaptation value\nLC_FAC_FQ_T_AST_SWI - 0... 1H 0 ...1 1 -\nLogical calibration to decide between AND / OR deactivation of fuel quality adaptation time after start\nLC_LAMB_SWI_ER_CLC - 0... 1H 0 ...1 1 -\nLogical calibration to enable the measure lambda in case of active lambda control\n\ufffd General Information\nThis module descripes the engine running adaptation for fuel quality adaptation which means a fuel qulity\nadaptation (FQA) by engine roughness (FQA_ER).\n\ufffd Application Conditions\nInitialisation: RST, ES2ERU, ERU2ES, Activation, Deactivation\nActivation: SEG: LV_ST_END==1&&LV_FQ_ST_AD==0&&LC_FAC_FQ_ER_ENA==1\n100MS: FAC_P_FQ_ER_AD>0\n10MS: LV_FAC_FQ_END==0\nDeactivation: LV_FAC_FQ_END==1\nRecurrence: SEG, 100MS, 10MS\n\ufffd Function Description\nFile: AE90EF01.00F\n1449Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2929, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d11b6b61-ac7a-4851-8029-dc8a34f8ee19": {"__data__": {"id_": "d11b6b61-ac7a-4851-8029-dc8a34f8ee19", "embedding": null, "metadata": {"page_label": "162", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "dc75a6fa-3be7-4054-8c0a-ef9820130c76", "node_type": "4", "metadata": {"page_label": "162", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "a86727a6caa9acc2bb252585bcab5afc5b329e36f95217433cd114a90b0d59a2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\nSDA_SRS / SDA V 7.1.1 / 14?Mar?2014\n<T_AST>\n<TCO_ST>\n<TCO>\nV.6.9\nCTR_FQ_ER_VLD:    V     \nCTR_SEG_DLY_I:    V     \nCTR_SEG_DLY_P:    V     \nER_STD_MAX:    V     \nER_STD_MAX_FIL:    V     \nER_STD_MAX_STND:    V     \nER_STD_MAX_STND_FIL:    V     \nFAC_FQ:  O V     \nFAC_FQ_ER_AD:    V     \nFAC_FQ_ER_AD_VLD:    V     \nFAC_FQ_ST_AD_VLD:    V     \nFAC_FQ_TMP:    V     \nFAC_I_FQ_ER_AD:  O V     \nFAC_P_FQ_ER_AD:    V     \nLV_FAC_FQ_END:    V     \n<STATE_ENG>\nOPM_SEG\nX.2\nfc()\n<input>\n<feedback>\nopm_1\nOPM_10MS\nX.4\nfc()\n<input>\n<feedback>\nopm_3\nOPM_100MS\nX.3\nfc()\n<feedback> opm_2\n<N_32>\n<NC_NR_IV_PLS>\n<NC_NR_CMB_MOD>\n<NC_NR_CMB_ER_STD_STND_MPLH>\n<NC_CYL_NR>\n<NC_CBK_EX_NR >\n<N>\n<MAF_STK_FG_PRED>\n<LV_ST_END>\n<LV_LAM_LSCL>\n<LV_FQ_ST_AD_OK_1>\n<LV_FQ_ST_AD>\n<LV_ER_STND_ER_AFU_ACT>\n<LV_DRV1_STND_AFU_FDOUT>\n<LC_FAC_MFF_LOW_PRS_ENA>\n<LAMB_SP_MV>\n<LAMB_LS_UP>\nINI\nX.1\n<fc_INI>\n<input>\n<feedback>\nini\n<IDX_CMB_MOD_CUR>\nV.5.8\nALFU_REQGNERFQ0__ES2ERU\nV.5.8\nALFU_REQGNERFQ0__ERU2ES\nV.5.8\nALFU_REQGNERFQ0__10MSV.5.8\nALFU_REQGNERFQ0__100MSV.5.8\nALFU_REQGNERFQ0__SEG\nV.5.8\nALFU_REQGNERFQ0__RST\n<FUP>\n<FAC_MFF_MPL_INJ_HOM>\n<FAC_I_FQ_ER_AD>\n<FAC_FQ_ST_AD>\n<FAC_FQ>\n<ER_STD_AFU>\n<EFF_IGA_AV>\nV.6.11\nLC_FAC_FQ_ER_ENA\n<C_FUP_MFF_LOW_PRS_MIN>\n<C_FAC_MFF_MPL_INJ_HOM_MIN>\nAPP_CDN\nV.7.2\nfc_RST\nfc_ES2ERU\nfc_ERU2ES\nfc_SEG\nfc_100MS\nfc_10MS\nLV_ST_END\nLV_FQ_ST_AD\nLC_FAC_FQ_ER_ENA\nLV_FAC_FQ_END\nFAC_P_FQ_ER_AD\nfc_INI\nfc_OPM__SEG\nfc_OPM__100MS\nfc_OPM__10MS\nRecurrence:        SEG\n            100MS\n            10MS\nInit:             RST\n            ES2ERU\n            ERU2ES\nActivation: \nSEG: LV_ST_END==1&&LV_FQ_ST_AD==0&&LC_FAC_FQ_ER_ENA==1\n100MS: FAC_P_FQ_ER_AD>0\n10MS: LV_FAC_FQ_END==0\nDeactivation:\nLV_FAC_FQ_END==1\n<FAC_P_FQ_ER_AD>\n<LV_FAC_FQ_END>\n<LV_FQ_ST_AD>\n<LV_ST_END>\ninput\ninput input\ninput input\ninput\ninput\nFigure 4.16.1:\nFile: AE90EF01.00F\n1450Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2369, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "37146599-e495-4c11-92f9-32e370575d81": {"__data__": {"id_": "37146599-e495-4c11-92f9-32e370575d81", "embedding": null, "metadata": {"page_label": "163", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "dcad79c7-d19e-4cee-9d89-b7afbb370ce0", "node_type": "4", "metadata": {"page_label": "163", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c1d61a613887b6b0d0f8dc763ee39c6f53d477cc670bcc930832fb69c470560b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\n4.16.1 Initializations:\nini\nRST_ES2ERU\nX.1.4\nfc()\n<TCO_ST>\n<ER_STD_MAX_FIL>\n<ER_STD_MAX_STND_FIL>\nRST_ERU2ES\nX.1.1\nfc() <ER_STD_MAX>\n<FAC_FQ_ER_AD>\n<FAC_I_FQ_ER_AD>\n<FAC_P_FQ_ER_AD>\n<CTR_SEG_DLY_P>\n<CTR_SEG_DLY_I>\n<ER_STD_MAX_STND>\n<FAC_FQ>\n<LV_FAC_FQ_END>\n<FAC_FQ_ST_AD_VLD>\n<FAC_FQ_ER_AD_VLD>\n<CTR_FQ_ER_VLD>\n<FAC_FQ_TMP>\nMux\nDEAC_10MS\nX.1.3\nfc()<FAC_FQ_ST_AD>\n<FAC_FQ_ST_AD_VLD>\n<FAC_FQ_ER_AD_VLD>\n<FAC_FQ_ER_AD>\nFAC_FQ\nV.6.6\nBusMerge\nACT_SEG\nX.1.2\nfc()<FAC_FQ_ST_AD>\n<LV_FQ_ST_AD_OK_1>\n<TCO_ST>\n<FAC_FQ_ER_AD>\nFAC_I_FQ_ER_AD\n<FAC_FQ_ST_AD_VLD>\n<feedback>\n<input>\n<fc_INI>\nini\n<fc_ES2ERU>\n<FAC_FQ_ER_AD>\n<FAC_FQ_ER_AD_VLD>\n<FAC_FQ_ST_AD_VLD>\n<fc_10MS_DEAC>\n<fc_SEG_ACT><fc_ERU2ES>\n<fc_RST>\n<TCO_ST>\n<TCO_ST>\n<TCO_ST>\n<LV_FQ_ST_AD_OK_1>\n<FAC_FQ_ST_AD>\n<FAC_FQ_ST_AD>\n<FAC_FQ_ST_AD>\nFigure 4.16.2:\n4.16.1.1 Initialization at reset and at engine running to engine stopped:\nAll values are reset to zero except FAC_FQ_ER_AD, FAC_FQ_ST_AD and FAC_FQ which are initialized to one.\nFile: AE90EF01.00F\n1451Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1537, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "22b8bc0f-f54c-496a-b6ce-ca9239d8a4c5": {"__data__": {"id_": "22b8bc0f-f54c-496a-b6ce-ca9239d8a4c5", "embedding": null, "metadata": {"page_label": "164", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8ad65ae3-fe63-43b3-a979-06ba0b3bd338", "node_type": "4", "metadata": {"page_label": "164", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "f191024e7d71f738e2081a44d3cf187b00c274d34023652cc5aec37b67772734", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\n<FAC_FQ_TMP>\n<CTR_FQ_ER_VLD> <FAC_FQ_ER_AD_VLD>\n<FAC_FQ_ST_AD_VLD> <LV_FAC_FQ_END>\n<FAC_FQ><ER_STD_MAX_STND>\n<CTR_SEG_DLY_I>\n<CTR_SEG_DLY_P>\n<FAC_P_FQ_ER_AD>\n<FAC_I_FQ_ER_AD>\n<FAC_FQ_ER_AD>\n<ER_STD_MAX>\nV.6.11\n0\nV.6.11\n0\nV.6.11\n0\nV.6.11\n0\nV.6.11\n0\nV.6.11\n1\nV.6.11\n1\nV.6.11\n0\nV.6.11\n0\nV.6.11\n0\nV.6.11\n0\nV.6.11\n1\nV.6.11\n0\nf()\nFigure 4.16.3:\n4.16.1.2 Initialization at activation of the segment syncronous task:\nThe fuel quality adaptation by engine roughness starts after the fuel quality adaptation at engine start (FQA_\nST). Therfore it is possblie to take over the value of the FQA_ST in the I-part. Additionaly the validity factor for\nthe FQA_ST is determined.\n<FAC_FQ_ST_AD_VLD>\nFAC_I_FQ_ER_AD\n<FAC_FQ_ER_AD>\nIP_FAC_FQ_ST_AD_VLD\nV.7.11\nx_val IP_val\nIP_FAC_INI_FQ_ST_AD\nV.7.11\nx_val IP_val\nV.6.8\nCheck ~= 0\nV.6.10\nV.7.7\n+\n+\nV.7.7\n+\n?\nV.7.8\nV.6.11\n1\nV.6.11\n1\nV.6.11\n0\nfc\nf()\n<TCO_ST>\n<LV_FQ_ST_AD_OK_1>\n<FAC_FQ_ST_AD>\nFAC_I_FQ_ER_AD\nFigure 4.16.4:\n4.16.1.3 Initialization at deactivation:\nAt deactivation the ?nal fuel quality adaptation value is determined by a weighted mean value calculation with\nthe validity values as the weighting factor.\nFile: AE90EF01.00F\n1452Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1706, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f5982a96-4294-45fb-84e8-349d1873ba0b": {"__data__": {"id_": "f5982a96-4294-45fb-84e8-349d1873ba0b", "embedding": null, "metadata": {"page_label": "165", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "945ce980-9563-4cd4-bafa-dbd62ce15845", "node_type": "4", "metadata": {"page_label": "165", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "608d5fa10bca55d2746b57e1a8f86844ba3f18b20958e615d51d5fe9b1606f2a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\nFAC_FQ\nIP_FAC_FQ_END\nV.7.11\nx_val\ny_val\nIP_val\n<FAC_FQ_ST_AD_VLD>\n<FAC_FQ_ST_AD>\n<FAC_FQ_ER_AD>\n<FAC_FQ_ER_AD_VLD>\nV.6.4\ncond_if\nif\nelse\nV.6.8\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nV.7.7\n+\n+\nV.7.7\n+\n+\nV.7.7\n+\n?\nV.7.7\n+\n?\nV.7.7\n+\n+\nV.7.7\n+\n+\nV.7.8\nV.7.8\nV.7.8\nV.7.8\nMerge\nV.6.6\nV.7.7\nV.6.11\n0\nV.6.11\n1\nV.6.11\n1\nV.6.11\n1V.6.11\n1\nV.6.11\n1\nV.6.11\nLC_FAC_FQ_MV\nV.6.11\n1V.6.11\nLC_FAC_FQ_ENA\nfc\nf()\n<FAC_FQ_ER_AD>\n<FAC_FQ_ER_AD_VLD>\n<FAC_FQ_ST_AD_VLD>\n<FAC_FQ_ST_AD>\nFAC_FQ\nFigure 4.16.5:\n4.16.1.4 Initialisation at ES2ERU:\n<ER_STD_MAX_STND_FIL>\n<ER_STD_MAX_FIL>\nIP_ER_STD_MAX_STND_FIL_INI\nV.7.11\nx_val IP_val\nIP_ER_STD_MAX_FIL_INI\nV.7.11\nx_val IP_val\nf()\n<TCO_ST>\nFigure 4.16.6:\nFile: AE90EF01.00F\n1453Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1231, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5372a83c-13ed-4dea-a9ab-2517d22a0c57": {"__data__": {"id_": "5372a83c-13ed-4dea-a9ab-2517d22a0c57", "embedding": null, "metadata": {"page_label": "166", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "33faf2a3-a3e9-4c58-863c-b1d2eee70693", "node_type": "4", "metadata": {"page_label": "166", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "489ade6e62e1f6bf36ae9029a7d5f4ca639a65c7762191b3deab021368fa9bce", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0ea3ea1d-a2aa-4b22-8645-4e16b22b1eb2", "node_type": "1", "metadata": {}, "hash": "b887bdc34ddef35dd679edccca667304be40e3d328c368559bc6d7032d93ae3b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\n4.16.2 Segment sysncrounous task:\nopm_1\nV.6.8\nV.6.8\nV.6.8\nV.6.8\nV.6.8\nV.6.8\nFAC_FQ_ER_AD_VLD\nX.2.7\n<CTR_FQ_ER_VLD>\n<TCO_ST>\n<FAC_FQ_ER_AD_VLD>\nFAC_FQ_ER_AD\nX.2.6\n<FAC_I_FQ_ER_AD>\n<FAC_P_FQ_ER_AD> <FAC_FQ_ER_AD>\nER_STD_MAX_STND\\Ground3\nER_STD_MAX_STND\\Ground1\nER_STD_MAX_STND\nX.2.4\n<STATE_ENG>\n<N_32>\n<N>\n<MAF_STK_FG_PRED>\n<EFF_IGA_AV>\n<LAMB_SP_MV>\n<TCO_ST>\n<T_AST>\n<TCO>\n<LAMB_LS_UP>\n<LV_LAM_LSCL>\n<IDX_CMB_MOD_CUR>\n<N_32>\n<MAF_STK_FG_PRED>\n<NC_NR_CMB_ER_STD_STND_MPLH>\n<FUP>\n<FAC_MFF_MPL_INJ_HOM>\n<ER_STD_MAX_STND_FIL>\n<ER_STD_MAX_STND>\n<ER_STD_MAX_STND_FIL>\nER_STD_MAX_FIL\nX.2.2\n<LV_ER_STND_ER_AFU_ACT>\n<LV_DRV1_STND_AFU_FDOUT>\n<ER_STD_MAX>\n<ER_STD_MAX_FIL>\n<ER_STD_MAX_STND_FIL>\n<ER_STD_MAX_FIL>\nER_STD_MAX\nX.2.1\n<ER_STD_AFU> <ER_STD_MAX>\nCLC_P\nX.2.3\n<ER_STD_MAX>\n<FAC_P_FQ_ER_AD>\n<CTR_SEG_DLY_P>\n<FAC_I_FQ_ER_AD>\n<LV_ER_STND_ER_AFU_ACT>\n<LV_DRV1_STND_AFU_FDOUT>\n<TCO>\nclc_p\nCLC_I\nX.2.5\n<ER_STD_MAX_FIL>\n<FAC_I_FQ_ER_AD>\n<FAC_P_FQ_ER_AD>\n<ER_STD_MAX_STND_FIL>\n<LV_ER_STND_ER_AFU_ACT>\n<LV_DRV1_STND_AFU_FDOUT>\n<TCO>\n<CTR_SEG_DLY_I>\n<CTR_FQ_ER_VLD>\n<CTR_SEG_DLY_I>\n<FAC_I_FQ_ER_AD>\n<CTR_FQ_ER_VLD>\nf()\n<feedback>\n<input>\n<FAC_MFF_MPL_INJ_HOM><FAC_MFF_MPL_INJ_HOM>\n<FUP><FUP>\n<NC_NR_CMB_ER_STD_STND_MPLH>\n<MAF_STK_FG_PRED>\n<N_32>\n<IDX_CMB_MOD_CUR>\n<LV_LAM_LSCL>\n<LAMB_LS_UP>\n<TCO>\n<TCO>\n<TCO_ST>\n<CTR_FQ_ER_VLD>\n<CTR_SEG_DLY_I>\n<FAC_P_FQ_ER_AD>\n<CTR_SEG_DLY_P>\n<FAC_P_FQ_ER_AD>\n<FAC_P_FQ_ER_AD>\n<TCO>\n<LV_DRV1_STND_AFU_FDOUT>\n<LV_ER_STND_ER_AFU_ACT>\n<ER_STD_MAX_STND_FIL>\n<ER_STD_MAX_STND_FIL>\n<LV_DRV1_STND_AFU_FDOUT>\n<LV_ER_STND_ER_AFU_ACT>\n<LV_DRV1_STND_AFU_FDOUT>\n<LV_ER_STND_ER_AFU_ACT>\n<FAC_I_FQ_ER_AD>\n<T_AST>\n<TCO_ST>\n<LAMB_SP_MV>\n<EFF_IGA_AV>\n<MAF_STK_FG_PRED>\n<N>\n<N_32>\n<STATE_ENG>\n<FAC_I_FQ_ER_AD>\n<CTR_SEG_DLY_P>\n<FAC_P_FQ_ER_AD>\nopm_1\n<ER_STD_AFU>\n<ER_STD_MAX_FIL>\nFigure 4.16.7:\n4.16.2.1 Maximum engine roughness of all cylinders:\nER_STD_MAX is the maximum of ER_STD_AFU of all cylinders.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2334, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0ea3ea1d-a2aa-4b22-8645-4e16b22b1eb2": {"__data__": {"id_": "0ea3ea1d-a2aa-4b22-8645-4e16b22b1eb2", "embedding": null, "metadata": {"page_label": "166", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "33faf2a3-a3e9-4c58-863c-b1d2eee70693", "node_type": "4", "metadata": {"page_label": "166", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "489ade6e62e1f6bf36ae9029a7d5f4ca639a65c7762191b3deab021368fa9bce", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5372a83c-13ed-4dea-a9ab-2517d22a0c57", "node_type": "1", "metadata": {"page_label": "166", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "a6f90f6c8fd0a44e5cbc94a3154022b305f95b645417395c1d0045133d8d2e72", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "File: AE90EF01.00F\n1454Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 2335, "end_char_idx": 2464, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a9409cf3-792c-4491-8db6-a6f356198a62": {"__data__": {"id_": "a9409cf3-792c-4491-8db6-a6f356198a62", "embedding": null, "metadata": {"page_label": "167", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "eaa9bc64-0aab-4ac3-b630-9c5e9a3d91b9", "node_type": "4", "metadata": {"page_label": "167", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "5a639da480542b12714a2a886dd8acdaedfa46635bf53224e048cbccd572dc66", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\n<ER_STD_MAX>\nV.6.11\nmax<ER_STD_AFU>\nFigure 4.16.8:\n4.16.2.2 Filtering of ER_STD_MAX:\nER_STD_MAX is ?ltered and the ?ltered value ER_STD_MAX_FIL is used for the I-part calculation.\n<ER_STD_MAX_FIL>\nCheck ~= 0\nV.6.10\nV.6.8\nNOT\nV.7.8\nV.7.7\nm\nu\nx_in\ny\nx_out\nV.6.11\nC_FAC_ER_STD_MAX_STND_FIL_FDOUT\nV.6.11\nC_CRLC_ER_STD_MAX\nV.6.10\nAND\n<ER_STD_MAX_STND_FIL>\n<ER_STD_MAX_FIL>\n<ER_STD_MAX>\n<LV_DRV1_STND_AFU_FDOUT>\n<LV_ER_STND_ER_AFU_ACT>\nFigure 4.16.9:\n4.16.2.3 Calculation of the P-part:\nA P-jump is triggert if ER_STD_MAX reaches the threshold C_ER_STD_MAX_THD_P. If a p-jump was applied the\nnext P-jump is inhibited as long as CTR_SEG_DLY_P is unequal zero.\nFile: AE90EF01.00F\n1455Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1213, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "790af819-70bc-4136-841b-a1701649ec2d": {"__data__": {"id_": "790af819-70bc-4136-841b-a1701649ec2d", "embedding": null, "metadata": {"page_label": "168", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "ed14b971-abee-4145-8bf5-195a707069c9", "node_type": "4", "metadata": {"page_label": "168", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "73b712f47fa408227306fcdcd5a31153bd20ab5e241f49827c7a33a51fc7775c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\nclc_p\nV.6.4\ncond_if\nif\nelse\nV.6.4\ncond_if\nif\nelse\nP_JUMP\nX.2.3.1\nfc()\n<FAC_P_FQ_ER_AD>\n<FAC_I_FQ_ER_AD>\n<TCO>\n<FAC_P_FQ_ER_AD>\n<FAC_I_FQ_ER_AD>\n<CTR_SEG_DLY_P>\nP_INACT\nX.2.3.3\nfc()\n<FAC_P_FQ_ER_AD>\n<FAC_I_FQ_ER_AD>\n<FAC_P_FQ_ER_AD>\n<FAC_I_FQ_ER_AD>\n<CTR_SEG_DLY_P>\nV.6.7\nOR\nV.6.8\nNOT\nV.6.8\nNOT\n[inactive_p]\n[decrement_ctr]\n[trigger_p]\nV.6.6\n[inactive_p]\n[decrement_ctr]\n[trigger_p]\nV.6.6\nV.6.6\nV.6.11\nC_ER_STD_MAX_THD_P\nV.6.11\n0\nCTR_DEC\nX.2.3.2\nfc()\n<FAC_P_FQ_ER_AD>\n<FAC_I_FQ_ER_AD>\n<CTR_SEG_DLY_P>\n<FAC_P_FQ_ER_AD>\n<FAC_I_FQ_ER_AD>\n<CTR_SEG_DLY_P>\nV.6.6\nBusMerge\nV.6.10\nAND\nV.6.10\nAND\n<TCO>\n<LV_DRV1_STND_AFU_FDOUT>\n<LV_ER_STND_ER_AFU_ACT>\n<FAC_I_FQ_ER_AD>\n<CTR_SEG_DLY_P>\n<FAC_P_FQ_ER_AD>\n<ER_STD_MAX>\nclc_p\nFigure 4.16.10:\n4.16.2.3.1 P-jump:\nAt a P-jump the P-part FAC_P_FQ_ER_AD and the I-part FAC_I_FQ_ER_AD can be increased by a seperate TCO\ndependent increment. The counter CTR_SEG_DLY_P is initializised by C_NR_SEG_DLY_P to inhibit the P-jump\nwithin the next C_NR_SEG_DLY_P number of segments.\nFile: AE90EF01.00F\n1456Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1564, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d73a74ec-0356-4bf6-ae78-28752ff73601": {"__data__": {"id_": "d73a74ec-0356-4bf6-ae78-28752ff73601", "embedding": null, "metadata": {"page_label": "169", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0d1d63b7-b41d-4784-8069-8a7ddcbbafc5", "node_type": "4", "metadata": {"page_label": "169", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "10c1306e5c2eaa9e681850dbb8999d66a5821079ddc9b9fa7cc2b12d78a4228e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\n<CTR_SEG_DLY_P>\n<FAC_I_FQ_ER_AD>\n<FAC_P_FQ_ER_AD>\nIP_FAC_I_FQ_ER_AD_INC_P\nV.7.11\nx_val IP_val\nIP_FAC_P_FQ_ER_AD_INC_P\nV.7.11\nx_val IP_val\nV.7.7\n+\n+\nV.7.7\n+\n+\nV.6.20\nMX\nMN\nu\ny\nB_min\nB_max\nV.6.11\nC_NR_SEG_DLY_P\nV.6.11\n0\nV.6.11\nC_FAC_P_FQ_ER_AD_MAXf()\n<TCO>\n<FAC_I_FQ_ER_AD>\n<FAC_P_FQ_ER_AD>\nFigure 4.16.11:\n4.16.2.3.2 Decrementation of the P-part delay counter:\nIf a P-part jump was applied the delay counter is decremented.\n<CTR_SEG_DLY_P>\n<FAC_I_FQ_ER_AD>\n<FAC_P_FQ_ER_AD>\nV.6.8\nV.6.8\nV.7.7\n+\n?\nV.6.11\nmax\nV.6.11\n0V.6.11\n1\nf()<CTR_SEG_DLY_P>\n<FAC_I_FQ_ER_AD>\n<FAC_P_FQ_ER_AD>\nFigure 4.16.12:\n4.16.2.3.3 Inactive P-part:\nIf no P-part jump was applied or the P-part is zero again the counter SEG_DLY_P is set to zero.\nFile: AE90EF01.00F\n1457Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1276, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "92ad4974-f4ec-4eb2-ac34-ba35ebd5e907": {"__data__": {"id_": "92ad4974-f4ec-4eb2-ac34-ba35ebd5e907", "embedding": null, "metadata": {"page_label": "170", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "977669eb-5797-46d6-b6af-4a2cc22b6b0b", "node_type": "4", "metadata": {"page_label": "170", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "4ded20c76ff870b290ee3732ee534e333a9d58e31c4252aba23c2ea385e75ba0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\n<CTR_SEG_DLY_P>\n<FAC_I_FQ_ER_AD>\n<FAC_P_FQ_ER_AD>\nV.6.8\nV.6.8\nV.6.11\n0f()\n<FAC_I_FQ_ER_AD>\n<FAC_P_FQ_ER_AD>\nFigure 4.16.13:\n4.16.2.4 Calculation of the standard maximum engine roughness:\nThe standard maximum engine roughness ER_STD_MAX_STND is calcualted out of two basic maps, one for IS\nand one for PL. This basic value can be corrected by factors dependent on ignition_angle ef?ciency, lambda\nsetpoint, coolant temperature and time after start. Afterwards the determined standard maximum engine\nroughness is ?ltered.\nFile: AE90EF01.00F\n1458Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1080, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "852782fd-f11d-44d1-956c-66396025deb2": {"__data__": {"id_": "852782fd-f11d-44d1-956c-66396025deb2", "embedding": null, "metadata": {"page_label": "171", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "354f4d39-4c3a-447f-be5c-37799adebd99", "node_type": "4", "metadata": {"page_label": "171", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "9fcc2e6140844b3d1fe8c9cb4cb38a3c5ed71f9b3bc4a6698caae7b9f9220cdb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\n<ER_STD_MAX_STND_FIL>\n<ER_STD_MAX_STND>\nV.6.16\nC 0\n[..]\nIP_FAC_CMB_ER_STD_STND_MPLH\nV.7.11\nidx_x\nx_val\ny_val\nIP_val\nIP_FAC_AST_ER_STD_STND\nV.7.11\nx_val\ny_val\nIP_val\nIP_FAC_COR_LAMB_ER_STD_STND\nV.7.11\nx_val\ny_val\nIP_val\nIP_FAC_COR_IGA_ER_STD_STND\nV.7.11\nx_val\ny_val\nIP_val\nIP_ER_STD_IS_STND\nV.7.11\nx_val\ny_val\nIP_val\nIP_ER_STD_PL_STND\nV.7.11\nx_val\ny_val\nIP_val\n<TCO_ST>\n<MAF_STK_FG_PRED>\nV.6.4\ncond_if\nif\nelse\nIP_FAC_LOW_PRS_ER_STD_STND\nV.7.10\nx_val ID_val\nID_IDX_CMB_ER_STD_STND_MPLH\nV.7.10\nx_val ID_val\nV.6.8\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nV.6.6\nV.7.8\nV.7.8\nV.7.8\nV.7.8\nV.7.8\nMerge\nV.6.11\nmax\nV.6.6\nV.6.6\nV.6.11\n2\nV.6.6\nV.7.7\nm\nu\nx_in\ny\nx_out\nV.6.11\n1\nV.6.11\nLC_FAC_MFF_LOW_PRS_ENA\nV.6.11\nC_FAC_MFF_MPL_INJ_HOM_MIN\nV.6.11\n0\nV.6.11\n1\nV.6.11\nC_FUP_MFF_LOW_PRS_MIN\nV.6.11\nLC_LAMB_SWI_ER_CLC\nV.6.11\nC_CRLC_ER_STD_MAX_STND\nV.6.10\nAND\nV.6.10\nAND\nV.6.10\nAND\n<ER_STD_MAX_STND_FIL>\n<FAC_MFF_MPL_INJ_HOM>\n<FUP>\n<NC_NR_CMB_ER_STD_STND_MPLH>\n<MAF_STK_FG_PRED>\n<N_32>\n<IDX_CMB_MOD_CUR>\n<LV_LAM_LSCL>\n<LAMB_LS_UP>\n<TCO>\n<T_AST>\n<TCO_ST>\n<LAMB_SP_MV>\n<EFF_IGA_AV>\n<MAF_STK_FG_PRED>\n<N>\n<N_32>\n<STATE_ENG>\nFigure 4.16.14:\n4.16.2.5 Calculation of the I-part:\nFor the I-part calculation the difference between the ?ltered maximum engine roughness ER_STD_MAX_FIL\nand the ?ltered standard maximum engine roughness ER_STD_MAX_STND_FIL is build. Dependent on this\ndifference and dependent on TCO the incrementation of the I-part is determined by the map IP_FAC_I_FQ_ER_\nAD_IN. Like for the P-part the next integration step is delayed by the segment counter CTR_SEG_DLY_I. For each\nintegration step the validity counter CTR_FQ_ER_VLD is incremented.\nFile: AE90EF01.00F\n1459Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2211, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "69e0603d-0c43-4f4d-98f5-cb378be4da3c": {"__data__": {"id_": "69e0603d-0c43-4f4d-98f5-cb378be4da3c", "embedding": null, "metadata": {"page_label": "172", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5174c9fc-7ce7-420d-a00c-c4949c68c51d", "node_type": "4", "metadata": {"page_label": "172", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "ab726566a12cb95b7e9455e0b7e65ba0bb44b125a134a51a9f5d765bfcd546e0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\n<CTR_FQ_ER_VLD>\n<FAC_I_FQ_ER_AD>\n<CTR_SEG_DLY_I>\nIP_FAC_I_FQ_ER_AD_INC\nV.7.11\nx_val\ny_val\nIP_val\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nV.7.7\n+\n+\nV.7.7\n+\n?\nV.7.7\n+\n+\nV.7.7\n+\n?\nV.6.8\nNOT\nV.6.20\nMX\nMN\nu\ny\nV.6.6\nV.6.6\nV.6.11\n0\nV.6.11\nC_FAC_I_FQ_ER_AD_MAX\nV.6.11\n1 V.6.11\n1\nV.6.11\nC_NR_SEG_DLY_I\nV.6.11\n0\nV.6.11\n0\nV.6.11\n0\nV.6.10\nAND\n<CTR_FQ_ER_VLD>\n<CTR_SEG_DLY_I>\n<TCO>\n<LV_DRV1_STND_AFU_FDOUT>\n<LV_ER_STND_ER_AFU_ACT>\n<ER_STD_MAX_STND_FIL>\n<FAC_P_FQ_ER_AD> <FAC_I_FQ_ER_AD>\n<ER_STD_MAX_FIL>\nFigure 4.16.15:\n4.16.2.6 Final engine roughness based fuel quality adaptation value:\nThe ?nal value for the engine roughness based fuel quality adaptation is calculated out of the sum of P-part\nand I-part plus an offset of one.\n<FAC_FQ_ER_AD>\nV.7.7\n+\n+\nV.7.7\n+\n+\nV.6.11\n1\n<FAC_P_FQ_ER_AD>\n<FAC_I_FQ_ER_AD>\nFigure 4.16.16:\n4.16.2.7 Validity of the engine roughness based fuel quality adaptation value:\nThe validity is determined by the map IP_FAC_FQ_ER_AD_VLD which is dependent on TCO and dependent on\nthe number of I-part updates (CTR_FQ_ER_VLD).\n<FAC_FQ_ER_AD_VLD>\nIP_FAC_FQ_ER_AD_VLD\nV.7.11\nx_val\ny_val\nIP_val\n<TCO_ST>\n<CTR_FQ_ER_VLD>\nFigure 4.16.17:\nFile: AE90EF01.00F\n1460Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1719, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "773b262b-c76a-48e2-af69-59a56e84e50f": {"__data__": {"id_": "773b262b-c76a-48e2-af69-59a56e84e50f", "embedding": null, "metadata": {"page_label": "173", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "521c114d-fc72-4416-af80-50e3966f2e0a", "node_type": "4", "metadata": {"page_label": "173", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "02728b42c54b306145914a82eab6dcaf69e646a2f9fc85ca20acada520c532ec", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\n4.16.3 100ms syncronous task:\nThe 100ms syncronous task is only active if a P-jump was applied (FAC_P_FQ_ER_AD>0).\nopm_2\nFAC_P_DEC\nX.3.1\n<FAC_P_FQ_ER_AD> <FAC_P_FQ_ER_AD>\nf()\n<feedback>\nopm_2\n<FAC_P_FQ_ER_AD>\nFigure 4.16.18:\n4.16.3.1 P-part decrementation:\nIf a P-jump was applied the P-part is decremented every 100ms by C_FAC_P_FQ_ER_AD_DEC.\n<FAC_P_FQ_ER_AD>\nV.7.7\n+\n?\nV.6.11\nmax\nV.6.11\n0V.6.11\nC_FAC_P_FQ_ER_AD_DEC\n<FAC_P_FQ_ER_AD>\nFigure 4.16.19:\n4.16.4 10ms syncronous task:\nIn this task the overall fuel quality adaption values FAC_FQ and FAC_FQ_ST_AD are determined.\nopm_3\nFAC_FQ\nX.4.1\n<FAC_FQ_ST_AD>\n<TCO_ST>\n<T_AST>\n<LV_FQ_ST_AD>\n<LV_LAM_LSCL>\n<FAC_FQ_ER_AD>\n<FAC_FQ_ER_AD_VLD>\n<FAC_FQ_ST_AD_VLD>\n<FAC_FQ_TMP>\nFAC_FQ\n<LV_FAC_FQ_END>\n<FAC_FQ_TMP>\nf()\n<feedback>\n<input>\n<LV_LAM_LSCL>\n<LV_FQ_ST_AD>\n<FAC_FQ_TMP>\n<FAC_FQ_ST_AD_VLD>\n<FAC_FQ_ER_AD_VLD>\n<FAC_FQ_ER_AD>\n<T_AST>\n<TCO_ST>\n<FAC_FQ_ST_AD>\nopm_3\nFigure 4.16.20:\nFile: AE90EF01.00F\n1461Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1486, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c8583a04-d3cb-4611-be02-199d27c1ffbe": {"__data__": {"id_": "c8583a04-d3cb-4611-be02-199d27c1ffbe", "embedding": null, "metadata": {"page_label": "174", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "66ac3b97-1222-4f49-baf0-8eea91ba81aa", "node_type": "4", "metadata": {"page_label": "174", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "ec0cad27130ee296dadf62b7166763b11cc88b3e605b8f6352d37e43c69cd86b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Engine roughness based fuel quality adaptation\n4.16.4.1 Overall fuel quality adaptation values:\nTo ensure a closed loop control the ?nal FQA value has to exact the value of the actual activ method. This\nmeans, that if FQA_ST is active FA_FQ has to be FAC_FQ_ST_AD_N and if FQA_ER is active FQ has to be FAC_\nFQ_ER_AD. The ?nal FQA value can only be determined if both method went through. Therfore the FQA_ER\nhas to be ended. This will be done if the overall validity has reached a certain threshold C_FAC_FQ_VLD_SUM_\nTHD_DEAC. If the complete FQA shold be deactivated LC_FAC_FQ_ENA has to beset to 0.\n<FAC_FQ_TMP>\n<LV_FAC_FQ_END>\nFAC_FQ\n[fac_fq_tmp]\n[fac_fq_tmp]\n[fac_fq_tmp]\nIP_FAC_FQ_T_AST\nV.7.11\nx_val IP_val\nV.6.8\nV.6.8\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nCheck ~= 0\nV.6.10\nV.7.7\n+\n?\nV.7.7\n+\n?\nV.7.7\n+\n+\nV.6.7\nOR\nV.6.7\nOR\nV.6.8\nNOT\nV.6.11\nmax\nV.6.11\nmax\nV.6.6\nV.6.6\nV.6.6\nV.6.9\nu\nx_in\ny\nx_out\nV.6.11\n1\nV.6.11\nLC_FAC_FQ_ENA\nV.6.11\nLC_FAC_FQ_ENA\nV.6.11\nLC_ENA_DEAC_FQ_ER_LSCL\nV.6.11\nC_FAC_FQ_DEC_TRA\nV.6.11\nLC_FAC_FQ_T_AST_SWI\nV.6.11\nC_FAC_FQ_VLD_SUM_THD_DEAC\nV.6.11\n1\nV.6.11\nC_FAC_FQ_DEC_DEAC\nV.6.11\n1\nV.6.11\nLC_FAC_FQ_ENA\nV.6.10\nAND\nV.6.10\nAND\n<FAC_FQ_TMP>\n<FAC_FQ_ST_AD_VLD>\n<FAC_FQ_ER_AD_VLD>\n<FAC_FQ_ER_AD>\n<LV_LAM_LSCL>\n<LV_FQ_ST_AD>\n<T_AST>\n<TCO_ST>\n<FAC_FQ_ST_AD>\nFAC_FQ\nFigure 4.16.21:\nFile: AE90EF01.00F\n1462Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1883, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "96b2a362-e507-41fa-9f1e-2ed06f10a2d3": {"__data__": {"id_": "96b2a362-e507-41fa-9f1e-2ed06f10a2d3", "embedding": null, "metadata": {"page_label": "175", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "397c2e36-6491-41af-8ca6-cea6e3dea536", "node_type": "4", "metadata": {"page_label": "175", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "2e8ee676157e36824e8eacbba357edd7a877d155515fdce4a807394e79e89f2b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor diagnosis\n4.17 Ethanol sensor diagnosis\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nT_DLY_CDN_DIAG_AFU_SENS V 0... FFH 0... 25.5 0.1 s\nSensor acquistion delay of FF sensor time-out/response time\n\ufffd Input Data\nLV_CDN_VB_OBD1\n{p. 24053}\nLV_FID_READY\n{p. 11388}\nLV_IGK\n{p. 24082}\nT_TEMP_FUEL_SENS_RAW\n{p. 1294}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_T_DLY_CDN_DIAG_AFU_SENS V 0... FFH 0... 25.5 0.1 s\nTime-out/Response time of FF sensor Gen II\nC_T_TEMP_SENS_MAX_DIAG V 0... FFFFH 0... 6553.5 0.1 ms\nMaximum threshold for Ethanol sensor timer\nC_T_TEMP_SENS_MIN_DIAG V 0... FFFFH 0... 6553.5 0.1 ms\nMinimum threshold for Ethanol sensor timer\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_FID_ERR_AFU_SENS - 0... FFFFH 0... 65535 1 -\nFARM permission for FF sensor diagnosis\nNC_IDX_ERR_AFU_SENS_SCG - 1... FFFFH 1... 65535 1 -\nError index of FF sensor diagnosis short circuit to ground\nNC_IDX_ERR_AFU_SENS_SCP - 1... FFFFH 1... 65535 1 -\nError Index of FF sensor diagnosis short circuit to positive\n\ufffd Import actions:\nACTION_ERRM_ResultDiag(IN <PRM_IDX_ERR>, IN <PRM_STATE_DGO>, OUT <PRM_STATE_FIL>)\nACTION_FARM_GetPermission(IN <PRM_FID>, OUT <PRM_LV_PRMS>)\n\ufffd Error treatment\nFile: 30A0NU05.00B\n1463Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1790, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f80b2326-5643-4875-811b-0f4bb7121d9b": {"__data__": {"id_": "f80b2326-5643-4875-811b-0f4bb7121d9b", "embedding": null, "metadata": {"page_label": "176", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "230fea7a-e336-4bd2-8bf8-b3830e781062", "node_type": "4", "metadata": {"page_label": "176", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "13b71a622c614e7d96eef9b105422d763e203fb852b82c1c2989b25a705bf327", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor diagnosis\nDiagnostic Identi?er Diagnostic initialization function NR_CONF CARB class OBD DTC\nDiagnostic description\nNC_IDX_ERR_AFU_SENS_SCP \"UNUSED\" UNUSED CC\nError Index of FF sensor diagnosis short circuit to positive\nDiagnostic Identi?er Diagnostic initialization function NR_CONF CARB class OBD DTC\nDiagnostic description\nNC_IDX_ERR_AFU_SENS_SCG \"UNUSED\" UNUSED CC\nError index of FF sensor diagnosis short circuit to ground\n\ufffd General Information\nOBDI diagnosis of FlexFuel Sensor Gen II which includes SCG and SCP.\nPre-Con?guration hint:\nFigure 4.17.1:\n\ufffd Application Conditions\nInitialisation: -\nActivation: always\nDeactivation: never\nRecurrence: 100ms\n\ufffd Function Description\nIf(1) LV_FID_READY = 1\nThen(1) ACTION_FARM_GetPermission(IN <NC_FID_ERR_AFU_SENS>, OUT<LV_PRMS_TMP>)\nEndIf(1)\nIf(2) LV_IGK = 1 and\nLV_CDN_VB_OBD1 = 1 and\nLV_PRMS_TMP = 1 and\nT_DLY_CDN_DIAG_AFU_SENS >= C_T_DLY_CDN_DIAG_AFU_SENS\nThen(2)\nfreeze T_DLY_CDN_DIAG_AFU_SENS\nIf(2a) T_TEMP_FUEL_SENS_RAW <= C_T_TEMP_SENS_MIN_DIAG\nFile: 30A0NU05.00B\n1464Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1528, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0e9f0cd9-47e7-4d8c-887b-a0dd6f4c7b2d": {"__data__": {"id_": "0e9f0cd9-47e7-4d8c-887b-a0dd6f4c7b2d", "embedding": null, "metadata": {"page_label": "177", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b33fb3e2-91da-44c1-bf09-88d15e46365d", "node_type": "4", "metadata": {"page_label": "177", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "fbf2a86b64494222ae49f0199b071d12acc9f7b4a2c1ba4c43fd185a08d5a1ba", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor diagnosis\nThen(2a) LF_STATE_AFU_SENS_SCP = 3 //CDN + SYM\nElse(2a) LF_STATE_AFU_SENS_SCP = 1 //CDN + NO SYM\nEndIf(2a)\nIf(2b) T_TEMP_FUEL_SENS_RAW >= C_T_TEMP_SENS_MAX_DIAG\nThen(2b) LF_STATE_AFU_SENS_SCG = 3 //CDN + SYM\nElse(2b) LF_STATE_AFU_SENS_SCG = 1 //CDN + NO SYM\nEndIf(2b)\nElse(2)\nincrement T_DLY_CDN_DIAG_AFU_SENS\nLF_STATE_AFU_SENS_SCG = 0 //NO CDN\nLF_STATE_AFU_SENS_SCP = 0 //NO CDN\nEndIf(2)\nACTION_ERRM_ResultDiag(IN<NC_IDX_ERR_AFU_SENS_SCG>, IN<LF_STATE_AFU_SENS_SCG>,\nOUT<STATE_FIL_TMP>)\nACTION_ERRM_ResultDiag(IN<NC_IDX_ERR_AFU_SENS_SCP>, IN<LF_STATE_AFU_SENS_SCP>,\nOUT<STATE_FIL_TMP>)\nFile: 30A0NU05.00B\n1465Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1125, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fe3ee16a-b899-428d-8ac3-c9b24a9be171": {"__data__": {"id_": "fe3ee16a-b899-428d-8ac3-c9b24a9be171", "embedding": null, "metadata": {"page_label": "178", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "96e72a10-9b82-4bf2-a1c9-fde1bcece731", "node_type": "4", "metadata": {"page_label": "178", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "b9eff4d5a1c343e8094da78d02f62b2bcb9dea005805f775ed12af27b8b8060a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor plausibility diagnosis\n4.18 Ethanol sensor plausibility diagnosis\n\ufffd Data De?nition\nName Mode Coded Limits Display Limits Resolution Unit\nCTR_FF_SENS_MMV_PLAUS_DLY V 0... 32H 0... 50 1 -\nDelay counter to store and retreive FAC_AFU_RATIO_SENS_MMV_DLY value\nFAC_AFU_RATIO_SENS_MMV_DLY_TMP V 0... 80H 0 ...1 0.0078125 -\nDelayed FAC_AFU_RATIO_SENS_MMV_DLY value\nLV_ACT_CDN_LAMB_PLAUS V 0... 1H 0 ...1 1 -\nActivation condition for Lambda controller deviation based plausibility diagnosis\n\ufffd Input Data\nFAC_AFU_RATIO_FTL_MAX\n{p. 1369}\nFAC_AFU_RATIO_FTL_MIN\n{p. 1369}\nFAC_AFU_RATIO_SENS_MMV\n{p. 1294}\nFAC_AFU_RATIO_SENS_MMV_\nDLY\n{p. 1294}\nFAC_LAM_MV_MMV_AFU\n[NC_CBK_EX_NR]\n{p. 23173}\nFRQ_PERC_FF_SENS_RAW\n{p. 1294}\nIDX_EX_CBK_LAMB\n{p. 1366}\nLV_CDN_VB_OBD2\n{p. 24053}\nLV_FID_READY\n{p. 11388}\nLV_IGK\n{p. 24082}\nLV_LAM_LSCL\n[NC_CBK_EX_NR]\n{p. 22406}\nT_TEMP_FUEL_SENS_RAW\n{p. 1294}\n\ufffd Calibration Data\nName Mode Coded Limits Display Limits Resolution Unit\nC_FAC_LAM_MMV_BOL_PLAUS_DET V 8000... 7FFFH -50...\n49.99847412109\n0.00152588 %\nBottom limit of lambda controller deviation\nC_FAC_LAM_MMV_TOL_PLAUS_DET V 8000... 7FFFH -50...\n49.99847412109\n0.00152588 %\nTop limit of Lambda controller deviation\nC_FF_SENS_MMV_PLAUS_DLY V 0... 32H 0... 50 1 -\nNumber of recurrences to delay for storing and retreiving FAC_AFU_RATIO_SENS_MMV_DLY value\nC_FRQ_AFU_SENS_ERR_MAX_DIAG V 0... FFFFH 0... 6553.5 0.1 Hz\nMaximum frequency threshold for FF sensor hardware error\nC_FRQ_AFU_SENS_ERR_MIN_DIAG V 0... FFFFH 0... 6553.5 0.1 Hz\nMinimum frequency threshold for FF sensor hardware error\nC_FRQ_AFU_SENS_FF_RNG_1_DIAG V 0... FFFFH 0... 6553.5 0.1 Hz\nFF sensor error frequency for sensor permitivity out of bounds error\nC_FRQ_AFU_SENS_FF_RNG_2_DIAG V 0... FFFFH 0... 6553.5 0.1 Hz\nFF sensor error frequency for sensor conductivity out of bounds error\nC_FRQ_AFU_SENS_TEMP_RNG_DIAG V 0... FFFFH 0... 6553.5 0.1 Hz\nFF sensor error frequency for Fuel temperature out of bounds error\nC_SENS_FRQ_RNG_1_DIAG V 0... FFFFH 0... 6553.5 0.1 Hz\nLeast non plausible sensor frequency beyond measurable frequency\nC_SENS_FRQ_RNG_2_DIAG V 0... FFFFH 0... 6553.5 0.1 Hz\nFile: 30B0DV01.00B\n1466Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2647, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4877e9b7-56dd-4c47-bcfa-3108cff80801": {"__data__": {"id_": "4877e9b7-56dd-4c47-bcfa-3108cff80801", "embedding": null, "metadata": {"page_label": "179", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f8b825e8-4b0a-4fc5-927d-a50c49ad02c3", "node_type": "4", "metadata": {"page_label": "179", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "bd4f707018965dabc66e89d67a0eca5f6e4634869f9e62e99886bd1694598ae4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor plausibility diagnosis\nName Mode Coded Limits Display Limits Resolution Unit\nHighest non plausible sensor frequency lesser than sensor error frequency\nC_SENS_FRQ_RNG_3_DIAG V 0... FFFFH 0... 6553.5 0.1 Hz\nNon plausible frequency beyond measurable and inbetween error codes\nC_SENS_FRQ_RNG_4_DIAG V 0... FFFFH 0... 6553.5 0.1 Hz\nSecond possible low frequency beyond measurable range and maximum possible error code\nC_SENS_FRQ_RNG_5_DIAG V 0... FFFFH 0... 6553.5 0.1 Hz\nSecond possible highest frequency beyond measurable range and maximum possible error code\nC_SENS_MMV_DLY_BOL_PLAUS V 0... 80H 0 ...1 0.0078125 -\nMinimum Ethanol change required to con?rm Ethanol content change in negative direction\nC_SENS_MMV_DLY_TOL_PLAUS V 0... 80H 0 ...1 0.0078125 -\nMinimum Ethanol change to con?rm Ethanol content change in positive direction\nC_SENS_T_TEMP_RNG_1_DIAG V 0... FFFFH 0... 6553.5 0.1 ms\nTemperature time less than lowest measurable time\nC_SENS_T_TEMP_RNG_2_DIAG V 0... FFFFH 0... 6553.5 0.1 ms\nTemperature time beyond highest measurable time\n\ufffd Con?guration Data\nName Mode Coded Limits Display Limits Resolution Unit\nNC_FID_ERR_AFU_SENS - 0... FFFFH 0... 65535 1 -\nFARM permission for FF sensor diagnosis\nNC_FID_ERR_AFU_SUM_LS_UP [NC_CBK_EX_NR] - 0... FFFFH 0... 65535 1 -\nFARM permission for currently present fault on upstream oxygen sensor signal used in ALFU\nNC_IDX_ERR_AFU_SENS_ERR - 1... FFFFH 1... 65535 1 -\nError index for FF sensor hardware failure. Sensor replacement might be necessary.\nNC_IDX_ERR_AFU_SENS_FF_PERC_RNG - 1... FFFFH 1... 65535 1 -\nError index for FF sensor conductivity or permitivity error. Common fuel to be used to avoid this error.\nNC_IDX_ERR_AFU_SENS_FRQ_RNG - 1... FFFFH 1... 65535 1 -\nError index for FF sensor non plausible frequency\nNC_IDX_ERR_AFU_SENS_PLAUS_FTL - 0... FFFFH 0... 65535 1 -\nError index for FTL based Ethanol sensor plausibility diagnosis\nNC_IDX_ERR_AFU_SENS_PLAUS_LAMB - 0... FFFFH 0... 65535 1 -\nError index for Lambda controller deviation based Ethanol sensor plausibility diagnosis\nNC_IDX_ERR_AFU_SENS_T_TEMP_RNG - 1... FFFFH 1... 65535 1 -\nError index for FF sensor non plausible temperature time\nNC_IDX_ERR_AFU_SENS_TEMP_RNG - 1... FFFFH 1... 65535 1 -\nError index for FF sensor temperature out of bound. Common fuel temperature is necessary to avoid this error.\n\ufffd Import actions:\nACTION_ERRM_ResultDiag(IN <PRM_IDX_ERR>, IN <PRM_STATE_DGO>, OUT <PRM_STATE_FIL>)\nACTION_FARM_GetPermission(IN <PRM_FID>, OUT <PRM_LV_PRMS>)\n\ufffd Error treatment\nFile: 30B0DV01.00B\n1467Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3027, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5f1b7051-9446-45b8-b639-d31e8bc84aba": {"__data__": {"id_": "5f1b7051-9446-45b8-b639-d31e8bc84aba", "embedding": null, "metadata": {"page_label": "180", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "2aeca222-59dc-4a0e-ad0f-3a9dfda6ce79", "node_type": "4", "metadata": {"page_label": "180", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "e7c7b10cb228eb4fc7e85e3a2310f83b6c4d9f882cf4f4b94e863bbd5938d55a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor plausibility diagnosis\nDiagnostic Identi?er Diagnostic initialization function NR_CONF CARB class OBD DTC\nDiagnostic description\nNC_IDX_ERR_AFU_SENS_PLAUS_\nFTL\n\"UNUSED\" UNUSED NO\nError index for FTL based Ethanol sensor plausibility diagnosis\nDiagnostic Identi?er Diagnostic initialization function NR_CONF CARB class OBD DTC\nDiagnostic description\nNC_IDX_ERR_AFU_SENS_PLAUS_\nLAMB\n\"UNUSED\" UNUSED NO\nError index for Lambda controller deviation based Ethanol sensor plausibility diagnosis\nDiagnostic Identi?er Diagnostic initialization function NR_CONF CARB class OBD DTC\nDiagnostic description\nNC_IDX_ERR_AFU_SENS_ERR \"UNUSED\" UNUSED NO\nError index for FF sensor hardware failure. Sensor replacement might be necessary.\nDiagnostic Identi?er Diagnostic initialization function NR_CONF CARB class OBD DTC\nDiagnostic description\nNC_IDX_ERR_AFU_SENS_FF_PERC_\nRNG\n\"UNUSED\" UNUSED NO\nError index for FF sensor conductivity or permitivity error. Common fuel to be used to avoid this error.\nDiagnostic Identi?er Diagnostic initialization function NR_CONF CARB class OBD DTC\nDiagnostic description\nNC_IDX_ERR_AFU_SENS_FRQ_\nRNG\n\"UNUSED\" UNUSED NO\nError index for FF sensor non plausible frequency\nDiagnostic Identi?er Diagnostic initialization function NR_CONF CARB class OBD DTC\nDiagnostic description\nNC_IDX_ERR_AFU_SENS_T_TEMP_\nRNG\n\"UNUSED\" UNUSED NO\nError index for FF sensor non plausible temperature time\nFile: 30B0DV01.00B\n1468Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1929, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c6315179-a9e7-4876-a9fc-3ccf6ed314c4": {"__data__": {"id_": "c6315179-a9e7-4876-a9fc-3ccf6ed314c4", "embedding": null, "metadata": {"page_label": "181", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "2a398c10-ebde-413d-ae9a-d961f46f28d1", "node_type": "4", "metadata": {"page_label": "181", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "38551c2d9f891da43ed4cba4410bc756345d03e74bebc6667c3ae7b8ad9090a5", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor plausibility diagnosis\nDiagnostic Identi?er Diagnostic initialization function NR_CONF CARB class OBD DTC\nDiagnostic description\nNC_IDX_ERR_AFU_SENS_TEMP_\nRNG\n\"UNUSED\" UNUSED NO\nError index for FF sensor temperature out of bound. Common fuel temperature is necessary to avoid this error.\n\ufffd General Information\nOBDII diagnosis of FlexFuel Sensor Gen II.\nOBDII diagnosis is done for following condition,\n1. Sensor hardware failure: Error code frequencies from 170Hz to 178Hz\n2. Temperature out of bounds error: Error code frequency 179Hz\n3. Sensor conductivity or permittivity error: Error code frequency 180Hz or 190Hz\n4. Frequency plausibility: Frequencies >150Hz & <179Hz, 174Hz, >180Hz & <190Hz\n5. Temperature time plausibility: Temperature time <1ms or >5ms\n6. Refuelling condition: Ethanol content percentage from sensor should be within determined maximum\nand minimum Ethanol content, determined during refuelling.\n7. Deviation in Lambda controller: While the sensor determined Ethanol content is correct, Lambda con-\ntroller should stay at ?0? without deviating after fuel combustion. In case of deviation and error is set.\nPre-Con?guration hint:\nFigure 4.18.1:\n\ufffd Application Conditions\nInitialisation: At RST:\nCTR_FF_SENS_MMV_PLAUS_DLY = 0\nFAC_AFU_RATIO_SENS_MMV_DLY_TMP = FAC_AFU_RATIO_SENS_MMV_DLY\nActivation: always\nDeactivation: never\nRecurrence: 100ms\n\ufffd Function Description\nFile: 30B0DV01.00B\n1469Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 1915, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "914ae526-3651-4f6a-a10e-727e1e2d29a9": {"__data__": {"id_": "914ae526-3651-4f6a-a10e-727e1e2d29a9", "embedding": null, "metadata": {"page_label": "182", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "af40cc63-617a-48ea-ba25-d035e42b2244", "node_type": "4", "metadata": {"page_label": "182", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "4fd24949f7295eb0d29377b68255fbcdef4da97868b35c442e2861458a06ed32", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor plausibility diagnosis\nIf(1) LV_FID_READY = 1\nThen(1) ACTION_FARM_GetPermission(IN <NC_FID_ERR_AFU_SENS>, OUT<LV_PRMS_TMP>)\nEndIf(1)\nIf(2) LV_IGK = 1 and\nLV_CDN_VB_OBD2 = 1 and\nLV_PRMS_TMP = 1 and\nThen(2)\n//Plausibility diagnosis based on sensor error codes\nIf(2a) FRQ_PERC_FF_SENS_RAW >= C_FRQ_AFU_SENS_ERR_MIN_DIAG and\nFRQ_PERC_FF_SENS_RAW <= C_FRQ_AFU_SENS_ERR_MAX_DIAG\nThen(2a) LF_STATE_AFU_SENS_ERR = 3 //CDN + SYM\nElse(2a) LF_STATE_AFU_SENS_ERR = 1 //CDN + NO SYM\nEndIf(2a)\nIf(2b) FRQ_PERC_FF_SENS_RAW = C_FRQ_AFU_SENS_TEMP_RNG_DIAG\nThen(2b) LF_STATE_AFU_SENS_TEMP_RNG = 3 //CDN + SYM\nElse(2b) LF_STATE_AFU_SENS_TEMP_RNG = 1 //CDN + NO SYM\nEndIf(2b)\nIf(2c) FRQ_PERC_FF_SENS_RAW = C_FRQ_AFU_SENS_FF_RNG_1_DIAG or\nFRQ_PERC_FF_SENS_RAW = C_FRQ_AFU_SENS_FF_RNG_2_DIAG\nThen(2c) LF_STATE_AFU_SENS_FF_PERC_RNG = 3 //CDN + SYM\nElse(2c) LF_STATE_AFU_SENS_FF_PERC_RNG = 1 //CDN + NO SYM\nEndIf(2c)\nIf(2d) (FRQ_PERC_FF_SENS_RAW > C_SENS_FRQ_RNG_1_DIAG and\nFRQ_PERC_FF_SENS_RAW < C_SENS_FRQ_RNG_2_DIAG) or\nFRQ_PERC_FF_SENS_RAW = C_SENS_FRQ_RNG_3_DIAG or\n(FRQ_PERC_FF_SENS_RAW > C_SENS_FRQ_RNG_4_DIAG and\nFRQ_PERC_FF_SENS_RAW < C_SENS_FRQ_RNG_5_DIAG)\nThen(2d) LF_STATE_AFU_SENS_FRQ_RNG = 3 //CDN + SYM\nElse(2d) LF_STATE_AFU_SENS_FRQ_RNG = 1 //CDN + NO SYM\nEndIf(2d)\nIf(2e) T_TEMP_FUEL_SENS_RAW < C_SENS_T_TEMP_RNG_1_DIAG or\nT_TEMP_FUEL_SENS_RAW > C_SENS_T_TEMP_RNG_2_DIAG\nThen(2e) LF_STATE_AFU_SENS_T_TEMP_RNG = 3 //CDN + SYM\nElse(2e) LF_STATE_AFU_SENS_T_TEMP_RNG = 1 //CDN + NO SYM\nEndIf(2e)\n// Plausibility diagnosis based on the maximum possible FF content after refueling\nIf FAC_AFU_RATIO_SENS_MMV < FAC_AFU_RATIO_FTL_MIN or\nFAC_AFU_RATIO_SENS_MMV > FAC_AFU_RATIO_FTL_MAX\nThen LF_STATE_AFU_SENS_PLAUS_FTL = 3//CDN + SYM\nElse LF_STATE_AFU_SENS_PLAUS_FTL = 1//CDN + NO SYM\nEndIf\n// Plausibility diagnosis based on the lambda controller deviation\n// Storing C_FF_SENS_MMV_PLAUS_DLY recurrence old value of FAC_AFU_RATIO_\nSENS_MMV_DLY to find considerable deviation\nIf CTR_FF_SENS_MMV_PLAUS_DLY < C_FF_SENS_MMV_PLAUS_DLY\nThen increment CTR_FF_SENS_MMV_PLAUS_DLY\nfreezeFAC_AFU_RATIO_SENS_MMV_DLY_TMP\nFile: 30B0DV01.00B\n1470Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2619, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d338de40-65d2-4d8f-8a14-2e2bccde3988": {"__data__": {"id_": "d338de40-65d2-4d8f-8a14-2e2bccde3988", "embedding": null, "metadata": {"page_label": "183", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "8ede1ddd-6999-45f9-a4fe-bd848ba3d2a8", "node_type": "4", "metadata": {"page_label": "183", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "b92d762693f75e9d48c2ba524df3e26b1dcac6e54d1230564a5e72af10f924e3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, Ethanol sensor plausibility diagnosis\nElse FAC_AFU_RATIO_SENS_MMV_DLY_TMP = FAC_AFU_RATIO_SENS_MMV_DLY\nCTR_FF_SENS_MMV_PLAUS_DLY = 0\nEndIf\n// Determining deviation in sensor value. Deviations levels can be set through\nC_SENS_MMV_DLY_TOL_PLAUS and C_SENS_MMV_DLY_BOL_PLAUS\nIf FAC_AFU_RATIO_SENS_MMV_DLY > FAC_AFU_RATIO_SENS_MMV_DLY_TMP\n+\nC_SENS_MMV_DLY_TOL_PLAUS or\nFAC_AFU_RATIO_SENS_MMV_DLY < FAC_AFU_RATIO_SENS_MMV_DLY_TMP\n-\nC_SENS_MMV_DLY_BOL_PLAUS\nThen LV_ACT_CDN_LAMB_PLAUS = 1\nElse LV_ACT_CDN_LAMB_PLAUS = 0\nEndIf\n// It there is deviation in FAC_LAM_MV_MMV_AFU by C_FAC_LAM_MMV_BOL_PLAUS_DET\nor C_FAC_LAM_MMV_TOL_PLAUS_DET then sensor value is not plausible\nIf LV_ACT_CDN_LAMB_PLAUS = 1 and\nACTION_FARM_GetPermission(IN<NC_FID_ERR_AFU_SUM_LS_UP\n(IDX_EX_CBK_LAMB)>, OUT<LV_PRMS_TMP>) and\nLV_LAM_LSCL(IDX_EX_CBK_LAMB) = 1 and\n( FAC_LAM_MV_MMV_AFU(IDX_EX_CBK_LAMB) <\nC_FAC_LAM_MMV_BOL_PLAUS_DET or\nFAC_LAM_MV_MMV_AFU(IDX_EX_CBK_LAMB) >\nC_FAC_LAM_MMV_TOL_PLAUS_DET )\nThen LF_STATE_AFU_SENS_PLAUS_LAMB = 3//CDN + SYM\nElse LF_STATE_AFU_SENS_PLAUS_LAMB = 1//CDN + NO SYM\nEndIf\nElse(2)\nLF_STATE_AFU_SENS_ERR = 0 //NO CDN\nLF_STATE_AFU_SENS_TEMP_RNG = 0 //NO CDN\nLF_STATE_AFU_SENS_FF_PERC_RNG = 0 //NO CDN\nLF_STATE_AFU_SENS_FRQ_RNG = 0 //NO CDN\nLF_STATE_AFU_SENS_T_TEMP_RNG = 0 //NO CDN\nLF_STATE_AFU_SENS_PLAUS_FTL = 0 //NO CDN\nLF_STATE_AFU_SENS_PLAUS_LAMB = 0 //NO CDN\nEndIf(2)\nACTION_ERRM_ResultDiag(IN<NC_IDX_ERR_AFU_SENS_ERR>, IN<LF_STATE_AFU_SENS_ERR>,\nOUT<STATE_FIL_TMP>)\nACTION_ERRM_ResultDiag(IN<NC_IDX_ERR_AFU_SENS_TEMP_RNG>, IN<LF_STATE_AFU_SENS_\nTEMP_RNG>, OUT<STATE_FIL_TMP>)\nACTION_ERRM_ResultDiag(IN<NC_IDX_ERR_AFU_SENS_FF_PERC_RNG>, IN<LF_STATE_AFU_\nSENS_FF_PERC_RNG>, OUT<STATE_FIL_TMP>)\nACTION_ERRM_ResultDiag(IN<NC_IDX_ERR_AFU_SENS_FRQ_RNG>, IN<LF_STATE_AFU_SENS_\nFRQ_RNG>, OUT<STATE_FIL_TMP>)\nACTION_ERRM_ResultDiag(IN<NC_IDX_ERR_AFU_SENS_T_TEMP_RNG>,\nIN<LF_STATE_AFU_SENS_T_TEMP_RNG>, OUT<STATE_FIL_TMP>)\nACTION_ERRM_ResultDiag(IN<NC_IDX_ERR_AFU_SENS_PLAUS_FTL>,\nIN<LF_STATE_AFU_SENS_PLAUS_FTL>, OUT<STATE_FIL_TMP>)\nACTION_ERRM_ResultDiag(IN<NC_IDX_ERR_AFU_SENS_PLAUS_LAMB>,\nIN<LF_STATE_AFU_SENS_PLAUS_LAMB>, OUT<STATE_FIL_TMP>)\nFile: 30B0DV01.00B\n1471Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2658, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4c74b6d5-fef1-47ff-85fb-6b413d775b55": {"__data__": {"id_": "4c74b6d5-fef1-47ff-85fb-6b413d775b55", "embedding": null, "metadata": {"page_label": "184", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "df9fdab3-8b48-41e1-9868-bcc695f817b0", "node_type": "4", "metadata": {"page_label": "184", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "325a8c6dff9c8c2f1685614afb3886b7f53d585288c977f5a18dc7903fc12769", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5feda767-8a0c-406a-af26-9892bb9c7e26", "node_type": "1", "metadata": {}, "hash": "edca7cfd2577349e21933cf3113be002a02e1267b175447d2eedfca31f9992cc", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, ALFU - Controller (gen)\n4.19 ALFU - Controller (gen)\n4.19.1 Introduction\nTo use ethanol as the alternative fuel, the system calibration needs to be adapted inside and outside ALFU.\nBelow, the focus is placed on the calibration inside ALFU in chronological order. To only run ALFU and receive\na valid ethanol content, the functions ?Alternative Fuel Ratio Determination?, ?Fuel Tank Level based detection?,\nand the ?Lambda based detection? algorithms needs to be calibrated. To further ensure a smooth engine run\nduring lambda ?sensor not active? the ?Engine Running Adaptation? is needed. Additionally, the ?Default start\nstrategy? ensure an engine start under all circumstances.\n4.19.2 Alternative Fuel Ratio Determination (90A6 and 90B1)\nIn the alternative fuel ratio determination, the strategy for ethanol content calculation is de?ned. Activation of\nall functionalities can be set here and the use of the results is handled. The following calibration procedure is\nproposed:\n1. C_FUEL_MAX_CONF [-]: de?nes the maximum ethanol content allowed to refuel the vehicle. For E85, this\nis e.g. 85%.\n2. C_FAC_AFU_AFS_MIN/MAX: calculation of the stoichiometric factor from the ethanol content. Values\nfor E100 and E0 can be used: C_FAC_AFU_AFS_MIN/MAX = 9 / 14.7.\n3. LC_FAC_AFU_CP_DEAC_OIL (A) / LC_FAC_AFU_CP_DEAC_WIN (B): activation of canister purge in case of\n(A) oil still cold and new fuel completely there or valid factor being already incremented or (B) driving\noutside N/TQ-window and oil hot and new fuel already there. For ?rst calibration set LC_.. to \"1\" but\nevaluate effect on system as the conditions have been introduced to avoid canister over?ow during\nethanol content learning.\n4. C_FAC_AFU_RATIO_VLD_THD_2 [-]: global valid constant to end ethanol detection algorithm. It is usually\nset to \"1.00\".\n5. C_FAC_AFU_RATIO_VLD_THD_1 [-]: valid constant to switch calculation of FAC_AFU_RATIO_DET from en-\ngine running determination off. Usually set to \"0.25\". Set also LC_FAC_AFU_RATIO_CONT = 0 for ?rst\ncalibration.\n6. Gradient limitation for changes of FAC_AFU_RATIO: to avoid drivability issues if ethanol content detection\nchanges too rapidly. C_FAC_AFU_RATIO_LGRD = 0.0234 has shown to be suf?cient.\n7. Driving window: a valid FAC_AFU_RATIO_LAMB can only be determined with high accuracy in this driv-\ning window. First data to be used: C_N_BOL/TOL_FAC_AFU_LAMB_VLD = 1300/ 5800 rpm and C_TQ_\nBOL/TOL_FAC_AFU_LAMB_VLD = 120/ 460 mg/stk MAF based on a 1.6 liter engine. The time C_T_LDC_\nFAC_AFU [sec] needs to be passed.\n8. Limited dynamics: steady state conditions are favorable for the lambda controller to estimate the ethanol\ncontent correctly. C_CRLC_N/TQ_MMV_LDC_AFU_LAMB = 0.102 and C_N_LDC_FAC_AFU_LAMB = 100rpm\nas well as C_TQ_LDC_FAC_AFU_LAMB = 50mg/stk MAF based on a 1.6liter engine showed to be suf?cient.\n9. Oil dilution by ethanol / gasoline: C_TOIL_FAC_AFU_LAMB_OIL_COLD de?nes TOIL below which no fuel\nevaporates from oil (usually = 50\ufffdC). IP_TOIL_FAC_AFU_LAMB_OIL_HOT de?nes at which fuel evaporates\nmassively from oil which sets a timer, which de?nes how long to wait before evaporation is over (IP_T_\nFAC_AFU_LAMB_OIL_HOT).", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3540, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5feda767-8a0c-406a-af26-9892bb9c7e26": {"__data__": {"id_": "5feda767-8a0c-406a-af26-9892bb9c7e26", "embedding": null, "metadata": {"page_label": "184", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "df9fdab3-8b48-41e1-9868-bcc695f817b0", "node_type": "4", "metadata": {"page_label": "184", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "325a8c6dff9c8c2f1685614afb3886b7f53d585288c977f5a18dc7903fc12769", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4c74b6d5-fef1-47ff-85fb-6b413d775b55", "node_type": "1", "metadata": {"page_label": "184", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "9e79287e74019675a4375d31efe02d2065cbb64bd5df629f495ae6315418c071", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "IP_TOIL_FAC_AFU_LAMB_OIL_HOT de?nes at which fuel evaporates\nmassively from oil which sets a timer, which de?nes how long to wait before evaporation is over (IP_T_\nFAC_AFU_LAMB_OIL_HOT). Find a ?rst calibration below:\nIP_TOIL_FAC_AFU_LAMB_OIL_HOT\n25 40 60 90 120 150 \n75.0 78.0 80.0 81.0 82.0 83.0 \n \nIP_T_FAC_AFU_LAMB_OIL_HOT\nFile: 30Q0CI02.00A\n1472Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 3354, "end_char_idx": 3810, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ce7e4e42-de9a-470c-bb13-c8138a45b694": {"__data__": {"id_": "ce7e4e42-de9a-470c-bb13-c8138a45b694", "embedding": null, "metadata": {"page_label": "185", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4b0b67bb-0ad1-4b90-924a-3bae72f40816", "node_type": "4", "metadata": {"page_label": "185", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "14e77c345f59cb7a5a9da217c4c20284dbb7a03b8ae02bd3029719f9dc570cc3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "eb2f089d-13c5-46e5-b929-f37f3443578c", "node_type": "1", "metadata": {}, "hash": "68e5738d2e748fa2fc8f2c4494c9e5ff70f61b19736f08ceb9315837180b1ab0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, ALFU - Controller (gen)\n25 40 60 90 120 150 \n0.0 30.0 60.0 120.0 240.0 300.0 \n \n1. Decision for oil conditions valid (LV_FAC_AFU_LAMB_OIL = 1). The condition needs to be true to set the\nlearned ethanol content to valid. LC_FAC_AFU_LAMB_OIL_COLD / LC_FAC_AFU_LAMB_OIL_HOT / LC_\nFAC_AFU_LAMB_EXT_REQ_OIL_ENA should be set to \"1\".\n2. LC_FAC_AFU_RATIO_LAMB_IS de?nes the switching off of a valid fuel evaporation condition in idle speed.\nThis is because fuel evaporation has the largest impact during idle speed. The dependency should be\nevaluated for every engine, thus a ?rst calibration should equal zero.\n3. C_VS_GRD_INT_AFU:Fuel mixing in gas tank is sometimes no guaranteed, the fuel tank needs to shaken,\nwhich is realized through a VS_GRD integral. A value of 100km/h showed to be suf?cient, yet it needs to\nbe reevaluated for different fuel tank types.\n4. C_TCO_THD_FAC_AFU_VLD_LEARN [\ufffdC]: TCO below which the ethanol content is inaccurate. Set to 60\ufffdC\nfor ?rst calibration.\n5. C_MFF_SUM_REFU_MIN: injection mass (MFF_SUM_REFU) after which the ?rst new fuel is injected into\nthe cylinder. The fuel line volume de?nes this constant. Experimental procedure: refuel to different\nethanol content and measure MFF_SUM_REFU as well as FAC_LAM_MV_MMV_AFU while running the\nengine. An exponential curve should be observed in FAC_LAM_MV_MMV_AFU once the fuel changes. At\nthe starting point of a changing FAC_LAM_... de?ne C_MFF_SUM_REFU_MIN = MFF_SUM_REFU.\n6. C_MFF_SUM_REFU_MAX: injection mass (MFF_SUM_REFU) after which the new fuel is injected com-\npletely into the cylinder. The fuel line volume as well as possible mixing de?nes this constant. Experi-\nmental procedure: same as for C_MFF_SUM_REFU_MIN, but at the ending point of the exponential curve\nof FAC_LAM_... de?ne C_MFF_SUM_REFU_MAX = MFF_SUM_REFU.\n7. C_MFF_SUM_REFU_LEARN_DEAC: injection mass (MFF_SUM_REFU) above which more precise condi-\ntions have to be met to learn ethanol content further. STATE_ALFU_CTL = ?VLD_LEARN? is then possible,\n= ?LEARN? is not allowed any more.\n4.19.2.1 Ethanol Sensor application (NC_STATE_AFU_SENS_CONF = 1)\nThe ethanol sensor is an option supported by ALFU for\n? calibration of the sensor less algorithms or,\n? use as the main supplies of FAC_AFU_RATIO and use the sensorless algorithms for plausibilization and\nin case of sensor error.\nThe following calibration is necessary:\n1. LC_FAC_AFU_RATIO_CONF can be used to apply the measured value (=0) or to use the sensorless algo-\nrithms (=1) even though the sensor is inside the system. This can be the case if the sensor is used for\ncalibration purposes only.\n2. IP_PERC_FF_SENS / IP_TEMP_FUEL_SENS: as a function of the given sensor frequency / PWM duty cycle,\nthe ethanol content in percent / fuel temperature is given. Mostly a linear relationship is found, the sensor\nbehavior is calibrated here.\n3. C_CRLC_PERC_FF_SENS/ C_CRLC_TEMP_FUEL_SENS: correlation constants to calculation the moving mean\naverage of the raw sensor value. for ?st calibration, they can be set to about 0.6.\n4. To take care of the time lag between ethanol sensor and cylinder, a ringbuffer (FAC_AFU_RATIO_SENS_\nMMV_BUF) is introduced.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3538, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "eb2f089d-13c5-46e5-b929-f37f3443578c": {"__data__": {"id_": "eb2f089d-13c5-46e5-b929-f37f3443578c", "embedding": null, "metadata": {"page_label": "185", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4b0b67bb-0ad1-4b90-924a-3bae72f40816", "node_type": "4", "metadata": {"page_label": "185", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "14e77c345f59cb7a5a9da217c4c20284dbb7a03b8ae02bd3029719f9dc570cc3", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ce7e4e42-de9a-470c-bb13-c8138a45b694", "node_type": "1", "metadata": {"page_label": "185", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "eadb02b673edb8438f7a6299b7ebb17824ef6919e736db7fd638667fb0ec4791", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3. C_CRLC_PERC_FF_SENS/ C_CRLC_TEMP_FUEL_SENS: correlation constants to calculation the moving mean\naverage of the raw sensor value. for ?st calibration, they can be set to about 0.6.\n4. To take care of the time lag between ethanol sensor and cylinder, a ringbuffer (FAC_AFU_RATIO_SENS_\nMMV_BUF) is introduced. C_MFF_SP_AFU_INT de?nes the threshold for an MFF-integral, thus after equal\nMFF-?sclices? the ringbuffer is ?lled. This is needed because the delay between sensor and cylinder does\ndepend on the MFF injected. Therefore, C_MFF_SP_AFU_INT*C_NR_DLY_AFU_SENS_BUF equals the total\nfuel mass between sensor and cylinder (the more increments, the longer the buffer). For ?rst calibration,\nNC_NR_BUF_AFU_SENS should be larger than C_MFF_SP_AFU_INT, for series, they should be equal.\n4.19.3 Fuel Tank Level based Flex Fuel Ratio Detection (90AB and 90B2)\nThe purpose of the fuel tank level based algorithm is to detect a refueling and to provide limits for the ethanol\ncontent to be detected by other algorithms. The following procedure is proposed:\nFile: 30Q0CI02.00A\n1473Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 3228, "end_char_idx": 4409, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2077a713-1dea-4ce3-9a64-9849b32d3c24": {"__data__": {"id_": "2077a713-1dea-4ce3-9a64-9849b32d3c24", "embedding": null, "metadata": {"page_label": "186", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5e430759-6e4a-4473-ab33-1a41848ceccf", "node_type": "4", "metadata": {"page_label": "186", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "787238c549d9a946c273728a7270d3735b361311e4b694661280dc16628166e6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a77fcc3d-237c-480d-87ba-7eccaaa0b640", "node_type": "1", "metadata": {}, "hash": "9af4ff3e5d2275037e2aaf79ab0f35d4a7a4bb912efa4cf28bb9a1efb558df80", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, ALFU - Controller (gen)\n1. C_FTL_PERC_OFS: uncertainty of FTL signal [%], e.g. 5%\n2. IP_FTL_PERC_HYS_REFU: threshold to detect refueling as function of FTL_PERC_STOP [%], standard see\nbelow\n0.8 11.7 19.9 39.8 60.2 80.1 \n4.7 4.7 5.9 7.8 8.6 8.6 \n \n1. C_FAC_AFU_RATIO_MIN/MAX_REFU: minimum/maximum ethanol content that can be refueled to de?ne\nlimits of FAC_AFU_RATIO [-]. For most cases C_FAC_AFU_RATIO_MIN_REFU = 0 and C_FAC_AFU_RATIO_\nMAX_REFU = 1.\n2. LC_AFU_FTL_REFU_BIN: ?ag indicating only two fuels (e.g. E0 and E85) are available [-]. In most cases\nthe ?ag will be set to zero as more fuels are available.\n3. C_FAC_AFU_RATIO_FTL_VLD: in case of binary fuels, the FTL based algorithm may de?ne the ethanol\ncontent, the valid ?ag for learning will then be set [-]. As ?rst estimate, set to 1 if LC_AFU_FTL_REFU_BIN =\n1.\n4. C_FAC_AFU_RATIO_FTL_OFS_MIN/MAX: inaccuracy of FAC_AFU_RATIO_FTL_MIN/MAX [%]. FAC_AFU_RA-\nTIO_FTL_MIN/MAX are widened to ensure that provided limits for FAC_AFU_RATIO in other functions do\nnot inhibit accurate learning.\n5. C_FTL_PERC_REFU_MIN: threshold below which the FTL signal does not decrease (e.g. 3l is shown in\ncase of tank empty) [%]. The value depends on the physical behavior of the FTL signal and treats the\ntank as empty (set to C_FTL_PERC_OFS). This will trigger a refueling quicker than before. E.g., FTL = 3%\nis set to C_FTL_PERC_OFS = 0.8%, refuelling with e.g. 5% = >without this functionality LV_FTL_REFU = 0\nbut now LV_FTL_REFU = 1 because difference larger than IP_FTL_PERC_HYS_REFU.\n6. C_T_DLY_VS_STOP_DET: delay time to detect vehicle has stopped [sec]. Shaking tank content could oth-\nerwise trigger refueling but a refueling with running engine needs to be detected. A value of 15sec seems\nsuf?cient.\n7. C_FTL_H_REFU_DET / C_MFF_SUM_REFU_H_REFU_DET: at high fuel tank level and a de?ned amount of\nfuel consumed since the last refueling, it is apparent that a refueling was missed and a manual detection\nis triggered. C_FTL_H_REFU_DET = 95% and C_MFF_SUM_REFU_H_REFU_DET = 10l may be used for ?rst\ncalibration.\n8. C_MFF_SUM_REFU_MAX_REFU_DET: if more fuel is consumed that is actually in the gas tank, by de?nition\na refueling has been missed and a manual refueling is triggered. E.g. for a gas tank with a volume of 52\nliters, C_MFF_SUM_REFU_MAX_REFU_DET = 60l.\n9. C_T_FTL_CAN_VLD [sec]: sometimes the FTL signal over can needs a certain time after ignition on to\ndeliver a valid signal. This time is to be added here.\n10. C_MFF_SP_AFU [stk*ml/(rpm*mg)]: Conversion constant from MFF_SP to MFF_SUM_REFU. Since injec-\ntion works segment synchronous but calculation is done in 100ms time, N_32 and this constant are\nneeded.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3058, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a77fcc3d-237c-480d-87ba-7eccaaa0b640": {"__data__": {"id_": "a77fcc3d-237c-480d-87ba-7eccaaa0b640", "embedding": null, "metadata": {"page_label": "186", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5e430759-6e4a-4473-ab33-1a41848ceccf", "node_type": "4", "metadata": {"page_label": "186", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "787238c549d9a946c273728a7270d3735b361311e4b694661280dc16628166e6", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "2077a713-1dea-4ce3-9a64-9849b32d3c24", "node_type": "1", "metadata": {"page_label": "186", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "e342a9d10713728eab016e63011d3574adb07f3c0cf8255fba5ed00148861233", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This time is to be added here.\n10. C_MFF_SP_AFU [stk*ml/(rpm*mg)]: Conversion constant from MFF_SP to MFF_SUM_REFU. Since injec-\ntion works segment synchronous but calculation is done in 100ms time, N_32 and this constant are\nneeded.\n4.19.4 Lambda based Flex Fuel Ratio Detection (90A8 and 90B3)\nThe purpose of the lambda based ?ex fuel detection algorithm is to use the lambda deviation (the lambda\ncontroller output) and its relationship to the stoichiometric factor to calculate the ethanol content. The usability\nof the function depends on the correct application of the basic injected fuel mass (MFF_BAS) for E0 as well as\nfor the highest possible ethanol content of the system (e.g. E85). FAC_LAM_MV_MMV_AFU then de?nes the\nethanol content controller deviation, which leads to an increment (in case of FAC_LAM_... >0) or decrement\n(in case of FAC_LAM_... <0) of FAC_AFU_RATIO_LAMB. This, again, changes the deviation from stoichiometry\nand thus reduces FAC_LAM_... Once FAC_AFU_RATIO_LAMB reaches the correct ethanol content, FAC_LAM_\nMV_MMV_AFU is ideally equal to zero. The following procedure for data de?nition is proposed:\n1. Lambda controller deviation to start ethanol content calculation C_FAC_LAM_MV_BOL/TOL_AFU_ACT: A\n?rst calibration should be set to -3/+3 %.\n2. Update delay of lambda based ethanol controller C_T_DLY_FAC_AFU_LAMB_CTL_UPD: A value of 1sec\nhas shown to be suf?cient.\nFile: 30Q0CI02.00A\n1474Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 2825, "end_char_idx": 4355, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7a740788-3a7b-4882-9f22-ed076a22ac70": {"__data__": {"id_": "7a740788-3a7b-4882-9f22-ed076a22ac70", "embedding": null, "metadata": {"page_label": "187", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c1fcd831-03a9-4c63-9f6a-aaba9ee5920e", "node_type": "4", "metadata": {"page_label": "187", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "e4d857ad970d293ee386ea533ae6f7fa5eadba7be4ffa881b3013f2505e38a77", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7aa27004-837d-4d4f-a5e5-ced5d6d37ecb", "node_type": "1", "metadata": {}, "hash": "032581bfa85ccd3e0c6b981caf7352a7abe981cf3c2b8458fd64845c35e84081", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, ALFU - Controller (gen)\n3. Limitation of lambda based ethanol value with FTL based limits LC_FAC_AFU_RATIO_LAMB_LIM: For a\n?rst evaluation, set to zero. Once the system (outside ALFU) is calibrated suf?ciently, it should be set to\n\"1\" and evaluated by starting with a gas tank being almost empty and ?lling it up to a 50% with E0. The\ndetected value should be close to E0 and the FTL boundaries should be very close to it.\n4. The Ethanol content controller parameters are parameters similar to correlation constants. They are\nseparated into fast and slow controlling. C_FAC_I_AFU_RATIO_UP/DOWN_FAST = 0.78125 and C_FAC_I_\nAFU_RATIO_UP/DOWN = 0.39063 have been shown to be ?rst values for very quick ethanol content\ncalculation. In the process of development they might be reduced to reduce overshoot. Switch between\nfast and slow correlation constant done by C_FAC_LAM_MV_AFU_THD_UP/DOWN.\n5. Valid timer incrementation: the ethanol content calculation and the validation of the calculated value\nare separated. Validation conditions have to be more thorough to ensure low calculation errors but\nachieving a drivable vehicle.\n6. C_T_FAC_AFU_RATIO_OIL_COLD_MAX [sec]: timer threshold for T_FAC_AFU_RATIO_LAMB_VLD to freeze\nvalidity on oil evaporation cold condition. For ?rst calibration, set to 6500sec as it might not be necessary\nfor every project to use.\n7. IP_FAC_AFU_RATIO_LAMB_VLD: Valid Factor as a function of valid timer. The following calibration has\nproven to be suf?cient:\n0 5 15 20 25 30 \n0.0 0 0.5 0.75 1 1.25 \n \n1. C_FAC_AFU_RATIO_LAMB_VLD_DEAC: constant to set valid ?ag and deactivate lambda based ethanol\ncontent calculation. Setting the constant equal to \"1\" showed to be suf?cient.\n2. IP_MAF_MIN_FAC_AFU_LAMB_VLD [mg/stk]: minimum MAF threshold to increment FAC_AFU_RATIO_\nLAMB_VLD on time to force detection process into more accurate mode (STATE_ALFU_CTL = ?VLD_\nLEARN?).\n4.19.5 Engine Running Adaptation (709J and 709K)\nThe purpose of the engine running adaptation (ERU) is to keep the engine running in case of refueling detected\nand lambda sensor not ready. It consists of two parts:\n? an engine roughness standard deviation based algorithm that reacts on combustion problems and\n? a lambda ef?ciency based algorithm that is based on cylinder individual torque.\nFor both parts, which can be used independently from another, one cylinder is forced to a rich and one cylinder\nis forced to a lean mixture while the overall lambda is kept at unity.\n4.19.5.1 Engine Roughness Based\nThe purpose of this part of the function is to adjust the injection mass if a rather extreme engine roughness\ndeviation is detected on either the rich or the lean cylinder. This indicates that the overall lambda is far away\nfrom unity and needs to be shifted rapidly.\nThe function part is currently under development and should not be used at this point.\n4.19.5.2 Lambda Ef?ciency Based\nThrough engine roughness, it is possible to calculate the torque difference between the rich and the lean\ncylinder. This difference can be used to move the overall lambda value in the direction of the overall maximum\ntorque, which usually lies around 0.9. By application, an overall lambda close to one can be achieved. The\nethanol content is used to achieve this overall lambda shift, a rough estimate of the ethanol content is provided\nbefore the lambda control is active. The following procedure for ?rst application is proposed:\n1. Activation Conditions to achieve use before lambda based detection is active.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3884, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7aa27004-837d-4d4f-a5e5-ced5d6d37ecb": {"__data__": {"id_": "7aa27004-837d-4d4f-a5e5-ced5d6d37ecb", "embedding": null, "metadata": {"page_label": "187", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "c1fcd831-03a9-4c63-9f6a-aaba9ee5920e", "node_type": "4", "metadata": {"page_label": "187", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "e4d857ad970d293ee386ea533ae6f7fa5eadba7be4ffa881b3013f2505e38a77", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7a740788-3a7b-4882-9f22-ed076a22ac70", "node_type": "1", "metadata": {"page_label": "187", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "c8051f1bdfadfe9c6ec724e202a1c40c5e28741b56c48a70ac83156dbaba85c4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "By application, an overall lambda close to one can be achieved. The\nethanol content is used to achieve this overall lambda shift, a rough estimate of the ethanol content is provided\nbefore the lambda control is active. The following procedure for ?rst application is proposed:\n1. Activation Conditions to achieve use before lambda based detection is active. First values to run function:\nC_FAC_AFU_RATIO_VLD_ERU_DEAC=0.0625; C_MFF_SUM_REFU_THD_ERU_ACT=0.08; C_MFF_SUM_REFU_\nTHD_ERU_DEAC=0.350; IP_EFF_IGA_MIN_ERU_LAMB=0.78; C_FAC_MFF_AFU_COR_MIN=0.0254;\nFile: 30Q0CI02.00A\n1475Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 3527, "end_char_idx": 4210, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "278781e8-3194-4c8e-a43d-1c5274c8e70f": {"__data__": {"id_": "278781e8-3194-4c8e-a43d-1c5274c8e70f", "embedding": null, "metadata": {"page_label": "188", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "97259d39-55f3-4c64-93a6-144a4f068a52", "node_type": "4", "metadata": {"page_label": "188", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "7f3febf716389519a2fc6f8b7eee10646c6e898a6c99c989c6b4ff0fc9824ef4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, ALFU - Controller (gen)\n2. Cylinder individual injection time correction is achieved by a factor that in?uences the injection mass.\nExample for IP_FAC_MFF_AFU_CYL_ERU:\n CTR_SEG_... 64 ... 127 ... 256 ... \nCYL_NR_ERU        \n0  0  1  0  \n1  0  -1  0  \n2  0  0  1  \n3  0  0  -1  \n \nIP_FAC_MFF_AFU_COR_ERU should be set to 0.1 for initial application, though it is advised not to use\nthe engine running adaptation at high torque and rpm (IP_... = 0).\n1. De?nition of segment CTR_SEG_... to de?ne the cycle of lean/rich shift in IP_FAC_MFF_AFU_CYL_ERU:\ne.g. C_CTR_SEG_MFF_AFU_ERU_RST = 256 would repeat entries in the IP_.. every 256 segments, e.g.\nC_CTR_SEG_MFF_AFU_ER_INI = 127 would start the next cycles at 127 segments.\n2. Warm up correction IP_FAC_ERU_WUP_COR in?uences the calculated overall lambda. Initial values can\nrange between 15 for TCO = -30\ufffdC and 0 for TCO = 39.8\ufffdC.\n3. Calculated lambda from engine roughness. After determination if lambda is greater or smaller than 0.9,\nIP_ER_STND_DIF_AFR (for lambda <0.9) and _AFS normalize the torque difference between the rich and\nlean cylinder (initial value = 8.59 1/s?2. The result is then used (with the warm up correction) to calculate\nthe actual overall lambda of the engine: IP_LAMB_CLC_ER_AFR\nFAC_ER_DIF_RATIO -0.406 -0.203 -0.156 -0.094 -0.047  0 \nIP_LAMB_CLC_... 0.6580 0.7651 0.7908 0.8245 0.8501 0.8757 \n \nIP_LAMB_CLC_ER_AFS\nFAC_ER_DIF_RATIO 0 0.250 0.500 0.750 1 1.250 \nIP_LAMB_CLC_... 0.8757 0.9299 1 1.0806 1.1570 1.2407 \n \nAlong with C_CRLC_LAMB_CLC_ER_FIL (= 0.2) the ?ltered calculated lambda is given.\n1. The difference to the lamda setpoint is then calculated through IP_LAMB_SP_ERU, where for initial appli-\ncation LAMB_SP can range between 0.7 and 1.15 on the axis as well as in the map (no effect of map). The\nwarm up correction can be omitted at ?rst.\n2. LC_ERU_AFL_AFR: Delay counter activation (=1) for LAMB_ADD_ERU_AD_LAMB calculation. For ?rst cali-\nbration, the delay counter should be switched off (also C_CTR_CLC_ERU_AD_LAMB_INI = 0).\n3. IP_LAMB_ADD_ERU_AD_LAMB: lambda correction based on difference between lambda setpoint and\ncalculated lambda. For ?rst calibration, use\nDELTA_LAMB_CLC_ER  -0.2 -0.1 -0.05 -\n0.01 \n0 0.01 0.05 0.1 0.2 \nIP_LAMB_ADD... -\n0.04 \n-\n0.01 \n-\n0.005 \n0 0 0 0.005 0.01 0.04 \n \n1. C_CTR_DLY_ERU_AD_INI: initialization for the countdown of CTR_DLY_ERU_AD. For ?rst calibration, use 63.\nFor both parts of the function, the following calibration is used:\nFile: 30Q0CI02.00A\n1476Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2974, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d8e9927f-902e-4815-9b3f-30740cd51630": {"__data__": {"id_": "d8e9927f-902e-4815-9b3f-30740cd51630", "embedding": null, "metadata": {"page_label": "189", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a592ec47-3c8e-418a-a534-32d02b858e42", "node_type": "4", "metadata": {"page_label": "189", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "da5331a6f713a3288d470d2b24724dbd7adc4a61f8a43fde39cee05dff8e018f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, ALFU - Controller (gen)\n1. IP_FAC_LAMB_ADD_ERU_AD_DYN: Dynamic limitation for calculation of lambda correction LAMB_ADD_\nERU_AD. For ?rst calibration, it can be set to one.\n2. IP_FAC_LAMB_AD_ERU: map to add a weight to the additive lambda correction during calculation of\nLAMB_ADD_ERU_AD depending on N_DIF_COR. For ?rst calibration, use\nN_DIF_COR -300 0 40 60 80 100 120 140 \nIP_FAC_LAMB_... 1 1 1.1 1.2 1.4 1.6 1.8 2 \n \n1. C_MFF_FAC_ERU / IP_FAC_AFU_RATIO_MFF_FAC: injection mass calculation used for FAC_AFU_RATIO_\nERU. For ?rst calibration use C_... = 0.02 and\nFAC_MFF_ERU 0.01993 0.02271 0.02554 0.02838 \nIP_FAC_AFU_.. 0 0.336 0.664 1 \n \n1. The validity of the engine running adaptation is not used to incorporate the resulting FAC_AFU_RA-\nTIO_ERU into the ?nal FAC_AFU_RATIO, which is done e.g. with FAC_AFU_RATIO_LAMB. Never the less,\nthe functionality offers this possibility (initial calibration in brackets) through the C_MAF_MIN_ERU_VLD\n(=130mg/stk), C_TOIL_THD_ERU_MIN (=50\ufffdC), C_TOIL_THD_ERU_MAX(80), C_FAC_AFU_RATIO_ERU_VLD_\nINC(=0.00391) to supply information for the calibration engineer. The ?ag LV_FAC_AFU_RATIO_ERU_VLD\nis provided to determine the current status of ethanol detection.\n4.19.6 Default Start Strategy (90BE and 90BF)\nThe default start strategy is necessary to ensure that the engine starts under all circumstances. Especially at\nlow ambient temperatures, engine start might not be possible if e.g. the learning of the ethanol content was\nnot properly ?nished in the previous driving cycle. Two conditions trigger the default start strategy (LV_FAC_\nAFU_RATIO_DFT_ST_REQ = 1):\n? The engines does not start.\n? FAC_AFU_RATIO was not learned properly in the previous driving cycle (FAC_AFU_RATIO_VLD = 0). E.g.,\nwhen refueling is detected and the engine is switched off right before the new fuel enters the cylinder,\nthe old ethanol content is still stored in the ECU while for the next start the new fuel is already injected.\nThe following calibration is used:\n1. LC_FAC_AFU_RATIO_DFT_ST_ENA [-]: enables the default start strategy in case engine does not start\nbecause of ethanol content estimated incorrectly. For ?rst use, it should be set to zero.\nFile: 30Q0CI02.00A\n1477Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 2695, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d27aa1d9-0ec8-4214-a914-dc1437b7f7f1": {"__data__": {"id_": "d27aa1d9-0ec8-4214-a914-dc1437b7f7f1", "embedding": null, "metadata": {"page_label": "190", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9bc4342b-9c89-4360-b5af-3507af5ae5df", "node_type": "4", "metadata": {"page_label": "190", "file_name": "4_ALFU-Alternative_fuel.pdf", "chapter": "4_ALFU-Alternative_fuel", "document_type": "Technical Guide", "source_filename": "4_ALFU-Alternative_fuel.pdf"}, "hash": "ec701b03c5690c92186938555f4c7ff9c5c2c7d2abcacfc5e4fc00424ceba754", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Copyright \ufffdContinental AG. Transmittal, reproduction, dissemination and/or editing of this document as well as utilisation of its contents and communication thereof to others without\nexpressed authorisation are prohibited. Offenders will be held liable for payment of damages. All rights created by patent grant or registration of a utility model or design patent are reserved.\nALFU, ALFU - Controller (prj)\n4.20 ALFU - Controller (prj)\nFile: 30Q0CJ01.00A\n1478Project: VW SIMOS 18.1 EA888 Document key: 10213413 SPE 000 DE\nBaseline: SC8L50Y0 Copyright Continental AG", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 566, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fb012558-c812-4a03-bc3a-1b633bb9cf57": {"__data__": {"id_": "fb012558-c812-4a03-bc3a-1b633bb9cf57", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "51323339-d4c7-46e8-ad0e-f697750bd0a1", "node_type": "1", "metadata": {}, "hash": "12a130eb041a5a17c8aba27712dfc48661b9366bdcccb93eeb2dfe6cc7a3e8ca", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "--- Page 9 ---\r\n\r\nThis image displays a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram, titled \"Initialisation at RESET\" for \"ALFU: Ethanol sensor acquisition,\" is to define and apply the initial or reset values for various parameters and sensor-related signals within an ethanol sensor acquisition system. It ensures that upon a system reset, key variables are set to a known, safe, and predefined operational state.\r\n\r\n## Inputs\r\nThe diagram illustrates the inputs to an initialization/reset process, which include both a trigger signal and the default values for several system variables.\r\n\r\n*   **Trigger Input:**\r\n    *   `rst`: A signal that serves as a trigger for the initialization/reset process within the central block labeled \"1.\"\r\n\r\n*   **Initial Value Inputs (for each listed signal):** For each of the following signals, two constant values are provided as part of its initialization definition. These constants define the default state upon reset:\r\n    *   `0`: Represents the default or zero-point initial value for the corresponding signal at reset.\r\n    *   `V. 5.5`: This constant could represent various parameters depending on the system's context, such as a maximum voltage (e.g., 5.5 Volts), a scaling factor, or a data type specification (e.g., related to fixed-point precision). In an automotive sensor context, it often relates to sensor range or scaling.\r\n\r\nThe specific signals being initialized with these values are:\r\n*   `FAC_AFU_RATIO_SENS_MMV_DLY` (Fuel/Air Ratio Sensor Moving Mean Value Delay)\r\n*   `FRQ_PERC_FF_SENS_RAW` (Frequency Percentage Flex Fuel Sensor Raw)\r\n*   `LV_FAC_AFU_RATIO_SENS_VLD` (Low Voltage Fuel/Air Ratio Sensor Valid)\r\n*   `MFF_SP_AFU_INT` (Mass Flow Fuel Setpoint Fuel/Air Ratio Internal)\r\n*   `PERC_FF_SENS_MMV` (Percentage Flex Fuel Sensor Moving Mean Value)\r\n*   `PERC_FF_SENS_RAW` (Percentage Flex Fuel Sensor Raw)\r\n*   `TEMP_FUEL_SENS_RAW` (Temperature Fuel Sensor Raw)\r\n*   `T_TEMP_FUEL_SENS_RAW` (Time or Temperature-related Fuel Temperature Sensor Raw)\r\n*   `T_DLY_AFU_SENS_ACQ` (Time Delay Fuel/Air Ratio Sensor Acquisition)\r\n\r\n## Outputs\r\nThe explicit output shown in the diagram is:\r\n*   `rst`: A signal originating from the block labeled \"1\" (which represents the core reset logic). This output `rst` likely indicates the completion of the initialization process, or it serves to propagate the reset event to other parts of the system for synchronized reset operations.\r\n\r\nThe conceptual outputs of this initialization step are the *initialized states* of all the variables listed above, which are now set to their respective default values within the system, preparing the ethanol sensor acquisition module for operation.\r\n\r\n## Logic Flow\r\n1.  **Reset Trigger Activation:** An external or internal system reset event initiates the process by activating the `rst` input signal, which is fed into the subsystem/function block labeled \"1\".\r\n2.  **Define Initial Values:** Simultaneously or in response to the `rst` trigger, a series of constant blocks generate predefined values (`0` and `V. 5.5`) for each of the specified ethanol sensor acquisition related signals. These constants represent the desired default or initial state for these signals upon system reset.\r\n3.  **Input to Initialization Logic:** The `rst` trigger signal and all the defined initial value constants for the various sensor parameters are then channeled as inputs to the central subsystem or function block, labeled \"1\". The thick vertical line on the left side of block \"1\" visually represents the grouping or busing of these multiple input signals.\r\n4.  **Execute Initialization:** Block \"1\" processes these received inputs. It contains the core logic for the reset and initialization procedure. Upon receiving the `rst` trigger, it applies the provided constant values to set the corresponding internal system variables (like `FAC_AFU_RATIO_SENS_MMV_DLY`, `PERC_FF_SENS_RAW`, etc.) to their initial, predefined states.\r\n5.  **Reset Completion Signal:** After the internal initialization within block \"1\" is completed, it outputs a signal also named `rst`. This output signals that the reset and parameter initialization for the ethanol sensor acquisition system are finished, potentially enabling other functionalities or confirming the system's readiness.\r\n\r\n\r\n--- Page 10 ---\r\n\r\nThis image is indeed a Simulink diagram.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 4403, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "51323339-d4c7-46e8-ad0e-f697750bd0a1": {"__data__": {"id_": "51323339-d4c7-46e8-ad0e-f697750bd0a1", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "fb012558-c812-4a03-bc3a-1b633bb9cf57", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "41bd498411f02c7636c273aa7da1589c6509fc6eecda94ce597202374e9202f0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6518a6e0-8289-48bd-a3e3-26102e45a889", "node_type": "1", "metadata": {}, "hash": "8a6157cf67640fdd04a52e26e1b86ceac8c7b608f9f7008f0a1caa93f45772c7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "to their initial, predefined states.\r\n5.  **Reset Completion Signal:** After the internal initialization within block \"1\" is completed, it outputs a signal also named `rst`. This output signals that the reset and parameter initialization for the ethanol sensor acquisition system are finished, potentially enabling other functionalities or confirming the system's readiness.\r\n\r\n\r\n--- Page 10 ---\r\n\r\nThis image is indeed a Simulink diagram.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to control the acquisition of data from an Ethanol sensor (indicated by \"ALFU: Ethanol sensor acquisition\" and block names like `AFU_SENS_CONF`, `SENS_ACQ_CLC`). Specifically, it determines the conditions under which sensor data acquisition should proceed versus when it should be disabled or handled as \"no acquisition\". It implements a decision logic based on system states, permissions, configurations, and error flags.\r\n\r\n## Inputs\r\n\r\n1.  **`feedback` (Port 1):** A feedback signal, likely representing the previous state or output of the sensor acquisition process, used for stateful behavior or hysteresis in the `SENS_ACQ_CLC` and `NO_SENS_ACQ` blocks.\r\n2.  **`Input` (Port 2):** An input signal to the `SENS_ACQ_CLC` block, providing raw sensor data or other relevant parameters for calculation when acquisition is active.\r\n3.  **`NC_STATE_AFU_SENS_CONF` (Port 3):** A boolean or enumerated signal indicating the configuration status of the AFU (Alcohol Fuel Unit) sensor.\r\n4.  **`ACTION_FARM_GetPermission_T3` (Port 4):** A permission signal related to \"FARM\" (possibly a functional area or module), specifically permission T3.\r\n5.  **`LC_FAC_AFU_RATIO_CONF` (Port 5):** A configuration status for the AFU ratio.\r\n6.  **`NC_FID_ERR_AFU_SENS_ACQ` (Port 6):** A fault or error flag indicating an issue with AFU sensor acquisition.\r\n7.  **`PRM_FID` (via `ActionImport ACTION_FARM_GetPermission`):** Another permission signal, likely from a different source within the FARM functional area, required for combined permission checks.\r\n\r\n## Outputs\r\n\r\n1.  **`sens_acq` (Port 1):** The final output of the sensor acquisition logic. This signal carries either the calculated sensor acquisition data/status when active, or a \"no acquisition\" state when disabled.\r\n\r\n## Logic Flow\r\n\r\nThe diagram's logic revolves around a conditional subsystem (`cond_if` block) that selects between two operational modes: active sensor acquisition (`SENS_ACQ_CLC`) or no sensor acquisition (`NO_SENS_ACQ`).\r\n\r\n**Step 1: Determine the Condition for `cond_if`:**\r\n\r\nA complex boolean logic determines whether the sensor acquisition should be active. This logic combines several input signals:\r\n\r\n*   **AFU Sensor Configuration Check:** `NC_STATE_AFU_SENS_CONF` (Input 3) is processed through an `ActionImport` block to produce `PRM_LV_PRMS`. This indicates a level of permission or status derived from the sensor's configuration.\r\n*   **FARM Permission Combination:** `ACTION_FARM_GetPermission_T3` (Input 4) is logically `AND`ed with another permission signal, `PRM_FID` (from `ActionImport ACTION_FARM_GetPermission`). Both these FARM-related permissions must be true.\r\n*   **Error and Ratio Configuration Check:** The `NC_FID_ERR_AFU_SENS_ACQ` (Input 6) signal is inverted using a `NOT` gate. This means there should be **no error** for this part of the condition to be true. The inverted error signal is then `AND`ed with `LC_FAC_AFU_RATIO_CONF` (Input 5), meaning the AFU ratio must be configured **and** there must be no acquisition error.\r\n*   **Overall `AND` Condition:** The outputs of the \"FARM Permission Combination\" and \"Error and Ratio Configuration Check\" are both fed into a multi-input `AND` block. This `AND` block also receives the `PRM_LV_PRMS` signal (from the AFU Sensor Configuration Check). All these conditions must be simultaneously true for the output of this final `AND` block to be true.\r\n*   **`cond_if` Selection:** The output of this final multi-input `AND` block serves as the condition for the `cond_if` block (V.5.3). If this condition is true, the `if` branch is activated; otherwise, the `else` branch is activated.", "mimetype": "text/plain", "start_char_idx": 3964, "end_char_idx": 8103, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6518a6e0-8289-48bd-a3e3-26102e45a889": {"__data__": {"id_": "6518a6e0-8289-48bd-a3e3-26102e45a889", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "51323339-d4c7-46e8-ad0e-f697750bd0a1", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "ceb2253f165ab63c94eaf876031b86c2aef4063d7daad691a29c6887da96555e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b304e470-668c-4db1-a4cb-6f13edb24539", "node_type": "1", "metadata": {}, "hash": "dd617f9b2273e69298e80b301f085c9a45a6c57f7f035c7798dbd3a27ba9e4ef", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "All these conditions must be simultaneously true for the output of this final `AND` block to be true.\r\n*   **`cond_if` Selection:** The output of this final multi-input `AND` block serves as the condition for the `cond_if` block (V.5.3). If this condition is true, the `if` branch is activated; otherwise, the `else` branch is activated.\r\n\r\n**Step 2: Conditional Execution of Functional Blocks:**\r\n\r\n*   **If Condition is TRUE (Enable Acquisition):**\r\n    *   The `SENS_ACQ_CLC` block (Sensor Acquisition Calculate/Control, X.2.1.1) is executed.\r\n    *   It takes `Input` (Port 2) and `feedback` (Port 1) as its inputs.\r\n    *   Its output, `sens_acq_clc`, represents the processed sensor data or control output when acquisition is active.\r\n*   **If Condition is FALSE (Disable Acquisition):**\r\n    *   The `NO_SENS_ACQ` block (No Sensor Acquisition, X.2.1.2) is executed.\r\n    *   It takes `feedback` (Port 1) as its input.\r\n    *   Its output, `no_sens_acq`, likely represents a default \"no acquisition\" state, such as a zero value, a specific error code, or a last known good value.\r\n\r\n**Step 3: Output Generation:**\r\n\r\n*   The outputs from the two conditionally executed blocks (`sens_acq_clc` and `no_sens_acq`) are fed into a `BusMerge` block (V.5.35).\r\n*   The `BusMerge` combines these signals into a single bus. Since only one of the conditional branches is active at any given time, the output `sens_acq` (Port 1) will carry the result from the currently active functional block (`SENS_ACQ_CLC` or `NO_SENS_ACQ`).\r\n*   The `feedback` input suggests that the `sens_acq` output (or a derivative of it) might be fed back to the input port 1 in the subsequent time step, enabling sequential control or filtering.\r\n\r\n\r\n--- Page 12 ---\r\n\r\nThis image displays a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to **calculate the ethanol sensor value actually injected into the engine cylinders (`eth_sens_inj_cyl`)**. This calculation integrates various sensor acquisition parameters, buffered values, mass fuel flow states, and potentially time-delayed measurements. It uses conditional logic to select or modify internal signals, ensuring the determined ethanol content is accurate for subsequent fuel control strategies within an automotive system. The overall context, \"ALFU: Ethanol sensor acquisition,\" confirms its role in acquiring and processing ethanol sensor data.\r\n\r\n## Inputs\r\nThe key dynamic inputs (signals entering the system via green Inport blocks) are:\r\n\r\n1.  **`MFF_SP_AFU_INT` (3):** Mass Fuel Flow Setpoint for Air Fuel Unit Integration.\r\n2.  **`IDX_AFU_SENS_BUF_in` (4):** Index for the Air Fuel Unit sensor buffer input.\r\n3.  **`FAC_AFU_RATIO_SENS_MMV` (2):** Factor for Air Fuel Ratio (AFU) sensor, representing a measured value.\r\n4.  **`MFF_SP_AFU_INT_RES_in` (1):** Result of the Mass Fuel Flow Setpoint for Air Fuel Unit Integration input.\r\n5.  **`T_DLY_AFU_SENS_ACQ` (6):** Time delay for Air Fuel Unit sensor acquisition.\r\n6.  **`FAC_AFU_RATIO_SENS_MMV_BUF_in` (5):** Buffered input of the Factor for Air Fuel Ratio sensor measured value.\r\n7.  **`input` (7):** A generic input signal for the `MFF_INT` subsystem.\r\n8.  **`feedback` (8):** A generic feedback signal for the `MFF_INT` subsystem.\r\n\r\nIn addition to dynamic inputs, there is a key constant/parameter:\r\n\r\n*   **`C_MFF_SP_AFU_INT`:** A constant or parameter representing a threshold for comparison with `MFF_SP_AFU_INT`.\r\n\r\n## Outputs\r\nThe main output of the system is:\r\n\r\n1.  **`eth_sens_inj_cyl` (1):** The calculated ethanol sensor value, representing the actual ethanol content injected per cylinder.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be understood as a combination of conditional processing, two main parallel processing paths for mass fuel flow and sensor buffering, followed by a final merging and output extraction:\r\n\r\n1.  **Conditional Logic (Top Left - `cond_if` V.", "mimetype": "text/plain", "start_char_idx": 7766, "end_char_idx": 11675, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b304e470-668c-4db1-a4cb-6f13edb24539": {"__data__": {"id_": "b304e470-668c-4db1-a4cb-6f13edb24539", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6518a6e0-8289-48bd-a3e3-26102e45a889", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "3f702225a63b2d26abd264c07f65c079cca8c076391a91c710e439db9f152c39", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "389e5cb9-6673-4f73-972e-029045eca7d8", "node_type": "1", "metadata": {}, "hash": "6302585e06e9d0076d02dc6fa962e740285e42c0cfb63529c74f46a407677be6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Outputs\r\nThe main output of the system is:\r\n\r\n1.  **`eth_sens_inj_cyl` (1):** The calculated ethanol sensor value, representing the actual ethanol content injected per cylinder.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be understood as a combination of conditional processing, two main parallel processing paths for mass fuel flow and sensor buffering, followed by a final merging and output extraction:\r\n\r\n1.  **Conditional Logic (Top Left - `cond_if` V. 5.3):**\r\n    *   The input `MFF_SP_AFU_INT` is compared against the constant `C_MFF_SP_AFU_INT` using a \"greater than or equal to\" (`>=`) condition.\r\n    *   This conditional block has \"if\" and \"else\" paths. The dashed lines originating from this block and leading towards the `AFU_SENS_BUF` subsystem suggest that the outcome of this condition dynamically influences or selects the internal signals that are fed into the sensor buffer processing. It could gate, modify, or choose between different versions of `IDX_AFU_SENS_BUF`, `FAC_AFU_RATIO_SENS_MMV`, etc.\r\n\r\n2.  **Mass Fuel Flow Integration (`MFF_INT` X.2.1.1.2.2):**\r\n    *   This subsystem receives two inputs: `input` (7) and `feedback` (8).\r\n    *   Internally, a function `fc()` processes these inputs, likely performing an integration or calculation related to mass fuel flow.\r\n    *   It outputs the signal `mff_int`, which is an integrated or processed mass fuel flow value.\r\n\r\n3.  **AFU Sensor Buffer Processing (`AFU_SENS_BUF` X.2.1.1.2.1):**\r\n    *   This is a core processing block for managing and calculating sensor data related to the Air Fuel Unit.\r\n    *   It takes multiple inputs: `IDX_AFU_SENS_BUF_in`, `FAC_AFU_RATIO_SENS_MMV`, `MFF_SP_AFU_INT_RES_in`, `T_DLY_AFU_SENS_ACQ`, and `FAC_AFU_RATIO_SENS_MMV_BUF_in`. These represent various sensor buffer parameters, measured values, results, and time delays.\r\n    *   It also receives the `mff_int` signal from the `MFF_INT` subsystem, integrating mass fuel flow information into the sensor processing.\r\n    *   Inside `AFU_SENS_BUF`, a function `fc()` processes these combined inputs. This likely involves buffering sensor data, applying calculations, or filtering to prepare data for ethanol content determination.\r\n    *   The subsystem outputs a bus signal named `afu_sens_buf`, which bundles together various processed sensor data elements.\r\n\r\n4.  **Output Generation (`BusMerge` V. 5.35):**\r\n    *   The `BusMerge` block takes the `afu_sens_buf` bus (containing processed sensor data) and the `mff_int` signal (mass fuel flow information).\r\n    *   It combines these into a larger, merged bus structure.\r\n    *   From this merged bus, the specific signal `eth_sens_inj_cyl` is extracted and routed to the top-level output port. This final output represents the calculated ethanol sensor value actually injected into the cylinders, consolidating all the processed sensor data and fuel flow information.\r\n\r\n\r\n--- Page 13 ---\r\n\r\nThis image is a Simulink diagram (or a similar block diagram representation).\r\n\r\n## Function\r\nThe primary function of this diagram is to manage and fill a circular buffer for AFU (likely Ethanol sensor) data. It calculates an incrementing, wrapping buffer index, stores two different sensor ratio measurements (`FAC_AFU_RATIO_MMV_in` and `FAC_AFU_RATIO_SENS_MMV`) into memory, and then outputs a validated version of one of the buffered sensor values (`FAC_AFU_RATIO_MMV_BUF`). This output value is conditional, either providing the sensor data if deemed valid (based on an acquisition delay check) or outputting zero otherwise, to avoid using invalid sensor signals. It also outputs a diagnostic or status flag `MFF_SP_AFU_INT`.\r\n\r\n## Inputs\r\n*   **`IDX_AFU_SENS_BUF_in`**: The current or previous index used for writing into the AFU sensor buffer.\r\n*   **`NC_NR_BUF_AFU_SENS`**: A parameter representing the total number of elements in the AFU sensor buffer. This is used for the modulo operation (circular buffer) and for defining the buffer size.\r\n*   **`T_DLY_AFU_SENS_ACQ`**: The current time delay associated with the AFU sensor acquisition.", "mimetype": "text/plain", "start_char_idx": 11217, "end_char_idx": 15280, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "389e5cb9-6673-4f73-972e-029045eca7d8": {"__data__": {"id_": "389e5cb9-6673-4f73-972e-029045eca7d8", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b304e470-668c-4db1-a4cb-6f13edb24539", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "c3369a8c2684c52d00a22e70cc0df870e588ecc0c0aee7ab688c652a0f5df341", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0346efa1-6d12-40d0-81f9-fa51efaddfcc", "node_type": "1", "metadata": {}, "hash": "334d66d61e02f451e946f3838ee2d4ff59f1886409479370a89b665cc37d0eb7", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **`NC_NR_BUF_AFU_SENS`**: A parameter representing the total number of elements in the AFU sensor buffer. This is used for the modulo operation (circular buffer) and for defining the buffer size.\r\n*   **`T_DLY_AFU_SENS_ACQ`**: The current time delay associated with the AFU sensor acquisition.\r\n*   **`C_T_DLY_AFU_SENS_ACQ`**: A constant threshold value used to compare against `T_DLY_AFU_SENS_ACQ` to determine sensor data validity.\r\n*   **`[IDX_AFU_SENS_BUF]`**: Represents the existing buffer array itself, which is updated by the buffer assignment blocks. (Note: The notation `[IDX_AFU_SENS_BUF]` suggests it is the array, but it is also used as part of signal names, making it ambiguous whether it's the array data store or an index.) Given the context, it's the buffer contents.\r\n*   **`FAC_AFU_RATIO_MMV_in`**: The new raw or primary AFU sensor ratio measurement to be buffered.\r\n*   **`FAC_AFU_RATIO_SENS_MMV`**: Another AFU sensor ratio measurement, also to be potentially buffered.\r\n*   **Constant `1`**: Used to increment the buffer index.\r\n*   **Constant `0`**: Used as a default value for outputs when conditions are not met, or for initialization.\r\n\r\n## Outputs\r\n*   **`IDX_AFU_SENS_BUF_out`**: The newly calculated, wrapped-around (circular) index for the AFU sensor buffer.\r\n*   **`FAC_AFU_RATIO_MMV_BUF`**: The validated AFU sensor ratio. This output will be either the buffered `FAC_AFU_RATIO_MMV_in` value or `0`, depending on the sensor validity check.\r\n*   **`MFF_SP_AFU_INT`**: An integer flag or status signal, which is consistently set to `0` by this subsystem.\r\n\r\n## Logic Flow\r\n\r\n1.  **Buffer Index Calculation (Top Path):**\r\n    *   The input index `IDX_AFU_SENS_BUF_in` is incremented by `1`.\r\n    *   The incremented value is then passed to a `mod` (modulo) block.\r\n    *   The `mod` block uses `NC_NR_BUF_AFU_SENS` as its modulus, ensuring that the index wraps around to `0` once it reaches `NC_NR_BUF_AFU_SENS - 1`.\r\n    *   The result of the modulo operation is assigned to `IDX_AFU_SENS_BUF_out`, which represents the next available or current write index in the circular buffer.\r\n\r\n2.  **Sensor Data Buffering (Middle Paths):**\r\n    *   Two \"Indexed Assignment\" (or Data Store Write) blocks (labeled `V. 5.5` with `C0`, `u`, and an index input) are used to store sensor data into the buffer represented by `[IDX_AFU_SENS_BUF]`. These blocks are configured with `size: [NC_NR_BUF_AFU_SENS]`.\r\n    *   The first assignment block takes `FAC_AFU_RATIO_MMV_in` as the value (`u`) to be written at the index `IDX_AFU_SENS_BUF_in`. Its output is the value that was just written.\r\n    *   The second assignment block takes `FAC_AFU_RATIO_SENS_MMV` as the value (`u`) to be written at the index `IDX_AFU_SENS_BUF`. Its output is also the value that was just written.\r\n\r\n3.  **Sensor Signal Validation and Output (`FAC_AFU_RATIO_MMV_BUF`):**\r\n    *   A comparison block checks if `T_DLY_AFU_SENS_ACQ` is less than or equal to `C_T_DLY_AFU_SENS_ACQ`. This generates a boolean signal (0 for false, 1 for true) indicating the validity of the sensor signal (e.g., if the acquisition delay is acceptable).\r\n    *   This boolean signal controls a \"Multiport Switch\" block. The switch has three data inputs:\r\n        1.  A constant `0`.\r\n        2.  The output (value just written) from the `FAC_AFU_RATIO_MMV_in` assignment block.\r\n        3.  The output (value just written) from the `FAC_AFU_RATIO_SENS_MMV` assignment block.", "mimetype": "text/plain", "start_char_idx": 14983, "end_char_idx": 18432, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0346efa1-6d12-40d0-81f9-fa51efaddfcc": {"__data__": {"id_": "0346efa1-6d12-40d0-81f9-fa51efaddfcc", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "389e5cb9-6673-4f73-972e-029045eca7d8", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "bb3a168d3157a108d5465c8815d4ebc6b2ad66432971f7136067472e0821b2e5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c45632e0-02ad-4043-89f9-256b4c4e2f38", "node_type": "1", "metadata": {}, "hash": "e5d79f5eb41c43d5886606decb9748dffbab9d6363c63dc7c5a4d8e54403d49a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   This boolean signal controls a \"Multiport Switch\" block. The switch has three data inputs:\r\n        1.  A constant `0`.\r\n        2.  The output (value just written) from the `FAC_AFU_RATIO_MMV_in` assignment block.\r\n        3.  The output (value just written) from the `FAC_AFU_RATIO_SENS_MMV` assignment block.\r\n    *   Based on standard Multiport Switch behavior and the comment \"//Avoid zero values until sensor gives valid signal\":\r\n        *   If the comparison `T_DLY_AFU_SENS_ACQ <= C_T_DLY_AFU_SENS_ACQ` is `FALSE` (0, meaning the sensor signal is not yet valid or has an issue), the switch selects its first data input, outputting `0` to `FAC_AFU_RATIO_MMV_BUF`.\r\n        *   If the comparison is `TRUE` (1, meaning the sensor signal is valid), the switch selects its second data input, outputting the newly buffered `FAC_AFU_RATIO_MMV_in` value to `FAC_AFU_RATIO_MMV_BUF`.\r\n    *   The third data input to the switch (the buffered `FAC_AFU_RATIO_SENS_MMV`) is not selected by a boolean control signal (which only outputs 0 or 1), suggesting it might be buffered for another purpose, or this specific block functions differently than a standard multiport switch, or only a subset of its inputs is actively used for this output.\r\n\r\n4.  **Miscellaneous Flag Output (`MFF_SP_AFU_INT`):**\r\n    *   A constant value of `0` is directly routed to the output `MFF_SP_AFU_INT`. This implies this subsystem's responsibility is to ensure this flag is set to `0`.\r\n\r\n\r\n--- Page 15 ---\r\n\r\n## Function\r\nThe provided Simulink diagrams describe two distinct functionalities within an automotive control system, likely related to fuel management or ethanol sensor acquisition as indicated by the \"ALFU: Ethanol sensor acquisition\" header.\r\n\r\n1.  **Integrated Air-Fuel Unit (AFU) Signal Determination**: The first diagram (Figure 4.3.8) calculates and updates an integrated AFU value by summing a base AFU signal with a previous integrated result. This suggests a continuous accumulation or integration process, potentially for monitoring cumulative fuel flow or mixture deviation.\r\n2.  **Air-Fuel Unit Ratio Sensor Validity Reset**: The second diagram (Figure 4.3.9) performs a simple reset operation, setting a validity flag for an AFU ratio sensor to an invalid (0) state. This is typically used for initialization, error handling, or when conditions necessitate re-evaluation of sensor data validity.\r\n\r\n## Inputs\r\n*   **MFF_SP_AFU_INT_RES_in**: (From Figure 4.3.8) A numerical value representing a previous or initial integrated result related to the Air-Fuel Unit (AFU) system.\r\n*   **MFF_SP_AFU**: (From Figure 4.3.8) A numerical value representing the current or instantaneous Air-Fuel Unit (AFU) signal or base value that needs to be integrated.\r\n*   *Implicit Constant Input*: A constant value of `0` is internally generated and used to reset the validity flag in Figure 4.3.9.\r\n\r\n## Outputs\r\n*   **MFF_SP_AFU_INT_RES_out**: (From Figure 4.3.8) A numerical value representing the newly calculated integrated result for the AFU system.\r\n*   **MFF_SP_AFU_INT**: (From Figure 4.3.8) A numerical value representing the newly calculated integrated AFU signal.\r\n*   **LV_FAC_AFU_RATIO_SENS_VLD**: (From Figure 4.3.9) A boolean or integer flag, which is set to `0`, indicating that the validity of the Air-Fuel Unit Ratio Sensor is reset or currently considered invalid.\r\n\r\n## Logic Flow\r\nThe system comprises two independent logical flows:\r\n\r\n**1. Logic Flow for MFF_SP_AFU_INT_RES determination (Figure 4.3.8)**\r\n*   **Step 1: Input Acquisition**: The block receives two input signals: `MFF_SP_AFU_INT_RES_in` and `MFF_SP_AFU`.\r\n*   **Step 2: Summation**: These two input signals are fed into a Sum block, where they are added together. The operation is `Sum = MFF_SP_AFU_INT_RES_in + MFF_SP_AFU`.\r\n*   **Step 3: Output Distribution**: The resulting sum is then directed to two separate output ports.", "mimetype": "text/plain", "start_char_idx": 18117, "end_char_idx": 22017, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c45632e0-02ad-4043-89f9-256b4c4e2f38": {"__data__": {"id_": "c45632e0-02ad-4043-89f9-256b4c4e2f38", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0346efa1-6d12-40d0-81f9-fa51efaddfcc", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "788f6914bf7f5f9e5a7e147d5b4af1f4afc19b39d101d2da97c3b4c846e7ed16", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "514aa8b3-0e85-4d63-a380-fac66f37b6ac", "node_type": "1", "metadata": {}, "hash": "d9c7ecfcc7afc4ab3043a1aa8935ff9421e2566848fe2895b137d2fbaa8e95e3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **Step 2: Summation**: These two input signals are fed into a Sum block, where they are added together. The operation is `Sum = MFF_SP_AFU_INT_RES_in + MFF_SP_AFU`.\r\n*   **Step 3: Output Distribution**: The resulting sum is then directed to two separate output ports. The triangular blocks with '1' inside represent direct assignment to these output ports (often 'Outport' blocks in Simulink, where '1' is the port number, or effectively a gain of 1).\r\n*   **Step 4: Output Assignment**: The sum calculated in Step 2 is output as `MFF_SP_AFU_INT_RES_out` and also as `MFF_SP_AFU_INT`. This implies that both outputs receive the same calculated integrated value.\r\n*   *Overall Effect*: This process updates an integrated AFU value by adding a current AFU signal to a previous integrated value, providing the updated value to two different system interfaces.\r\n\r\n**2. Logic Flow for Reset LV_FAC_AFU_RATIO_SENS_VLD (Figure 4.3.9)**\r\n*   **Step 1: Constant Generation**: A constant value of `0` is generated. This is represented by the '0' block.\r\n*   **Step 2: Output Assignment**: This constant value `0` is then directly assigned to the output port `LV_FAC_AFU_RATIO_SENS_VLD`.\r\n*   *Overall Effect*: This module explicitly sets the `LV_FAC_AFU_RATIO_SENS_VLD` flag to `0`, effectively invalidating the Air-Fuel Unit Ratio Sensor validity. This action is typically executed when a reset condition is met or an error requires the sensor data to be treated as unreliable.\r\n\r\nThe labels \"V. 5.4\" and \"V. 5.5\" next to the blocks are likely version or internal identification tags rather than functional blocks themselves.\r\n\r\n\r\n--- Page 21 ---\r\n\r\nThis image *is* a block diagram, consistent with what one might find in a Simulink-generated document or a similar block-diagramming environment used for embedded system design, particularly in the automotive industry. It defines the initialization behavior of system variables.\r\n\r\n## Function\r\n\r\nThe primary function of this diagram is to define the **initialization or reset values for a set of non-volatile memory (NVM) variables** during a system reset task. It specifies what values various system variables, some of which are arrays, should take when the system undergoes a reset. The process largely involves setting variables to zero or assigning values from specific input signals.\r\n\r\n## Inputs\r\n\r\nThe explicit inputs to this specific reset logic, which determine the reset state of some variables, are:\r\n\r\n*   `ER_STD_MMV_AFU_in`\r\n*   `ER_STND_MMV_AFU_in`\r\n*   `ER_STND_MMV_STD_AFU_in`\r\n\r\n(Note: Other elements like \"0\" blocks and \"[NC_CYL_NR] array\" are constant sources or internal configuration elements, not external inputs in the traditional sense.)\r\n\r\n## Outputs\r\n\r\nThe outputs represent the reset values assigned to the NVM variables. These are the variables that will be written with the calculated reset values:\r\n\r\n1.  `ER_STD_MMV_AFU_out`\r\n2.  `ER_STND_MMV_AFU_out`\r\n3.  `ER_STND_MMV_STD_AFU_out`\r\n4.  `ER_STND_AFU`\r\n5.  `ER_STND_FIL_AFU`\r\n6.  `ER_STND_MMV_MV_AFU`\r\n7.  `ER_STND_MMV_DIF_AFU`\r\n8.  `ER_STD_DIF_AFU`\r\n9.  `ER_STD_AFU`\r\n10. `DRV1_STND_AFU`\r\n11. `DLY_DRV1_STND_AFU`\r\n12. `CTR_DLY_DRV1_STND_AFU`\r\n13. `LV_DRV1_STND_AFU_FDOUT`\r\n14. `CTR_SEG_ST_FDOUT_AFU`\r\n15. `N_ST_FDOUT_AFU`\r\n16. `N_SEG_GRD_AFU`\r\n17. `LV_ER_STND_ER_AFU_ACT`\r\n18. `LV_DRV1_ER_AFU_ACT`\r\n\r\n## Logic Flow\r\n\r\nThe diagram illustrates the logical steps for initializing or resetting variables, primarily focusing on assigning default values. The presence of the \"f()\" block might indicate a generic function call or trigger that initiates this reset procedure, but its internal logic is not detailed.\r\n\r\n1.  **Direct Assignment from Specific Inputs:**\r\n    *   The variable `ER_STD_MMV_AFU_out` (Output 1) is assigned the value provided by `ER_STD_MMV_AFU_in`.", "mimetype": "text/plain", "start_char_idx": 21746, "end_char_idx": 25543, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "514aa8b3-0e85-4d63-a380-fac66f37b6ac": {"__data__": {"id_": "514aa8b3-0e85-4d63-a380-fac66f37b6ac", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c45632e0-02ad-4043-89f9-256b4c4e2f38", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "cb004ec6d2c2ceaa8bc3963122f8a6cd5ed6d09c4d5e59fedf510f8e7f42a33f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "84a97566-3b66-46fb-b28b-d8a3726f838a", "node_type": "1", "metadata": {}, "hash": "4e1191f163cea4a244f8ae664c7dd8d57157581127c7139dc36eb95db5a0e34e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The presence of the \"f()\" block might indicate a generic function call or trigger that initiates this reset procedure, but its internal logic is not detailed.\r\n\r\n1.  **Direct Assignment from Specific Inputs:**\r\n    *   The variable `ER_STD_MMV_AFU_out` (Output 1) is assigned the value provided by `ER_STD_MMV_AFU_in`.\r\n    *   The variable `ER_STND_MMV_AFU_out` (Output 2) is assigned the value provided by `ER_STND_MMV_AFU_in`.\r\n    *   The variable `ER_STND_MMV_STD_AFU_out` (Output 3) is assigned the value provided by `ER_STND_MMV_STD_AFU_in`.\r\n    *These three variables receive their reset values from dedicated input signals, implying their reset state might be determined by an external configuration or a \"safe state\" value rather than a hardcoded zero.\r\n\r\n2.  **Scalar Variable Initialization to Zero:**\r\n    *   For several scalar variables, a constant value of `0` is assigned as their reset value. This applies to:\r\n        *   `ER_STND_AFU` (Output 4)\r\n        *   `ER_STND_FIL_AFU` (Output 5)\r\n        *   `ER_STND_MMV_MV_AFU` (Output 6)\r\n        *   `DRV1_STND_AFU` (Output 10)\r\n        *   `DLY_DRV1_STND_AFU` (Output 11)\r\n        *   `CTR_DLY_DRV1_STND_AFU` (Output 12)\r\n        *   `LV_DRV1_STND_AFU_FDOUT` (Output 13)\r\n        *   `CTR_SEG_ST_FDOUT_AFU` (Output 14)\r\n        *   `N_ST_FDOUT_AFU` (Output 15)\r\n        *   `N_SEG_GRD_AFU` (Output 16)\r\n        *   `LV_ER_STND_ER_AFU_ACT` (Output 17)\r\n        *   `LV_DRV1_ER_AFU_ACT` (Output 18)\r\n    *   The \"0\" blocks, often with a \"V.5.5\" annotation (likely metadata indicating version or data type), explicitly define this constant reset value.\r\n\r\n3.  **Array Variable Initialization to Zero:**\r\n    *   For variables that are arrays, each element of the array is initialized to `0`. This applies to:\r\n        *   `ER_STND_MMV_DIF_AFU` (Output 7)\r\n        *   `ER_STD_DIF_AFU` (Output 8)\r\n        *   `ER_STD_AFU` (Output 9)\r\n    *   This is represented by the `[NC_CYL_NR] array` blocks, which specify \"init = 0\" (initial value of 0) and \"V.6.11\" (likely versioning metadata). `NC_CYL_NR` suggests the array size is determined by the number of engine cylinders.\r\n\r\nIn essence, the diagram serves as a formal specification for how these critical NVM variables are to be reset or initialized to a known, safe state upon a system reset.\r\n\r\n\r\n--- Page 22 ---\r\n\r\nThis image is a Simulink diagram.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to calculate and output two distinct operational states or flags: `OPR_ER_STND` (Operational Engine Roughness Standard) and `OPR_DRV1` (Operational Derived Signal 1). These calculations are part of an \"Engine roughness signal preparation for fuel quality adaptation\" system, specifically addressing \"AFU acceleration fade out conditions.\"\r\n\r\n`OPR_ER_STND` likely represents conditions for standard engine roughness measurements or activation, providing statistical information like mean and standard deviation.\r\n\r\n`OPR_DRV1` determines a derived operational signal, particularly sensitive to engine acceleration, which is used to manage or stop the Adaptive Fuel Unit (AFU) adaptation process during certain acceleration events (fade-out conditions).\r\n\r\n## Inputs\r\n\r\nThe diagram receives data through two main input buses:\r\n\r\n1.  **`input` (Bus):** This bus contains several individual signals, including:\r\n    *   `<N_32>`: An engine speed signal (32-bit).\r\n    *   `<C_N_MAX_ER_STND_ACT_AFU>`: A calibrated constant or limit representing the maximum engine speed for standard engine roughness activation for AFU.\r\n    *   `<LV_ST_END>`: A logical flag indicating the end of a stabilization period or a specific system state.\r\n    *   `<LV_SEG_AD_AVL_ER>`: A logical flag indicating the availability of segment adaptation for engine roughness.\r\n    *   `<T_AST>`: An acceleration threshold or similar signal.", "mimetype": "text/plain", "start_char_idx": 25225, "end_char_idx": 29067, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "84a97566-3b66-46fb-b28b-d8a3726f838a": {"__data__": {"id_": "84a97566-3b66-46fb-b28b-d8a3726f838a", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "514aa8b3-0e85-4d63-a380-fac66f37b6ac", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "a4501b5773f02c92ac07949a7fa280aeb3c6f53ccb72fa2a28d7e9a5f911b5f6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4adb6765-2f51-47e7-ac18-10f8f4d3d4ba", "node_type": "1", "metadata": {}, "hash": "49fcda67225311984d69e1602f7a47d198397339213de0fce5d4a0efb267e817", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `<LV_ST_END>`: A logical flag indicating the end of a stabilization period or a specific system state.\r\n    *   `<LV_SEG_AD_AVL_ER>`: A logical flag indicating the availability of segment adaptation for engine roughness.\r\n    *   `<T_AST>`: An acceleration threshold or similar signal.\r\n    *   `<TCO_ST>`: A coolant temperature status or operating temperature state.\r\n    *   `IP_T_AST_DRV1_FDDOUT_ENA_AFU`: A parameter or flag enabling DRV1 fade-out based on `T_AST` for AFU.\r\n    *   `LC_DRV1_FDDOUT_ENA_AFU`: A local control or flag for enabling DRV1 fade-out for AFU.\r\n\r\n2.  **`feedback` (Bus):** This bus likely carries internal states or outputs from previous time steps, allowing for stateful or iterative calculations within the `OPR_ER_STND`, `OPR_DRV1`, and `DEAC_DRV1` subsystems.\r\n\r\n## Outputs\r\n\r\nThe diagram produces five distinct output signals:\r\n\r\n1.  **`act` (Port 1):** An activation flag, likely for `OPR_ER_STND`, indicating whether standard engine roughness processing is active.\r\n2.  **`mean` (Port 2):** A calculated mean value, presumably related to the engine roughness signal.\r\n3.  **`std` (Port 3):** A calculated standard deviation value, also related to the engine roughness signal.\r\n4.  **`stnd` (Port 4):** A standard value or state for engine roughness.\r\n5.  **`drv1` (Port 5):** The final derived operational flag/state, combining the outputs of `OPR_DRV1` and `DEAC_DRV1`, related to AFU acceleration fade-out conditions.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the diagram can be separated into two main calculation paths: `OPR_ER_STND` and `OPR_DRV1`.\r\n\r\n### A. `OPR_ER_STND` Calculation Path:\r\n\r\n1.  **Engine Speed Check:** The engine speed signal (`<N_32>`) is compared against a maximum allowable speed for standard engine roughness activation (`<C_N_MAX_ER_STND_ACT_AFU>`). If `<N_32>` is less than this limit, a true condition is generated.\r\n2.  **Condition Aggregation:** This true condition is then logically combined using an `AND` gate with two other logical flags: `<LV_ST_END>` (end of stabilization) and `<LV_SEG_AD_AVL_ER>` (segment adaptation availability).\r\n3.  **Conditional Execution:** The aggregated logical result feeds into an `If` block (`cond_if`, V.5.4). This `If` block likely determines whether the `OPR_ER_STND` subsystem should execute its primary logic or enter an alternative (e.g., reset or hold) state.\r\n4.  **`OPR_ER_STND` Subsystem (X.2.2):** This subsystem receives the `input` bus (containing various raw signals), the `feedback` bus, and the conditional signal from the `If` block. It processes these inputs to calculate the `act`, `mean`, `std`, and `stnd` values, which are then routed directly to the main output ports (1, 2, 3, 4). The internal logic likely involves statistical processing of roughness data and state management.\r\n\r\n### B. `OPR_DRV1` Calculation Path:\r\n\r\n1.  **Acceleration Threshold Check (Upper Path):** The acceleration threshold signal (`<T_AST>`) is compared against a dynamic `k_val`. This `k_val` is determined by a 1-D lookup table (`IP_val`, V.7.11) using `IP_T_AST_DRV1_FDDOUT_ENA_AFU` as its input. If `<T_AST>` exceeds `k_val`, a true condition is generated.\r\n2.  **Condition Aggregation (Upper Path):** This true condition is logically combined using an `AND` gate with `<LV_ST_END>` and `<LV_SEG_AD_AVL_ER>`. This result feeds into an `If` block (`cond_if`, V.5.4), potentially selecting an 'if' or 'else' branch for `OPR_DRV1` logic.\r\n3.  **Coolant Temperature Check (Lower Path):** The coolant temperature status (`<TCO_ST>`) is also compared against a `k_val` (from the same `IP_val` lookup table). If `<TCO_ST>` exceeds `k_val`, a true condition is generated.\r\n4.", "mimetype": "text/plain", "start_char_idx": 28778, "end_char_idx": 32457, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4adb6765-2f51-47e7-ac18-10f8f4d3d4ba": {"__data__": {"id_": "4adb6765-2f51-47e7-ac18-10f8f4d3d4ba", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "84a97566-3b66-46fb-b28b-d8a3726f838a", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "09e1de4b6ea90cdf503d651a9f93a0f44f9c27e938a1a0e121fac8e1ad5f9b8f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4f0974f6-23da-442f-b647-a840354cf216", "node_type": "1", "metadata": {}, "hash": "3a0a158ce977fbedaa4a6c3afe314292c1d90fa16014a4e23d0e680bfd38adcf", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  **Coolant Temperature Check (Lower Path):** The coolant temperature status (`<TCO_ST>`) is also compared against a `k_val` (from the same `IP_val` lookup table). If `<TCO_ST>` exceeds `k_val`, a true condition is generated.\r\n4.  **Condition Aggregation (Lower Path):** This true condition is logically combined using an `AND` gate with `LC_DRV1_FDDOUT_ENA_AFU`. This result feeds into another `If` block (`cond_if`, V.5.4), similarly selecting an 'if' or 'else' branch.\r\n5.  **`OPR_DRV1` Subsystem (X.2.1):** This subsystem receives the `input` bus, the `feedback` bus, and the conditional signals from the `If` blocks. As described in the accompanying text, it likely calculates the \"dynamic component (DRV1_ER) of the engine roughness\" and normalizes it. It also manages counters for fade-out conditions during speeding up or down, potentially stopping AFU adaptation. The output is a `bus_drv1` signal.\r\n6.  **`DEAC_DRV1` Subsystem (X.2.3):** This subsystem runs in parallel with `OPR_DRV1` and also receives the `input` bus, `feedback` bus, and an additional `fcp` signal. Its purpose, suggested by \"DEAC\", is likely to handle deactivation logic for `DRV1`. It also outputs a `bus_drv1` signal.\r\n7.  **BusMerge (V.6.0):** The `bus_drv1` outputs from both the `OPR_DRV1` and `DEAC_DRV1` subsystems are combined using a `BusMerge` block. This implies that the final `drv1` output is a result of either the main `OPR_DRV1` calculation or specific deactivation logic overriding or modifying it. This merged `bus_drv1` is then routed to the final output port (5) as `drv1`.\r\n\r\nIn summary, the diagram orchestrates complex conditional logic and subsystem interactions to determine the operational states for engine roughness management and fuel quality adaptation, taking into account various engine parameters and feedback.\r\n\r\n\r\n--- Page 23 ---\r\n\r\n## Function\r\nThis Simulink diagram, titled \"Calculation of AFU acceleration fade out conditions DRV1_ER,\" is designed to determine various conditions under which an \"Acceleration Fuel Usage\" (AFU) function, specifically in `DRV1_ER` mode, should be faded out or deactivated. It processes engine speed, mass air flow, clutch status, and other system flags to generate several boolean and numerical output signals representing different fade-out states and conditions. The core logic involves signal delays, logical gating, range checks, and stateful latching to manage the activation and deactivation of these fade-out mechanisms.\r\n\r\n## Inputs\r\n1.  **DRV1_ER:** A boolean flag indicating the active state of \"DRV1_ER\" mode.\r\n2.  **N_32:** Engine speed (likely in a specific unit or scaled, represented as a 32-bit value).\r\n3.  **PhysicalConversion:** A constant value `(10^~6)/(60*60/60)` used for unit conversion or scaling of `N_32`.\r\n4.  **N_ST_FDOUT_AFU_in:** Input flag for \"Normal Standard Fade-Out AFU.\"\r\n5.  **LV_DRV1_STND_AFU_FDOUT_in:** Input flag for \"Latched Voltage DRV1 Standard AFU Fade-Out.\"\r\n6.  **CTR_SEG_ST_FDOUT_AFU_in:** Input flag for \"Counter Segment Standard Fade-Out AFU.\"\r\n7.  **IN_SEG_GRD_AFU:** Input flag for \"Internal Segment Gradient AFU.\"\r\n8.  **C_SEG_DLY_FDOUT_OFF:** Constant/parameter for Segment Delay Fade-Out Offset.\r\n9.  **C_VS_MAX_FDOUT:** Constant/parameter for Maximum Fade-Out Vehicle Speed (or similar).\r\n10. **C_STATE_ENG_FO_ER_FDOUT:** Constant/parameter related to Engine Fade-Out Error State.\r\n11. **LV_CLU_SWI:** Input for Clutch Switch status.\r\n12. **LV_CLU_SWI_2:** Input for a secondary Clutch Switch status.\r\n13. **LC_CLU_SWI_FDOUT:** Input for Clutch Switch Fade-Out Latch (control signal).\r\n14. **MAF:** Mass Air Flow sensor reading.\r\n15. **LV_PUC:** Input flag for Power-Up Condition (e.g., ignition on, engine started).\r\n16.", "mimetype": "text/plain", "start_char_idx": 32226, "end_char_idx": 35957, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4f0974f6-23da-442f-b647-a840354cf216": {"__data__": {"id_": "4f0974f6-23da-442f-b647-a840354cf216", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4adb6765-2f51-47e7-ac18-10f8f4d3d4ba", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "404dd06ea97fc082b35796ed48a2978997a7b1604861f8bfede24b04b8bc4bc6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "95118c65-5eee-4004-a0c1-f59bb999a9f5", "node_type": "1", "metadata": {}, "hash": "1f49a9b9c6315f48ffb347b1c8e00abcb917e7995b863efc797f5a37cad709cd", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**LV_CLU_SWI:** Input for Clutch Switch status.\r\n12. **LV_CLU_SWI_2:** Input for a secondary Clutch Switch status.\r\n13. **LC_CLU_SWI_FDOUT:** Input for Clutch Switch Fade-Out Latch (control signal).\r\n14. **MAF:** Mass Air Flow sensor reading.\r\n15. **LV_PUC:** Input flag for Power-Up Condition (e.g., ignition on, engine started).\r\n16. **x_val (internal to V.7.11):** Input to the `IP_DLY_DRV1_STND_AFU` block, likely a schedule/lookup table index.\r\n17. **DLY_DRV1 (internal to V.7.11):** A delayed version of `DRV1_ER` or a related signal, also input to the `IP_DLY_DRV1_STND_AFU` block.\r\n18. **V.5_H_RES (internal):** An internal signal used in comparison, likely related to hysteresis or thresholds.\r\n19. **STATE_ENG (internal):** An internal signal representing the engine state.\r\n\r\n## Outputs\r\n1.  **DRV1_STND_AFU:** The calculated \"DRV1 Standard AFU\" value, often a scaled or interpolated signal.\r\n2.  **DLY_DRV1_STND_AFU:** A delayed version of `DRV1_STND_AFU`.\r\n3.  **CTR_DLY_DRV1_STND_AFU_out:** The output of the \"Counter Delayed DRV1 Standard AFU\" logic.\r\n4.  **LV_DRV1_STND_AFU_FDOUT_out:** The final \"Latched Voltage DRV1 Standard AFU Fade-Out\" flag.\r\n5.  **N_SEG_GRD_AFU:** The calculated \"Normal Segment Gradient AFU\" flag.\r\n6.  **N_ST_FDOUT_AFU_out:** The output of the \"Normal Standard Fade-Out AFU\" logic.\r\n7.  **CTR_SEG_ST_FDOUT_AFU_out:** The output of the \"Counter Segment Standard Fade-Out AFU\" logic.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into several interdependent paths:\r\n\r\n1.  **DRV1_STND_AFU Calculation Path:**\r\n    *   The `N_32` (engine speed) input is first scaled by the `PhysicalConversion` constant.\r\n    *   This scaled `N_32` is then multiplied by the `DRV1_ER` flag (via a cascade of product blocks V.7.8).\r\n    *   The result feeds into an \"IP_DLY_DRV1_STND_AFU\" block (V.7.11), which is likely an interpolation or lookup table block. This block uses additional inputs `x_val` and `DLY_DRV1` to perform a dynamic adjustment.\r\n    *   The output of V.7.11 is `DRV1_STND_AFU` (Output 1).\r\n    *   A Unit Delay block takes the `DRV1_STND_AFU` signal and outputs `DLY_DRV1_STND_AFU` (Output 2), providing a one-sample delayed version.\r\n\r\n2.  **Basic Fade-Out Flag Gating and Segment Gradient AFU:**\r\n    *   `N_ST_FDOUT_AFU_in` (Input 4) is passed through a conditional switch block (V.6.4). This switch checks the state of `N_32` (acting as a control input, likely to determine if `N_32` is active/non-zero). If `N_32` is true, the input passes; otherwise, 0 is output. This results in `N_ST_FDOUT_AFU_out` (Output 6).\r\n    *   Similarly, `CTR_SEG_ST_FDOUT_AFU_in` (Input 6) is gated by `N_32` via another V.6.4 switch, producing `CTR_SEG_ST_FDOUT_AFU_out` (Output 7).\r\n    *   `N_SEG_GRD_AFU` (Output 5) is calculated by a dedicated block `CLC_N_SEG_GRD` (X.2.1). This block takes its own feedback (`N_SEG_GRD_AFU`), along with the gated `N_ST_FDOUT_AFU` and `CTR_SEG_ST_FDOUT_AFU` signals, implying a complex stateful or cumulative calculation.\r\n\r\n3.  **Counter-Delayed and Latched DRV1 Fade-Out:**\r\n    *   The gated `N_ST_FDOUT_AFU`, the `N_SEG_GRD_AFU` (Output 5), and the gated `CTR_SEG_ST_FDOUT_AFU` are summed together using sum blocks (V.7.7).", "mimetype": "text/plain", "start_char_idx": 35622, "end_char_idx": 38828, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "95118c65-5eee-4004-a0c1-f59bb999a9f5": {"__data__": {"id_": "95118c65-5eee-4004-a0c1-f59bb999a9f5", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4f0974f6-23da-442f-b647-a840354cf216", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "d1012090b82ee12fc82d8fcaab8a72e620cea7d8cfe2c83a71b8c23769004acd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "28747eb7-692a-49df-be6b-00abe30431a6", "node_type": "1", "metadata": {}, "hash": "bf792e518d8d8928fe54bfc134a3305b7b36dc5d0fbaadb9374d1920bf8ec743", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  **Counter-Delayed and Latched DRV1 Fade-Out:**\r\n    *   The gated `N_ST_FDOUT_AFU`, the `N_SEG_GRD_AFU` (Output 5), and the gated `CTR_SEG_ST_FDOUT_AFU` are summed together using sum blocks (V.7.7).\r\n    *   This sum then feeds a conditional merge/switch block (V.5.2). The `DLY_DRV1` signal acts as the condition. If `DLY_DRV1` is true, the sum is passed; otherwise, a value of 0 is passed.\r\n    *   The output of this switch then goes to a unit delay/latch block (V.7.10) with initial value 0 and min/max saturation (0 to 65535). This block acts as a stateful element, potentially counting or holding the fade-out condition. The output of this block is `CTR_DLY_DRV1_STND_AFU_out` (Output 3).\r\n    *   Finally, `LV_DRV1_STND_AFU_FDOUT_out` (Output 4) is determined by an OR gate (V.6.7). It is true if `LV_DRV1_STND_AFU_FDOUT_in` (Input 5) is true OR `CTR_DLY_DRV1_STND_AFU_out` (Output 3) is true. This suggests that either an external command or the internal counter-delayed logic can trigger this main DRV1 fade-out.\r\n\r\n4.  **Global Fade-Out Condition Logic (Bottom Section):**\r\n    *   This section evaluates a set of conditions that contribute to an overall AFU fade-out decision:\r\n        *   **Clutch Condition:** `LV_CLU_SWI` (Input 11) and `LV_CLU_SWI_2` (Input 12) are XORed. The result is then gated by `LC_CLU_SWI_FDOUT` (Input 13) via a V.6.4 switch.\r\n        *   **Engine Speed Range Check:** `N_32` is compared against minimum (`C_N_32_MIN_FDOUT_AFU`) and maximum (`C_N_32_MAX_FDOUT_AFU`) engine speed thresholds using relational operators (V.6.6). Both conditions (`N_32 > min` AND `N_32 < max`) must be true.\r\n        *   **MAF Range Check:** `MAF` (Input 14) is compared against minimum (`C_MAF_MIN_FDOUT_AFU`) and maximum (`C_MAF_MAX_FDOUT_AFU`) mass air flow thresholds using relational operators (V.6.6). Both conditions (`MAF > min` AND `MAF < max`) must be true.\r\n        *   **Power-Up Condition:** The `LV_PUC` (Input 15) flag is inverted by a NOT gate (V.6.8), meaning power-up must *not* be active.\r\n    *   These four derived boolean conditions (Clutch, N_32 range, MAF range, NOT Power-Up) are then fed into a large AND gate (V.6.10).\r\n    *   The output of this AND gate is subsequently inverted by a NOT gate (V.6.8). This final boolean signal represents the primary \"AFU fade-out condition.\" If this signal is TRUE, it indicates that the system is in a state where AFU fade-out should be active or enabled, likely if *any* of the combined ANDed conditions for inhibiting fade-out are not met.\r\n\r\n\r\n--- Page 25 ---\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to process and condition raw engine roughness (ER) signals and related operational parameters to derive various standardized and filtered roughness parameters for an \"AFU adaptation function\" (likely pertaining to fuel quality adaptation in an automotive engine control system). It performs initial scaling, median filtering, and subsequent conditional processing steps, potentially incorporating state-dependent filtering or accumulation for different types of roughness signals (standard, MMV_STD, MMV).\r\n\r\n## Inputs\r\n1.  **ER (Engine Roughness):** The raw engine roughness signal, representing engine vibration or misfire intensity.\r\n2.  **N_32 (Engine Speed):** The engine speed, likely an integer value, which is scaled and used in the roughness calculation.\r\n3.  **SEG_NR_ER (Segment Number for Engine Roughness):** A signal indicating the current operating segment or condition relevant to engine roughness measurement and processing, used for conditional logic or selection within the processing blocks.\r\n4.", "mimetype": "text/plain", "start_char_idx": 38626, "end_char_idx": 42258, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "28747eb7-692a-49df-be6b-00abe30431a6": {"__data__": {"id_": "28747eb7-692a-49df-be6b-00abe30431a6", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "95118c65-5eee-4004-a0c1-f59bb999a9f5", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "640161e9216137d17e7476c23f285947c0144baa8dcbe8d7414c2535049d5e33", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "66bd2a98-7fa6-4629-9f03-a852bd844928", "node_type": "1", "metadata": {}, "hash": "2daefc34347d2c009860c3b64d432f7753bd753825ad103959e99e48d24887f0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "2.  **N_32 (Engine Speed):** The engine speed, likely an integer value, which is scaled and used in the roughness calculation.\r\n3.  **SEG_NR_ER (Segment Number for Engine Roughness):** A signal indicating the current operating segment or condition relevant to engine roughness measurement and processing, used for conditional logic or selection within the processing blocks.\r\n4.  **ER_STND_MMV_STD_AFU_in:** An input signal representing a standardized MMV (Misfire Monitoring Variance) engine roughness value for \"standard\" AFU adaptation.\r\n5.  **ER_STND_MMV_AFU_in:** An input signal representing a standardized MMV engine roughness value for general AFU adaptation.\r\n6.  **C_CRLC_ER_STND_AFU:** A control or calibration parameter related to the Crankshaft Learn Cycle (CRLC) for standardized engine roughness adaptation. It influences the calculation of `CLC1` and `CLC2`.\r\n7.  **FIL_cur (Filter Current):** A signal acting as a flag or multiplier, likely indicating whether a specific filter or scaling factor should be active (e.g., \"current filter enabled\").\r\n\r\n## Outputs\r\n1.  **ER_STND_AFU:** The standardized engine roughness signal for AFU adaptation, after initial scaling and median filtering.\r\n2.  **ER_STND_FIL_AFU:** The filtered standardized engine roughness signal for AFU adaptation, derived from `ER_STND_AFU` with further processing involving `SEG_NR_ER`.\r\n3.  **ER_STND_MMV_STD_AFU_out:** The processed and adapted MMV-STD engine roughness output, reflecting the standard adaptation path.\r\n4.  **ER_STND_MMV_AFU_out:** The processed and adapted MMV engine roughness output, reflecting the general adaptation path.\r\n5.  **CLC1 (Crankshaft Learn Cycle 1):** An intermediate signal or state variable, likely representing an accumulated or \"learned\" value from the crankshaft learn cycle processing for `ER_STND_MMV_STD_AFU`.\r\n6.  **CLC2 (Crankshaft Learn Cycle 2):** An intermediate signal or state variable, similar to `CLC1`, but for the `ER_STND_MMV_AFU` processing path.\r\n\r\n## Logic Flow\r\n\r\nThe diagram can be logically divided into three main parallel processing streams:\r\n\r\n1.  **Standardized Roughness (ER_STND_AFU & ER_STND_FIL_AFU) Calculation:**\r\n    *   The raw **ER** signal is initially multiplied by an unspecified factor (first 'X' block, V.7.8), likely for initial scaling or unit conversion.\r\n    *   The **N_32** (engine speed) signal undergoes a \"PhysicalConversion\" using the formula `(10^-6)/(60*60)`, converting it into a scaled constant.\r\n    *   The result of the initial ER scaling is then multiplied by the scaled **N_32** (second 'X' block, V.7.8).\r\n    *   This product is further multiplied by another factor (third 'X' block, V.7.8).\r\n    *   The resulting signal is fed into a `MEDIAN_FILTER` (X.2.2.1.1.1), which smooths the signal and removes noise or outliers, producing **ER_STND_AFU**.\r\n    *   **ER_STND_AFU** is then channeled into a block that also receives **SEG_NR_ER**. This block performs a specific operation (e.g., further filtering, selection, or specific logic) dependent on the segment number, yielding **ER_STND_FIL_AFU**.\r\n\r\n2.  **MMV-STD Roughness (ER_STND_MMV_STD_AFU_out) Calculation:**\r\n    *   The input signal **ER_STND_MMV_STD_AFU_in** is processed by a block labeled `V.6.16`. This block, indicated by `C0` and `[..]` inputs/outputs, likely represents a lookup table, a stateful accumulator, or a specialized function.\r\n    *   The output of `V.6.16` is then multiplied by **FIL_cur** (X block, V.7.8), meaning its value is conditionally scaled or enabled/disabled based on the 'filter current' status.\r\n    *   This scaled value is fed into a summation block (V.7.7). It is added to **C_CRLC_ER_STND_AFU** and another intermediate value (which appears to be a negative feedback from `CLC1` itself, effectively creating an integrator or a running average) to generate the **CLC1** signal.", "mimetype": "text/plain", "start_char_idx": 41880, "end_char_idx": 45743, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "66bd2a98-7fa6-4629-9f03-a852bd844928": {"__data__": {"id_": "66bd2a98-7fa6-4629-9f03-a852bd844928", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "28747eb7-692a-49df-be6b-00abe30431a6", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "c3a28527912cf2a68accd33ba5da37b7e499fb3d5f37b4391b33bd92c3717b57", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c66e29b8-c18d-40ed-8454-774b243c6016", "node_type": "1", "metadata": {}, "hash": "13424b11ce5b1f06c466358717fce9b6ace65fd3392898a3ac92e6be6d57d7f4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   This scaled value is fed into a summation block (V.7.7). It is added to **C_CRLC_ER_STND_AFU** and another intermediate value (which appears to be a negative feedback from `CLC1` itself, effectively creating an integrator or a running average) to generate the **CLC1** signal. **CLC1** likely represents an accumulated or learned state related to crankshaft learn cycles for this MMV-STD path.\r\n    *   Finally, **SEG_NR_ER** and **CLC1** are passed through another processing block labeled `V.5.5` (similar in structure to `V.6.16`), which uses the segment number and the learned value to produce the output **ER_STND_MMV_STD_AFU_out**.\r\n\r\n3.  **MMV Roughness (ER_STND_MMV_AFU_out) Calculation:**\r\n    *   This path mirrors the MMV-STD roughness calculation path.\r\n    *   The input signal **ER_STND_MMV_AFU_in** is processed by an identical `V.6.16` block.\r\n    *   Its output is multiplied by **FIL_cur** (X block, V.7.8).\r\n    *   This scaled value is summed with **C_CRLC_ER_STND_AFU** and a negative feedback from `CLC2` (V.7.7), resulting in the **CLC2** signal, which is the learned value for this MMV path.\r\n    *   **SEG_NR_ER** and **CLC2** are processed by an identical `V.5.5` block to generate the final output **ER_STND_MMV_AFU_out**.\r\n\r\nIn summary, the system meticulously prepares and adapts engine roughness signals by applying scaling, median filtering, and segment-dependent conditional logic, utilizing learn cycle variables to produce distinct standardized and filtered outputs suitable for fuel quality adaptation.\r\n\r\n\r\n--- Page 26 ---\r\n\r\nThis image contains two distinct Simulink diagrams, Figure 4.4.7 and Figure 4.4.8, both related to \"Input signals for AFU adaptation functions.\" I will primarily analyze Figure 4.4.7, as it is presented first and is more complex, and then briefly describe Figure 4.4.8.\r\n\r\n## Function (Figure 4.4.7)\r\n\r\nThe primary function of this Simulink diagram (Figure 4.4.7, titled \"Input signals for AFU adaptation functions OPR_STD - STD\") is to process and adapt Engine Roughness (ER) Standard Deviation (STD) and Mean Mean Value (MMV) signals for a specific operating mode (OPR_STD) within an Automotive Fuel Unit (AFU) adaptation system. It calculates the difference between incoming (raw) signals and currently adapted values, applies conditional scaling based on configurable factors, and then updates the adapted values based on these scaled differences. It also outputs a calculated difference signal. The adaptation is performed on a per-segment basis, indicated by `SEG_NR_ER`.\r\n\r\n## Inputs (Figure 4.4.7)\r\n\r\nThe key inputs to this Simulink subsystem are:\r\n\r\n*   **`SEG_NR_ER` (Inport 1):** Segment Number for Engine Roughness. This acts as an index to access specific elements within the `ER_STND_MMV_STD_AFU` array/bus, allowing for segment-specific adaptation.\r\n*   **`ER_STND_MMV_STD_AFU` (Inport 2):** Engine Roughness Standard Deviation and Mean Mean Value (AFU). This is likely a bus or array containing the currently adapted or stored STD and MMV values for various segments. It serves as both an input (current values) and a source for internal updates.\r\n*   **`ER_STD_AFU_in` (Inport 4):** Incoming (raw) Engine Roughness Standard Deviation for AFU. This is the new measurement or calculated value for STD that needs to be adapted.\r\n*   **`ER_MMV_AFU_in` (Inport 5):** Incoming (raw) Engine Roughness Mean Mean Value for AFU. This is the new measurement or calculated value for MMV that needs to be adapted.\r\n*   **`C_FAC_ER_STD_NEG_AFU` (Parameter/Constant):** A configurable factor applied to negative deviations of ER STD.\r\n*   **`C_FAC_ER_STD_POS_AFU` (Parameter/Constant):** A configurable factor applied to positive deviations of ER STD.\r\n*   **`C_CRLC_ER_STD_MMV_AFU` (Parameter/Constant):** A correction/limit factor applied to deviations of ER MMV.", "mimetype": "text/plain", "start_char_idx": 45463, "end_char_idx": 49296, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c66e29b8-c18d-40ed-8454-774b243c6016": {"__data__": {"id_": "c66e29b8-c18d-40ed-8454-774b243c6016", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "66bd2a98-7fa6-4629-9f03-a852bd844928", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "b57041acafeb8e4601fcde92478591aee18ec19b9100e7e924ccdb7663909d22", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ca712663-9830-4808-8dcd-4b89537993de", "node_type": "1", "metadata": {}, "hash": "873849077c823ac8cbe3f46a2c8f93aefad3ec8b41bf2ae5bc6db13fdf849266", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **`C_FAC_ER_STD_NEG_AFU` (Parameter/Constant):** A configurable factor applied to negative deviations of ER STD.\r\n*   **`C_FAC_ER_STD_POS_AFU` (Parameter/Constant):** A configurable factor applied to positive deviations of ER STD.\r\n*   **`C_CRLC_ER_STD_MMV_AFU` (Parameter/Constant):** A correction/limit factor applied to deviations of ER MMV.\r\n\r\n## Outputs (Figure 4.4.7)\r\n\r\nThe key outputs of this Simulink subsystem are:\r\n\r\n*   **`ER_STD_DIF_AFU` (Outport 1):** Engine Roughness Standard Deviation Difference for AFU. This output represents a scaled and conditionally limited deviation of the incoming STD from the current adapted STD.\r\n*   **`ER_STD_AFU` (Outport 2):** Processed/Adapted Engine Roughness Standard Deviation for AFU. This is the updated adapted STD value for the segment specified by `SEG_NR_ER`.\r\n*   **`ER_STD_MMV_AFU_out` (Outport 3):** Processed/Adapted Engine Roughness Standard Deviation Mean Mean Value for AFU. This is the updated adapted MMV value for the segment specified by `SEG_NR_ER`.\r\n\r\n## Logic Flow (Figure 4.4.7)\r\n\r\nThe diagram processes the signals in three main concurrent paths:\r\n\r\n1.  **Retrieve Current Adapted Values:**\r\n    *   `SEG_NR_ER` (1) is used as an index into the `ER_STND_MMV_STD_AFU` (2) bus/array via a selector block (`V.6.16`). This block extracts the current adapted Engine Roughness Standard Deviation (`ER_STD_AFU_curr`) and Engine Roughness Mean Mean Value (`ER_MMV_AFU_curr`) corresponding to the active segment.\r\n\r\n2.  **Calculate `ER_STD_DIF_AFU` (Output 1):**\r\n    *   **STD Deviation Calculation:** The raw deviation `diff_std` is calculated as `ER_STD_AFU_in (4) - ER_STD_AFU_curr` (via `V.7.7` sum block).\r\n    *   **Conditional Scaling:**\r\n        *   `diff_std` is multiplied by `C_FAC_ER_STD_NEG_AFU` (via `V.7.8`) to get `scaled_neg_diff`. This is then passed through a `MIN` block (`V.5.2`) with `0`, effectively retaining only negative values or zero.\r\n        *   `diff_std` is multiplied by `C_FAC_ER_STD_POS_AFU` (via `V.7.8`) to get `scaled_pos_diff`. This is then passed through a `MAX` block (`V.5.2`) with `0`, effectively retaining only positive values or zero.\r\n    *   **Combine Scaled Differences:** The outputs from the `MIN` and `MAX` blocks are summed (`V.7.7`) to produce `ER_STD_DIF_AFU` (1). This output represents a modified deviation where positive and negative components are scaled differently and contribute based on their original sign.\r\n\r\n3.  **Calculate `ER_STD_AFU` (Output 2 - Adapted STD):**\r\n    *   **Conditional Selection of Scaled Difference:** The `diff_std` is fed into an `If-Else` block (`V.6.4`).\r\n        *   If `diff_std < 0` (True condition), the `scaled_neg_diff` (before the `MIN` block) is selected.\r\n        *   Else (`diff_std >= 0`), the `scaled_pos_diff` (before the `MAX` block) is selected.\r\n    *   **Adaptation Update:** The selected scaled difference is added to the `ER_STD_AFU_curr` (via `V.7.7` sum block).\r\n    *   **Store/Output Updated STD:** This new value (`new_ER_STD_AFU`) is then fed into an update block (`V.5.5`) which, along with `SEG_NR_ER` (1) and the original `ER_STND_MMV_STD_AFU` (2), effectively updates the `ER_STND_MMV_STD_AFU` array/bus at the `SEG_NR_ER` index. The output of this `V.5.5` block is `ER_STD_AFU` (2).\r\n\r\n4.", "mimetype": "text/plain", "start_char_idx": 48948, "end_char_idx": 52226, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ca712663-9830-4808-8dcd-4b89537993de": {"__data__": {"id_": "ca712663-9830-4808-8dcd-4b89537993de", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c66e29b8-c18d-40ed-8454-774b243c6016", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "180376a624de8e2717555cdac909a05ce75e041b87a26a56c8079d02199466b5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "43528cd2-3d40-4463-9a43-79b928e4e513", "node_type": "1", "metadata": {}, "hash": "dcb4c412405e278a42da291d1dba288dc076c3c0fbc85d3bee5a7c292fb0be3f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The output of this `V.5.5` block is `ER_STD_AFU` (2).\r\n\r\n4.  **Calculate `ER_STD_MMV_AFU_out` (Output 3 - Adapted MMV):**\r\n    *   **MMV Deviation Calculation:** The deviation `diff_mmv` is calculated as `ER_MMV_AFU_in (5) - ER_MMV_AFU_curr` (via `V.7.7` sum block).\r\n    *   **Scaling MMV Deviation:** `diff_mmv` is multiplied by `C_CRLC_ER_STD_MMV_AFU` (via `V.7.8`) to get `scaled_mmv_diff`.\r\n    *   **Adaptation Update:** `scaled_mmv_diff` is added to the `ER_MMV_AFU_curr` (via `V.7.7` sum block).\r\n    *   **Store/Output Updated MMV:** This new value (`new_ER_MMV_AFU`) is then fed into an update block (`V.5.5`) which, along with `SEG_NR_ER` (1) and the original `ER_STND_MMV_STD_AFU` (2), updates the `ER_STND_MMV_STD_AFU` array/bus at the `SEG_NR_ER` index. The output of this `V.5.5` block is `ER_STD_MMV_AFU_out` (3).\r\n\r\n---\r\n\r\n**Figure 4.4.8 (Input signals for AFU adaptation functions OPR_STND - STND):**\r\n\r\nThis diagram represents a simpler logic, likely for a different operating mode or a component thereof. It calculates an averaged difference for the Engine Roughness Standard Deviation Mean Mean Value (ER_STND_MMV_DIF_AFU) and updates an adapted MMV value.\r\n\r\n*   **Inputs:** `SEG_NR_ER` (1), `ER_STND_MMV_AFU` (2 - current adapted MMV), `NC_CYL_NR` (Number of Cylinders), `ER_STND_MMV_DIF_AFU_in` (3 - incoming MMV difference).\r\n*   **Outputs:** `ER_STND_MMV_DIF_AFU_out` (1 - processed MMV difference), `ER_STND_MMV_AFU` (2 - updated adapted MMV).\r\n*   **Logic:** It sums `ER_STND_MMV_DIF_AFU_in` with a `SEG_NR_ER`-selected `ER_STND_MMV_AFU` value, then divides this sum by `NC_CYL_NR` to obtain an averaged value. This averaged value is then output as `ER_STND_MMV_DIF_AFU_out` and is also used to update the `ER_STND_MMV_AFU` array/bus at the `SEG_NR_ER` index, with the updated value being `ER_STND_MMV_AFU` (2). This implies an averaging and adaptation of MMV differences, possibly to smooth out variations across cylinders.\r\n\r\n\r\n--- Page 27 ---\r\n\r\nThe provided image displays a Simulink diagram.\r\n\r\n## Function\r\n\r\nThis Simulink diagram's primary function is to **control the activation or deactivation of three engine roughness-related signals (`CTR_SEG_ST_FDOUT_AFU`, `CTR_DLY_DRV1_STND_AFU`, `LV_DRV1_STND_AFU_FDOUT`) based on an initialization flag (`LC_FQ_ER_FDOUT_INI`)**. It effectively acts as a master switch to set these output signals to either an \"active\" (1) or \"deactivated\" (0) state, bundling them into a single output bus. This aligns with the title \"4.4.2.3 Deactivation\" and the context \"ALFU. Engine roughness signal preparation for fuel quality adaptation\".\r\n\r\n## Inputs\r\n\r\n1.  **`LC_FQ_ER_FDOUT_INI`**: This is the primary control input. It's likely a boolean or an integer signal that indicates whether the fuel quality adaptation system (or a related component) is initialized or active. The \"V.6.4\" label suggests its data type or version.\r\n2.  **Constant1 (Value: 1)**: Provides the \"active\" state value for the output signals.\r\n3.  **Constant5 (Value: 0)**: Provides the \"deactivated\" state value for the output signals.\r\n\r\n## Outputs\r\n\r\n1.  **`bus_drv1`**: This is a Simulink bus containing the following three individual signals:\r\n    *   **`CTR_SEG_ST_FDOUT_AFU`**: A control or status signal related to segment state for fuel quality adaptation.", "mimetype": "text/plain", "start_char_idx": 52167, "end_char_idx": 55471, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "43528cd2-3d40-4463-9a43-79b928e4e513": {"__data__": {"id_": "43528cd2-3d40-4463-9a43-79b928e4e513", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ca712663-9830-4808-8dcd-4b89537993de", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "2d17060612586862f4986ff026d1c7ad06a37b74934040ecb7bbe519d5270d2d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "cca81416-6861-4e68-9609-c0415dc35498", "node_type": "1", "metadata": {}, "hash": "d47af9763ffd1154854ec864c0b0db119228acf6f04c15991abf26d6373397d6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  **Constant5 (Value: 0)**: Provides the \"deactivated\" state value for the output signals.\r\n\r\n## Outputs\r\n\r\n1.  **`bus_drv1`**: This is a Simulink bus containing the following three individual signals:\r\n    *   **`CTR_SEG_ST_FDOUT_AFU`**: A control or status signal related to segment state for fuel quality adaptation.\r\n    *   **`CTR_DLY_DRV1_STND_AFU`**: A control or status signal related to a delay drive for fuel quality adaptation.\r\n    *   **`LV_DRV1_STND_AFU_FDOUT`**: A control or status signal related to a drive level for fuel quality adaptation.\r\n    All three output signals inherit their value (0 or 1) from the `Switch` block.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the diagram proceeds as follows:\r\n\r\n1.  **Initialization Flag Evaluation**: The input signal `LC_FQ_ER_FDOUT_INI` is fed into the control port (middle input) of the `Switch` block.\r\n2.  **Switch Decision**: The `Switch` block evaluates the `LC_FQ_ER_FDOUT_INI` signal. The comparator symbol `~=` on the switch indicates that it performs a \"not equal to\" comparison against a configured threshold (typically 0 or a configurable value).\r\n    *   If `LC_FQ_ER_FDOUT_INI` is **not equal to** the switch's internal threshold (e.g., if `LC_FQ_ER_FDOUT_INI` is `1`, indicating an active/initialized state), the switch passes through its top input. This top input is supplied by `Constant1`, which has a value of `1`.\r\n    *   If `LC_FQ_ER_FDOUT_INI` **is equal to** the switch's internal threshold (e.g., if `LC_FQ_ER_FDOUT_INI` is `0`, indicating a deactivated state), the switch passes through its bottom input. This bottom input is supplied by `Constant5`, which has a value of `0`.\r\n3.  **Signal Assignment**: The output of the `Switch` block (which is either `1` or `0`) is then routed to determine the values of the three output signals: `CTR_SEG_ST_FDOUT_AFU`, `CTR_DLY_DRV1_STND_AFU`, and `LV_DRV1_STND_AFU_FDOUT`.\r\n    *   If the `Switch` outputs `1`, all three signals are set to `1` (active).\r\n    *   If the `Switch` outputs `0`, all three signals are set to `0` (deactivated).\r\n4.  **Bus Creation**: Finally, these three individually determined signals are combined into a single output bus, `bus_drv1`, by the `Bus Creator` block, making them available as a structured output for other parts of the system.\r\n\r\n\r\n--- Page 29 ---\r\n\r\nThe provided image displays a series of block diagrams, consistent with what would be found in a Simulink model or similar block-diagram-based development environments (e.g., ASCET, TargetLink) used in automotive systems engineering. It details the initialization and operational calculation logic for an \"Injection time correction for alternative fuel\" system (ALFU).\r\n\r\n## Function\r\n\r\nThe primary function of this system is to calculate and manage the mass flow of alternative fuel per cylinder (`FAC_MFF_AFU_CYL`) and the corresponding injection time for alternative fuel (`FAC_TI_AFU`). It operates in two main phases: an initialization phase triggered by a system RESET event, and a periodic operational calculation phase triggered by a SEG (segment) event. The overall goal is to provide a corrected injection time for alternative fuel applications.\r\n\r\n## Inputs\r\n\r\n*   **`FAC_MFF_AFU_CYL_ER`**: An input representing an estimated or error value for the mass flow of alternative fuel per cylinder. (Used in operational calculation).\r\n*   **`FAC_MFF_AFU_CYL_ERU`**: An input representing an unfiltered or upper-range value for the mass flow of alternative fuel per cylinder. (Used in operational calculation).\r\n*   **`[NC_CYL_NR]`**: Number of cylinders. This input is used during the initialization phase, likely to determine the size of the `FAC_MFF_AFU_CYL` array.\r\n\r\n## Outputs\r\n\r\n*   **`FAC_MFF_AFU_CYL`**: The calculated mass flow of alternative fuel per cylinder. This is an array output if `[NC_CYL_NR]` implies a multi-cylinder engine.\r\n*   **`FAC_TI_AFU`**: The calculated injection time (or injection time correction factor) for alternative fuel.", "mimetype": "text/plain", "start_char_idx": 55150, "end_char_idx": 59135, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "cca81416-6861-4e68-9609-c0415dc35498": {"__data__": {"id_": "cca81416-6861-4e68-9609-c0415dc35498", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "43528cd2-3d40-4463-9a43-79b928e4e513", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "86552e2e840c88e41d69e9357ac9586873db159635053027b66dbbd304edc124", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "23cb4bd5-90c9-467b-8e2e-cfc8e8e13dc0", "node_type": "1", "metadata": {}, "hash": "4542ed888c996df60b51b1b4a21c84e7d904780ea554ef70c8c1472155ec9f9c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Outputs\r\n\r\n*   **`FAC_MFF_AFU_CYL`**: The calculated mass flow of alternative fuel per cylinder. This is an array output if `[NC_CYL_NR]` implies a multi-cylinder engine.\r\n*   **`FAC_TI_AFU`**: The calculated injection time (or injection time correction factor) for alternative fuel.\r\n\r\n## Logic Flow\r\n\r\nThe system's logic flow is divided into an overall context, an initialization phase, and an operational calculation phase.\r\n\r\n1.  **Overall System Context (Figure 4.5.1):**\r\n    *   The entire system is governed by a **Recurrence: SEG** (periodic segment event) for operational calculations and an **Init: RST** (reset event) for initialization.\r\n    *   It is configured to be **always** active once initialized and **never** deactivated.\r\n    *   The `fc_INI` signal (triggered by RST) activates the **`INI X.1`** block, which handles the initialization logic.\r\n    *   The `fc_OPM` signal (triggered by SEG) activates the **`OPM X.2`** block, which performs the operational calculations.\r\n    *   The results from `INI X.1` and `OPM X.2` (specifically `FAC_MFF_AFU_CYL: O V` and `FAC_TI_AFU: O V` for Operational Values) are fed into the **`V. 5.9`** block, which acts as a data storage or output interface, making the final `FAC_MFF_AFU_CYL` and `FAC_TI_AFU` available as system outputs.\r\n\r\n2.  **Initialization at RESET event (Figure 4.5.2 - Detail of `INI X.1`):**\r\n    *   Upon a system RESET event, this logic is executed.\r\n    *   The `FAC_MFF_AFU_CYL` signal (likely an array, indicated by the `[NC_CYL_NR]` input and the `f()` block which probably handles array operations) is initialized. The diagram shows it being fed from a block and then outputted.\r\n    *   The `FAC_TI_AFU` signal is explicitly initialized to a value of `1` by a block labeled \"V. 6.4\", which contains `init = 1`. This initialized value is then propagated as the initial `FAC_TI_AFU` output.\r\n\r\n3.  **Calculation at SEG event (Figure 4.5.3 - Detail of `OPM X.2` for `FAC_MFF_AFU_CYL` calculation):**\r\n    *   During normal runtime, at each periodic SEG event, the operational calculation logic runs.\r\n    *   The primary calculation shown in this specific diagram is for `FAC_MFF_AFU_CYL`. It receives `FAC_MFF_AFU_CYL_ER` and `FAC_MFF_AFU_CYL_ERU` as inputs.\r\n    *   These two inputs are fed into the **`V. 5.3`** block, which is represented with an `x` symbol, suggesting a multiplication, selection, or a more complex calculation based on these two inputs. The output of this block is the calculated `FAC_MFF_AFU_CYL`.\r\n    *   The diagram also shows `FAC_TI_AFU` as an output, associated with block \"V. 6.4\". Similar to the initialization, a `1` is shown below `V. 6.4`. This indicates that `FAC_TI_AFU` either defaults to `1` in this operational phase if not explicitly calculated in the shown sub-diagram, or `1` represents a base factor, or its dynamic correction calculation is performed in another part of the `OPM X.2` block not detailed in this specific diagram (which is titled \"FAC_MFF_AFU_CYL calculation\"). Based on the overall function \"Injection time correction\", it is highly probable that `FAC_TI_AFU` is dynamically adjusted, and `1` might be its initialized value or a base reference.\r\n\r\n\r\n--- Page 36 ---\r\n\r\nThis is indeed a Simulink diagram.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram, titled \"ALFU. Engine running adaptation (AFU)\", is to manage and provide a set of engine running adaptation parameters. It handles the initialization, activation, deactivation, and non-volatile storage of these parameters. It consolidates various adaptation-related values, likely pertaining to fuel-air ratio control and fuel trim limits, ensuring their persistence across ignition cycles through Non-Volatile Memory (NVM) operations and making them available as a structured output bus.", "mimetype": "text/plain", "start_char_idx": 58849, "end_char_idx": 62659, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "23cb4bd5-90c9-467b-8e2e-cfc8e8e13dc0": {"__data__": {"id_": "23cb4bd5-90c9-467b-8e2e-cfc8e8e13dc0", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "cca81416-6861-4e68-9609-c0415dc35498", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "b4829016694cddc77fd300fb016494fc14ae097c87e92bd2230d1fc006abe538", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ecadb2e9-28b9-423b-a858-5e13f8656a91", "node_type": "1", "metadata": {}, "hash": "18e2cc131086c697566724ea9450b6e52c2277e06488478346e883ab9211acb6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Engine running adaptation (AFU)\", is to manage and provide a set of engine running adaptation parameters. It handles the initialization, activation, deactivation, and non-volatile storage of these parameters. It consolidates various adaptation-related values, likely pertaining to fuel-air ratio control and fuel trim limits, ensuring their persistence across ignition cycles through Non-Volatile Memory (NVM) operations and making them available as a structured output bus.\r\n\r\n## Inputs\r\n\r\n*   **`fc_INI`**: Global initialization flag.\r\n*   **`fc_RST`**: Reset control signal for adaptation parameters.\r\n*   **`fc_ACT_SEG`**: Activate segment control signal, enabling a specific initialization mode.\r\n*   **`fc_DEAC_SEG`**: Deactivate segment control signal, enabling another specific initialization mode.\r\n*   **`<FAC_AFU_RATIO>`**: Input for the main Fuel-Air Unit (AFU) adaptation ratio.\r\n*   **`<FAC_AFU_RATIO_FTL_MAX>`**: Maximum fuel trim limit for the AFU ratio.\r\n*   **`<FAC_AFU_RATIO_FTL_MIN>`**: Minimum fuel trim limit for the AFU ratio.\r\n*   **`<FAC_AFU_ERU>`**: Feedback or estimated Engine Running Unit (ERU) AFU ratio, used during deactivation.\r\n*   **`fc_NVM`**: Control signal for Non-Volatile Memory (NVM) operations (read/store).\r\n*   **`<sys_eve_nvmini>`**: System event for NVM initialization.\r\n*   **`<sys_eve_nvmslo>`**: System event for slow NVM operations (e.g., storing data).\r\n\r\n## Outputs\r\n\r\nThe primary output is a bus named **`ini`** (BusMerge V.5.35), which contains the following individual adaptation parameters:\r\n\r\n*   **`FAC_AFU_RATIO_ERU_INI`**: Initial Fuel-Air Unit (AFU) adaptation ratio.\r\n*   **`CTR_SEG_MFF_AFU_ERU`**: Counter for the Mass Fuel Flow (MFF) AFU adaptation segment.\r\n*   **`FAC_MFF_AFU_ERU_INI`**: Initial Mass Fuel Flow (MFF) AFU adaptation ratio.\r\n*   **`FAC_MFF_AFU_RATIO_FTL_MAX`**: Maximum Fuel Trim Limit for MFF AFU ratio.\r\n*   **`FAC_MFF_AFU_RATIO_FTL_MIN`**: Minimum Fuel Trim Limit for MFF AFU ratio.\r\n*   **`LAMB_ADD_ERU_AD_MAX`**: Maximum Lambda Additive adaptation limit.\r\n*   **`LAMB_ADD_ERU_AD_MIN`**: Minimum Lambda Additive adaptation limit.\r\n*   **`FAC_AFU_ERU_AD`**: Adapted Fuel-Air Unit (AFU) ratio.\r\n*   **`LV_FAC_AFU_RATIO_ERU_ACT`**: Active Load Value (LV) for Fuel-Air Unit (AFU) adaptation ratio validity.\r\n*   **`FAC_MFF_AFU_CYL_ERU`**: Cylinder-specific Mass Fuel Flow (MFF) AFU adaptation ratio.\r\n*   **`LV_FAC_AFU_RATIO_ERU_VLD`**: Valid flag for the Load Value (LV) of Fuel-Air Unit (AFU) adaptation ratio, indicating if the NVM data is valid.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the diagram proceeds through several distinct stages, primarily driven by control signals and operational segments:\r\n\r\n1.  **Control Signal Reception:** The diagram continuously monitors the control signals `fc_RST`, `fc_ACT_SEG`, and `fc_DEAC_SEG`. These signals determine which of the three main operational segments (RST, INI_ACT, INI_DACT) is active at any given time.\r\n2.  **Input Parameter Acquisition:** Relevant engine adaptation parameters, such as `<FAC_AFU_RATIO>` and its fuel trim limits, and `<FAC_AFU_ERU>` feedback, are provided as inputs to the system.\r\n3.  **Non-Volatile Memory (NVM) Read and Initialization:**\r\n    *   Two `NVMY[read/init]` blocks are responsible for retrieving the `LV_FAC_AFU_RATIO_ERU_VLD` (Load Value Fuel-Air Unit Ratio Engine Running Unit Valid) from non-volatile memory or initializing it to a default state (e.g., 0 for an invalid state) if the read fails or is explicitly requested by `sys_eve_nvmini`.\r\n    *   A `Merge` block then selects the appropriate `LV_FAC_AFU_RATIO_ERU_VLD` value \u2013 either the one read from NVM or the initialized default \u2013 based on internal logic (likely driven by `fc_NVM` or system events). This value indicates the validity status of the stored adaptation ratio.\r\n4.", "mimetype": "text/plain", "start_char_idx": 62185, "end_char_idx": 65998, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ecadb2e9-28b9-423b-a858-5e13f8656a91": {"__data__": {"id_": "ecadb2e9-28b9-423b-a858-5e13f8656a91", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "23cb4bd5-90c9-467b-8e2e-cfc8e8e13dc0", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "c13637bcff3aa4571a9f12bbf0e6de1bd317011a442f6d079370b9db232c750c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3e64ba92-d965-4ce4-ba00-125e9130302c", "node_type": "1", "metadata": {}, "hash": "f0a5e2ab8f52fb3e035683d5d874379603ac00e6eb3a323bc3bed2b63a050a84", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   A `Merge` block then selects the appropriate `LV_FAC_AFU_RATIO_ERU_VLD` value \u2013 either the one read from NVM or the initialized default \u2013 based on internal logic (likely driven by `fc_NVM` or system events). This value indicates the validity status of the stored adaptation ratio.\r\n4.  **Operational Segment Execution:**\r\n    *   **Reset Segment (RST X.1.1):** When `fc_RST` is active, this block calculates and outputs a set of initial adaptation parameters, including `FAC_AFU_RATIO_ERU_INI`, `CTR_SEG_MFF_AFU_ERU`, `FAC_MFF_AFU_ERU_INI`, and the `LAMB_ADD_ERU_AD_MAX/MIN` limits, based on the input `<FAC_AFU_RATIO>`.\r\n    *   **Active Initialization Segment (INI_ACT X.1.2):** When `fc_ACT_SEG` is active, this block computes active adaptation parameters and fuel trim limits such as `CTR_SEG_MFF_AFU_ERU`, `FAC_MFF_AFU_ERU_AD`, `FAC_MFF_AFU_RATIO_FTL_MAX/MIN`, and `LAMB_ADD_ERU_AD_MAX/MIN`. These calculations utilize `<FAC_AFU_RATIO>` and its associated fuel trim limits.\r\n    *   **Deactive Initialization Segment (INI_DACT X.1.3):** When `fc_DEAC_SEG` is active, this block calculates specific adaptation outputs like `CTR_SEG_MFF_AFU_ERU`, `FAC_AFU_ERU_AD`, `LV_FAC_AFU_RATIO_ERU_ACT`, `FAC_MFF_AFU_CYL_ERU`, and `LAMB_ADD_ERU_AD`. These computations are influenced by the feedback input `<FAC_AFU_ERU>`.\r\n5.  **Non-Volatile Memory (NVM) Storage:** The `LV_FAC_AFU_RATIO_ERU_ACT` (Active Load Value for Fuel-Air Unit Adaptation Ratio) from the `INI_DACT` block is fed into an `NVMY[store]` block. This block is responsible for writing this critical adaptation state and its validity into non-volatile memory, ensuring that it persists even after the engine or ECU is powered down. This operation is likely triggered by `fc_NVM` or `sys_eve_nvmslo`.\r\n6.  **Output Bus Consolidation:** All relevant adaptation parameters generated by the three operational segments (RST, INI_ACT, INI_DACT), along with the selected `LV_FAC_AFU_RATIO_ERU_VLD` from the NVM path, are collected and combined into a single, structured output bus by the `BusMerge` block.\r\n7.  **Final Output:** This consolidated `ini` bus, containing the comprehensive set of engine running adaptation parameters, is then provided as the primary output of the diagram to other parts of the engine control system for further processing and control.\r\n\r\n\r\n--- Page 37 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram, titled \"4.6.1.1 Initialisation at RESET event\", describes the logic for initializing various engine running adaptation (AFU) parameters during a system reset event. Its primary function is to compute and output a set of predefined or calculated initial values for key adaptation factors related to air-fuel ratio (Lambda) and mass flow factor (MFF) control. This ensures a stable and predictable startup state for the engine control unit after a reset.\r\n\r\n## Inputs\r\n\r\nThe diagram receives numerous inputs, primarily constants or internal system variables, through a large Demux block on the left and also directly to specific function blocks. These are largely used to set default values or as parameters for calculations.\r\n\r\n*   `CTR_SEX_MFF_AFU_ERU`: Counter for MFF AFU ERU.\r\n*   `IDX_INJ_COR`: Injector correction index.\r\n*   `IDX_CBK_NR_ERU`: Callback number index ERU.\r\n*   `ER_STND_DIF_AFR_AFL`: Standard difference Air-Fuel Ratio, for adaptation.\r\n*   `DELTA_LAMB_CLC_ER`: Delta Lambda Closed Loop ERU.\r\n*   `LAMB_ADD_ERU_AO_LAMB`: Lambda additive ERU for oxygen sensor.\r\n*   `LAMB_ADD_ERU_AO_MAX`: Maximum value for Lambda additive ERU.\r\n*   `LAMB_ADD_ERU_AO_MIN`: Minimum value for Lambda additive ERU.\r\n*   `FAC_AFU_RATIO_FTL_MAX`: Maximum Fuel Trim Long-term for AFU ratio.\r\n*   `FAC_AFU_RATIO_FTL_MIN`: Minimum Fuel Trim Long-term for AFU ratio.", "mimetype": "text/plain", "start_char_idx": 65710, "end_char_idx": 69453, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3e64ba92-d965-4ce4-ba00-125e9130302c": {"__data__": {"id_": "3e64ba92-d965-4ce4-ba00-125e9130302c", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ecadb2e9-28b9-423b-a858-5e13f8656a91", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "c24270040296401c1e57558dcdc93cb89736419a911f69fb176ddbe738d17af6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "76bba3a2-1d91-4904-8fc5-518399de31d0", "node_type": "1", "metadata": {}, "hash": "d824ca6de17c5fe6b85acfcad252603c6881c2e31f1e61ae5020d49086eaf9c8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `LAMB_ADD_ERU_AO_MAX`: Maximum value for Lambda additive ERU.\r\n*   `LAMB_ADD_ERU_AO_MIN`: Minimum value for Lambda additive ERU.\r\n*   `FAC_AFU_RATIO_FTL_MAX`: Maximum Fuel Trim Long-term for AFU ratio.\r\n*   `FAC_AFU_RATIO_FTL_MIN`: Minimum Fuel Trim Long-term for AFU ratio.\r\n*   `LV_FAC_AFU_RATIO_ERU_ACT`: Active flag for AFU ratio ERU.\r\n*   `NR_CYL_MFF_AFL`: Number of cylinders for MFF adaptation (Air Flow Left).\r\n*   `NR_CYL_MFF_AFR`: Number of cylinders for MFF adaptation (Air Flow Right).\r\n*   `FAC_ER_DIF_RATIO`: Error difference ratio factor.\r\n*   `LAMB_CLC_ER_FIL`: Filtered Lambda closed loop ERU.\r\n*   `CTR_CLC_ERU_AD_LAMB`: Counter for closed loop ERU adaptation Lambda.\r\n*   `CYL_NR_ERU`: Cylinder number ERU.\r\n*   `FAC_MFF_ERU_AD`: MFF ERU adaptation factor.\r\n*   `FAC_MFF_WUP_COR`: MFF Warm-Up Correction factor.\r\n*   `[NC_CYL_NR]`: Array related to the number of cylinders, used for initializing `FAC_MFF_AFU_CYL_ERU`.\r\n*   `FAC_AFU_RATIO`: An existing AFU ratio value, possibly a default or stored value.\r\n*   `IP_MFF_BAS_AFU`: Base MFF (Mass Flow Factor) for AFU adaptation, used as input to a 1D lookup table.\r\n*   `C_MFF_FAC_ERU`: A constant or calibration parameter for MFF factors.\r\n*   `FAC_MFF_AFU_RATIO_ERU_INI`: An intermediate initialized MFF AFU ratio (used for subsequent calculations).\r\n*   `IP_FAC_AFU_RATIO_MFF_FAC`: Input for a 1D lookup table determining `FAC_AFU_RATIO_ERU`.\r\n\r\n## Outputs\r\n\r\nThe outputs of this diagram are the initialized values for various engine adaptation factors, collected via Mux blocks on the right side and labeled with \"rst\" (reset).\r\n\r\n*   `FAC_AFU_RATIO_ERU_INI`: Initialized Engine Running Adaptation Factor for AFU Ratio.\r\n*   `FAC_MFF_AFU_RATIO_ERU_INI`: Initialized Engine Running Adaptation Factor for Mass Flow Factor AFU Ratio.\r\n*   `LAMB_ADD_ERU_AD`: Initialized Lambda Additive Adaptation value.\r\n*   `FAC_MFF_ERU_AD_CLG`: Initialized MFF ERU Adaptation value for Closed Loop Gain.\r\n*   `FAC_MFF_ERU`: Initialized Mass Flow Factor for Engine Running Unit.\r\n*   `FAC_AFU_RATIO_ERU`: Final initialized AFU Ratio for ERU.\r\n\r\n## Logic Flow\r\n\r\nThe diagram follows parallel computation paths to derive the reset values for various adaptation parameters. The notation V.X.Y on blocks likely refers to version control or specific library components.\r\n\r\n1.  **Initialize `FAC_MFF_AFU_CYL_ERU` and related `FAC_AFU_RATIO_ERU_INI`:**\r\n    *   The `[NC_CYL_NR]` input initializes `FAC_MFF_AFU_CYL_ERU`. This value is then passed through a gain of `1` to produce the first output, `FAC_AFU_RATIO_ERU_INI`.\r\n\r\n2.  **Initialize `FAC_AFU_RATIO_ERU_INI` (Alternative/Parallel Path 1):**\r\n    *   An existing `FAC_AFU_RATIO` value is passed through a gain of `1` to also produce `FAC_AFU_RATIO_ERU_INI`. This indicates that `FAC_AFU_RATIO_ERU_INI` can be sourced from either a cylinder-related value or a general AFU ratio.\r\n\r\n3.  **Initialize `FAC_MFF_AFU_RATIO_ERU_INI` (Alternative/Parallel Path 2):**\r\n    *   `IP_MFF_BAS_AFU` is used as the input to a 1-D Lookup Table (V.6.8). The output of this table is scaled by a gain of `1` to produce `FAC_MFF_AFU_RATIO_ERU_INI`. This signal then feeds into other calculations. This path likely determines the base MFF AFU ratio.\r\n\r\n4.  **Initialize `LAMB_ADD_ERU_AD`:**\r\n    *   The constant `C_MFF_FAC_ERU` is effectively added to `0` (a constant), then passed through a gain of `1`.", "mimetype": "text/plain", "start_char_idx": 69175, "end_char_idx": 72567, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "76bba3a2-1d91-4904-8fc5-518399de31d0": {"__data__": {"id_": "76bba3a2-1d91-4904-8fc5-518399de31d0", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3e64ba92-d965-4ce4-ba00-125e9130302c", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "6af6034cfc1995ce23a385096ac73257c92eb7de80f633a037a1acba40ad36a9", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "76b804f3-3219-4d91-8746-00d667a10ad2", "node_type": "1", "metadata": {}, "hash": "357731531fdf7f22648d54af6c5a1b77ae2859e8870ed762aab91ee62e3b772f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The output of this table is scaled by a gain of `1` to produce `FAC_MFF_AFU_RATIO_ERU_INI`. This signal then feeds into other calculations. This path likely determines the base MFF AFU ratio.\r\n\r\n4.  **Initialize `LAMB_ADD_ERU_AD`:**\r\n    *   The constant `C_MFF_FAC_ERU` is effectively added to `0` (a constant), then passed through a gain of `1`. This means `LAMB_ADD_ERU_AD` is initialized directly to `C_MFF_FAC_ERU`.\r\n\r\n5.  **Initialize `FAC_MFF_ERU_AD_CLG`:**\r\n    *   Two constants, both `1`, are subtracted from each other, resulting in `0`. This `0` is then passed through a gain of `1`, initializing `FAC_MFF_ERU_AD_CLG` to `0`.\r\n\r\n6.  **Initialize `FAC_MFF_ERU`:**\r\n    *   The signal `FAC_MFF_AFU_RATIO_ERU_INI` (from step 3) is multiplied by `C_MFF_FAC_ERU` (using a Product block V.6.7).\r\n    *   The result of this first multiplication is then multiplied again by `C_MFF_FAC_ERU` (another Product block V.6.7).\r\n    *   This final product is passed through a gain of `1` to become `FAC_MFF_ERU`.\r\n\r\n7.  **Initialize `FAC_AFU_RATIO_ERU`:**\r\n    *   `IP_FAC_AFU_RATIO_MFF_FAC` is used as the input to a 1-D Lookup Table (V.6.8). The output of this table is scaled by a gain of `1` to produce `FAC_AFU_RATIO_ERU`.\r\n\r\n8.  **Output Collection:**\r\n    *   All the derived initialized values (`FAC_AFU_RATIO_ERU_INI`, `FAC_MFF_AFU_RATIO_ERU_INI`, `LAMB_ADD_ERU_AD`, `FAC_MFF_ERU_AD_CLG`, `FAC_MFF_ERU`, and `FAC_AFU_RATIO_ERU` through `rst_1`) are aggregated into a Mux block labeled `rst`. This `rst` signal represents the consolidated set of initial values to be applied during a system reset.\r\n\r\nAdditionally, a textual note states: \"LV_FAC_AFU_RATIO_ERU_VLD should be set to '0' in case of check sum error\", which is an operational directive related to the validity flag of the AFU ratio.\r\n\r\n\r\n--- Page 38 ---\r\n\r\nThis is indeed a Simulink-like block diagram, typical for automotive embedded software development, likely from a Continental project (\"Project: VW SIMOS 181 EA888\").\r\n\r\n## Function\r\nThe primary function of this diagram is to initialize or update various engine running adaptation (AFU) parameters, specifically ratios and limits, upon \"segment activation.\" It handles the calculation of initial values and dynamic limits for adaptation factors related to an Exhaust Gas Recirculation (ERU) or similar system, depending on a control segment counter. It sets up values for AFU ratios and lambda additive adaptation limits.\r\n\r\n## Inputs\r\n1.  **FAC_AFU_RATIO** (Green '1'): The current or base AFU ratio.\r\n2.  **[FAC_AFU_RATIO_ERU_INI]**: An initial/pre-calibrated value for the ERU-specific AFU ratio.\r\n3.  **C_MFF_FAC_ERU**: A constant or calibration parameter, likely a Mass Flow Factor (MFF) for the ERU, used for scaling. (Appears three times for different calculations).\r\n4.  **FAC_AFU_RATIO_FTL_MAX** (Green '2'): The maximum raw Fuel Trim Limit (FTL) for the AFU ratio.\r\n5.  **FAC_AFU_RATIO_FTL_MIN** (Green '3'): The minimum raw Fuel Trim Limit (FTL) for the AFU ratio.\r\n6.  **[FAC_MFF_AFU_RATIO_ERU_INI]**: An initial/pre-calibrated value for the MFF-based ERU AFU ratio.\r\n7.  **[FAC_MFF_AFU_RATIO_FTL_MAX]**: An initial/pre-calibrated value for the maximum MFF-based AFU ratio limit.\r\n8.  **[FAC_MFF_AFU_RATIO_FTL_MIN]**: An initial/pre-calibrated value for the minimum MFF-based AFU ratio limit.\r\n9.  **CTR_SEG_MFF_AFU_ERU**: A control signal (likely a counter or flag) that determines whether initial/pre-calibrated values are used or dynamically calculated values.", "mimetype": "text/plain", "start_char_idx": 72220, "end_char_idx": 75719, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "76b804f3-3219-4d91-8746-00d667a10ad2": {"__data__": {"id_": "76b804f3-3219-4d91-8746-00d667a10ad2", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "76bba3a2-1d91-4904-8fc5-518399de31d0", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "873582bbb94a6ef64ca546502d8105de0ee1e6b7bdf5efdcba0cc1274b9690c0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e89fe617-d00f-4952-9dac-95f86b1d7a94", "node_type": "1", "metadata": {}, "hash": "3a9450ae786e5857a6ec2d41d7c97c65d8feb8be864c091f56d17a05be09d5e4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "8.  **[FAC_MFF_AFU_RATIO_FTL_MIN]**: An initial/pre-calibrated value for the minimum MFF-based AFU ratio limit.\r\n9.  **CTR_SEG_MFF_AFU_ERU**: A control signal (likely a counter or flag) that determines whether initial/pre-calibrated values are used or dynamically calculated values.\r\n\r\n## Outputs\r\n1.  **FAC_AFU_RATIO_ERU_INI** (Blue '1'): The initialized ERU-specific AFU ratio.\r\n2.  **CTR_SEG_MFF_AFU_ERU** (Blue '2'): The control segment counter for MFF AFU ERU (passed through).\r\n3.  **FAC_MFF_AFU_RATIO_ERU_INI** (Blue '3'): The initialized Mass Flow Factor (MFF) based AFU ratio for ERU.\r\n4.  **FAC_MFF_AFU_RATIO_FTL_MAX** (Blue '4'): The maximum MFF-based AFU ratio limit.\r\n5.  **FAC_MFF_AFU_RATIO_FTL_MIN** (Blue '5'): The minimum MFF-based AFU ratio limit.\r\n6.  **LAMB_ADD_ERU_AD_MAX** (Blue '6'): The maximum additive lambda adaptation value for ERU.\r\n7.  **LAMB_ADD_ERU_AD_MIN** (Blue '7'): The minimum additive lambda adaptation value for ERU.\r\n\r\n## Logic Flow\r\n\r\nThe diagram processes several parallel paths, primarily controlled by the `CTR_SEG_MFF_AFU_ERU` signal, which acts as a mode selector for the first group of outputs.\r\n\r\n1.  **Initialization of `FAC_AFU_RATIO_ERU_INI` (Output 1):**\r\n    *   A switch block (V.6.1) determines the output.\r\n    *   If `CTR_SEG_MFF_AFU_ERU` is `0` (or false), the output is set to the pre-calibrated `[FAC_AFU_RATIO_ERU_INI]` value.\r\n    *   If `CTR_SEG_MFF_AFU_ERU` is `1` (or true), the output takes the current `FAC_AFU_RATIO` (green '1').\r\n    *   This selected value becomes `FAC_AFU_RATIO_ERU_INI` (blue '1').\r\n\r\n2.  **Pass-through of `CTR_SEG_MFF_AFU_ERU` (Output 2):**\r\n    *   The input `CTR_SEG_MFF_AFU_ERU` is simply passed through to become output `CTR_SEG_MFF_AFU_ERU` (blue '2'). This output also controls all subsequent switch blocks.\r\n\r\n3.  **Calculation of `FAC_MFF_AFU_RATIO_ERU_INI`, `FAC_MFF_AFU_RATIO_FTL_MAX`, `FAC_MFF_AFU_RATIO_FTL_MIN` (Outputs 3, 4, 5):**\r\n    *   These three outputs follow a similar computational pattern:\r\n        *   An input ratio (`[FAC_AFU_RATIO_ERU_INI]`, `FAC_AFU_RATIO_FTL_MAX` (green '2'), or `FAC_AFU_RATIO_FTL_MIN` (green '3')) is fed as `X_val` into a 1D look-up table `IP_MFF_BAS_AFU` (V.6.4). This table likely maps a raw AFU ratio to a base MFF value.\r\n        *   The output of the look-up table (`IP_val`) is then multiplied by `C_MFF_FAC_ERU` using a multiplication block (V.6.8). This scales the MFF base value.\r\n        *   A switch block (V.6.1), controlled by `CTR_SEG_MFF_AFU_ERU`, then selects the final value:\r\n            *   If `CTR_SEG_MFF_AFU_ERU` is `0`, the output takes its respective pre-calibrated input (`[FAC_MFF_AFU_RATIO_ERU_INI]`, `[FAC_MFF_AFU_RATIO_FTL_MAX]`, or `[FAC_MFF_AFU_RATIO_FTL_MIN]`).\r\n            *   If `CTR_SEG_MFF_AFU_ERU` is `1`, the output takes the result from the multiplication (`IP_val * C_MFF_FAC_ERU`).\r\n        *   These selected values become `FAC_MFF_AFU_RATIO_ERU_INI` (blue '3'), `FAC_MFF_AFU_RATIO_FTL_MAX` (blue '4'), and `FAC_MFF_AFU_RATIO_FTL_MIN` (blue '5') respectively.\r\n\r\n4.", "mimetype": "text/plain", "start_char_idx": 75437, "end_char_idx": 78486, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e89fe617-d00f-4952-9dac-95f86b1d7a94": {"__data__": {"id_": "e89fe617-d00f-4952-9dac-95f86b1d7a94", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "76b804f3-3219-4d91-8746-00d667a10ad2", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "58c6dec1f7f3bebf115f19f05e7a11d61b3139443d903d4e94e14993c06e6363", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "525d8deb-118b-4290-9f8a-91bc6c031f95", "node_type": "1", "metadata": {}, "hash": "4981ca539c97748106091e559d33874d0df9a4b5ea897d4244d51856202e5712", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   These selected values become `FAC_MFF_AFU_RATIO_ERU_INI` (blue '3'), `FAC_MFF_AFU_RATIO_FTL_MAX` (blue '4'), and `FAC_MFF_AFU_RATIO_FTL_MIN` (blue '5') respectively.\r\n\r\n4.  **Calculation of `LAMB_ADD_ERU_AD_MAX` (Output 6):**\r\n    *   This output is calculated by summing two pre-calibrated inputs:\r\n        *   `[FAC_MFF_AFU_RATIO_ERU_INI]` (potentially with a gain of 1 via V.6.4 block type).\r\n        *   `[FAC_MFF_AFU_RATIO_FTL_MAX]` (passed through via V.6.8 block type).\r\n    *   The sum (`[FAC_MFF_AFU_RATIO_ERU_INI] + [FAC_MFF_AFU_RATIO_FTL_MAX]`) is assigned to `LAMB_ADD_ERU_AD_MAX` (blue '6').\r\n    *   *Crucially, this calculation does NOT depend on the `CTR_SEG_MFF_AFU_ERU` switch, always using the initial/pre-calibrated MFF AFU ratio values.*\r\n\r\n5.  **Calculation of `LAMB_ADD_ERU_AD_MIN` (Output 7):**\r\n    *   This output is calculated by subtracting two pre-calibrated inputs:\r\n        *   `[FAC_MFF_AFU_RATIO_ERU_INI]` (potentially with a gain of 1 via V.6.4 block type).\r\n        *   `[FAC_MFF_AFU_RATIO_FTL_MIN]` (subtracted, passed through via V.6.8 block type).\r\n    *   The result (`[FAC_MFF_AFU_RATIO_ERU_INI] - [FAC_MFF_AFU_RATIO_FTL_MIN]`) is assigned to `LAMB_ADD_ERU_AD_MIN` (blue '7').\r\n    *   *Similar to Output 6, this calculation does NOT depend on the `CTR_SEG_MFF_AFU_ERU` switch, always using the initial/pre-calibrated MFF AFU ratio values.*\r\n\r\nIn essence, the diagram allows for two modes: a default or \"initial\" mode where pre-calibrated values are directly used for most AFU ratio parameters (when `CTR_SEG_MFF_AFU_ERU` is 0), and an \"active segment\" mode where certain AFU ratio parameters are dynamically calculated via look-up tables and scaling (when `CTR_SEG_MFF_AFU_ERU` is 1). The lambda additive adaptation limits, however, consistently depend on specific pre-calibrated MFF AFU ratio values, regardless of the active segment.\r\n\r\n\r\n--- Page 39 ---\r\n\r\nThis image displays a block diagram, typical of a Simulink or similar model (like TargetLink), representing a specific initialization routine within an automotive control system. The title \"4.6.1.3 Initialisation at Segment deactivation\" and the context \"ALFU: Engine running adaptation (AFU)\" indicate its purpose.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to **initialize or reset specific parameters related to Engine Running Adaptation (AFU)** when an engine segment is deactivated. This ensures that adaptation values are set to predefined default or safe states upon segment deactivation, preparing them for potential future activation or ensuring consistent behavior.\r\n\r\n## Inputs\r\n\r\nIn the context of an initialization diagram where values are being reset, the \"inputs\" are generally the constant values and array initializations that are fed into the system to set the initial states of variables.\r\n\r\n1.  **Constant '0'**: Used to initialize `CTR_SEG_MFF_AFU_ERU`, `LAMB_ADD_ERU_AD`, and `LV_FAC_AFU_RATIO_ERU_ACT`.\r\n2.  **Constant '1'**: Used to initialize `FAC_MFF_AFU_AD` and `FAC_AFU_RATIO_ERU`.\r\n3.  **Array of size `[NC_CYL_NR]`**: Used to initialize `FAC_MFF_AFU_CYL_ERU`. The specific initial value for each element of the array is not explicitly shown but would typically be zero or one.\r\n\r\n## Outputs\r\n\r\nThe outputs are the signals/parameters that are being initialized or reset by this diagram. These are typically stored in memory and used by other parts of the control system.\r\n\r\n1.  **`CTR_SEG_MFF_AFU_ERU`**: Control or counter for segment mass flow adaptation unit.\r\n2.  **`FAC_MFF_AFU_AD`**: Factor for mass flow adaptation unit adaptation.\r\n3.  **`LAMB_ADD_ERU_AD`**: Lambda (air-fuel ratio) additive adaptation for engine running unit.", "mimetype": "text/plain", "start_char_idx": 78311, "end_char_idx": 82004, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "525d8deb-118b-4290-9f8a-91bc6c031f95": {"__data__": {"id_": "525d8deb-118b-4290-9f8a-91bc6c031f95", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e89fe617-d00f-4952-9dac-95f86b1d7a94", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "1b95dba7dfdee6483a12ab3e7ad2a6744b03436df8db425af4e7168469daca66", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c60fc181-3bee-49ed-b7a0-6f59ac3fa511", "node_type": "1", "metadata": {}, "hash": "c9816c12230ee3dd8efdced348f5b6fc88b35b424d212504986dd90f82254572", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "These are typically stored in memory and used by other parts of the control system.\r\n\r\n1.  **`CTR_SEG_MFF_AFU_ERU`**: Control or counter for segment mass flow adaptation unit.\r\n2.  **`FAC_MFF_AFU_AD`**: Factor for mass flow adaptation unit adaptation.\r\n3.  **`LAMB_ADD_ERU_AD`**: Lambda (air-fuel ratio) additive adaptation for engine running unit.\r\n4.  **`LV_FAC_AFU_RATIO_ERU_ACT`**: Live factor for air-fuel ratio adaptation unit, active state.\r\n5.  **`FAC_MFF_AFU_CYL_ERU`**: Factor for mass flow adaptation unit, per cylinder, for engine running unit. This is an array.\r\n6.  **`FAC_AFU_RATIO_ERU_INI`**: Initialized factor for air-fuel ratio adaptation unit.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of this diagram is a straightforward process of assigning initial values to various parameters:\r\n\r\n1.  A constant value of `0` (labeled V.6.4) is assigned directly to the output signal **`CTR_SEG_MFF_AFU_ERU`**.\r\n2.  A constant value of `1` (labeled V.6.4) is assigned directly to the output signal **`FAC_MFF_AFU_AD`**.\r\n3.  A constant value of `0` (labeled V.6.4) is assigned directly to the output signal **`LAMB_ADD_ERU_AD`**.\r\n4.  A constant value of `0` (labeled V.6.4) is assigned directly to the output signal **`LV_FAC_AFU_RATIO_ERU_ACT`**.\r\n5.  An array, whose size is determined by `[NC_CYL_NR]` (likely \"Number of Cylinders\"), is initialized and assigned to the output signal **`FAC_MFF_AFU_CYL_ERU`**. The default values for the array elements (e.g., all zeros or ones) are not explicitly shown but would be part of the \"array\" block's configuration.\r\n6.  A parameter named `FAC_AFU_RATIO_ERU` is initialized to `1` (indicated by the \"init = 1 V.6.4\" block). This initialized value then passes through a block labeled \"V.6.1\". The output of this \"V.6.1\" block is assigned to the signal **`FAC_AFU_RATIO_ERU_INI`**. The \"V.6.1\" block typically represents a simple pass-through for initialization, a specific conversion, or a lookup, but in this context, it primarily serves to formalize the initialization of `FAC_AFU_RATIO_ERU_INI` based on `FAC_AFU_RATIO_ERU`.\r\n\r\nIn summary, the diagram depicts an initialization sequence where several critical engine adaptation parameters are reset to predefined values when an engine segment is deactivated, ensuring a controlled and predictable state for these parameters.\r\n\r\n\r\n--- Page 40 ---\r\n\r\nThis image displays a Simulink Stateflow diagram, a powerful tool for modeling reactive systems and state machines. It is not a text page or table.\r\n\r\n## Function\r\nThe primary function of this Stateflow chart, titled \"ALFU. Engine running adaptation (AFU)\", is to manage the operational states of an engine's running adaptation unit. It controls when the adaptation process is `active` or `inactive` based on a set of input conditions and system events, potentially triggering specific actions (`fc_ACT_SEG`, `fc_DEAC_SEG`, `fc_RST`) corresponding to these state changes. The adaptation likely involves adjusting engine parameters for optimal performance, efficiency, or emissions.\r\n\r\n## Inputs\r\nThe Stateflow diagram uses the following variables and events as inputs to determine state transitions:\r\n\r\n*   **LV_ST_END**: A logical or status variable indicating an \"end\" condition (values 0 or 1).\r\n*   **STATE_ALFU_CTL**: A control state variable for the ALFU system (values 2 or 3 are checked).\r\n*   **LV_INH_FAC_AFU_RATIO_ERU**: An inhibition factor for an AFU ratio (values 0 or 1).\r\n*   **LV_FAC_AFU_RATIO_LAMB_ACT**: An active factor related to an AFU lambda ratio (values 0 or 1).\r\n*   **LV_FAC_AFU_RATIO_ERU_VLD**: A validity factor for an AFU ratio (values 0 or 1).\r\n*   **LC_FAC_AFU_RATIO_ERU_MAN_ACT**: A manual activation factor for an AFU ratio (values 0 or 1).\r\n*   **SYS_EVE_RST**: A system event that triggers a reset to the `inactive` state.", "mimetype": "text/plain", "start_char_idx": 81656, "end_char_idx": 85464, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c60fc181-3bee-49ed-b7a0-6f59ac3fa511": {"__data__": {"id_": "c60fc181-3bee-49ed-b7a0-6f59ac3fa511", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "525d8deb-118b-4290-9f8a-91bc6c031f95", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4faa19024dbdb429201dcea136f58321d5be6ba7dedd9d6d0517cc4286429b24", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "53739d43-76ce-4cdc-ba44-c8b6e45284fa", "node_type": "1", "metadata": {}, "hash": "0bfdbb685b2d1e1543ae2a25b22f88b4918caf333398a1d24fb8d8baeea88f6d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **LV_FAC_AFU_RATIO_ERU_VLD**: A validity factor for an AFU ratio (values 0 or 1).\r\n*   **LC_FAC_AFU_RATIO_ERU_MAN_ACT**: A manual activation factor for an AFU ratio (values 0 or 1).\r\n*   **SYS_EVE_RST**: A system event that triggers a reset to the `inactive` state.\r\n*   **SYS_EVE_SEG**: An event related to segmentation or activation within the `active` state.\r\n\r\n## Outputs\r\nThe Stateflow diagram generates the following actions or commands as outputs:\r\n\r\n*   **fc_RST**: An action/function called upon a system reset event, indicating a reset operation.\r\n*   **fc_ACT_SEG**: An action/function called when the system transitions into an active segment, likely initiating adaptation.\r\n*   **fc_DEAC_SEG**: An action/function called when the system transitions out of an active segment or deactivates, likely terminating adaptation.\r\n\r\n## Logic Flow\r\n\r\n1.  **Initial State:** The system starts in the `inactive` state, as indicated by the default transition (blue dot) leading directly to `inactive`.\r\n\r\n2.  **Transition to Active State:**\r\n    *   From the `inactive` state, the system transitions to the `active` state if **ALL** of the following conditions are met:\r\n        *   `LV_ST_END == 1` (An 'end' status is active)\r\n        *   **AND** `(STATE_ALFU_CTL == 2 || STATE_ALFU_CTL == 3)` (ALFU control is in state 2 or 3)\r\n        *   **AND** `LV_INH_FAC_AFU_RATIO_ERU == 0` (AFU ratio inhibition is not active)\r\n        *   **AND** `LV_FAC_AFU_RATIO_LAMB_ACT == 0` (Lambda ratio active factor is not active)\r\n        *   **AND** `LV_FAC_AFU_RATIO_ERU_VLD == 0` (AFU ratio validity factor is not valid)\r\n        *   **AND** `LC_FAC_AFU_RATIO_ERU_MAN_ACT == 1` (AFU ratio manual activation is active)\r\n    *   Upon entering the `active` state, the action `{fc_ACT_SEG}` is executed, likely activating a specific segment of the adaptation process. There's an internal transition labeled '1' leading to a sub-state where `{SYS_EVE_SEG}` might be processed or generated, and a self-loop '2' possibly for ongoing processing within that sub-state.\r\n\r\n3.  **Transition to Inactive State:**\r\n    *   From the `active` state, the system transitions back to the `inactive` state if **ANY** of the following conditions are met:\r\n        *   `LV_ST_END == 0` (An 'end' status is not active)\r\n        *   **OR** `(STATE_ALFU_CTL ~= 2 && STATE_ALFU_CTL ~= 3)` (ALFU control is neither in state 2 nor 3)\r\n        *   **OR** `LV_INH_FAC_AFU_RATIO_ERU == 1` (AFU ratio inhibition is active)\r\n        *   **OR** `LV_FAC_AFU_RATIO_LAMB_ACT == 1` (Lambda ratio active factor is active)\r\n        *   **OR** `LV_FAC_AFU_RATIO_ERU_VLD == 1` (AFU ratio validity factor is valid)\r\n        *   **OR** `LC_FAC_AFU_RATIO_ERU_MAN_ACT == 0` (AFU ratio manual activation is not active)\r\n    *   Upon this transition, the action `{fc_DEAC_SEG}` is executed, likely deactivating the adaptation segment.\r\n\r\n4.  **System Reset (Global Transition):**\r\n    *   Regardless of the current state (either `active` or `inactive`), if the `SYS_EVE_RST` event occurs, the system immediately transitions to the `inactive` state. This transition has higher priority and executes the action `{fc_RST}`, performing a system-wide reset.\r\n\r\n\r\n--- Page 41 ---\r\n\r\nThis image is indeed a Simulink diagram.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram, titled \"ALFU: Engine running adaptation (AFU)\", is to manage and compute parameters related to an engine's running adaptation. Specifically, it appears to process various system events, control flags, and inputs to determine a validated or adapted Air-Fuel Ratio Unit (AFU) ratio for a specific segment (`AFU_RATIO_ERU_SEG`), as well as manage the state of the function segment itself. It likely orchestrates the conditions under which certain adaptation factors are applied or inhibited.\r\n\r\n## Inputs\r\n\r\n1.", "mimetype": "text/plain", "start_char_idx": 85195, "end_char_idx": 89032, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "53739d43-76ce-4cdc-ba44-c8b6e45284fa": {"__data__": {"id_": "53739d43-76ce-4cdc-ba44-c8b6e45284fa", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c60fc181-3bee-49ed-b7a0-6f59ac3fa511", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "2138db12fa51e1464c0c7b70cdcae01faad53f65c8a22189e374a18aec34f822", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e64120f5-f9da-4e3c-b8a9-5768788d7e49", "node_type": "1", "metadata": {}, "hash": "2489080669340c5d083a7688758f44e4792a2967e7c02e60d3e16c50efdaa41c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Specifically, it appears to process various system events, control flags, and inputs to determine a validated or adapted Air-Fuel Ratio Unit (AFU) ratio for a specific segment (`AFU_RATIO_ERU_SEG`), as well as manage the state of the function segment itself. It likely orchestrates the conditions under which certain adaptation factors are applied or inhibited.\r\n\r\n## Inputs\r\n\r\n1.  **`fc_SEG` (Segment Control Input):** An external input, likely identifying or selecting the current function segment.\r\n2.  **`<SYS_EVE_RST>` (System Event Reset):** An input signal indicating a system reset event.\r\n3.  **`<SYS_EVE_SEG>` (System Event Segment):** An input signal related to a system event within a segment.\r\n4.  **`LC_FAC_AFU_RATIO_ERU_MAN_ACT` (Manual Activation of AFU Ratio ERU Factor):** A boolean or control signal for manually activating a factor related to the AFU ratio.\r\n5.  **`<LV_FAC_AFU_RATIO_LAMB_ACT>` (Lambda Activation of AFU Ratio Factor):** A signal indicating activation of an AFU ratio factor based on Lambda (air-fuel equivalence ratio) conditions.\r\n6.  **`<LV_INH_FAC_AFU_RATIO_ERU>` (Inhibit Factor for AFU Ratio ERU):** A signal to inhibit a specific AFU ratio ERU factor.\r\n7.  **`<LV_ST_END>` (State End):** A signal indicating the end of a particular state.\r\n8.  **`<STATE_ALFU_CTL>` (ALFU Control State):** A signal representing the current control state of the ALFU function.\r\n9.  **`<LV_FAC_AFU_RATIO_ERU_VLD>` (Validity of AFU Ratio ERU Factor):** A signal indicating the validity of an AFU ratio ERU factor.\r\n10. **`input` (Generic Input to OPM_SEG):** An external input to the `OPM_SEG` block, likely a measured value or a command.\r\n11. **`feedback` (Feedback to OPM_SEG):** An external feedback signal provided to the `OPM_SEG` block.\r\n\r\n## Outputs\r\n\r\n1.  **`fc_SEG_INI` (Segment Initialization):** An output signal indicating the initialization status or current state of the function segment (derived from reset, activation, deactivation, and segment flags).\r\n2.  **`afu_ratio_eru_seg` (AFU Ratio ERU Segment):** The primary calculated or adapted AFU ratio value for the ERU segment, derived from the `OPM_SEG` block.\r\n3.  **`SYS_EVE_RST` (Output of System Event Reset):** The processed or forwarded system reset event signal from the `APP_CDN` block.\r\n4.  **`SYS_EVE_SEG` (Output of System Event Segment):** The processed or forwarded system event segment signal from the `APP_CDN` block.\r\n5.  **`LC_FAC_AFU_RATIO_ERU_MAN_ACT` (Output of Manual Activation):** The processed or forwarded manual activation signal from the `APP_CDN` block.\r\n6.  **`LV_FAC_AFU_RATIO_LAMB_ACT` (Output of Lambda Activation):** The processed or forwarded Lambda activation signal from the `APP_CDN` block.\r\n7.  **`LV_INH_FAC_AFU_RATIO_ERU` (Output of Inhibit Factor):** The processed or forwarded inhibit factor signal from the `APP_CDN` block.\r\n8.  **`LV_ST_END` (Output of State End):** The processed or forwarded state end signal from the `APP_CDN` block.\r\n9.  **`STATE_ALFU_CTL` (Output of ALFU Control State):** The processed or forwarded ALFU control state signal from the `APP_CDN` block.\r\n10. **`LV_FAC_AFU_RATIO_ERU_VLD` (Output of Validity):** The processed or forwarded validity signal from the `APP_CDN` block.\r\n\r\n## Logic Flow\r\n\r\nThe diagram illustrates a two-part processing flow involving two main subsystems: `APP_CDN` and `OPM_SEG X.2.1`.\r\n\r\n1.  **Application Condition Management (`APP_CDN`):**\r\n    *   The `APP_CDN` block receives numerous input signals (e.g., `<SYS_EVE_RST>`, `<STATE_ALFU_CTL>`, `<LV_FAC_AFU_RATIO_ERU_VLD>`) that represent various system events, control states, and validity flags.\r\n    *   It processes these inputs and, in many cases, outputs signals with identical names (`SYS_EVE_RST`, `STATE_ALFU_CTL`, `LV_FAC_AFU_RATIO_ERU_VLD`).", "mimetype": "text/plain", "start_char_idx": 88652, "end_char_idx": 92441, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e64120f5-f9da-4e3c-b8a9-5768788d7e49": {"__data__": {"id_": "e64120f5-f9da-4e3c-b8a9-5768788d7e49", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "53739d43-76ce-4cdc-ba44-c8b6e45284fa", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "54a435a0ed0aad7f8dbd5110e102a6a291c33c65ea26b5f8ac86aa7dd6343e02", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "85232de2-ba2b-40a4-805d-8407fdf83c94", "node_type": "1", "metadata": {}, "hash": "81d3559c4bce9f280ae7532e1e3ee21e3b84e64f4787acba62744fa73a164847", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   It processes these inputs and, in many cases, outputs signals with identical names (`SYS_EVE_RST`, `STATE_ALFU_CTL`, `LV_FAC_AFU_RATIO_ERU_VLD`). This suggests `APP_CDN` might contain internal logic (e.g., state machines, combinational logic) to validate, modify, or gate these signals based on overall application conditions.\r\n    *   Additionally, `APP_CDN` generates four internal control flags: `fc_RST`, `fc_ACT_SEG`, `fc_DEAC_SEG`, and `fc_SEG`. These flags are related to resetting, activating, deactivating, and indicating the current segment status.\r\n\r\n2.  **Segment Initialization (`fc_SEG_INI` Calculation):**\r\n    *   The external input `fc_SEG` and the internal control flags (`fc_RST`, `fc_ACT_SEG`, `fc_DEAC_SEG`, `fc_SEG`) from `APP_CDN` are brought together.\r\n    *   These signals likely feed into a logic component (represented by the vertical black bus and connections) that determines the `fc_SEG_INI` output. This output probably indicates the overall initialization state or active status of the current function segment.\r\n\r\n3.  **Operating Mode Segment Calculation (`OPM_SEG X.2.1`):**\r\n    *   The `OPM_SEG X.2.1` block, which contains a function `fc()`, receives two external inputs: `input` and `feedback`. These inputs are crucial for its calculation.\r\n    *   The `fc()` function within `OPM_SEG X.2.1` performs a specific operation using these inputs to determine an operating mode segment value, which is then output as `opm_seg`.\r\n\r\n4.  **Final AFU Ratio Segment Output:**\r\n    *   The `opm_seg` value computed by the `OPM_SEG X.2.1` block is directly assigned to the system-level output `afu_ratio_eru_seg`. This signifies that the core adaptive calculation for the Air-Fuel Ratio Unit for the current segment is performed by the `OPM_SEG` block.\r\n\r\nIn summary, the `APP_CDN` block sets the stage by managing control flags and conditions, while the `OPM_SEG` block performs the core calculation of the adaptive AFU ratio based on dynamic inputs and feedback, with `fc_SEG_INI` reporting the overall segment state.\r\n\r\n\r\n--- Page 42 ---\r\n\r\nThis image displays a Simulink diagram.\r\n\r\n## Function\r\nThis Simulink diagram, titled \"ALFU. Engine running adaptation (AFU)\", is designed to calculate and manage various engine adaptation and correction factors during a specific operational phase: \"Engine Running Out of Start\" (indicated by `LV_ST_END = 1`, signifying a synchronous segment). Its primary function is to process a wide range of engine sensor inputs and internal states to derive corrected values for fuel injection, air-fuel ratio (Lambda), and other related parameters. These computed values are then consolidated into a single output bus structure, `opm_seg`, representing the overall adaptation state for this engine phase.\r\n\r\n## Inputs\r\nThe diagram receives numerous inputs, which are routed through `V.6.1` input blocks to different functional segments. Key inputs include:\r\n\r\n*   **Engine Operating Conditions:**\r\n    *   `NC_CYL_NR`: Number of cylinders.\r\n    *   `N_32`: Engine speed.\r\n    *   `MAF`: Mass Air Flow.\r\n    *   `TCO`: Coolant temperature.\r\n    *   `TCO_ST`: Coolant temperature status.\r\n    *   `TDIL`: Throttle angle or load.\r\n*   **Injection & Fuel Related:**\r\n    *   `IDX_INJ_COR`: Index for injection correction.\r\n    *   `CTR_SEG_MFF_AFU_ERU_in`: Segment-specific mass fuel flow adaptation input.\r\n    *   `FAC_ERU_WUP_COR`: Warm-up correction factor.\r\n    *   `MFF_SUM_REFU`: Sum of mass fuel flow for refueling.\r\n    *   `C_MFF_SUM_REFU_MAX`: Maximum sum of mass fuel flow for refueling.\r\n*   **Lambda (Air-Fuel Ratio) Adaptation:**\r\n    *   `LAMB_ADD_ERU_AD_MIN`: Minimum limit for Lambda additive adaptation.\r\n    *   `LAMB_ADD_ERU_AD_MAX`: Maximum limit for Lambda additive adaptation.\r\n    *   `LAMB_ADD_ERU_AD`: Current Lambda additive adaptation value.\r\n    *   `LAMB_ADD_ERU_AD_LAMB`: Lambda additive adaptation related to Lambda sensor.\r\n    *   `LAMB_ADD_ERU_AD_in`: Input for Lambda additive adaptation.", "mimetype": "text/plain", "start_char_idx": 92292, "end_char_idx": 96278, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "85232de2-ba2b-40a4-805d-8407fdf83c94": {"__data__": {"id_": "85232de2-ba2b-40a4-805d-8407fdf83c94", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e64120f5-f9da-4e3c-b8a9-5768788d7e49", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "d9d68ac64dd49b7644350ecf4ea970bd067b5e4dfc2f351a5e31ff0786fe30c7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7b70a73c-76c1-4d4e-b5f7-7d4930ed9e3f", "node_type": "1", "metadata": {}, "hash": "688da2c431fe0b6c8a4932c6fca3e25670cd82acda3a85238f1e272814b1d5df", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `LAMB_ADD_ERU_AD_MAX`: Maximum limit for Lambda additive adaptation.\r\n    *   `LAMB_ADD_ERU_AD`: Current Lambda additive adaptation value.\r\n    *   `LAMB_ADD_ERU_AD_LAMB`: Lambda additive adaptation related to Lambda sensor.\r\n    *   `LAMB_ADD_ERU_AD_in`: Input for Lambda additive adaptation.\r\n*   **Adaptation Ratios & Validation:**\r\n    *   `NR_CYL_MFF_AFL_in`: Number of cylinder mass fuel flow air-fuel limit input.\r\n    *   `NR_CYL_MFF_AFR_in`: Number of cylinder mass fuel flow air-fuel ratio input.\r\n    *   `FAC_MFF_AFU_RATIO_ERU_INs`: Input for mass fuel flow air-fuel unit ratio adaptation.\r\n    *   `FAC_AFU_RATIO_ERU_VLD_in`: Input for air-fuel unit ratio adaptation validity.\r\n    *   `LV_FAC_AFU_RATIO_ERU_VLD_in`: Logical value for air-fuel unit ratio adaptation validity.\r\n*   **General Signals:**\r\n    *   `feedback`: General feedback signal, likely from internal states.\r\n    *   `input`: General input signal.\r\n\r\n## Outputs\r\nThe diagram's primary output is a consolidated bus signal named `opm_seg`, which bundles various calculated adaptation and correction values. The individual outputs generated by the sub-processing units before merging are:\r\n\r\n*   **Engine State & Base Corrections:**\r\n    *   `FAC_MFF_AFU_CYL_ERU`: Mass fuel flow air-fuel unit cylinder adaptation factor.\r\n    *   `NR_CYL_MFF_AFR_out`: Number of cylinder mass fuel flow air-fuel ratio output.\r\n    *   `NR_CYL_MFF_AFL_out`: Number of cylinder mass fuel flow air-fuel limit output.\r\n    *   `FAC_ERU_WUP_COR`: Engine running unit warm-up correction factor.\r\n    *   `AFR_AFL_CLC`: Calculated Air-Fuel Ratio / Air-Fuel Limit.\r\n*   **Injection Corrections:**\r\n    *   `CTR_SEG_MFF_AFU_ERU`: Control segment mass fuel flow air-fuel unit engine running update.\r\n    *   `dtr_mff_inj_cor`: Delta time ratio mass fuel flow injection correction.\r\n    *   `CTR_MFF_INJ_COR`: Control mass fuel flow injection correction.\r\n*   **Lambda Adaptation Values:**\r\n    *   `LAMB_ADD_ERU_AD_MIN`: Output minimum limit for Lambda additive adaptation.\r\n    *   `LAMB_ADD_ERU_AD_MAX`: Output maximum limit for Lambda additive adaptation.\r\n    *   `LAMB_ADD_ERU_AD`: Output current Lambda additive adaptation value.\r\n    *   `LAMB_ADD_ERU_AD_LAMB`: Output Lambda additive adaptation related to Lambda sensor.\r\n    *   `int_lim`: Integral limit.\r\n    *   `LAMB_ADD_ERU_AD_out`: Output for Lambda additive adaptation.\r\n    *   `IDX_CBK_NR_ERU`: Index for callback number engine running unit.\r\n    *   `CBK_DET_MAN_RST`: Callback detection manual reset.\r\n*   **AFU Ratio & Validation States:**\r\n    *   `FAC_MFF_ERU_AD_CLC`: Calculated factor for mass fuel flow engine running unit adaptation.\r\n    *   `LV_FAC_AFU_RATIO_ACT`: Logical value for air-fuel unit ratio active.\r\n    *   `FAC_MFF_ERU`: Mass fuel flow engine running unit factor.\r\n    *   `FAC_AFU_RATIO_ERU`: Air-fuel unit ratio engine running unit factor.\r\n    *   `it_cor`: Internal correction.\r\n    *   `MFF_SUM_REFU`: Sum of mass fuel flow for refueling (passed through or modified).\r\n    *   `FAC_AFU_RATIO_ERU_VLD_out`: Output for air-fuel unit ratio adaptation validity.\r\n    *   `LV_FAC_AFU_RATIO_ERU_VLD_out`: Output logical value for air-fuel unit ratio adaptation validity.\r\n    *   `FAC_AFU_RATIO_ERU_VLD`: Air-fuel unit ratio adaptation validity factor.\r\n    *   `LV_FAC_AFU_RATIO_ERU_VLD`: Logical value for air-fuel unit ratio adaptation validity.\r\n    *   `vld_deac`: Validation deactivation state.\r\n\r\n## Logic Flow\r\nThe diagram is structured into six parallel processing paths, each responsible for a distinct set of calculations related to engine adaptation, and culminating in a final merged output.\r\n\r\n1.", "mimetype": "text/plain", "start_char_idx": 95981, "end_char_idx": 99640, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7b70a73c-76c1-4d4e-b5f7-7d4930ed9e3f": {"__data__": {"id_": "7b70a73c-76c1-4d4e-b5f7-7d4930ed9e3f", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "85232de2-ba2b-40a4-805d-8407fdf83c94", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "964aeae04787901ada5c81b84c9918526875ba098b7afbc052881f5b69f56855", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "95fda405-3078-42b8-bff1-c426607ab1a8", "node_type": "1", "metadata": {}, "hash": "30c3ae8b924f888f6ed29a0cf43ff2b4588d6bfe5850cc09747d73fec0282582", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `LV_FAC_AFU_RATIO_ERU_VLD`: Logical value for air-fuel unit ratio adaptation validity.\r\n    *   `vld_deac`: Validation deactivation state.\r\n\r\n## Logic Flow\r\nThe diagram is structured into six parallel processing paths, each responsible for a distinct set of calculations related to engine adaptation, and culminating in a final merged output.\r\n\r\n1.  **Engine Operational Parameter Processing (Top-most):**\r\n    *   Inputs like `NC_CYL_NR`, `N_32`, `MAF`, `TCO`, `IDX_INJ_COR`, and cylinder-specific MFF (Mass Fuel Flow) are fed into a functional block (`fc[2]`) and subsystem `AFR_AFL_CLC (X.2.1.1)`.\r\n    *   These blocks compute base correction factors such as `FAC_MFF_AFU_CYL_ERU`, cylinder-related MFF outputs, and overall Air-Fuel Ratio/Limit calculations (`AFR_AFL_CLC`).\r\n    *   These calculated outputs are then collected into a `BusMerge` block.\r\n\r\n2.  **Injection Correction Calculation:**\r\n    *   Inputs including `CTR_SEG_MFF_AFU_ERU_in`, `IDX_INJ_COR`, and `FAC_ERU_WUP_COR` are processed by a functional block (`fc[4]`) and subsystem `CTR_MFF_INJ_COR (X.2.1.2)`.\r\n    *   This path determines various injection correction factors like `CTR_SEG_MFF_AFU_ERU`, `dtr_mff_inj_cor`, and `CTR_MFF_INJ_COR`.\r\n    *   These are then merged into another `BusMerge` block.\r\n\r\n3.  **Lambda Adaptation Limit Management:**\r\n    *   Inputs defining the minimum, maximum, current, and Lambda-related values of Lambda additive adaptation (`LAMB_ADD_ERU_AD_MIN`, `_MAX`, `_AD`, `_LAMB`) are fed into a functional block (`fc[6]`) and the `INT_LIM (X.2.1.3)` subsystem.\r\n    *   This segment likely ensures that Lambda adaptation remains within defined bounds, producing an `int_lim` output along with the adaptation values themselves.\r\n    *   The resulting signals are merged.\r\n\r\n4.  **Lambda Adaptation Feedback Processing:**\r\n    *   Inputs `LAMB_ADD_ERU_AD_in` and `IDX_INJ_COR` are processed by `fc[8]` and the `CBK_DET_MAN_RST (X.2.1.4)` subsystem.\r\n    *   This section calculates the output Lambda additive adaptation (`LAMB_ADD_ERU_AD_out`), an index for callback, and a manual reset state for callback detection.\r\n    *   These outputs are also merged.\r\n\r\n5.  **AFU Ratio and Internal Correction:**\r\n    *   Inputs `LAMB_ADD_ERU_AD_in` and `FAC_MFF_AFU_RATIO_ERU_INs` are sent to `fc[10]` and the `IT_COR (X.2.1.5)` subsystem.\r\n    *   This path computes various factors related to AFU ratio and mass fuel flow adaptation (`FAC_MFF_ERU_AD_CLC`, `FAC_MFF_ERU`, `FAC_AFU_RATIO_ERU`), a logical active state (`LV_FAC_AFU_RATIO_ACT`), and an internal correction (`it_cor`).\r\n    *   These are subsequently merged.\r\n\r\n6.  **Validation and Deactivation Logic:**\r\n    *   A comprehensive set of inputs including fuel quantity (`MFF_SUM_REFU`), engine conditions (`MAF`, `TDIL`, `TCO`), and validation states (`FAC_AFU_RATIO_ERU_VLD_in`, `LV_FAC_AFU_RATIO_ERU_VLD_in`) are fed into `fc[12]` and the `VLD_DEAC (X.2.1.6)` subsystem.\r\n    *   This segment determines the validity of the AFU ratio adaptation (`FAC_AFU_RATIO_ERU_VLD`, `LV_FAC_AFU_RATIO_ERU_VLD`), related outputs (`_out` versions), and a deactivation state (`vld_deac`).\r\n    *   These outputs are then merged.\r\n\r\nFinally, all the individual outputs from these six `BusMerge` blocks (V.6.0) are combined into a single, comprehensive `BusMerge` block, producing the ultimate `opm_seg` output bus. This `opm_seg` encapsulates all the necessary adaptation parameters for the specified engine operating condition.\r\n\r\n\r\n--- Page 43 ---\r\n\r\nThis image is a Simulink-style block diagram.", "mimetype": "text/plain", "start_char_idx": 99288, "end_char_idx": 102834, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "95fda405-3078-42b8-bff1-c426607ab1a8": {"__data__": {"id_": "95fda405-3078-42b8-bff1-c426607ab1a8", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7b70a73c-76c1-4d4e-b5f7-7d4930ed9e3f", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "f76d6da82d3c0c7d15d9a0c5269696af77bf600efb67a2962959a6a95ff77c7c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "523007b6-923d-4c91-ba76-3843576799a6", "node_type": "1", "metadata": {}, "hash": "63dee85cc15f4adc3f92fa1a8ad6c9433598f515d79de814e0ac96a94bf3dbf0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   These outputs are then merged.\r\n\r\nFinally, all the individual outputs from these six `BusMerge` blocks (V.6.0) are combined into a single, comprehensive `BusMerge` block, producing the ultimate `opm_seg` output bus. This `opm_seg` encapsulates all the necessary adaptation parameters for the specified engine operating condition.\r\n\r\n\r\n--- Page 43 ---\r\n\r\nThis image is a Simulink-style block diagram.\r\n\r\n## Function\r\nThe primary function of this diagram, as indicated by the title \"Injection time correct and warm up factor determination,\" is to calculate and output critical factors for engine fuel injection control. Specifically, it determines correction factors for fuel mass flow based on various engine operating conditions and a warm-up enrichment factor based on engine coolant temperature. These outputs are crucial for adapting fuel injection timing and quantity to ensure optimal engine performance, emissions, and drivability across different operating states, especially during cold starts and warm-up.\r\n\r\n## Inputs\r\nThe diagram identifies the following key inputs:\r\n\r\n*   **NC_CYL_NR (Input 1):** Normalized cylinder number or an engine speed related parameter, indicating engine state.\r\n*   **N_32 (Input 2):** Engine speed, typically in RPM.\r\n*   **MAF (Input 3):** Mass Air Flow, representing the amount of air entering the engine.\r\n*   **TCO (Input 4):** Engine Coolant Temperature.\r\n*   **TCO_ST (Input 5):** Status of the Engine Coolant Temperature sensor or value (e.g., valid, fault).\r\n*   **IDX_INJ_COR (Input 6):** An index or identifier for a specific injection correction or characteristic map.\r\n*   **NR_CYL_MFF_AFL_in (Input 7):** Input for Normalized Cylinder Mass Fuel Flow (After Fuel Layer), possibly representing a base or prior estimated fuel mass flow for a specific cylinder or bank (e.g., \"Left\").\r\n*   **NR_CYL_MFF_AFR_in (Input 8):** Input for Normalized Cylinder Mass Fuel Flow (After Fuel Layer), similarly for another cylinder or bank (e.g., \"Right\").\r\n\r\n## Outputs\r\nThe diagram identifies the following key outputs:\r\n\r\n*   **FAC_MFF_AFU_CYL_ERU (Output 1):** Factor for Mass Fuel Flow Adaptation Unit (Cylinder/Engine Running Unit). This is an adapted factor influencing fuel quantity.\r\n*   **NR_CYL_MFF_AFR_out (Output 2):** Output Normalized Cylinder Mass Fuel Flow (After Fuel Layer), for a specific cylinder or bank (e.g., \"Right\"), after further correction.\r\n*   **NR_CYL_MFF_AFL_out (Output 3):** Output Normalized Cylinder Mass Fuel Flow (After Fuel Layer), for a specific cylinder or bank (e.g., \"Left\"), after further correction.\r\n*   **FAC_ERU_WUP_COR (Output 4):** Factor for Engine Running Unit Warm Up Correction. This is the crucial enrichment factor for cold engine operation.\r\n\r\n## Logic Flow\r\nThe logical flow within the diagram can be broken down into two main parallel processing paths that converge at the outputs:\r\n\r\n1.  **Injection Time Correction Path:**\r\n    *   **Input Acquisition:** The system first acquires engine operating data: `NC_CYL_NR`, `N_32`, `MAF`, `IDX_INJ_COR`, `NR_CYL_MFF_AFL_in`, and `NR_CYL_MFF_AFR_in`.\r\n    *   **CLC_CI_IT_COR Block (Charge and Injection Time Correction):** These inputs are fed into the `CLC_CI_IT_COR` block (identified as `X.2.1.1.1`). This block likely contains complex algorithms, lookup tables (maps), and possibly dynamic models to calculate and refine fuel injection parameters. It determines initial correction factors and estimates of normalized mass fuel flow.\r\n    *   **Intermediate Outputs:** This block outputs an adapted factor `FAC_MFF_AFU_CYL_ERU` and corrected normalized cylinder mass fuel flows `NR_CYL_MFF_AFR_out` and `NR_CYL_MFF_AFL_out`.\r\n    *   **V.6.1 Block (Final Adaptation/Output Consolidation):** These three intermediate outputs are then routed to the `V.6.1` block. This block likely represents a further stage of adaptation, selection, or merging of these injection-related factors, potentially based on other internal system states or modes. While its internal logic is not detailed, it acts as a final processing stage for these signals before they become system outputs.", "mimetype": "text/plain", "start_char_idx": 102431, "end_char_idx": 106548, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "523007b6-923d-4c91-ba76-3843576799a6": {"__data__": {"id_": "523007b6-923d-4c91-ba76-3843576799a6", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "95fda405-3078-42b8-bff1-c426607ab1a8", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "1d3994d5ac243e5c65b2e0ade307e108795232fd40a46309fefa8cb067e8c5d5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "348f6702-995b-4221-8128-44047306bdb1", "node_type": "1", "metadata": {}, "hash": "a0f8d284b17615a0d27353b25ea4a58c934a5b7e929b017093b58e96bab622f8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **V.6.1 Block (Final Adaptation/Output Consolidation):** These three intermediate outputs are then routed to the `V.6.1` block. This block likely represents a further stage of adaptation, selection, or merging of these injection-related factors, potentially based on other internal system states or modes. While its internal logic is not detailed, it acts as a final processing stage for these signals before they become system outputs.\r\n    *   **Final Injection-Related Outputs:** The `V.6.1` block produces the final `FAC_MFF_AFU_CYL_ERU` (Output 1), `NR_CYL_MFF_AFR_out` (Output 2), and `NR_CYL_MFF_AFL_out` (Output 3).\r\n\r\n2.  **Warm-Up Factor Determination Path:**\r\n    *   **Input Acquisition:** The system receives `TCO` (Engine Coolant Temperature) and `TCO_ST` (Coolant Temperature Status).\r\n    *   **WUP_COR_FAC Block (Warm Up Correction Factor):** These inputs are fed into the `WUP_COR_FAC` block (identified as `X.2.1.1.2`). This block calculates a warm-up correction factor. Typically, this involves using `TCO` as an input to a lookup table or a mathematical function, potentially considering `TCO_ST` for diagnostic or default behavior. During cold engine conditions, this factor will be greater than 1 (enrichment), gradually reducing to 1 as the engine warms up to its optimal operating temperature.\r\n    *   **Warm-Up Factor Output:** The `WUP_COR_FAC` block directly outputs the calculated `FAC_ERU_WUP_COR` (Output 4).\r\n\r\nIn summary, the diagram depicts two main concurrent calculations: one for adapting fuel mass flow based on engine load, speed, and existing fuel estimates, and another for determining a warm-up enrichment factor based on coolant temperature. These calculated factors are then provided as outputs for downstream use in the overall engine management system to control fuel injection.\r\n\r\n\r\n--- Page 44 ---\r\n\r\nThis image contains two distinct Simulink-like block diagrams related to automotive engine control. I will analyze both, focusing primarily on the more complex \"Cylinder individual injection time correction\" diagram.\r\n\r\n## Function\r\n\r\n**Primary Function (Top Diagram: \"Cylinder individual injection time correction\")**:\r\nThis subsystem's primary function is to calculate and apply individual cylinder corrections for engine fuel injection. It uses engine operating parameters (speed, mass air flow) and specific cylinder indexes to compute an adaptation factor (`FAC_MFF_AFU_CYL_ERU`). This factor, along with conditions on its value, then influences the output of cylinder-specific air-fuel ratio (AFR) and lambda (AFL) adaptation values. This indicates an adaptive control logic for fine-tuning fuel delivery per cylinder, likely to compensate for variations between cylinders or component aging.\r\n\r\n**Secondary Function (Bottom Diagram: \"Warm up factor\")**:\r\nThis simpler subsystem calculates a warm-up correction factor (`FAC_ERU_WUP_COR`) based on the engine's coolant temperature and its associated status. This factor is typically used elsewhere in the engine control unit to adjust fueling, idle speed, or other parameters during cold start and warm-up phases.\r\n\r\n## Inputs\r\n\r\n**From \"Cylinder individual injection time correction\"**:\r\n*   `NC_CYL_NR`: Number of cylinders in the engine.\r\n*   `IDX_INJ_COR`: Index for injection correction, likely used to select specific maps or correction types.\r\n*   `N_32`: Engine speed (scaled, e.g., RPM/100).\r\n*   `MAF`: Mass Air Flow.\r\n*   `CYL_NR_ERU`: Current cylinder number (output from the 'For Iterator', but an input to internal blocks).\r\n*   `FAC_MFF_AFU_CYL_ERU_I`: Initial or previous value of the cylinder-specific adaptation factor.\r\n*   `NR_CYL_MFF_AFR_in`: Input value for cylinder-specific Air-Fuel Ratio (AFR) adaptation.\r\n*   `NR_CYL_MFF_AFL_in`: Input value for cylinder-specific Lambda (AFL) adaptation.\r\n\r\n**From \"Warm up factor\"**:\r\n*   `TCO`: Coolant Temperature.\r\n*   `TCO_ST`: Coolant Temperature Status (e.g., 'cold', 'warm').\r\n\r\n## Outputs\r\n\r\n**From \"Cylinder individual injection time correction\"**:\r\n*   `FAC_MFF_AFU_CYL_ERU`: The calculated or updated individual cylinder adaptation factor (likely an array or vector indexed by cylinder number).\r\n*   `NR_CYL_MFF_AFR_out`: Output value for cylinder-specific Air-Fuel Ratio (AFR) adaptation.", "mimetype": "text/plain", "start_char_idx": 106108, "end_char_idx": 110379, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "348f6702-995b-4221-8128-44047306bdb1": {"__data__": {"id_": "348f6702-995b-4221-8128-44047306bdb1", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "523007b6-923d-4c91-ba76-3843576799a6", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "a57dd54f75527fe17fcd122a97d9440f13b8cda7b376a000d9dca4b1562d3755", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d5c8b415-af42-4e27-a877-52b4f0e681fb", "node_type": "1", "metadata": {}, "hash": "736f1b01b6e7ba28e27929d1669ba8770b06ce5f1a74a89ce9fa43ca4890c581", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `TCO_ST`: Coolant Temperature Status (e.g., 'cold', 'warm').\r\n\r\n## Outputs\r\n\r\n**From \"Cylinder individual injection time correction\"**:\r\n*   `FAC_MFF_AFU_CYL_ERU`: The calculated or updated individual cylinder adaptation factor (likely an array or vector indexed by cylinder number).\r\n*   `NR_CYL_MFF_AFR_out`: Output value for cylinder-specific Air-Fuel Ratio (AFR) adaptation.\r\n*   `NR_CYL_MFF_AFL_out`: Output value for cylinder-specific Lambda (AFL) adaptation.\r\n\r\n**From \"Warm up factor\"**:\r\n*   `FAC_ERU_WUP_COR`: The calculated engine running unit warm-up correction factor.\r\n\r\n## Logic Flow\r\n\r\n### Logic Flow for \"Cylinder individual injection time correction\"\r\n\r\n1.  **Cylinder Iteration (For loop)**: The process begins with a \"For Iterator\" block that iterates `N` times, where `N` is `NC_CYL_NR` (the total number of cylinders). This ensures that the subsequent logic is applied individually for each cylinder, with `CYL_NR_ERU` representing the current cylinder index.\r\n\r\n2.  **Injection Index Dependent Value (`ID_val`) Calculation**:\r\n    *   The `IDX_INJ_COR` (x-axis) and `CYL_NR_ERU` (y-axis) signals are fed into a 2D lookup table named `IP_FAC_MFF_AFU_CYL_ERU`.\r\n    *   This lookup table produces `x_val` and `y_val` (likely interpolated values) which are then used to output `ID_val`. This `ID_val` represents a cylinder- and injection-index-specific base correction.\r\n\r\n3.  **Engine State Dependent Value (`P_val`) Calculation**:\r\n    *   The `N_32` (engine speed, x-axis) and `MAF` (mass air flow, y-axis) signals are fed into another 2D lookup table named `IP_FAC_MFF_AFU_COR_ERU`.\r\n    *   This lookup table produces `x_val` and `y_val` which are then used to output `P_val`. This `P_val` represents a correction factor based on the engine's current operating point.\r\n\r\n4.  **Combined Adaptation Factor Calculation**:\r\n    *   `ID_val` and `P_val` are multiplied together by a multiplication block (`X`).\r\n    *   The result of this multiplication is then added to the input `FAC_MFF_AFU_CYL_ERU_I` (which might be the previously adapted value or a default).\r\n    *   This sum is then stored or updated in a cylinder-specific array `FAC_MFF_AFU_CYL_ERU` at the index `CYL_NR_ERU`. This array holds the individual cylinder adaptation factors.\r\n\r\n5.  **Conditional Adjustment/Clamping of AFR/AFL Adaptation Outputs**:\r\n    *   Two parallel branches exist for conditionally adjusting `NR_CYL_MFF_AFR_out` and `NR_CYL_MFF_AFL_out`. Both branches evaluate the `FAC_MFF_AFU_CYL_ERU_I` against `1`.\r\n    *   **Upper Limit Check**: If `FAC_MFF_AFU_CYL_ERU_I` is greater than `1`, a switch block outputs a constant `1` for `NR_CYL_MFF_AFR_out` (and `NR_CYL_MFF_AFL_out`). Otherwise, it outputs `NR_CYL_MFF_AFR_in` (and `NR_CYL_MFF_AFL_in`).\r\n    *   **Lower Limit Check**: If `FAC_MFF_AFU_CYL_ERU_I` is less than `1`, a separate switch block also outputs a constant `1` for `NR_CYL_MFF_AFR_out` (and `NR_CYL_MFF_AFL_out`). Otherwise, it outputs `NR_CYL_MFF_AFR_in` (and `NR_CYL_MFF_AFL_in`).\r\n    *   **Implied Logic**: Given that both \"> 1\" and \"< 1\" conditions result in an output of `1`, this implies a logic where if `FAC_MFF_AFU_CYL_ERU_I` deviates from `1` (i.e., `FAC_MFF_AFU_CYL_ERU_I != 1`), then the `NR_CYL_MFF_AFR_out` and `NR_CYL_MFF_AFL_out` are both reset or forced to `1`.", "mimetype": "text/plain", "start_char_idx": 109997, "end_char_idx": 113306, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d5c8b415-af42-4e27-a877-52b4f0e681fb": {"__data__": {"id_": "d5c8b415-af42-4e27-a877-52b4f0e681fb", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "348f6702-995b-4221-8128-44047306bdb1", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "91c94335014f00649d346ed9a24bdfbc676532a0fab544fd85a75bee9e35b827", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7db2832d-50b4-4f77-b018-e0e34e9e9ae2", "node_type": "1", "metadata": {}, "hash": "25756b84667536c945e101e4b0f5c84d71cfa2d372d6d6576b9f4b9566a90b8e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "If `FAC_MFF_AFU_CYL_ERU_I` is exactly `1`, then `NR_CYL_MFF_AFR_out` and `NR_CYL_MFF_AFL_out` retain their input values (`NR_CYL_MFF_AFR_in` and `NR_CYL_MFF_AFL_in`). This acts as a conditional reset or stabilization mechanism for the AFR/AFL adaptation if the main adaptation factor is not unity.\r\n\r\n### Logic Flow for \"Warm up factor\"\r\n\r\n1.  **Lookup Table for Warm-Up Factor**:\r\n    *   `TCO` (Coolant Temperature, x-axis) and `TCO_ST` (Coolant Temperature Status, y-axis) are fed into a 2D lookup table named `IP_FAC_ERU_WUP_COR`.\r\n    *   This lookup table directly outputs `x_val` and `y_val` (interpolated values) which define the final `FAC_ERU_WUP_COR` (Engine Running Unit Warm-Up Correction Factor).\r\n\r\n\r\n--- Page 45 ---\r\n\r\nThis image displays two interconnected Simulink diagrams, primarily focusing on segment counting for consumed fuel mass and setting an injection correction index within an automotive engine running adaptation system (ALFU). Figure 4.6.12 (top) illustrates the main logic for a \"Segment counter for consumed fuel mass,\" while Figure 4.6.13 (bottom) details the \"Set injection correction index\" which appears to be a subsystem contributing to the overall function of Figure 4.6.12, specifically related to the `ini_idx_ctr` signal.\r\n\r\n---\r\n\r\n## Function\r\n\r\nThe primary function of the combined system is to manage and update segment counters and related indices for consumed fuel mass, critical for engine control and adaptation, particularly concerning fuel injection. It uses conditional logic and feedback loops to track fuel consumption events, handle wake-up conditions, and calculate various correction factors and indices, consolidating them into structured outputs.\r\n\r\n---\r\n\r\n## Inputs\r\n\r\nThe key inputs to the overall system (considering Figure 4.6.12 as the top-level view and Figure 4.6.13 as a detailed subsystem for one of its internal states) are:\r\n\r\n*   **`CTR_SEG_MFF_AFU_ERU_in`**: Input signal for the main segment counter for consumed fuel mass.\r\n*   **`C_CTR_SEG_MFF_AFU_ER_INI`**: An initial value used for the segment counter.\r\n*   **`IDX_INJ_COR_in`**: Injection correction index input, used for conditional logic. (This is likely `IDX_INJ_COR_out` from Figure 4.6.13's detailed logic, representing a component of the `ini_idx_ctr` bus).\r\n*   **`FAC_ERU_WUP_COR`**: Correction factor related to engine wake-up events.\r\n*   **`IP_val`**: A threshold or comparison value used in conditional logic.\r\n*   **`P_CTR_SEG_MFF_AFU_ERU_RST`**: Reset signal for the segment counter.\r\n*   **`input`**: An input value used in the calculation of `lam_cor`.\r\n*   **`[fc_1]`**: An input to the `IDX_CTR_CLC` subsystem (Figure 4.6.13), likely representing a condition or value for index calculation.\r\n*   **`[fc_2]`**: Another input to the `IDX_CTR_CLC` subsystem (Figure 4.6.13), similar to `[fc_1]`.\r\n\r\n---\r\n\r\n## Outputs\r\n\r\nThe key outputs of the overall system (from Figure 4.6.12) are:\r\n\r\n*   **`ctr_mff_inj_cor`**: A bus output containing two distinct but related signals:\r\n    *   One signal, also named `ctr_mff_inj_cor`, representing the output of the incrementing counter.\r\n    *   **`lam_cor`**: A correction factor, possibly related to lambda (air-fuel ratio) or segment-specific compensation.\r\n*   **`ini_idx_ctr`**: An initialized index counter, which is a bus (as detailed in Figure 4.6.13) holding multiple state variables related to injection correction. This bus typically contains:\r\n    *   `IDX_INJ_COR_out`: The calculated injection correction index.\r\n    *   `CTR_SEG_MFF_AFU_ERU_out`: An output related to the segment counter.\r\n    *   Its own previous value, maintaining the state over time.\r\n\r\n---\r\n\r\n## Logic Flow\r\n\r\nThe logical flow involves conditional state management and counter updates across two main parts:\r\n\r\n1.", "mimetype": "text/plain", "start_char_idx": 113307, "end_char_idx": 117091, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7db2832d-50b4-4f77-b018-e0e34e9e9ae2": {"__data__": {"id_": "7db2832d-50b4-4f77-b018-e0e34e9e9ae2", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d5c8b415-af42-4e27-a877-52b4f0e681fb", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "8e28e619f2a51c4c0ba89ff358353f8965ad786cd27abe321006549d07c56d67", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ece380db-4b34-428e-992a-5ed4e6cbe16f", "node_type": "1", "metadata": {}, "hash": "3eb9a6681696d00d176947e3643d5de3deb010979c6951a7f46ad13ba68e3d83", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This bus typically contains:\r\n    *   `IDX_INJ_COR_out`: The calculated injection correction index.\r\n    *   `CTR_SEG_MFF_AFU_ERU_out`: An output related to the segment counter.\r\n    *   Its own previous value, maintaining the state over time.\r\n\r\n---\r\n\r\n## Logic Flow\r\n\r\nThe logical flow involves conditional state management and counter updates across two main parts:\r\n\r\n1.  **Setting Injection Correction Index (Detailed by Figure 4.6.13 - `IDX_CTR_CLC` subsystem):**\r\n    *   The subsystem `IDX_CTR_CLC` (X.2.1.2.1.1) takes `[fc_1]` and `[fc_2]` (possibly scaled or processed by blocks labeled '1' and '2') as inputs. These inputs likely drive the internal logic for calculating the injection correction index.\r\n    *   `IDX_CTR_CLC` computes two outputs: `IDX_INJ_COR_out` (the injection correction index) and `CTR_SEG_MFF_AFU_ERU_out` (a segment counter output).\r\n    *   A feedback loop provides the previous value of `ini_idx_ctr` (which is a bus itself, representing the overall index state) back to a `BusMerge` block.\r\n    *   The `BusMerge` combines `IDX_INJ_COR_out`, `CTR_SEG_MFF_AFU_ERU_out`, and the fed-back `ini_idx_ctr` to form the updated `ini_idx_ctr` bus. This bus represents the current state of the initialized index counter and is output. This `ini_idx_ctr` bus effectively contains the necessary state information for `IDX_INJ_COR_in` and other index components in the main diagram.\r\n\r\n2.  **Segment Counter for Consumed Fuel Mass (Figure 4.6.12):**\r\n    *   **Initialization of `ini_idx_ctr` (INI_IDX_CTR X.2.1.2.1):**\r\n        *   A conditional block checks if `CTR_SEG_MFF_AFU_ERU_in` is equal to `C_CTR_SEG_MFF_AFU_ER_INI` AND if `IDX_INJ_COR_in` (an element from the `ini_idx_ctr` bus, updated in step 1) is greater than 0.\r\n        *   If the condition is true, `ini_idx_ctr` is initialized/updated based on the logic `f(c)`.\r\n        *   If false, `ini_idx_ctr` retains its previous value, fed back via `feedbackidx_ini_ctr_inc` (from `IDX_INI_CTR_INC` X.2.1.2.4), establishing a stateful behavior. The `ini_idx_ctr` blue block output comes from this feedback path.\r\n    *   **Incrementing `ctr_mff_inj_cor` (INC_CTR X.2.1.2.2):**\r\n        *   Another conditional block evaluates if `FAC_ERU_WUP_COR` (wake-up correction factor) is less than `IP_val`.\r\n        *   If true, an internal counter `inc_ctr` (which becomes the `ctr_mff_inj_cor` output signal) is updated based on `f(c)` logic.\r\n        *   If false, `inc_ctr` maintains its previous value through a feedback loop.\r\n    *   **Calculating `lam_cor` (LAM_COR X.2.1.2.3):**\r\n        *   A third conditional block checks if `P_CTR_SEG_MFF_AFU_ERU_RST` (segment counter reset signal) is greater than 0.\r\n        *   If true, `lam_cor` is set to the value of the `input` signal.\r\n        *   If false, `lam_cor` retains its previous value through a feedback loop.\r\n    *   **Output Bus Creation:**\r\n        *   Finally, the calculated `lam_cor` and the `ctr_mff_inj_cor` signal (from the `INC_CTR` block) are combined into a single bus, which is then output as `ctr_mff_inj_cor`.\r\n\r\nThis entire system continuously processes inputs, updates its internal states (counters and indices) based on various conditions and feedback, and outputs the resulting fuel consumption related segment counts and correction factors.\r\n\r\n\r\n--- Page 46 ---\r\n\r\nThe provided image contains three Simulink-style diagrams, each depicting a part of an automotive control system.\r\n\r\n## Function\r\nThe primary function of these interconnected Simulink diagrams is to accurately track and manage the consumed fuel mass in discrete segments and an associated injection index correction. This system is part of the \"ALFU: Engine running adaptation (AFU)\" module, crucial for engine control strategies that depend on precise fuel consumption data.", "mimetype": "text/plain", "start_char_idx": 116717, "end_char_idx": 120520, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ece380db-4b34-428e-992a-5ed4e6cbe16f": {"__data__": {"id_": "ece380db-4b34-428e-992a-5ed4e6cbe16f", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7db2832d-50b4-4f77-b018-e0e34e9e9ae2", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "767d52d313142efcf40a3d39bea9787ed8b840a8d79eef389528e90cb5194d9f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "cbc6d62b-c218-4849-bd36-b3fb7925edeb", "node_type": "1", "metadata": {}, "hash": "e17f02a4c7768750467d9d6b43dabd80babd7d5a84ffc838b03ff74be2f1fbb1", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "--- Page 46 ---\r\n\r\nThe provided image contains three Simulink-style diagrams, each depicting a part of an automotive control system.\r\n\r\n## Function\r\nThe primary function of these interconnected Simulink diagrams is to accurately track and manage the consumed fuel mass in discrete segments and an associated injection index correction. This system is part of the \"ALFU: Engine running adaptation (AFU)\" module, crucial for engine control strategies that depend on precise fuel consumption data. It provides mechanisms for initializing/resetting these values and incrementally updating them based on engine operation.\r\n\r\n## Inputs\r\n**Common/Implicit Inputs:**\r\n*   **Function Call/Trigger Signals (`f()`, `[fc_1]`, `[fc_2]`):** These signals act as triggers or enable conditions, dictating when the reset, increment, or overall calculation operations are executed. They imply a periodic or event-driven execution context.\r\n*   **`feedback`:** (Figure 4.6.15) This input provides the previous iteration's output values (injection index correction and fuel mass counter) back into the system, enabling stateful, iterative calculations.\r\n\r\n**Specific Input Signals:**\r\n*   **`IDX_INJ_COR_in` (Injection Index Correction Input):** Represents the current or previous value of the injection index correction that is being processed or passed through.\r\n*   **`CTR_SEG_MFF_AFU_ERU_in` (Counter Segment Fuel Mass Adaptation Fuel Unit Input):** Represents the current or previous value of the fuel mass segment counter, which is to be incremented.\r\n\r\n**Constant Inputs:**\r\n*   **`1`:** Used as an initial value for `IDX_INJ_COR_out` (Figure 4.6.14) and as the increment step for `CTR_SEG_MFF_AFU_ERU_in` (Figure 4.6.16).\r\n*   **`0`:** Used to reset `CTR_SEG_MFF_AFU_ERU_out` (Figure 4.6.14).\r\n\r\n## Outputs\r\n**Primary Output (from Figure 4.6.15):**\r\n*   **`inc_ctr` (Bus Signal):** This is a composite bus signal containing the two individual output signals: `IDX_INJ_COR_out` and `CTR_SEG_MFF_AFU_ERU_out`. It represents the consolidated, incremented fuel consumption data for the current cycle.\r\n\r\n**Individual Output Signals (also components of `inc_ctr`):**\r\n*   **`IDX_INJ_COR_out` (Injection Index Correction Output):** The updated or passed-through value of the injection index correction.\r\n*   **`CTR_SEG_MFF_AFU_ERU_out` (Counter Segment Fuel Mass Adaptation Fuel Unit Output):** The updated or incremented value of the fuel mass segment counter.\r\n\r\n## Logic Flow\r\n\r\nThe overall logic flow is structured hierarchically, with an initialization/reset mechanism and an iterative incrementing process.\r\n\r\n1.  **Initialization and Reset of Counters (Figure 4.6.14 - \"Set and reset injection time correct and counter for consumed fuel mass\"):**\r\n    *   This block handles the initial setup or reset of the tracking variables.\r\n    *   When triggered by an external function call (`f()`), the `IDX_INJ_COR_out` signal is directly set to `1`. This likely signifies an active correction or a default state.\r\n    *   Simultaneously, the `CTR_SEG_MFF_AFU_ERU_out` signal (the fuel mass segment counter) is reset to `0`.\r\n    *   This ensures the system starts or restarts from a defined state.\r\n\r\n2.  **Increment Segment Counter (Figure 4.6.16 - \"Increment segment counter\"):**\r\n    *   This is a core sub-function responsible for the actual counting of fuel consumption segments.\r\n    *   It receives `IDX_INJ_COR_in` and `CTR_SEG_MFF_AFU_ERU_in` as inputs.\r\n    *   The `IDX_INJ_COR_in` value is passed through a block (V.6.1, likely a unity gain or direct connection) to become `IDX_INJ_COR_out`. This implies that this index correction is either constant for the duration of a segment or calculated elsewhere.\r\n    *   The `CTR_SEG_MFF_AFU_ERU_in` value is fed into an adder (V.6.7). A constant value of `1` (V.6.4) is added to it.\r\n    *   The result of this addition is assigned to `CTR_SEG_MFF_AFU_ERU_out`, effectively incrementing the fuel mass segment counter by one.\r\n\r\n3.  **Consumed Fuel Mass Counter Integration (Figure 4.6.15 - \"Consumed fuel mass counter increment\"):**\r\n    *   This block orchestrates the continuous updating of the fuel consumption data.", "mimetype": "text/plain", "start_char_idx": 120026, "end_char_idx": 124185, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "cbc6d62b-c218-4849-bd36-b3fb7925edeb": {"__data__": {"id_": "cbc6d62b-c218-4849-bd36-b3fb7925edeb", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ece380db-4b34-428e-992a-5ed4e6cbe16f", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "6b730c290d01ccdc065b6fd7751f635bbe99d2b753786582b9fbc88e8aa262f5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f722076c-82c2-4193-9d40-08648f8de378", "node_type": "1", "metadata": {}, "hash": "197366e2688d10cee67c610e628c5ccc9dc829dcb3d42a8cb772a4d6146f637e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "A constant value of `1` (V.6.4) is added to it.\r\n    *   The result of this addition is assigned to `CTR_SEG_MFF_AFU_ERU_out`, effectively incrementing the fuel mass segment counter by one.\r\n\r\n3.  **Consumed Fuel Mass Counter Integration (Figure 4.6.15 - \"Consumed fuel mass counter increment\"):**\r\n    *   This block orchestrates the continuous updating of the fuel consumption data.\r\n    *   It receives feedback of the previously calculated `IDX_INJ_COR_out` and `CTR_SEG_MFF_AFU_ERU_out` values as its `_in` signals. A selector (V.6.1) with inputs `[fc_1]` and `[fc_2]` suggests conditional routing or selection of these feedback paths, potentially based on different operating modes or function call contexts.\r\n    *   An internal function call (labeled `fc()`) is made to the `CTR_MFF_INC X.2.1.2.2.1` component (which is the \"Increment segment counter\" block from Figure 4.6.16). This call uses the `_in` signals as its inputs to calculate the new `IDX_INJ_COR_out` and `CTR_SEG_MFF_AFU_ERU_out`.\r\n    *   The calculated `IDX_INJ_COR_out` and `CTR_SEG_MFF_AFU_ERU_out` signals are then combined into a single `inc_ctr` bus using a `BusMerge` block (V.6.0).\r\n    *   This `inc_ctr` bus represents the current state of the incremented fuel consumption data, ready to be used by other parts of the engine adaptation system or for further processing.\r\n\r\n\r\n--- Page 47 ---\r\n\r\nThis image displays two related Simulink diagrams, both concerning engine control parameters within an \"Engine running adaptation (AFU)\" context.\r\n\r\n## Function\r\nThe primary function of the top diagram (Figure 4.6.17, \"Injection time index and lambda correction\") is to calculate and output two crucial engine control signals: an active injection counter/index (`ctr_act_if`) and a lambda correction factor (`lam_cor`). It achieves this by processing incoming signals through two parallel branches, one dedicated to injection timing adaptation and the other to air-fuel ratio (lambda) correction. The bottom diagram (Figure 4.6.18, \"Increment injection correction index\") provides the detailed logic for a subsystem within the injection time index correction path.\r\n\r\n## Inputs\r\n1.  **`[fc_1]`**: A scalar input, which is fed into a stateful V.6.1 block and then serves as `NC_NR_INJ_COR` for the injection correction logic. It also becomes part of the `ctr_act_if` output bus.\r\n2.  **`[fc_2]`**: A scalar input, directly used as `IDX_INJ_COR_in` for the injection correction logic (`IDX_CLC` subsystem).\r\n3.  **`[fc_3]`**: A scalar input, which is fed into a stateful V.6.1 block and then serves as the `feedback` input for the lambda correction logic (`CLC_LAMB_COR` subsystem).\r\n4.  **`[fc_4]`**: A scalar input, directly used as the `input` for the lambda correction logic (`CLC_LAMB_COR` subsystem).\r\n\r\n## Outputs\r\n1.  **`ctr_act_if`**: A bus output containing parameters related to injection correction, specifically derived from `IDX_INJ_COR_out`, `CTR_SEG_MFF_AFU_ERU_out` (from the `IDX_CLC` subsystem), and the processed `[fc_1]` input.\r\n2.  **`lam_cor`**: A bus output containing the calculated lambda correction factor (`clc_lamb_cor`) from the `CLC_LAMB_COR` subsystem.\r\n\r\n## Logic Flow\r\n\r\nThe system's logic flow is divided into two main parallel branches:\r\n\r\n### A. Injection Time Index Correction Branch (Main Output: `ctr_act_if`)\r\n\r\n1.  **Input Conditioning:**\r\n    *   `[fc_1]` is routed through a `V.6.1` block (likely a memory, unit delay, or stateful element), which provides a delayed or adapted value. This processed `[fc_1]` serves as the `NC_NR_INJ_COR` input to the `IDX_CLC` subsystem and is also directly merged into the final `ctr_act_if` bus.\r\n    *   `[fc_2]` directly serves as the `IDX_INJ_COR_in` input to the `IDX_CLC` subsystem.\r\n2.", "mimetype": "text/plain", "start_char_idx": 123801, "end_char_idx": 127548, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f722076c-82c2-4193-9d40-08648f8de378": {"__data__": {"id_": "f722076c-82c2-4193-9d40-08648f8de378", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "cbc6d62b-c218-4849-bd36-b3fb7925edeb", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "58121304bc18daf3f3a97464fece60a452633b3b56343230aaab8016314a6586", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f8bd3952-98a3-4c7e-adfa-5b17fe777ce7", "node_type": "1", "metadata": {}, "hash": "0185051feb31e3e2749c002abf858e9bdcf55636ff459db341d3fd16b6f17a42", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This processed `[fc_1]` serves as the `NC_NR_INJ_COR` input to the `IDX_CLC` subsystem and is also directly merged into the final `ctr_act_if` bus.\r\n    *   `[fc_2]` directly serves as the `IDX_INJ_COR_in` input to the `IDX_CLC` subsystem.\r\n2.  **`IDX_CLC` Subsystem (X.2.1.2.3.1 - \"Increment injection correction index\"):** This subsystem (detailed in Figure 4.6.18) implements the core logic for the injection index.\r\n    *   **Input Processing:** `IDX_INJ_COR_in` and `NC_NR_INJ_COR` are passed through `V.6.4` blocks (likely unit delays or memory elements).\r\n    *   **Increment/Addition:** The outputs of the `V.6.4` blocks are then added (using `V.6.7` blocks), presumably by a constant (e.g., 1) to increment the values.\r\n    *   **Comparison:** The results of these additions are compared using a `>` (greater than) operator in a `V.6.0` block.\r\n    *   **Conditional Logic (`If` block V.6.0):**\r\n        *   **If the comparison is true (`cond_if` is true):** `CTR_SEG_MFF_AFU_ERU_out` is set to `0` (from a `V.6.4` constant block). `IDX_INJ_COR_out` receives a value from a `V.6.0` block (potentially a reset value or default) processed by a `V.6.4` block before merging.\r\n        *   **If the comparison is false (`cond_if` is false):** `IDX_INJ_COR_out` receives a value from another `V.6.0` block (likely the incremented `IDX_INJ_COR_in`) processed by a `V.6.4` block before merging. The `CTR_SEG_MFF_AFU_ERU_out` path for the 'else' condition is not explicitly shown but would typically maintain a value or increment.\r\n    *   **Outputs:** The subsystem produces `IDX_INJ_COR_out` and `CTR_SEG_MFF_AFU_ERU_out`. This logic effectively increments an injection index until a limit (`NC_NR_INJ_COR`) is reached, at which point a segment counter or a related index might be reset.\r\n3.  **Output Bus Merge:** The `IDX_INJ_COR_out` and `CTR_SEG_MFF_AFU_ERU_out` from the `IDX_CLC` subsystem, along with the processed `[fc_1]` from the initial `V.6.1` block, are combined into a single bus by a `BusMerge` block (V.6.0) to form the `ctr_act_if` output.\r\n\r\n### B. Lambda Correction Branch (Main Output: `lam_cor`)\r\n\r\n1.  **Input Conditioning:**\r\n    *   `[fc_3]` is routed through a `V.6.1` block (similar to the injection path's memory element), providing a feedback signal for the lambda correction. This is fed to the `feedback` input of the `CLC_LAMB_COR` subsystem.\r\n    *   `[fc_4]` directly serves as the `input` to the `CLC_LAMB_COR` subsystem.\r\n2.  **`CLC_LAMB_COR` Subsystem (X.2.1.2.3.2):** This subsystem (internal logic not detailed in the provided diagrams, but named \"CLC_LAMB_COR\" suggesting Closed-Loop Control Lambda Correction) takes the `input` (from `[fc_4]`) and `feedback` (from `[fc_3]` via V.6.1) to calculate the `clc_lamb_cor` value.\r\n3.  **Output Bus Merge:** The calculated `clc_lamb_cor` from the `CLC_LAMB_COR` subsystem is merged into a single bus by a `BusMerge` block (V.6.0) to form the `lam_cor` output.\r\n\r\nIn essence, the diagram shows a control system that adapts engine behavior by managing an injection activity index and a lambda correction factor, leveraging feedback loops and conditional logic. The `V.6.x` blocks likely refer to specific, reusable components within Continental's automotive control software development environment.\r\n\r\n\r\n--- Page 48 ---\r\n\r\nThe image displays two Simulink diagrams (Figure 4.6.19 and Figure 4.6.20), both pertaining to \"Lambda correction\" within an \"Engine running adaptation (AFU)\" system.", "mimetype": "text/plain", "start_char_idx": 127305, "end_char_idx": 130778, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f8bd3952-98a3-4c7e-adfa-5b17fe777ce7": {"__data__": {"id_": "f8bd3952-98a3-4c7e-adfa-5b17fe777ce7", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f722076c-82c2-4193-9d40-08648f8de378", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "8f76a14935d27d8ee75861b81062e8a44abef5f5b4068a5873cb4de56290b661", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "48ec7f02-0392-4729-9883-24f60ed00b52", "node_type": "1", "metadata": {}, "hash": "bbafd2d4da7adf114256fe31d725952e9450943b719bdc80c037963720e68d0b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The `V.6.x` blocks likely refer to specific, reusable components within Continental's automotive control software development environment.\r\n\r\n\r\n--- Page 48 ---\r\n\r\nThe image displays two Simulink diagrams (Figure 4.6.19 and Figure 4.6.20), both pertaining to \"Lambda correction\" within an \"Engine running adaptation (AFU)\" system. Figure 4.6.20 appears to be a detailed implementation or a sub-component of the `LAMB_COR_ER_THEN` block shown in Figure 4.6.19. I will analyze them as an integrated system, with Figure 4.6.19 representing the top-level interface and Figure 4.6.20 detailing its core computational logic.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink model is to calculate a closed-loop lambda correction factor (`clc_lamb_cor`) for an engine management system. This correction factor is crucial for maintaining the desired air-fuel ratio (AFR), typically stoichiometric (lambda = 1), to optimize combustion, reduce emissions, and ensure efficient engine operation. The system utilizes various engine operating parameters, measured lambda values, and feedback to adaptively adjust the correction.\r\n\r\n## Inputs\r\n\r\nThe key inputs to the overall system (combining both diagrams for a complete view) are:\r\n\r\n*   **input (green block 1):** A primary input signal for the correction calculation, potentially a target or initial value.\r\n*   **feedback (green block 2):** A feedback signal, most likely from a lambda (oxygen) sensor, representing the actual air-fuel ratio.\r\n*   **[fc_1]:** A control flag or signal, used to switch between different input paths or operational modes (e.g., enable/disable feedback).\r\n*   **[fc_2]:** Another control flag or signal, potentially used in internal calculations or as an input to the `f()` function block.\r\n*   **<LV_DRV1_STND_AFU_FDOUT>:** Likely an output from a standard Air-Fuel Unit (AFU) drive, possibly indicating a desired or reference lambda value.\r\n*   **<LV_IS>:** \"Lambda Value Input Signal,\" likely a measured or estimated lambda value.\r\n*   **<LV_PL>:** \"Lambda Value Pre-Lambda,\" possibly a signal from a pre-catalyst lambda sensor.\r\n*   **<N_32>:** Engine speed (e.g., RPM), a fundamental engine operating parameter.\r\n*   **<MAF>:** Mass Air Flow, a critical input for determining the amount of air entering the engine.\r\n\r\n## Outputs\r\n\r\nThe primary output of the system (from Figure 4.6.19) is:\r\n\r\n*   **clc_lamb_cor:** A bus signal representing the closed-loop lambda correction. Based on Figure 4.6.19, this bus contains:\r\n    *   **lamb_cor_er_then:** The main calculated lambda correction factor.\r\n    *   **[fc_1]:** The control flag/signal.\r\n    *   **[fc_2]:** The control flag/signal.\r\n    This structure suggests that `clc_lamb_cor` not only provides the correction value but also related status or control flags.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow integrates the functionality depicted in both Figure 4.6.19 (high-level) and Figure 4.6.20 (detailed `LAMB_COR_ER_THEN` subsystem):\r\n\r\n1.  **Input Selection (within `LAMB_COR_ER_THEN`, detailed in Figure 4.6.20):**\r\n    *   A switch block (`V.6.1` on the left in Fig 4.6.20) receives two data inputs: the main `input` signal and the `feedback` signal (e.g., from a lambda sensor).\r\n    *   The control signal `[fc_1]` determines which of these two signals is passed through as the `feedback` input for the subsequent core correction calculation. This allows the system to operate in different modes, possibly using a direct input or relying on sensor feedback.\r\n\r\n2.  **Core Lambda Correction Calculation (within `LAMB_COR_ER_THEN`, block `COR_LAMB_EFF` in Figure 4.6.20):**\r\n    *   The `COR_LAMB_EFF` block, which likely contains the complex adaptive lambda control algorithms, receives a comprehensive set of inputs:\r\n        *   Engine operating conditions: `<N_32>` (engine speed) and `<MAF>` (mass air flow).\r\n        *   Lambda-related signals: `<LV_DRV1_STND_AFU_FDOUT>`, `<LV_IS>`, `<LV_PL>`.\r\n        *   The selected `feedback` signal from the `V.6.1` switch.", "mimetype": "text/plain", "start_char_idx": 130449, "end_char_idx": 134455, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "48ec7f02-0392-4729-9883-24f60ed00b52": {"__data__": {"id_": "48ec7f02-0392-4729-9883-24f60ed00b52", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f8bd3952-98a3-4c7e-adfa-5b17fe777ce7", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "fedce223dc935207cb5346c32fdc6bc980da7f38d7331cb0882244adaf460c15", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c4d17b2b-8569-4dca-89c3-a2898ed3936a", "node_type": "1", "metadata": {}, "hash": "594dba2c3beaf433fe061eefbfa2625b4bf64534df70d16c251fb3238cfbb259", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   Lambda-related signals: `<LV_DRV1_STND_AFU_FDOUT>`, `<LV_IS>`, `<LV_PL>`.\r\n        *   The selected `feedback` signal from the `V.6.1` switch.\r\n        *   It also utilizes `[fc_2]` via an `f()` function block, which could perform a lookup, a pre-calculation, or apply a specific mapping based on `[fc_2]`.\r\n    *   Based on these numerous inputs, the `COR_LAMB_EFF` block calculates the \"effective lambda correction\" value, `cor_lamb_eff`.\r\n\r\n3.  **Intermediate Output Generation (Figure 4.6.20):**\r\n    *   The calculated `cor_lamb_eff` signal is then routed through a `BusMerge` block. This block effectively names this output from the `LAMB_COR_ER_THEN` subsystem as `lamb_cor_er_then`.\r\n\r\n4.  **Final Output Bus Creation (Figure 4.6.19):**\r\n    *   The `lamb_cor_er_then` signal (the primary lambda correction factor from the detailed calculation) is fed into a `BusMerge` block in the top-level diagram.\r\n    *   The control signals `[fc_1]` and `[fc_2]` are also routed to this `BusMerge` block (with `[fc_1]` and `[fc_2]` being labeled as inputs to a `V.6.1` switch, then appearing as inputs to the `BusMerge`). This suggests `[fc_1]` and `[fc_2]` are also intended to be part of the final output data structure.\r\n    *   The `BusMerge` combines `lamb_cor_er_then`, `[fc_1]`, and `[fc_2]` into a single bus named `clc_lamb_cor`. This `clc_lamb_cor` bus is the final output of the entire lambda correction system, providing not only the correction value but also related flags or status information.\r\n\r\n\r\n--- Page 51 ---\r\n\r\nThe provided image displays two distinct Simulink-style diagrams, both integral to an automotive engine control system, specifically concerning air-fuel ratio (Lambda) management.\r\n\r\n## Function\r\n\r\nThe first diagram, titled \"FAC_ER_DIF_RATIO calculation,\" serves two main purposes:\r\n1.  **Calculate an Ignition Angle Correction Factor (`FAC_ER_DIF_RATIO_out`):** This output is derived from engine operating parameters (effective ignition angle, speed, and mass air flow) through a 2D lookup table.\r\n2.  **Calculate a Conditional Lambda Error (`LAMB_CLC_ER`):** This involves two parallel paths, each estimating a standard differential lambda error (one \"Ahead of Front Lambda\" - AFL, and another \"Ahead of Front Sensor\" - AFS). A selection logic, based on a comparison of one of the differential AFRs with zero, determines which calculated lambda error is passed as the final `LAMB_CLC_ER` output.\r\n\r\nThe second diagram, titled \"Filter for Lambda,\" processes the `LAMB_CLC_ER` output from the first stage (or a similar source):\r\n1.  **Filter the Calculated Lambda Error (`LAMB_CLC_ER_FIL_out`):** It applies a continuous filter to smooth the `LAMB_CLC_ER` signal.\r\n2.  **Calculate Delta Lambda (`DELTA_LAMB_CLC_ER`):** It determines the difference between the filtered lambda error and a dynamically calculated lambda setpoint, which itself is derived from an Error Correction Unit (ERU) index, warm-up factor, and a baseline lambda setpoint. This delta likely serves as an error signal for closed-loop control.\r\n\r\nTogether, these diagrams represent a sophisticated mechanism for monitoring and preparing lambda-related error signals for subsequent control actions in an engine management system.\r\n\r\n## Inputs\r\n\r\n**For \"FAC_ER_DIF_RATIO calculation\":**\r\n\r\n*   `ER_STND_DIF_AFR_AFL`: Standard Differential Air-Fuel Ratio (Ahead of Front Lambda). This input is used in two parallel processing paths.\r\n*   `EFF_IGA_AV`: Effective Ignition Angle Average (or similar input related to ignition timing/efficiency).\r\n*   `N_32`: Engine Speed (typically in RPM).\r\n*   `MAF`: Mass Air Flow.\r\n\r\n**For \"Filter for Lambda\":**\r\n\r\n*   `C_CRLC_LAMB_CLC_ER_FIL`: A constant or parameter representing the filter characteristic (e.g., time constant, gain).\r\n*   `LAMB_CLC_ER`: Calculated Lambda Error (output from the \"FAC_ER_DIF_RATIO calculation\" diagram or an equivalent source).", "mimetype": "text/plain", "start_char_idx": 134309, "end_char_idx": 138208, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c4d17b2b-8569-4dca-89c3-a2898ed3936a": {"__data__": {"id_": "c4d17b2b-8569-4dca-89c3-a2898ed3936a", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "48ec7f02-0392-4729-9883-24f60ed00b52", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "8b0854695aa7e6a4e006777fbc2ae16587099ec0a2ed6a7ebc66c1960290e95b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "afb778b1-a03a-4fa7-a4e2-abaab57b2adc", "node_type": "1", "metadata": {}, "hash": "94f8a0cae1cfc35a9adc203df2e39449106301ffa691cfb91cd4d7e5770c43cd", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `N_32`: Engine Speed (typically in RPM).\r\n*   `MAF`: Mass Air Flow.\r\n\r\n**For \"Filter for Lambda\":**\r\n\r\n*   `C_CRLC_LAMB_CLC_ER_FIL`: A constant or parameter representing the filter characteristic (e.g., time constant, gain).\r\n*   `LAMB_CLC_ER`: Calculated Lambda Error (output from the \"FAC_ER_DIF_RATIO calculation\" diagram or an equivalent source).\r\n*   `LAMB_CLC_ER_FIL_in`: The initial value or the previous output of the filter, allowing for continuous filtering.\r\n*   `IDX_CBK_NR_ERU`: Index or Number for Error Correction Unit Callback, likely indicating a specific operating mode or condition for lambda setpoint calculation.\r\n*   `LAMB_SP`: Baseline Lambda Setpoint.\r\n*   `FAC_ERU_WUP_COR`: Factor for Error Correction Unit Warm-Up Correction.\r\n\r\n## Outputs\r\n\r\n**For \"FAC_ER_DIF_RATIO calculation\":**\r\n\r\n*   `FAC_ER_DIF_RATIO_out`: Output factor, likely for differential ratio or ignition angle correction.\r\n*   `LAMB_CLC_ER`: The final selected and calculated lambda error.\r\n\r\n**For \"Filter for Lambda\":**\r\n\r\n*   `LAMB_CLC_ER_FIL_out`: The filtered version of the calculated lambda error.\r\n*   `DELTA_LAMB_CLC_ER`: The difference between the filtered calculated lambda error and the dynamically determined lambda setpoint.\r\n\r\n## Logic Flow\r\n\r\n**Diagram 1: FAC_ER_DIF_RATIO calculation**\r\n\r\n1.  **Ignition Angle Correction Factor (`FAC_ER_DIF_RATIO_out`) Calculation:**\r\n    *   `EFF_IGA_AV` is used as the x-axis input for the 2D lookup table `IP_FAC_IGA_COR` (V.6.4).\r\n    *   `N_32` and `MAF` provide the y-axis inputs for `IP_FAC_IGA_COR`.\r\n    *   The interpolated `IP_val` from this table is directly output as `FAC_ER_DIF_RATIO_out`.\r\n\r\n2.  **Parallel Lambda Error Calculation Paths (AFR_AFL and AFR_AFS):**\r\n    *   **Path A (AFR_AFL - Ahead of Front Lambda):**\r\n        *   `ER_STND_DIF_AFR_AFL` is scaled through `V.6.7` and `V.6.8` (gain/unit conversion blocks).\r\n        *   The scaled value is used as `x_val` for the `IP_ER_STND_DIF_AFR` 2D lookup table, with `N_32` and `MAF` as `y_val` inputs, producing an intermediate `IP_val`.\r\n        *   This intermediate `IP_val` and the scaled `ER_STND_DIF_AFR_AFL` (from `V.6.8`) are then used as `y_val` and `x_val` respectively for the `IP_LAMB_CLC_ER_AFR` 2D lookup table, producing a final `IP_val` (lambda error for AFL).\r\n    *   **Path B (AFR_AFS - Ahead of Front Sensor):**\r\n        *   This path mirrors Path A, conceptually taking an `ER_STND_DIF_AFR_AFS` input (though visually labeled `ER_STND_DIF_AFR_AFL` in the diagram, block names suggest AFS). This input is scaled similarly.\r\n        *   The scaled value is used as `x_val` for the `IP_ER_STND_DIF_AFS` 2D lookup table, with `N_32` and `MAF` as `y_val` inputs, producing an intermediate `IP_val`.\r\n        *   This intermediate `IP_val` and the scaled input (from `V.6.8` in this path) are used as `y_val` and `x_val` respectively for the `IP_LAMB_CLC_ER_AFS` 2D lookup table, producing a final `IP_val` (lambda error for AFS).\r\n\r\n3.  **Lambda Error Selection (`LAMB_CLC_ER`):**\r\n    *   The scaled `ER_STND_DIF_AFR_AFL` (from `V.6.8` of Path A) is compared to `0` using a \"less than\" operator (`< V.6.0`).\r\n    *   A switch block (`Check == 0 V.6.4`) uses the result of this comparison:\r\n        *   If `ER_STND_DIF_AFR_AFL` is less than `0`, the `IP_val` from Path B (`IP_LAMB_CLC_ER_AFS`) is selected.", "mimetype": "text/plain", "start_char_idx": 137854, "end_char_idx": 141197, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "afb778b1-a03a-4fa7-a4e2-abaab57b2adc": {"__data__": {"id_": "afb778b1-a03a-4fa7-a4e2-abaab57b2adc", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c4d17b2b-8569-4dca-89c3-a2898ed3936a", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "c7417612c796444f1eec434de7615fbe7a2d3875b1c973c52311c78ca072fa15", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "383908c4-6579-4758-8ee2-b462ed57cebc", "node_type": "1", "metadata": {}, "hash": "036e0027ea21527d0726b866b55f3739a26c755871cb3d17d1366e1d7bbddc37", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   A switch block (`Check == 0 V.6.4`) uses the result of this comparison:\r\n        *   If `ER_STND_DIF_AFR_AFL` is less than `0`, the `IP_val` from Path B (`IP_LAMB_CLC_ER_AFS`) is selected.\r\n        *   Otherwise (if `ER_STND_DIF_AFR_AFL` is greater than or equal to `0`), the `IP_val` from Path A (`IP_LAMB_CLC_ER_AFR`) is selected.\r\n    *   The output of this switch is the final `LAMB_CLC_ER`.\r\n\r\n**Diagram 2: Filter for Lambda**\r\n\r\n1.  **Lambda Error Filtering (`LAMB_CLC_ER_FIL_out`):**\r\n    *   The `LAMB_CLC_ER` input is fed to a filter block (V.6.6, depicted as 'm' with a graph, suggesting a rate limiter or a low-pass filter).\r\n    *   `C_CRLC_LAMB_CLC_ER_FIL` provides the filter parameter ('m').\r\n    *   `LAMB_CLC_ER_FIL_in` provides the filter's initial or previous state ('x_in') for continuous operation.\r\n    *   The filtered output ('y') is then assigned to `LAMB_CLC_ER_FIL_out`.\r\n\r\n2.  **Dynamic Lambda Setpoint Calculation:**\r\n    *   `IDX_CBK_NR_ERU` and `FAC_ERU_WUP_COR` are used as inputs to the 2D lookup table `IP_LAMB_SP_ERU` to interpolate a dynamic `P_value` (lambda setpoint). The exact axis assignment is not shown but assumed `V.6.7` block provides `x_value` and `FAC_ERU_WUP_COR` provides `y_value`.\r\n    *   This interpolated `P_value` is summed with the `LAMB_SP` input, creating a combined lambda target.\r\n\r\n3.  **Delta Lambda Calculation (`DELTA_LAMB_CLC_ER`):**\r\n    *   The filtered lambda error (`LAMB_CLC_ER_FIL_out`) is subtracted from the combined lambda target (from step 2) using a subtraction block (`- V.6.7`).\r\n    *   The result of this subtraction is `DELTA_LAMB_CLC_ER`, indicating the deviation between the actual filtered lambda and the desired setpoint, serving as an error signal for further control.\r\n\r\n\r\n--- Page 52 ---\r\n\r\nThis image contains a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram (Figure 4.6.26) is to calculate and output a \"Corrected value of additive lambda\" (`AMB_ADD_ERU_AD_LAMB_out`) and its corresponding control counter (`CTR_CLC_ERU_AD_LAMB_out`). This is part of the \"Engine running adaptation (ALFU)\" system, indicating its role in dynamically adjusting fuel mixture (lambda) based on various engine operating conditions and adaptation strategies. The system selects and aggregates additive lambda corrections from multiple potential sources or calculation branches.\r\n\r\n## Inputs\r\n1.  **`DELTA_LAMB_CLC_ER`**: Delta value for Closed Loop Control Lambda Error. It controls the initial selection of additive lambda and counter.\r\n2.  **`IP_LAMB_ADD_ERU_AD_LAMB`**: Initial or preset additive lambda value for the Engine Running Unit adaptation.\r\n3.  **`C_CTR_CLC_ERU_AD_LAMB_INI`**: Initial counter value for Closed Loop Control Lambda.\r\n4.  **`x_val`**: Input to a 1D lookup table/function (`f(x)`) that determines `IP_val`.\r\n5.  **`LAMB_ADD_ERU_AD_LAMB_in`** (multiple instances): The current or previous additive lambda value, serving as a feedback or initial input to various adaptation paths.\r\n6.  **`CTR_CLC_ERU_AD_LAMB_in`** (multiple instances): The current or previous counter value, serving as a feedback or initial input to various adaptation paths.\r\n7.  **`NR_CYL_MFF_AFR`** (multiple instances): Number of cylinders, potentially related to Air-Fuel Ratio adaptation. Used in calculation and selection logic.\r\n8.  **`NC_CYL_NR`**: A specific flag or value related to the number of cylinders (e.g., \"Number of Cylinders\" or a specific cylinder count condition). Used in calculation.\r\n9.  **`NR_CYL_MFF_AFL`** (multiple instances): Number of cylinders, potentially related to Air-Fuel Lambda adaptation. Used in calculation and selection logic.\r\n10.", "mimetype": "text/plain", "start_char_idx": 141005, "end_char_idx": 144678, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "383908c4-6579-4758-8ee2-b462ed57cebc": {"__data__": {"id_": "383908c4-6579-4758-8ee2-b462ed57cebc", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "afb778b1-a03a-4fa7-a4e2-abaab57b2adc", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "329807518b0134cd8142abc565fe8f59a3440dda101f3380fabcb196e609db63", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f555d7fb-99d7-4ea0-94c0-a47f88d99ae4", "node_type": "1", "metadata": {}, "hash": "a9a436b6ce47273b42af5c9c390584256bf955c1e6c34d7156e052e44156ffbb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Used in calculation and selection logic.\r\n8.  **`NC_CYL_NR`**: A specific flag or value related to the number of cylinders (e.g., \"Number of Cylinders\" or a specific cylinder count condition). Used in calculation.\r\n9.  **`NR_CYL_MFF_AFL`** (multiple instances): Number of cylinders, potentially related to Air-Fuel Lambda adaptation. Used in calculation and selection logic.\r\n10. **`LC_ERU_AFL_AFR`**: Load/Control flag for Engine Running Unit Air-Fuel Lambda/Ratio. This signal acts as a final selector for certain adaptation paths.\r\n\r\n## Outputs\r\n1.  **`AMB_ADD_ERU_AD_LAMB_out`**: The final calculated and selected corrected additive lambda value.\r\n2.  **`CTR_CLC_ERU_AD_LAMB_out`**: The final calculated and selected counter value corresponding to the corrected additive lambda.\r\n3.  **`CTR_CLC_ERU_AD_LAMB_in`**: This input signal is also passed through directly to an output port, likely for external monitoring or further processing in a higher-level system.\r\n4.  **`NR_CYL_MFF_AFR`**: This input signal is also passed through directly to an output port.\r\n5.  **`LAMB_ADD_ERU_AD_LAMB_in`**: This input signal is also passed through directly to an output port.\r\n6.  **`NR_CYL_MFF_AFL`**: This input signal is also passed through directly to an output port.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow is highly conditional and involves processing multiple parallel adaptation paths, with selections made based on various control signals and conditions.\r\n\r\n1.  **Initial Lambda and Counter Selection:**\r\n    *   An input `x_val` is processed by a 1D lookup table/function to produce `IP_val`.\r\n    *   A switch block (labeled `V.6.0`) uses `DELTA_LAMB_CLC_ER` to select between `IP_LAMB_ADD_ERU_AD_LAMB` and `IP_val` to determine a base additive lambda value.\r\n    *   Concurrently, the same `DELTA_LAMB_CLC_ER` signal controls another switch (`V.6.0`) to select between `C_CTR_CLC_ERU_AD_LAMB_INI` and a pass-through of the base counter, establishing an initial counter value.\r\n\r\n2.  **Parallel Adaptation Branches:**\r\n    The diagram branches into four structurally similar parallel paths. Each path takes `LAMB_ADD_ERU_AD_LAMB_in` and `CTR_CLC_ERU_AD_LAMB_in` as inputs and performs calculations and selections based on cylinder-related signals (`NR_CYL_MFF_AFR`, `NR_CYL_MFF_AFL`, `NC_CYL_NR`).\r\n\r\n    *   **Within each branch:**\r\n        *   **Additive Lambda Modification:** `LAMB_ADD_ERU_AD_LAMB_in` is processed. A complex sub-path often involves a sum with a value selected by a switch (`V.6.7`), which in turn depends on comparing `CTR_CLC_ERU_AD_LAMB_in` with `V.6.4` and includes terms like `NR_CYL_MFF_AFR * NC_CYL_NR`.\r\n        *   **Counter Modification:** `CTR_CLC_ERU_AD_LAMB_in` is similarly processed. It may be incremented by `1` (selected by `V.6.7`) or passed through, also dependent on `NR_CYL_MFF_AFR` or `NR_CYL_MFF_AFL`.\r\n        *   **Conditional Enablement:** Each processed additive lambda and counter pair then feeds into a \"Check -> 0\" block (`V.6.4` or `V.6.5`). These blocks function as conditional pathways, passing their inputs through only if a specific condition (e.g., a \"Check\" signal being 0, indicating enablement) is met. Otherwise, they might output a default value (like 0) or hold the previous value, effectively disabling that adaptation path.\r\n\r\n3.  **Hierarchical Merging:**\r\n    *   The outputs from the individual adaptation branches are then merged in a hierarchical fashion.\r\n    *   Two pairs of branches are first merged using \"Check -> 0\" blocks (`V.6.5`), and their outputs are further merged by another \"Check -> 0\" block (`V.6.0`).\r\n    *   Separately, the `LC_ERU_AFL_AFR` signal acts as a final selector (a multiplexer) between two of these pre-merged streams of lambda and counter values.\r\n\r\n4.", "mimetype": "text/plain", "start_char_idx": 144299, "end_char_idx": 148052, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f555d7fb-99d7-4ea0-94c0-a47f88d99ae4": {"__data__": {"id_": "f555d7fb-99d7-4ea0-94c0-a47f88d99ae4", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "383908c4-6579-4758-8ee2-b462ed57cebc", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "bbb865701c669546fc48ca29c3ca16d0f6d8c1b5713f059fbf1779210ecace6e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "41595f84-1707-4796-821b-1ee23b7012be", "node_type": "1", "metadata": {}, "hash": "baadfd04def0b2d91e54589ed869a73fe02f439ec062732ce0e690cf4411520b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   Two pairs of branches are first merged using \"Check -> 0\" blocks (`V.6.5`), and their outputs are further merged by another \"Check -> 0\" block (`V.6.0`).\r\n    *   Separately, the `LC_ERU_AFL_AFR` signal acts as a final selector (a multiplexer) between two of these pre-merged streams of lambda and counter values.\r\n\r\n4.  **Final Output Assignment:**\r\n    *   The result of the final selection process determines the `AMB_ADD_ERU_AD_LAMB_out` and `CTR_CLC_ERU_AD_LAMB_out`.\r\n    *   Other input signals are directly routed to output ports for observation or use by other parts of the system.\r\n\r\nThe overall logic enables the system to dynamically apply different additive lambda corrections based on a combination of initial conditions, current system states, and specific operating modes related to cylinder behavior, ensuring appropriate fuel mixture adaptation during engine operation.\r\n\r\n\r\n--- Page 53 ---\r\n\r\n## Function\r\n\r\nThe Simulink diagram image illustrates three distinct but related sub-functions within an **Engine Running Adaptation (ALFU)** system, as indicated by the header \"ALFU: Engine running adaptation (AFU)\". The primary function of the depicted system components is to **manage and adapt engine parameters related to air-fuel ratio (lambda) and fuel injection timing during engine operation**. This includes:\r\n\r\n1.  **Additive Lambda Correction (Figure 4.6.28):** Calculating filtered lambda error, and explicitly setting an additive lambda correction factor to zero under specific conditions.\r\n2.  **Injection Time Index Calculation (Figure 4.6.29):** Dynamically determining and adjusting a fuel injection time index, potentially involving feedback and conditional logic for segment-specific adjustments.\r\n3.  **Freeze/Direct Injection Time Index Handling (Figure 4.6.30):** Providing a simplified or \"freeze\" mode for the injection time index and a segment counter, where the index undergoes a direct mapping and the counter is incremented by a fixed offset.\r\n\r\n## Inputs\r\n\r\n*   `f()`: Function call trigger (common across diagrams).\r\n*   `IDX_CBK_NR_ERU`: Index or condition related to callback number for lambda correction (Figure 4.6.28).\r\n*   `LAMB_SP`: Lambda setpoint (Figure 4.6.28).\r\n*   `FAC_ERU_WUP_COR`: Factor for engine warm-up correction (Figure 4.6.28).\r\n*   `IP_LAMB_SP_ERU`: Actual or measured lambda setpoint in the engine (Figure 4.6.28).\r\n*   `fc_1`: Control or feedback signal, possibly a flag or previous state (Figure 4.6.29).\r\n*   `fc_2`: Control signal for a switch, likely a mode selector (Figure 4.6.29).\r\n*   `IDX_INJ_COR_in`: Input injection correction index (Figures 4.6.29 and 4.6.30).\r\n*   `CTR_SEG_MFF_AFU_ERU_in`: Input counter for segment mass flow fuel adaptation (Figures 4.6.29 and 4.6.30).\r\n\r\n## Outputs\r\n\r\n*   `LAMB_ADD_ERU_AD_LAMB`: Additive lambda adaptation value (Figure 4.6.28).\r\n*   `LAMB_CLC_ER_FIL`: Filtered calculated lambda error (Figure 4.6.28).\r\n*   `IDX_INJ_COR_out`: Output injection correction index (Figures 4.6.29 and 4.6.30).\r\n*   `idx_inj_ctr_inc`: Incremented injection counter index (Figure 4.6.29).\r\n*   `CTR_SEG_MFF_AFU_ERU_out`: Output counter for segment mass flow fuel adaptation (Figure 4.6.30).\r\n\r\n## Logic Flow\r\n\r\nThe logical flow is described for each depicted Simulink diagram:\r\n\r\n### Figure 4.6.28: Additive lambda correction is set to '0'\r\n\r\n1.  The `f()` function call block indicates that this calculation is triggered at specific execution points.\r\n2.  The input `IDX_CBK_NR_ERU` (column) and `LAMB_SP` (row) are used as inputs to a 2-D Lookup Table (V.6.7), which outputs `x_value`.\r\n3.  `x_value` is then fed into a 1-D Lookup Table (V.6.4).\r\n4.  Concurrently, `FAC_ERU_WUP_COR` and `IP_LAMB_SP_ERU` serve as inputs to another 2-D Lookup Table, yielding `y_value`.\r\n5.", "mimetype": "text/plain", "start_char_idx": 147729, "end_char_idx": 151505, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "41595f84-1707-4796-821b-1ee23b7012be": {"__data__": {"id_": "41595f84-1707-4796-821b-1ee23b7012be", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f555d7fb-99d7-4ea0-94c0-a47f88d99ae4", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "0df816cd194fcdf55d2934458544e14cc4076831db6380983940972c4135c7b3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c34e9427-396a-4b23-a693-6f037e178726", "node_type": "1", "metadata": {}, "hash": "34ede4cacf8688db0a0396947a68a96ddad97be0dd36c892e9a6bc77fdca7b0c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  `x_value` is then fed into a 1-D Lookup Table (V.6.4).\r\n4.  Concurrently, `FAC_ERU_WUP_COR` and `IP_LAMB_SP_ERU` serve as inputs to another 2-D Lookup Table, yielding `y_value`.\r\n5.  `IP_LAMB_SP_ERU` and `y_value` are inputs to a third 2-D Lookup Table. The outputs from this table and V.6.4 are likely combined (connections are partially obscured but imply further processing) to determine `LAMB_CLC_ER_FIL`, representing a filtered lambda error or similar calculated value.\r\n6.  A constant value `0` is directly assigned to the output signal `LAMB_ADD_ERU_AD_LAMB`. This signifies that, under the conditions where this logic is active, the additive lambda correction is explicitly zeroed out.\r\n\r\n### Figure 4.6.29: Set injection time index\r\n\r\n1.  The `f()` function call block triggers the execution of this logic.\r\n2.  The `IDX_INJ_COR_in` signal is fed into a 1-D Lookup Table (V.6.1).\r\n3.  A switch block, controlled by the input `fc_2`, determines its output:\r\n    *   If `fc_2` is active (e.g., true), the output of V.6.1 (the transformed `IDX_INJ_COR_in`) is passed.\r\n    *   If `fc_2` is inactive (e.g., false), the original `IDX_INJ_COR_in` is passed through directly.\r\n4.  The output of this switch (partially labeled `IDX_INJ_COR_out` on one branch) and `CTR_SEG_MFF_AFU_ERU_in` are provided as inputs to a subsystem or custom block named `CTR_INC_CLC (X.2.12.4.1)`. This block performs a \"Counter Increment Calculation\" related to the injection.\r\n5.  The result of `CTR_INC_CLC` is `idx_inj_ctr_inc`.\r\n6.  A feedback path involving `fc_1` feeds back into `CTR_SEG_MFF_AFU_ERU_in` and other signals (not fully visible), suggesting a closed-loop control or iterative state update for the segment counter.\r\n7.  The `idx_inj_ctr_inc` signal is then merged with other signals (not fully specified) via a `BusMerge` block.\r\n\r\n### Figure 4.6.30: Freeze injection time index\r\n\r\n1.  The `f()` function call block triggers the execution.\r\n2.  The `IDX_INJ_COR_in` signal is passed through a 1-D Lookup Table (V.6.1) to produce `IDX_INJ_COR_out`. This implies a direct, possibly non-linear, mapping or transformation of the input index.\r\n3.  The `CTR_SEG_MFF_AFU_ERU_in` signal is input to a Sum block (V.6.7).\r\n4.  A constant value `1` (from block V.6.4) is added to `CTR_SEG_MFF_AFU_ERU_in` by the Sum block.\r\n5.  The result of this addition is output as `CTR_SEG_MFF_AFU_ERU_out`. This simplified logic suggests that in a \"freeze\" mode, the segment counter is consistently incremented by one, and the injection index is merely transformed.\r\n\r\n\r\n--- Page 54 ---\r\n\r\nThis image contains two distinct Simulink diagrams, both related to \"ALFU: Engine running adaptation (AFU)\". I will analyze them as a coherent system representing different aspects of the engine adaptation logic.\r\n\r\n## Function\r\nThe primary function of the depicted Simulink diagrams is to manage and control an additive lambda (air-fuel ratio) adaptation value within an engine's control system, alongside handling cylinder bank indexing. Specifically, the system:\r\n1.  **Integrates and Limits:** Continuously updates an additive lambda adaptation value by summing a new input with a previous value, then constrains this integrated value within defined minimum and maximum limits.\r\n2.  **Cylinder Bank Management:** Determines or holds an index identifying a specific cylinder bank or injected cylinder.\r\n3.  **Conditional Reset:** Provides a mechanism to reset the additive lambda adaptation value to zero based on an external clear command, ensuring flexibility in adaptation management.\r\n\r\nTogether, these functions contribute to maintaining precise air-fuel ratio control, adapting to engine variations, and providing diagnostic or operational reset capabilities.\r\n\r\n## Inputs\r\n*   `LAMB_ADD_ERU_AD_MIN`: Minimum allowed value for the additive lambda adaptation (e.g., a calibrated constant or dynamically determined limit).", "mimetype": "text/plain", "start_char_idx": 151320, "end_char_idx": 155222, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c34e9427-396a-4b23-a693-6f037e178726": {"__data__": {"id_": "c34e9427-396a-4b23-a693-6f037e178726", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "41595f84-1707-4796-821b-1ee23b7012be", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4d23998c60c4ee91bb21216b67755092f22f70fd126f2e54ed4d6cfe6288cd2e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6536a327-7728-4e73-bd68-9d6e172e07ef", "node_type": "1", "metadata": {}, "hash": "0ffaf47c398a0e98510c138d19296ec3e553da17c39f5964d902f6ca5ff002d2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  **Conditional Reset:** Provides a mechanism to reset the additive lambda adaptation value to zero based on an external clear command, ensuring flexibility in adaptation management.\r\n\r\nTogether, these functions contribute to maintaining precise air-fuel ratio control, adapting to engine variations, and providing diagnostic or operational reset capabilities.\r\n\r\n## Inputs\r\n*   `LAMB_ADD_ERU_AD_MIN`: Minimum allowed value for the additive lambda adaptation (e.g., a calibrated constant or dynamically determined limit).\r\n*   `LAMB_ADD_ERU_AD_MAX`: Maximum allowed value for the additive lambda adaptation (e.g., a calibrated constant or dynamically determined limit).\r\n*   `LAMB_ADD_ERU_AD_in`: The raw or proposed additive lambda adaptation value, which is either to be integrated/limited or conditionally passed/reset.\r\n*   `LAMB_ADD_ERU_AD_LAMB`: The current or previously integrated additive lambda adaptation value, used as a feedback for accumulation.\r\n*   `IDX_INJ_COR`: An index representing the currently injected cylinder or a related correction factor for cylinder bank identification.\r\n*   `ID_EX_CBK_NR_ERU`: An existing or external cylinder bank number index, potentially used for initialization or selection in the cylinder bank management logic.\r\n*   `LC_CLR_LAMB_ADD_ERU_AD`: A logical (e.g., boolean) signal that, when active, triggers the reset of the `LAMB_ADD_ERU_AD` value.\r\n\r\n## Outputs\r\n*   `LAMB_ADD_ERU_AD_out`: The final, limited, and potentially reset additive lambda adaptation value. This value is used by other parts of the engine control system for air-fuel ratio adjustments.\r\n*   `IDX_CBK_NR_ERU`: The determined or selected index for the cylinder bank number, indicating which cylinder group is being considered.\r\n\r\n## Logic Flow\r\n\r\n**Diagram 1: 4.6.2.1.3 Integration and limitation**\r\n1.  **Summation/Integration:** The input signal `LAMB_ADD_ERU_AD_in` is added to `LAMB_ADD_ERU_AD_LAMB`. This step suggests an accumulation or integration process, where `_in` represents a delta or new component and `_LAMB` is the current integrated state.\r\n2.  **Upper Limiting (Min Block):** The result of the summation is then compared with `LAMB_ADD_ERU_AD_MAX` using a `min` block. The output of this block is the lesser of the two values, effectively clamping the accumulated value to prevent it from exceeding the maximum allowed limit.\r\n3.  **Lower Limiting (Max Block):** The output from the `min` block is then compared with `LAMB_ADD_ERU_AD_MIN` using a `max` block. The output of this block is the greater of the two values, effectively clamping the value to ensure it does not fall below the minimum allowed limit.\r\n4.  **Final Output:** The value, now within its defined limits, is output as `LAMB_ADD_ERU_AD_out`.\r\n\r\n**Diagram 2: 4.6.2.1.4 Cylinder bank injected cylinder and manual reset**\r\n1.  **Cylinder Bank Index Processing:**\r\n    *   `IDX_INJ_COR` is fed into a block (V.6.4, appearing to be a Data Store Memory or Unit Delay with specific logic, possibly an S-Function) which also takes `ID_EX_CBK_NR_ERU` and a constant `0` as inputs, and has `ID_val` as both an output and feedback. This block processes these inputs to establish or update `ID_val`. This `ID_val` represents the selected or determined cylinder bank number.\r\n    *   `ID_val` then passes through a unity Gain block (triangle icon) to become the output `IDX_CBK_NR_ERU`.\r\n2.  **Lambda Adaptation Reset Logic:**\r\n    *   A `Switch` block, controlled by the signal `LC_CLR_LAMB_ADD_ERU_AD` (with the condition \"Check == 0\" indicated), determines its output.\r\n    *   If `LC_CLR_LAMB_ADD_ERU_AD` is `0` (inactive for clearing), the switch passes its top input, which is `LAMB_ADD_ERU_AD_in`.\r\n    *   If `LC_CLR_LAMB_ADD_ERU_AD` is non-zero (active for clearing), the switch passes its bottom input, which is a constant `0`.\r\n    *   The output of this switch (either `LAMB_ADD_ERU_AD_in` or `0`) then passes through a unity Gain block (triangle icon) and is output as `LAMB_ADD_ERU_AD_out`. This ensures that the additive lambda adaptation value can be manually or conditionally reset to zero.", "mimetype": "text/plain", "start_char_idx": 154699, "end_char_idx": 158805, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6536a327-7728-4e73-bd68-9d6e172e07ef": {"__data__": {"id_": "6536a327-7728-4e73-bd68-9d6e172e07ef", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c34e9427-396a-4b23-a693-6f037e178726", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "bea0d0912b4bf8902cb609204fb46ce9493ba61b14b89e8c9c9d1e177d249a93", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4e64d92d-0003-445c-9c15-b7a12a74b234", "node_type": "1", "metadata": {}, "hash": "bf9f42c4576283eb090837faa1ae006d5606e04b5f844414ab8b7f2242cb3085", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The output of this switch (either `LAMB_ADD_ERU_AD_in` or `0`) then passes through a unity Gain block (triangle icon) and is output as `LAMB_ADD_ERU_AD_out`. This ensures that the additive lambda adaptation value can be manually or conditionally reset to zero.\r\n\r\n\r\n--- Page 55 ---\r\n\r\nThis image is a Simulink diagram, likely representing a block-diagram implementation of a control algorithm within an automotive ECU for engine management. The title \"4.6.2.1.5 Calculation of injection time correction or ethanol content factor\" and the surrounding context \"ALFU: Engine running adaptation (AFU)\" indicate its purpose in fuel system control.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to calculate various fuel-related correction factors, specifically `FAC_MFF_ERU` (Factor, Mass Fuel Flow, Ethanol Ratio Unit) and `FAC_AFU_RATIO_ERU` (Factor, Air-Fuel Unit, Ratio, Ethanol Ratio Unit), along with an intermediate adaptive factor `FAC_MFF_ERU_AD_CLC`. This system performs adaptation for engine running conditions, likely adjusting fuel injection based on air-fuel ratio feedback and potentially accounting for ethanol content in the fuel.\r\n\r\n## Inputs\r\n\r\n*   **`LAMB_ADD_ERU_AD_in`**: An input representing an adaptive lambda (air-fuel ratio) correction or error signal for the ethanol ratio unit. This is a primary feedback signal for adaptation.\r\n*   **`FAC_MFF_AFU_RATIO_ERU_INI`**: An initial or base mass fuel flow factor related to the air-fuel ratio and ethanol content.\r\n*   **`C_MFF_FAC_ERU`**: A constant or calibration parameter for the mass fuel flow factor, specific to the ethanol ratio unit.\r\n*   **`IP_FAC_AFU_RATIO_MFF_FAC`**: An input parameter (e.g., engine speed, load, or temperature) used as the independent variable for a 1D lookup table to determine a base air-fuel ratio factor.\r\n\r\n## Outputs\r\n\r\n*   **`FAC_MFF_ERU_AD_CLC` (Output 1)**: The calculated adaptive/closed-loop mass fuel flow factor for the ethanol ratio unit. This value is also fed back into the calculation, indicating an adaptive control loop.\r\n*   **`LV_FAC_AFU_RATIO_ERU_ACT` (Output 2)**: An \"active\" flag or status indicator for the Air-Fuel Unit ratio factor, currently set to a constant value of 1. This might signify that the AFU ratio logic is enabled or normalized.\r\n*   **`FAC_MFF_ERU` (Output 3)**: The final calculated mass fuel flow factor, incorporating initial values, adaptive corrections, and calibration constants for the ethanol mixture. This likely directly influences fuel injection quantity or duration.\r\n*   **`FAC_AFU_RATIO_ERU` (Output 4)**: The air-fuel ratio factor determined by a 1D lookup table, based on an input operating parameter. This provides a baseline or target AFR factor.\r\n\r\n## Logic Flow\r\n\r\nThe diagram can be broken down into three main parallel processing paths:\r\n\r\n1.  **Adaptive Mass Fuel Factor Calculation (Top Path):**\r\n    *   The `LAMB_ADD_ERU_AD_in` signal is added to a feedback signal, which is the current `FAC_MFF_ERU_AD_CLC`. This forms an error sum or accumulated adaptation value.\r\n    *   This sum then acts as the denominator in a division operation, with a constant `1` (from V.6.4 block) as the numerator. This effectively calculates `1 / (LAMB_ADD_ERU_AD_in + FAC_MFF_ERU_AD_CLC)`. This inverse operation is typical in feedback control for calculating a reciprocal of an error term or a gain.\r\n    *   The result of the division passes through a gain block (V.6.1).\r\n    *   The output of this gain block is `FAC_MFF_ERU_AD_CLC` (Output 1), which serves as a continuously adapted correction factor and is fed back to the initial sum block, forming a closed-loop adaptive mechanism.\r\n\r\n2.  **Total Mass Fuel Flow Factor Calculation (Middle Path):**\r\n    *   The initial/base mass fuel flow factor `FAC_MFF_AFU_RATIO_ERU_INI` is multiplied by the adaptively calculated `FAC_MFF_ERU_AD_CLC` (obtained from the top path via a \"From\" block labeled `[FAC_MFF_ERU_AD_CLC]`).\r\n    *   This intermediate product is then further multiplied by the calibration constant `C_MFF_FAC_ERU`.", "mimetype": "text/plain", "start_char_idx": 158541, "end_char_idx": 162599, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4e64d92d-0003-445c-9c15-b7a12a74b234": {"__data__": {"id_": "4e64d92d-0003-445c-9c15-b7a12a74b234", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6536a327-7728-4e73-bd68-9d6e172e07ef", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "6ad904fd5c45740b74cfd414d7c6800b3f02b58e315a7ee43a9021abaddfa407", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "56f3bb50-977b-4d39-acb2-5e49b4bb1522", "node_type": "1", "metadata": {}, "hash": "8c36bd850b7121c7da701cf09f77b6a75314b91b5d29758d02003b83451237cd", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   This intermediate product is then further multiplied by the calibration constant `C_MFF_FAC_ERU`.\r\n    *   The final product is passed through another gain block (V.6.1).\r\n    *   The output of this gain block is `FAC_MFF_ERU` (Output 3), which represents the overall fuel mass correction factor to be applied.\r\n\r\n3.  **Air-Fuel Ratio Factor Lookup (Bottom Path):**\r\n    *   An input parameter `IP_FAC_AFU_RATIO_MFF_FAC` is fed into a 1D lookup table (V.6.4).\r\n    *   The lookup table outputs `FAC_AFU_RATIO_ERU` (Output 4) based on the input parameter, typically providing an interpolated value from a predefined map.\r\n\r\n4.  **Active AFU Ratio Status (Isolated Output):**\r\n    *   The `LV_FAC_AFU_RATIO_ERU_ACT` (Output 2) is directly assigned a constant value of `1` from a V.6.4 block. This suggests it's a simple status flag or a default value indicating active operation.\r\n\r\n\r\n--- Page 56 ---\r\n\r\nThis image is indeed a Simulink-style diagram, commonly used in automotive embedded software development for model-based design.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram, as indicated by its title \"4.6.2.1.6 Calculation of validity for the deactivation of the function\" and the context \"ALFU: Engine running adaptation (AFU)\", is to determine a composite validity status for the Engine Running Adaptation (AFU) function. It evaluates several parallel operational conditions (related to a ratio, Mass Air Flow, Coolant Temperature, Oil Temperature, and Fuel Mass Flow) and combines them through a series of logical checks. The final output flags indicate whether the conditions are met to maintain the AFU function's activation (output = 1) or if conditions are such that the function should be invalidated/deactivated (output = 0). The diagram effectively implements a \"fail-safe\" logic, where if any critical condition for operation is not met, the overall validity is set to 0.\r\n\r\n## Inputs\r\n\r\nThe key inputs to this system are:\r\n\r\n*   **LV_FAC_AFU_RATIO_ERU_VLD_in**: An input validity flag or state for the ERU ratio.\r\n*   **FAC_AFU_RATIO_ERU_VLD_in**: Another input validity flag or state for the ERU ratio.\r\n*   **C_FAC_AFU_RATIO_ERU_VLD_INC**: A constant used for incremental comparison with the ERU ratio.\r\n*   **FAC_AFU_RATIO_ERU_VLD**: The current value of the ERU ratio.\r\n*   **0.996096375**: A constant threshold for the ERU ratio comparison.\r\n*   **MAF**: Mass Air Flow, representing engine air intake.\r\n*   **C_MAF_MIN_ERU_VLD**: A minimum threshold constant for MAF required for ERU validity.\r\n*   **TCO**: Coolant Temperature.\r\n*   **TCO_ST**: Coolant Temperature Status (likely a binary or enumerated state).\r\n*   **IP_TCO_MIN_ERU_VLD**: A 1D lookup table (or characteristic map) providing a minimum ERU validity value based on TCO.\r\n*   **TOIL**: Oil Temperature.\r\n*   **C_TOIL_THD_ERU_MIN**: A minimum threshold constant for Oil Temperature.\r\n*   **C_TOIL_THD_ERU_MAX**: A maximum threshold constant for Oil Temperature.\r\n*   **MFF_SUM_REFU**: Sum of fuel mass flow (related to refueling or consumption).\r\n*   **C_MFF_SUM_REFU_MAX**: A maximum threshold constant for MFF_SUM_REFU.\r\n\r\n## Outputs\r\n\r\nThe system produces two output validity flags, which are likely derived from the same final logical result:\r\n\r\n*   **FAC_AFU_RATIO_ERU_VLD_out**: The main validity flag for the AFU function, where `1` typically means \"valid\" (maintain activation) and `0` means \"invalid\" (allow deactivation).\r\n*   **_V_FAC_AFU_RATIO_ERU_VLD_out**: Potentially a buffered, inverted, or specific version of the main validity flag, though in this diagram, it appears to be a direct duplicate of the `FAC_AFU_RATIO_ERU_VLD_out` signal.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be described as a series of parallel validity checks, which are then cascaded through `Check == 0` switch blocks to produce a final validity status.", "mimetype": "text/plain", "start_char_idx": 162498, "end_char_idx": 166349, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "56f3bb50-977b-4d39-acb2-5e49b4bb1522": {"__data__": {"id_": "56f3bb50-977b-4d39-acb2-5e49b4bb1522", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4e64d92d-0003-445c-9c15-b7a12a74b234", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "f7d06d125bc853b78e822bdb45b3a30405c468e655f60d5cb535b74ecd46226e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c0779c26-6b55-4a8d-a0fc-09647fef75d4", "node_type": "1", "metadata": {}, "hash": "208a6000bc884c9f96832e538faceb264ab94eeb9efaa1b81336869a7a1f584d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **_V_FAC_AFU_RATIO_ERU_VLD_out**: Potentially a buffered, inverted, or specific version of the main validity flag, though in this diagram, it appears to be a direct duplicate of the `FAC_AFU_RATIO_ERU_VLD_out` signal.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be described as a series of parallel validity checks, which are then cascaded through `Check == 0` switch blocks to produce a final validity status. The `Check == 0` switch blocks act as conditional \"AND\" gates, where if the control condition is false (or 0), the output is forced to 0, effectively invalidating the entire chain.\r\n\r\n1.  **ERU Ratio Validity (Top Branch):**\r\n    *   An internal state (`LV_FAC_AFU_RATIO_ERU_VLD_in`) is potentially updated or combined with `FAC_AFU_RATIO_ERU_VLD_in` and a constant `C_FAC_AFU_RATIO_ERU_VLD_INC`. This sum is then compared (`>=`) against `FAC_AFU_RATIO_ERU_VLD`. The output of this comparison, along with `LV_FAC_AFU_RATIO_ERU_VLD_in` (possibly implying a memory or stateful block through the `f()` function), forms the \"true\" path input for the first conditional switch.\r\n    *   Simultaneously, `FAC_AFU_RATIO_ERU_VLD` is checked if it's `>= 0.996096375`. This comparison's result controls the first `Check == 0` switch.\r\n    *   If `FAC_AFU_RATIO_ERU_VLD >= 0.996096375` is TRUE (1), the output of the first switch is the result of the incremental ERU ratio comparison.\r\n    *   If `FAC_AFU_RATIO_ERU_VLD >= 0.996096375` is FALSE (0), the output of the first switch is forced to `0`. This establishes an initial validity based on the ERU ratio.\r\n\r\n2.  **MAF, TCO, and TOIL Validity Checks (Middle Branch):**\r\n    *   **MAF Check:** `MAF` must be `> C_MAF_MIN_ERU_VLD`.\r\n    *   **TCO Check:** `TCO_ST` must be `> IP_TCO_MIN_ERU_VLD` (where `IP_TCO_MIN_ERU_VLD` is a value obtained from a lookup table based on `TCO`).\r\n    *   **TOIL Check:** `TOIL` must *not* be `< C_TOIL_THD_ERU_MIN` OR `> C_TOIL_THD_ERU_MAX`. The two relational operators (`<`, `>`) feed into an `OR` gate, so if `TOIL` is outside the valid range (too low OR too high), this condition is TRUE (meaning *invalid* for operation).\r\n    *   The boolean results of the MAF check, TCO check, and the inverted TOIL condition (i.e., NOT (TOIL is too low OR too high)) are combined using an `AND` gate. This means all three conditions must be met for this segment to be TRUE.\r\n\r\n3.  **Intermediate Combination (Second Switch):**\r\n    *   The output of the `AND` gate (from step 2) controls the second `Check == 0` switch.\r\n    *   If the `AND` gate output is TRUE (all MAF, TCO, TOIL conditions met), the output of the switch is the validity result from the first `Check == 0` switch (ERU Ratio Validity).\r\n    *   If the `AND` gate output is FALSE (any of MAF, TCO, TOIL conditions not met), the output of the switch is forced to `0`. This means if any of these conditions are violated, the overall validity is immediately `0`.\r\n\r\n4.  **MFF_SUM_REFU Validity Check (Lower Branch):**\r\n    *   `MFF_SUM_REFU` is checked if it's `>= C_MFF_SUM_REFU_MAX`. This comparison's result controls the third `Check == 0` switch.\r\n\r\n5.  **Final Combination and Output (Third Switch & Demultiplexer):**\r\n    *   If `MFF_SUM_REFU >= C_MFF_SUM_REFU_MAX` is TRUE, the output of the third switch is the combined validity from the second `Check == 0` switch.\r\n    *   If `MFF_SUM_REFU >= C_MFF_SUM_REFU_MAX` is FALSE, the output of the switch is forced to `0`. This is the final consolidated validity status.", "mimetype": "text/plain", "start_char_idx": 165938, "end_char_idx": 169404, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c0779c26-6b55-4a8d-a0fc-09647fef75d4": {"__data__": {"id_": "c0779c26-6b55-4a8d-a0fc-09647fef75d4", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "56f3bb50-977b-4d39-acb2-5e49b4bb1522", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "93c2b5f0d1b1d05698fe4043ebc25676ea6820b765106b8ce2cecc57ff705316", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a4c4c7aa-f9b6-494b-89cc-61621d280464", "node_type": "1", "metadata": {}, "hash": "aab7e88464c0001ae39f42e6d9a9a8474eb045493de0324017d29339d2b23895", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**Final Combination and Output (Third Switch & Demultiplexer):**\r\n    *   If `MFF_SUM_REFU >= C_MFF_SUM_REFU_MAX` is TRUE, the output of the third switch is the combined validity from the second `Check == 0` switch.\r\n    *   If `MFF_SUM_REFU >= C_MFF_SUM_REFU_MAX` is FALSE, the output of the switch is forced to `0`. This is the final consolidated validity status.\r\n    *   This final validity signal is then passed to a demultiplexer (the triangular block on the right) which distributes it to the two output signals: `FAC_AFU_RATIO_ERU_VLD_out` and `_V_FAC_AFU_RATIO_ERU_VLD_out`.\r\n\r\nIn essence, the system determines \"validity\" (output = 1) if and only if all five sets of conditions (ERU ratio incremental, ERU ratio absolute, MAF minimum, TCO status vs. TCO-dependent threshold, TOIL within bounds, and MFF sum minimum) are met. If any of these conditions are *not* met, the output validity flags will be `0`, indicating that the AFU function is no longer considered valid to run or that conditions for its deactivation are met.\r\n\r\n\r\n--- Page 58 ---\r\n\r\nThis image presents a set of Simulink diagrams describing an automotive control function related to engine running adaptation.\r\n\r\n## Function\r\nThe primary function of the depicted system, `ACTION_ALFU_RstVldEru`, is to **reset the validity state of an Adaptive Fuel Unit (AFU) Ratio parameter related to engine running adaptation**. Specifically, it sets the `LV_FAC_AFU_RATIO_ERU_VLD` signal/variable to `0`, indicating an invalid state, upon being triggered. This ensures that a specific adaptation factor or ratio is considered not valid until re-evaluated.\r\n\r\n## Inputs\r\n*   **`ACTION_ALFU_RstVldEru`**: This is the main event or trigger signal that initiates the reset action. It originates from an `ACTION_CREATOR` and is designated as `Global` (V.5.3), suggesting it's a globally accessible event.\r\n*   **`<ACTION_ALFU_RstVldEru_T3>`**: An internal trigger signal that acts as an `ActionImport` to the nested logic block (X.4.1.1), signifying the activation of the core reset operation.\r\n*   **`LV_FAC_AFU_RATIO_ERU_VLD`** (Implicit): While primarily an output, the presence of `LV_FAC_AFU_RATIO_ERU_VLD` as a signal leading into the subsystem (X.4.1.1 in Figure 4.6.39) implies that the system is modifying an existing variable or data store. It's an implicit input that defines the current state to be overwritten.\r\n\r\n## Outputs\r\n*   **`rstvlderu`**: An output signal (Figure 4.6.38) from the top-level function `ACTION_ALFU_RstVldEru`, likely a boolean flag or event pulse indicating that the reset validation action has been initiated or completed.\r\n*   **`LV_FAC_AFU_RATIO_ERU_VLD`**: The updated validity status of the AFU Ratio ERU (V.5.3). Upon activation of the function, this signal/variable is set to `0`, signifying an invalid state.\r\n*   **`<ACTION_ALFU_RstVldEru_T3>`** (ActionExport): An internal trigger signal exported from the main function block, possibly used to signal other parts of the system that the action is active or has occurred, or for chaining other actions.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be understood by combining the information from the three figures:\r\n\r\n1.  **Function Call/Event Activation (Figure 4.6.39):** The process begins when the `ACTION_ALFU_RstVldEru` event (labeled `Global` V.5.3) is triggered, likely by an `ACTION_CREATOR` block or similar system event.\r\n\r\n2.  **Top-Level Output Assertion (Figure 4.6.38):** Simultaneously or near-simultaneously, the top-level function `ACTION_ALFU_RstVldEru` asserts its primary output `rstvlderu`, signaling that the reset validation process is in progress or has been acknowledged.\r\n\r\n3.  **Internal Action Trigger Generation (Figure 4.6.39):** The `ACTION_ALFU_RstVldEru` event also generates an internal action trigger, `<ACTION_ALFU_RstVldEru_T3>`.", "mimetype": "text/plain", "start_char_idx": 169039, "end_char_idx": 172855, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a4c4c7aa-f9b6-494b-89cc-61621d280464": {"__data__": {"id_": "a4c4c7aa-f9b6-494b-89cc-61621d280464", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c0779c26-6b55-4a8d-a0fc-09647fef75d4", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "98a71fa83202dec4ced36511bcc590d7ab44145ccfdc18ed1c5d5cd42778a273", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "45bef337-cd91-44ca-8771-6643b8656d06", "node_type": "1", "metadata": {}, "hash": "bd2f7c64d416ed6471d8f2895131a42b643b3b4c8807fc17139c1c5b21c164bc", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  **Internal Action Trigger Generation (Figure 4.6.39):** The `ACTION_ALFU_RstVldEru` event also generates an internal action trigger, `<ACTION_ALFU_RstVldEru_T3>`. This trigger is first an `ActionExport` from the higher-level context and then immediately an `ActionImport` into a nested subsystem (labeled X.4.1.1).\r\n\r\n4.  **Subsystem Execution - Reset Logic (Figure 4.6.40, detailing X.4.1.1):**\r\n    *   The `ActionImport` of `<ACTION_ALFU_RstVldEru_T3>` activates the `Trigger` (f0) within the nested subsystem (Figure 4.6.40, titled \"Reset valid ERU value\").\r\n    *   Upon activation, the logic inside this subsystem takes a constant value of `0` (V.6.4) and assigns it directly to the output signal/variable `LV_FAC_AFU_RATIO_ERU_VLD`. This effectively sets the validity flag to an invalid state.\r\n    *   A `check scope` block is present for monitoring during development or debugging, but it does not directly influence the data flow of the `LV_FAC_AFU_RATIO_ERU_VLD` assignment.\r\n\r\n5.  **Updated Value Propagation (Figure 4.6.39):** The updated value of `LV_FAC_AFU_RATIO_ERU_VLD` (which is now `0`) is then propagated out as the final output of the `ACTION_ALFU_RstVldEru` block, making the reset validity state available to other parts of the system.\r\n\r\n\r\n--- Page 66 ---\r\n\r\nThis image displays a Simulink diagram representing an initialization routine for an automotive control system, specifically related to \"Lambda based flex fuel ratio detection.\"\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to initialize a set of control, status, and counter signals to predefined default values upon a system RESET or an ES2ERU (Error Status 2 Error Unit) event. This ensures that the lambda-based fuel ratio detection system starts in a known, stable state.\r\n\r\n## Inputs\r\n\r\n*   **f()**: A function-call trigger input that activates this initialization subsystem.\r\n*   **x_val**: An input signal used in a 1D lookup table within a specific logic branch.\r\n*   **IP_FAC_AFU_RATIO_LAMB_VLD**: An input signal (likely a value from Non-Volatile Memory or a pre-computed validity) used in a comparison with a deactivation constant.\r\n*   **C_FAC_AFU_RATIO_LAMB_VLD_DEAC**: A constant input representing a deactivation threshold for the lambda ratio validity.\r\n\r\n*(Note: While `x_val`, `IP_FAC_AFU_RATIO_LAMB_VLD`, and `C_FAC_AFU_RATIO_LAMB_VLD_DEAC` are shown as inputs within the diagram's scope, the logic path they feed into is not directly connected to the explicit signal initializations presented as outputs in this specific view.)*\r\n\r\n## Outputs\r\n\r\nThe diagram initializes and outputs the following signals, bundled into the `ini_rst_es2eru` output port:\r\n\r\n*   **T_DLY_FAC_AFU_LAMB_CTL**: Initialized to `0`. (Likely a time delay for lambda control).\r\n*   **LV_FAC_AFU_LAMB_CTL_ACT**: Initialized to `0`. (Likely a level/limit for lambda control activation).\r\n*   **FAC_AFU_RATIO_LAMB_VLD**: Initialized to `1`. (Flex fuel ratio lambda validity flag, set to valid).\r\n*   **LV_FAC_AFU_RATIO_LAMB_VLD**: Initialized to `0`. (Likely a level/limit for lambda ratio validity).\r\n*   **FAC_I_AFU_RATIO_DOWN**: Initialized to `0`. (Factor increment for AFU ratio downward adjustment).\r\n*   **FAC_I_AFU_RATIO_UP**: Initialized to `0`. (Factor increment for AFU ratio upward adjustment).\r\n*   **LV_FAC_AFU_LAMB_ACT**: Initialized to `0`. (Level/limit for lambda activation).\r\n*   **CTR_FAC_AFU_RATIO_LAMB_INT**: Initialized to `0`. (Counter for internal lambda ratio).\r\n*   **FAC_AFU_RATIO_LAMB_INT**: Initialized to `0`. (Internal lambda ratio factor).\r\n\r\n## Logic Flow\r\n\r\n1.  **Trigger Event**: The subsystem is activated by a function-call event, denoted by `f()`. This event corresponds to a system RESET or an ES2ERU event, as indicated by the diagram's title.\r\n2.", "mimetype": "text/plain", "start_char_idx": 172689, "end_char_idx": 176476, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "45bef337-cd91-44ca-8771-6643b8656d06": {"__data__": {"id_": "45bef337-cd91-44ca-8771-6643b8656d06", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a4c4c7aa-f9b6-494b-89cc-61621d280464", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "847a86f9b14073e6d1d7dbbecfebf53ce6ac992e448afc04a73a874491fd9591", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8e2fb4fc-3cad-4a61-b470-bf993f3fa32c", "node_type": "1", "metadata": {}, "hash": "53436975c142aaafbc9237336e9e19ef4a92d71aa64e10bf9a16a14724ccd443", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "(Counter for internal lambda ratio).\r\n*   **FAC_AFU_RATIO_LAMB_INT**: Initialized to `0`. (Internal lambda ratio factor).\r\n\r\n## Logic Flow\r\n\r\n1.  **Trigger Event**: The subsystem is activated by a function-call event, denoted by `f()`. This event corresponds to a system RESET or an ES2ERU event, as indicated by the diagram's title.\r\n2.  **Direct Constant Assignment**: Upon activation, the core logic involves directly assigning predefined constant values to a series of output signals.\r\n    *   Signals such as `T_DLY_FAC_AFU_LAMB_CTL`, `LV_FAC_AFU_LAMB_CTL_ACT`, `LV_FAC_AFU_RATIO_LAMB_VLD`, `FAC_I_AFU_RATIO_DOWN`, `FAC_I_AFU_RATIO_UP`, `LV_FAC_AFU_LAMB_ACT`, `CTR_FAC_AFU_RATIO_LAMB_INT`, and `FAC_AFU_RATIO_LAMB_INT` are all set to a numerical value of `0` by corresponding constant blocks. This typically indicates a deactivated, zeroed, or inactive initial state.\r\n    *   The signal `FAC_AFU_RATIO_LAMB_VLD` is explicitly set to `1` by a constant block, implying that the lambda ratio validity is assumed to be active/valid by default after a reset.\r\n3.  **Unconnected Logic Path**: There is an additional logic path present within the diagram, starting with `x_val` feeding into a 1D lookup table (`IP_val`) and a comparison between `IP_FAC_AFU_RATIO_LAMB_VLD` and `C_FAC_AFU_RATIO_LAMB_VLD_DEAC`. However, the output of this particular computation is not shown to be connected to any of the directly initialized output signals listed above in this specific diagram view. It may be part of a larger conditional initialization not fully displayed, or a separate related calculation.\r\n4.  **Output Bundling**: All the initialized signals are fed into an output port named `ini_rst_es2eru`, which acts as a bus or a grouping mechanism for these initialized values, making them available to other parts of the system.\r\n5.  **Contextual Note**: An annotation \"at checksum error: all NVMY values = 0H\" suggests a potential fallback mechanism where, in case of a non-volatile memory (NVM) checksum error, NVM-dependent values (which some of these signals might represent) are forced to an initial state of `0`.\r\n\r\n\r\n--- Page 68 ---\r\n\r\nThe provided image contains two distinct Simulink diagrams: Figure 4.8.5 and Figure 4.8.6. As the prompt asks to analyze \"this Simulink diagram\" (singular) and Figure 4.8.5 is presented first, is more complex, and titled \"Activation conditions for Lambda based AFU detection\", it will be considered the primary diagram for analysis.\r\n\r\n## Function\r\nThis Simulink diagram's primary function is to determine the activation status of a Lambda-based Air Fuel Unit (AFU) detection process and to calculate an associated Lambda AFU ratio factor. It uses various operational states, learning validations, change detections, and manual overrides to decide whether the Lambda control system (`LAMB_CTL`) should be active or if a default/inactive state (`CLC_ELSE`) should be maintained. It consolidates these conditions into a single bus output and updates a persistent AFU ratio factor.\r\n\r\n## Inputs\r\n1.  **`STATE_ALFU_CTL`**: A state variable indicating the current operational mode or state of the AFU control.\r\n2.  **`CHG`**: A boolean flag, likely indicating a change event, such as a refuel detection.\r\n3.  **`VLD_LEARN`**: A boolean flag, indicating whether a previously learned value (e.g., of the AFU ratio) is valid.\r\n4.  **`LEARN`**: A boolean flag, indicating if the system is currently in a learning phase.\r\n5.  **`LV_INH_FAC_AFU_RATIO_LAMB`**: A boolean flag, which, when active, inhibits (prevents) the calculation or application of the AFU ratio Lambda factor.\r\n6.  **`LC_FAC_AFU_RATIO_LAMB_MAN_ACT`**: A boolean flag, allowing for manual activation of the AFU ratio Lambda factor.\r\n7.  **`IDX_EX_CBK_LAMB`**: A numerical input, potentially an index or a value from an external callback function related to Lambda.\r\n8.  **`LV_LAM_LSCL`**: A numerical input, likely representing Lambda sensor scaling or limit parameters.\r\n9.", "mimetype": "text/plain", "start_char_idx": 176139, "end_char_idx": 180109, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8e2fb4fc-3cad-4a61-b470-bf993f3fa32c": {"__data__": {"id_": "8e2fb4fc-3cad-4a61-b470-bf993f3fa32c", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "45bef337-cd91-44ca-8771-6643b8656d06", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "6408da6ebb0b724e52b8c524e7006b5ad44df17ca7ef803f5df334b9b32ea437", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a5dd767f-90d8-4dc1-92c3-fe0d18e86069", "node_type": "1", "metadata": {}, "hash": "3486ebb9f1a89c8f8bb63b1892dbacb539e8b97df43d9de99b9f3332d9917d18", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "6.  **`LC_FAC_AFU_RATIO_LAMB_MAN_ACT`**: A boolean flag, allowing for manual activation of the AFU ratio Lambda factor.\r\n7.  **`IDX_EX_CBK_LAMB`**: A numerical input, potentially an index or a value from an external callback function related to Lambda.\r\n8.  **`LV_LAM_LSCL`**: A numerical input, likely representing Lambda sensor scaling or limit parameters.\r\n9.  **`LV_FAC_AFU_RATIO_LAMB` (via Data Store Read `f()`)**: A numerical input representing the previously calculated or stored AFU ratio Lambda factor, used by the internal `LAMB_CTL` and `CLC_ELSE` subsystems.\r\n\r\n## Outputs\r\n1.  **Bus Output (from `BusMerge`)**: A consolidated bus containing the following signals:\r\n    *   **`lamb_ctl_act`**: A boolean signal (1 for active, 0 for inactive) indicating the activation status of the Lambda control.\r\n    *   **`lamb_ctl`**: A numerical/signal output from the currently active Lambda control subsystem (`LAMB_CTL` or `CLC_ELSE`).\r\n    *   **`cond_if`**: A boolean signal representing the raw logical condition that determined the activation path (True for `LAMB_CTL`, False for `CLC_ELSE`).\r\n2.  **Data Store `LV_FAC_AFU_RATIO_LAMB`**: A numerical value representing the calculated Lambda AFU ratio factor, which is written to a data store for persistent storage and use by other parts of the system.\r\n\r\n## Logic Flow\r\n\r\nThe diagram processes several input conditions to determine the activation state and compute an AFU ratio.\r\n\r\n1.  **State-Based Activation Conditions**:\r\n    *   The `STATE_ALFU_CTL` input is compared against three distinct constant values (2, 3, 4) using equality (`==`) blocks.\r\n    *   The outputs of these three comparisons are combined using an `OR` gate. This means if `STATE_ALFU_CTL` matches any of these specific states, this part of the condition is satisfied.\r\n\r\n2.  **Learning and Validation Path**:\r\n    *   The output of the `OR` gate (from step 1), `CHG` (change/refuel detected), `VLD_LEARN` (learned value valid), and `LEARN` (learning phase active) are all fed into an `AND` gate. This path requires all these conditions to be simultaneously true.\r\n\r\n3.  **Inhibition and Manual Activation Path**:\r\n    *   `LV_INH_FAC_AFU_RATIO_LAMB` (inhibit flag) is inverted by a `NOT` gate. So, if inhibition is *not* active, this condition is true.\r\n    *   The output of the `NOT` gate and `LC_FAC_AFU_RATIO_LAMB_MAN_ACT` (manual activation) are combined using an `OR` gate. This means activation can occur if inhibition is inactive, OR if manual activation is commanded.\r\n\r\n4.  **Overall Activation Condition (`cond_if`)**:\r\n    *   The outputs of the `AND` gate (from step 2) and the `OR` gate (from step 3) are combined by a final `OR` gate. The result of this `OR` gate is the `cond_if` signal, which serves as the primary condition for the subsequent `If` block. This signifies that the AFU detection can be activated either by the combined state/learning/validation criteria OR by the non-inhibition/manual activation criteria.\r\n\r\n5.  **Conditional Execution (If-Else Block)**:\r\n    *   The `cond_if` signal controls an `If` block, which has two execution branches: `if` (`fc_THEN`) and `else` (`fc_FALSE`).\r\n    *   **If `cond_if` is TRUE (Activation Condition Met - `fc_THEN`):**\r\n        *   A `LAMB_CTL` subsystem (`X.2.1.3.1`) is executed. It receives `LV_FAC_AFU_RATIO_LAMB` (read from the data store `f()`) as an input and possibly its own `lamb_ctl` output as feedback.\r\n        *   The output `lamb_ctl` from this subsystem is sent to the `BusMerge` block.\r\n        *   A constant value `1` (representing TRUE) is passed to the `BusMerge` and labeled `lamb_ctl_act`, indicating active control.\r\n    *   **If `cond_if` is FALSE (Activation Condition Not Met - `fc_FALSE`):**\r\n        *   A `CLC_ELSE` subsystem (`X.2.1.3.2`) is executed.", "mimetype": "text/plain", "start_char_idx": 179747, "end_char_idx": 183538, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a5dd767f-90d8-4dc1-92c3-fe0d18e86069": {"__data__": {"id_": "a5dd767f-90d8-4dc1-92c3-fe0d18e86069", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8e2fb4fc-3cad-4a61-b470-bf993f3fa32c", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "27b795940a4120bb15e12e4cedae00bb8f6243f7cfc76ced1e1a51096a5a2d61", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a97d4d39-1bab-4ca0-a1d7-329d3a906684", "node_type": "1", "metadata": {}, "hash": "7389aa923ebdd3e1c16bb30f2d9724dfb0721511b17a1d8403bf38ec78ebb9c3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   A constant value `1` (representing TRUE) is passed to the `BusMerge` and labeled `lamb_ctl_act`, indicating active control.\r\n    *   **If `cond_if` is FALSE (Activation Condition Not Met - `fc_FALSE`):**\r\n        *   A `CLC_ELSE` subsystem (`X.2.1.3.2`) is executed. It also receives `LV_FAC_AFU_RATIO_LAMB` (read from the data store `f()`) as an input and possibly its `clc_else` output as feedback.\r\n        *   The output `clc_else` from this subsystem is sent to the `BusMerge` block.\r\n        *   A constant value `0` (representing FALSE) is passed to the `BusMerge` and labeled `lamb_ctl_act`, indicating inactive control.\r\n\r\n6.  **Lambda AFU Ratio Factor Calculation and Storage**:\r\n    *   Independent of the `If-Else` block's path, the inputs `IDX_EX_CBK_LAMB` and `LV_LAM_LSCL` are processed by an unlabelled block (likely a calculation or lookup). The result of this operation is then written to a Data Store named `LV_FAC_AFU_RATIO_LAMB`. This block updates the persistent AFU ratio factor.\r\n\r\n7.  **Bus Consolidation**:\r\n    *   Finally, the `BusMerge` block combines `lamb_ctl_act`, `lamb_ctl` (or `clc_else` depending on the active path), and the `cond_if` signal into a single bus output, which can then be used by other parts of the system.\r\n\r\n\r\n--- Page 69 ---\r\n\r\nThis image contains two Simulink diagrams, Figure 4.8.7 and Figure 4.8.8, which together describe the logic for a Lambda-based flex fuel ratio detection and its update.\r\n\r\n## Function\r\n\r\nThe primary function of these diagrams is to implement a robust control strategy for detecting and updating a Lambda-based flex-fuel ratio factor (`upd_lamb_ff_fac`).\r\n\r\n*   **Figure 4.8.7 (ALFU. Lambda based flex fuel ratio detection):** This diagram determines the active state and delayed values of the Lambda adaptive fuel unit control. It evaluates various lambda control factors against predefined thresholds and monitors for zero-crossing conditions, producing output flags and delayed values for further processing.\r\n*   **Figure 4.8.8 (Update of Lambda based FF detection factor):** This diagram conditionally updates the flex-fuel detection factor. It uses the states determined by Figure 4.8.7 and other inputs, with a key condition being the enablement of learning/updating based on an implied oil temperature threshold, as described by the accompanying text.\r\n\r\n## Inputs\r\n\r\nThe following are the key inputs identified across both diagrams:\r\n\r\n*   `T_DLY_FAC_AFU_LAMB_CTL`: Time-delayed factor for Adaptive Fuel Unit Lambda Control.\r\n*   `C_FAC_LAM_MV_BOL_AFU_ACT`: Constant factor for Lambda Measured Value Begin Of Life Adaptive Fuel Unit Active.\r\n*   `IDX_EX_CBK_LAMB`: Index for Exhaust Callback Lambda (potentially a specific lambda value or condition).\r\n*   `C_FAC_LAM_MV_MMV_AFU`: Constant factor for Lambda Measured Value Minimum Maximum Value Adaptive Fuel Unit.\r\n*   `C_FAC_LAM_MV_TOL_AFU_ACT`: Constant factor for Lambda Measured Value Tolerance Adaptive Fuel Unit Active.\r\n*   `LV_FAC_AFU_LAMB_CTL_ACT_in`: Input for the active status of the Lambda Adaptive Fuel Unit Control (used in the \"else\" branch of main switch in Fig 4.8.7).\r\n*   `T_DLY_FAC_AFU_LAMB_CTL_in`: Input for the time-delayed factor of the Lambda Adaptive Fuel Unit Control (used in the \"else\" branch of main switch in Fig 4.8.7).\r\n*   `LV_FAC_AFU_LAMB_CTL_ACT`: Active status of the Lambda Adaptive Fuel Unit Control (appears as an input to Fig 4.8.8 and internally generated/delayed in Fig 4.8.7).\r\n*   `C_T_DLY_FAC_AFU_LAMB_CTL_UPD`: Constant threshold for updating the time-delayed factor for Lambda Adaptive Fuel Unit Control.\r\n*   `input` (to function calls `CLC_THEN` and `CLC_ELSE` in Fig 4.8.8).\r\n*   `feedback` (to function calls `CLC_THEN` and `CLC_ELSE` in Fig 4.8.8).", "mimetype": "text/plain", "start_char_idx": 183268, "end_char_idx": 187014, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a97d4d39-1bab-4ca0-a1d7-329d3a906684": {"__data__": {"id_": "a97d4d39-1bab-4ca0-a1d7-329d3a906684", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a5dd767f-90d8-4dc1-92c3-fe0d18e86069", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "461bed6bc38d35ca9f5d5abdd5cbbdbce0c4b64f8a74561f960cfbab5c62d0a3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d9e6db78-e9bc-4396-8482-89f1dd02fc2f", "node_type": "1", "metadata": {}, "hash": "124e5248a34def029317895020b55c66b32b5a472631d9dd7afc41106ca1c093", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `C_T_DLY_FAC_AFU_LAMB_CTL_UPD`: Constant threshold for updating the time-delayed factor for Lambda Adaptive Fuel Unit Control.\r\n*   `input` (to function calls `CLC_THEN` and `CLC_ELSE` in Fig 4.8.8).\r\n*   `feedback` (to function calls `CLC_THEN` and `CLC_ELSE` in Fig 4.8.8).\r\n\r\n## Outputs\r\n\r\nThe key outputs generated by these diagrams are:\r\n\r\n*   `LV_FAC_AFU_LAMB_CTL_ACT_out`: Output representing the active status of the Lambda Adaptive Fuel Unit Control.\r\n*   `T_DLY_FAC_AFU_LAMB_CTL_out`: Output representing the time-delayed factor for Lambda Adaptive Fuel Unit Control.\r\n*   `upd_lamb_ff_fac`: The updated Lambda-based flex fuel detection factor.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be described in two main parts, corresponding to the two figures:\r\n\r\n### Figure 4.8.7: Lambda based flex fuel ratio detection\r\n\r\nThis diagram determines the current active status and delayed factor for the Lambda adaptive fuel unit control.\r\n\r\n1.  **Main Control Path (Upper Branch):**\r\n    *   Two comparison blocks evaluate conditions:\r\n        *   `T_DLY_FAC_AFU_LAMB_CTL` is compared (>) with a unit-delayed `C_FAC_LAM_MV_BOL_AFU_ACT`.\r\n        *   `IDX_EX_CBK_LAMB` is compared (<) with `C_FAC_LAM_MV_MMV_AFU`.\r\n    *   The results of these two comparisons are combined by an `OR` gate.\r\n    *   The output of the `OR` gate acts as the control signal for a main `Switch` block (labeled `Check ~= 0`).\r\n    *   If the `OR` condition is true (`Check ~= 0`):\r\n        *   The switch passes `LV_FAC_AFU_LAMB_CTL_ACT` (after a unit delay) as `LV_FAC_AFU_LAMB_CTL_ACT_out`.\r\n        *   It passes `T_DLY_FAC_AFU_LAMB_CTL` directly as `T_DLY_FAC_AFU_LAMB_CTL_out`.\r\n    *   If the `OR` condition is false (else branch):\r\n        *   The switch passes `LV_FAC_AFU_LAMB_CTL_ACT_in` and `T_DLY_FAC_AFU_LAMB_CTL_in` as outputs. These inputs are derived from the lower logic path.\r\n\r\n2.  **Zero-Crossing / Else Path (Lower Branch):**\r\n    *   This path calculates the `LV_FAC_AFU_LAMB_CTL_ACT_in` and `T_DLY_FAC_AFU_LAMB_CTL_in` signals for the main switch's \"else\" input.\r\n    *   **Positive Zero-Crossing Detection (Implicit \"Zero crossing pos. direction\"):**\r\n        *   A unit-delayed `LV_FAC_AFU_LAMB_CTL_ACT` is compared (<) with `0`.\r\n        *   `C_FAC_LAM_MV_TOL_AFU_ACT` is compared (>=) with `0`.\r\n        *   These two results are combined by an `AND` gate.\r\n    *   **Negative Zero-Crossing Detection (Implicit \"Zero crossing neg. direction\"):**\r\n        *   A unit-delayed `LV_FAC_AFU_LAMB_CTL_ACT` is compared (>) with `0`.\r\n        *   `T_DLY_FAC_AFU_LAMB_CTL` is compared (<=) with `0`.\r\n        *   These two results are combined by a second `AND` gate.\r\n    *   The outputs of both `AND` gates are combined by an `OR` gate.\r\n    *   The output of this `OR` gate controls a second `Switch` block (also labeled `Check ~= 0`).\r\n    *   If this `OR` condition is true (`Check ~= 0`):\r\n        *   The switch outputs a value derived from another `OR` gate that combines `LV_FAC_AFU_LAMB_CTL_ACT` and `T_DLY_FAC_AFU_LAMB_CTL`.\r\n    *   If this `OR` condition is false (else):\r\n        *   The switch directly outputs `LV_FAC_AFU_LAMB_CTL_ACT` and `T_DLY_FAC_AFU_LAMB_CTL`.\r\n    *   The outputs of this second switch provide the `LV_FAC_AFU_LAMB_CTL_ACT_in` and `T_DLY_FAC_AFU_LAMB_CTL_in` for the main switch.\r\n\r\n### Figure 4.8.8: Update of Lambda based FF detection factor\r\n\r\nThis diagram conditionally updates the final flex-fuel detection factor.\r\n\r\n1.", "mimetype": "text/plain", "start_char_idx": 186735, "end_char_idx": 190197, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d9e6db78-e9bc-4396-8482-89f1dd02fc2f": {"__data__": {"id_": "d9e6db78-e9bc-4396-8482-89f1dd02fc2f", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a97d4d39-1bab-4ca0-a1d7-329d3a906684", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "3a4b7aae71b018c36dc88678f7a7a95984d40f6a35c33b34e29484a6793ed9bc", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "af73ac9a-99fe-4f7c-86fb-b18cc223d313", "node_type": "1", "metadata": {}, "hash": "ff9055234089c7edbe0200b7dfc6a8752ec7f70f8a43d15bdffd956b44edd031", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The outputs of this second switch provide the `LV_FAC_AFU_LAMB_CTL_ACT_in` and `T_DLY_FAC_AFU_LAMB_CTL_in` for the main switch.\r\n\r\n### Figure 4.8.8: Update of Lambda based FF detection factor\r\n\r\nThis diagram conditionally updates the final flex-fuel detection factor.\r\n\r\n1.  **Condition Evaluation:**\r\n    *   A comparison `T_DLY_FAC_AFU_LAMB_CTL >= C_T_DLY_FAC_AFU_LAMB_CTL_UPD` is performed. This condition, as per the surrounding text, likely represents checking if the \"oil temperature reaches sufficient temperature.\"\r\n    *   This result is logically `AND`ed with `LV_FAC_AFU_LAMB_CTL_ACT` (which signifies if the Lambda control is active).\r\n    *   The combined logical result is labeled `cond_if` and controls an `If-Else` subsystem.\r\n\r\n2.  **Conditional Function Call:**\r\n    *   **IF `cond_if` is true (THEN branch):** The `CLC_THEN` function call subsystem (X.2.1.3.1.3.1) is executed. It receives `input` and `feedback` signals and produces an output `clc_then`.\r\n    *   **ELSE (`cond_if` is false):** The `CLC_ELSE` function call subsystem (X.2.1.3.1.3.2) is executed. It also receives `input` and `feedback` signals and produces an output `clc_else`.\r\n\r\n3.  **Output Merge:**\r\n    *   The output from the active branch (either `clc_then` or `clc_else`) is then passed through a `BusMerge` block.\r\n    *   This merged output generates the final `upd_lamb_ff_fac`, which represents the updated Lambda-based flex fuel detection factor.\r\n\r\n\r\n--- Page 71 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram represents a system for **Lambda-based flex fuel ratio detection and adaptive adjustment**. Its primary function is to continually modify a \"flex fuel ratio detection factor\" (`FAC_AFU_RATIO_LAMB`) based on the engine's real-time air-fuel equivalence ratio (Lambda). This adaptation is critical for flexible fuel vehicles to accurately estimate the ethanol/gasoline blend and adjust fuel injection strategy accordingly.\r\n\r\nThe system is split into two main logical parts:\r\n1.  **Decrementing Logic (Figure 4.8.11):** This part determines when and by how much the `FAC_AFU_RATIO_LAMB` factor should be decreased, typically if the Lambda moving mean value indicates a rich mixture (Lambda too low). It outputs a decrement factor (`FAC_I_AFU_RATIO_DOWN`) and the decremented ratio (`FAC_AFU_RATIO_LAMB_out`).\r\n2.  **Incrementing Logic (Figure 4.8.12):** This part handles the conditions for increasing the `FAC_AFU_RATIO_LAMB` factor. It outputs an increment factor (`FAC_I_AFU_RATIO_UP`) and the final adjusted ratio (`FAC_AFU_RATIO_LAMB`). This typically occurs if Lambda indicates a lean mixture (Lambda too high).\r\n\r\nTogether, these two mechanisms form a continuous adaptive loop for the flex fuel detection factor.\r\n\r\n## Inputs\r\n\r\nThe key inputs to this system are:\r\n\r\n*   **`FAC_LAM_MV_MMV_AFU`**: The moving mean value of the Lambda controller. This is the primary feedback signal from the engine's air-fuel control system.\r\n*   **`IDX_EX_CBK_LAMB`**: An index or enable signal, likely controlling the execution or activation of certain Lambda-related callbacks or logic.\r\n*   **`FAC_AFU_RATIO_LAMB_in`**: The current or previously calculated value of the Lambda-based flex fuel ratio detection factor.\r\n*   **`C_FAC_I_AFU_RATIO_DOWN_FAST`**: A calibration constant that defines a faster rate for decrementing the ratio detection factor.\r\n*   **`C_FAC_LAM_MV_MMV_AFU_THD_DOWN`**: A calibration constant that sets the threshold for `FAC_LAM_MV_MMV_AFU`. If Lambda falls below this threshold, a decrement condition is met.\r\n*   **`C_FAC_I_AFU_RATIO_DOWN`**: A calibration constant that defines a normal (slower) rate for decrementing the ratio detection factor.\r\n*   **`input` (Figure 4.8.12)**: A generic input signal to the incrementing logic subsystem.\r\n*   **`feedback` (Figure 4.8.12)**: A generic feedback signal to the incrementing logic subsystem.", "mimetype": "text/plain", "start_char_idx": 189920, "end_char_idx": 193790, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "af73ac9a-99fe-4f7c-86fb-b18cc223d313": {"__data__": {"id_": "af73ac9a-99fe-4f7c-86fb-b18cc223d313", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d9e6db78-e9bc-4396-8482-89f1dd02fc2f", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "0769ffc6be057e1ebb9753c9a293464ff00c9f6d7891178798e36b649133371f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3910153a-0da1-4678-abef-ca2de7c9d0f5", "node_type": "1", "metadata": {}, "hash": "30a61ddf8a3ab85e5b38a799cb414edcb79a5201943e17985ccc8a2ad9f3d49e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **`C_FAC_I_AFU_RATIO_DOWN`**: A calibration constant that defines a normal (slower) rate for decrementing the ratio detection factor.\r\n*   **`input` (Figure 4.8.12)**: A generic input signal to the incrementing logic subsystem.\r\n*   **`feedback` (Figure 4.8.12)**: A generic feedback signal to the incrementing logic subsystem.\r\n\r\n## Outputs\r\n\r\nThe key outputs from this system are:\r\n\r\n*   **`FAC_I_AFU_RATIO_DOWN`**: The determined factor indicating the magnitude or rate of decrement needed for the ratio detection factor.\r\n*   **`FAC_AFU_RATIO_LAMB_out`**: The updated, decremented Lambda-based flex fuel ratio detection factor from Figure 4.8.11.\r\n*   **`FAC_I_AFU_RATIO_UP`**: The determined factor indicating the magnitude or rate of increment needed for the ratio detection factor.\r\n*   **`FAC_AFU_RATIO_LAMB`**: The final adjusted Lambda-based flex fuel ratio detection factor after considering the incrementing logic (from Figure 4.8.12).\r\n*   **`ratio_up_clc`**: A bus signal (containing `fc_1` and `fc_2`) related to the incrementing calculations, possibly representing intermediate states or flags.\r\n*   **`fc_1`, `fc_2`**: Individual signals, which are components of the `ratio_up_clc` bus, output separately.\r\n\r\n## Logic Flow\r\n\r\nThe system's logic flow is divided into two primary, interconnected parts for decrementing and incrementing the flex fuel ratio detection factor.\r\n\r\n### **Logic Flow for Decrementing (Figure 4.8.11):**\r\n\r\n1.  **Lambda Threshold Comparison:**\r\n    *   The current `FAC_LAM_MV_MMV_AFU` is continuously compared against the calibration threshold `C_FAC_LAM_MV_MMV_AFU_THD_DOWN` using a \"less than\" operator (`<`). This checks if the engine is running richer than desired, signifying a need to decrease the `FAC_AFU_RATIO_LAMB` factor.\r\n\r\n2.  **Decrement Factor Selection:**\r\n    *   A switch block uses the result of the threshold comparison to select an appropriate decrement rate:\r\n        *   If `FAC_LAM_MV_MMV_AFU < C_FAC_LAM_MV_MMV_AFU_THD_DOWN` (meaning Lambda is too low), the system selects `C_FAC_I_AFU_RATIO_DOWN_FAST` for a rapid adjustment.\r\n        *   Otherwise, `C_FAC_I_AFU_RATIO_DOWN` (a slower, normal decrement rate) is selected.\r\n    *   The selected factor is then output as `FAC_I_AFU_RATIO_DOWN`.\r\n\r\n3.  **Ratio Factor Adjustment:**\r\n    *   The selected decrement factor (from step 2) is multiplied by `-1` and then by a scaling constant `0.0078125`. This converts the decrement factor into an actual negative delta value.\r\n    *   This negative delta is then added to the `FAC_AFU_RATIO_LAMB_in` (current ratio).\r\n    *   The diagram then shows a sequence of `min` and `+` blocks involving `FAC_AFU_RATIO_LAMB_in` and the calculated value. While the exact logic of these blocks is partially ambiguous without further block definitions, they likely implement:\r\n        *   **Saturation/Clamping:** The `min` block might ensure the factor does not drop below a defined minimum value.\r\n        *   **Quantization/Discrete Stepping:** The note \"Controller decreases at least 1 Hex\" suggests that the adjustment is applied in discrete steps, which these blocks might facilitate.\r\n    *   The final result of these operations is output as `FAC_AFU_RATIO_LAMB_out`.\r\n\r\n### **Logic Flow for Incrementing (Figure 4.8.12):**\r\n\r\n1.  **Input Preparation:**\r\n    *   Generic `input` and `feedback` signals pass through a subsystem `V. 6.1` (likely for pre-processing or buffering).\r\n    *   `FAC_LAM_MV_MMV_AFU`, `IDX_EX_CBK_LAMB`, and `FAC_AFU_RATIO_LAMB_in` are directly fed into the core calculation block.\r\n\r\n2.  **Core Calculation (`CLC_DOWN` Subsystem):**\r\n    *   A central subsystem, labelled `CLC_DOWN` (potentially a general \"calculate correction\" block despite the \"incrementing\" context), receives `FAC_LAM_MV_MMV_AFU`, `IDX_EX_CBK_LAMB`, and `FAC_AFU_RATIO_LAMB_in`.", "mimetype": "text/plain", "start_char_idx": 193459, "end_char_idx": 197295, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3910153a-0da1-4678-abef-ca2de7c9d0f5": {"__data__": {"id_": "3910153a-0da1-4678-abef-ca2de7c9d0f5", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "af73ac9a-99fe-4f7c-86fb-b18cc223d313", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "0749449f33a44fd1a0d0f7ac4f8983e4d7799d6529d3ae80777cefb7a5769966", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8f7cf1cc-9d3d-4e7f-bcea-1858ad6ea469", "node_type": "1", "metadata": {}, "hash": "5d16fa43bd6cb6e0e6df41329cff06d38aec38a3a7a83e4b7ccd191c7daa806a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "2.  **Core Calculation (`CLC_DOWN` Subsystem):**\r\n    *   A central subsystem, labelled `CLC_DOWN` (potentially a general \"calculate correction\" block despite the \"incrementing\" context), receives `FAC_LAM_MV_MMV_AFU`, `IDX_EX_CBK_LAMB`, and `FAC_AFU_RATIO_LAMB_in`.\r\n    *   Within this subsystem, complex logic (such as lookup tables, interpolation, or state-machine logic) determines the following outputs:\r\n        *   `FAC_I_AFU_RATIO_UP`: The factor for incrementing the ratio (e.g., if Lambda is too high, indicating a lean mixture).\r\n        *   `FAC_AFU_RATIO_UP`: Another factor related to the upward adjustment.\r\n        *   `FAC_AFU_RATIO_LAMB_out`: The output from the decrementing logic (Figure 4.8.11), suggesting an integration point or passing through of this value.\r\n        *   `FAC_AFU_RATIO_LAMB`: The final adjusted flex fuel ratio detection factor after this incrementing/overall correction logic.\r\n\r\n3.  **Output Bus Formation and Processing:**\r\n    *   `FAC_AFU_RATIO_UP` and `FAC_AFU_RATIO_LAMB_out` are combined using a `BusMerge` block to form a bus signal named `ratio_up_clc`.\r\n    *   This `ratio_up_clc` bus is then passed through another subsystem `V. 6.0`.\r\n    *   `V. 6.0` then outputs the `ratio_up_clc` bus again, along with its individual components, `fc_1` and `fc_2`, as separate outputs of the main diagram.\r\n    *   `FAC_I_AFU_RATIO_UP` and `FAC_AFU_RATIO_LAMB` are directly output from the `CLC_DOWN` subsystem.\r\n\r\nOverall, the system monitors Lambda and adjusts the `FAC_AFU_RATIO_LAMB` factor in a dual-directional manner to maintain accurate fuel composition estimation and optimize engine operation.\r\n\r\n\r\n--- Page 72 ---\r\n\r\nThis image contains multiple Simulink-style diagrams, not a single monolithic one. I will analyze each diagram presented as part of the overall system.\r\n\r\n## Function\r\n\r\nThe primary function of this system is to **detect and calculate a Lambda-based Alcohol Fuel Unit (AFU) ratio** for an engine management system, typically in a flex-fuel vehicle. This involves:\r\n1.  Dynamically adjusting the AFU ratio based on real-time Lambda measurements and predefined thresholds (Figure 4.8.13).\r\n2.  Potentially handling feedback or state updates for the ratio calculation (Figure 4.8.14).\r\n3.  Limiting the calculated AFU ratio to physically plausible minimum and maximum values defined by Fuel Tank Level (FTL) based AFU detection specifications (Figure 4.8.15).\r\nThe overall goal is to provide a robust and validated AFU ratio for subsequent fuel quantity adjustments.\r\n\r\n## Inputs\r\n\r\nThe system draws inputs from various sources and constants, which can be categorized as:\r\n\r\n**From Figure 4.8.13 (Dynamic Calculation):**\r\n*   `IDX_EX_CBK_LAMB`: An index or enable signal, likely controlling the activation or mode of Lambda feedback processing.\r\n*   `FAC_LAM_MV_MMV_AFU`: The measured or modeled Lambda value (air-fuel ratio equivalence ratio). This is a crucial real-time input.\r\n*   `C_FAC_I_AFU_RATIO_UP_FAST`: A constant or threshold defining a \"fast\" increment for the AFU ratio.\r\n*   `C_FAC_LAM_MV_AFU_THD_UP`: A constant or threshold for the Lambda value, used to trigger an increase in the AFU ratio.\r\n*   `C_FAC_I_AFU_RATIO_UP`: A constant or threshold defining a \"normal\" increment for the AFU ratio.\r\n*   `FAC_AFU_RATIO_LAMB_in`: The current or previous state of the Lambda-based AFU ratio, serving as an input for incremental updates.\r\n\r\n**From Figure 4.8.14 (Feedthrough Sequencing):**\r\n*   `feedback`: A general feedback signal, contextually `ratio_up_else_in`, used for state updates or simple signal passing.\r\n\r\n**From Figure 4.8.15 (Ratio Limitation):**\r\n*   `FAC_AFU_RATIO_LAMB_cur`: The current calculated Lambda-based AFU ratio *before* applying the hard limits. This is likely the output `FAC_AFU_RATIO_LAMB_out` from Figure 4.8.13 or an intermediate result from that calculation.\r\n*   `FAC_AFU_RATIO_FTL_MAX`: A constant representing the maximum permissible AFU ratio based on Fuel Tank Level (FTL) specifications.", "mimetype": "text/plain", "start_char_idx": 197029, "end_char_idx": 201034, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8f7cf1cc-9d3d-4e7f-bcea-1858ad6ea469": {"__data__": {"id_": "8f7cf1cc-9d3d-4e7f-bcea-1858ad6ea469", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3910153a-0da1-4678-abef-ca2de7c9d0f5", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "0569f3bdc7dd1f654703bec1180eccc144f9b85adfe57e7798b85ede8af0aa9e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "171a100e-53a3-4ac4-89aa-0ca68da8d682", "node_type": "1", "metadata": {}, "hash": "5a36657ab3547d945c5b0b96eb6cdf752dd5f7cb9617682ade9d64e535a419e8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This is likely the output `FAC_AFU_RATIO_LAMB_out` from Figure 4.8.13 or an intermediate result from that calculation.\r\n*   `FAC_AFU_RATIO_FTL_MAX`: A constant representing the maximum permissible AFU ratio based on Fuel Tank Level (FTL) specifications.\r\n*   `FAC_AFU_RATIO_FTL_MIN`: A constant representing the minimum permissible AFU ratio based on Fuel Tank Level (FTL) specifications.\r\n\r\n## Outputs\r\n\r\nThe system produces several outputs, both intermediate and final:\r\n\r\n**From Figure 4.8.13 (Dynamic Calculation):**\r\n*   `FAC_AFU_RATIO_UP`: An intermediate output, indicating a condition for the AFU ratio to increase and by what amount.\r\n*   `FAC_AFU_RATIO_LAMB_out`: The dynamically calculated Lambda-based AFU ratio before any explicit limiting to absolute min/max values.\r\n\r\n**From Figure 4.8.14 (Feedthrough Sequencing):**\r\n*   `ratio_up_else`: An intermediate state variable or signal resulting from the feedback processing.\r\n\r\n**From Figure 4.8.15 (Ratio Limitation):**\r\n*   `FAC_AFU_RATIO_LAMB`: The final, validated Lambda-based AFU ratio, clamped within the specified minimum and maximum limits. This is the primary output of the overall system for use in fuel control.\r\n\r\n## Logic Flow\r\n\r\nThe system's logic is distributed across three distinct diagrams, implying a sequence of operations or modular design:\r\n\r\n**1. Figure 4.8.13: Lambda based flex fuel ratio detection (Dynamic Ratio Calculation)**\r\n*   **Lambda Signal Processing:** The `IDX_EX_CBK_LAMB` signal, acting as an enable or selector, along with `FAC_LAM_MV_MMV_AFU` (the current Lambda value), are fed into a function block `f()`. The output of this `f()` block then updates a data store or internal signal also named `FAC_LAM_MV_MMV_AFU`. This initial stage likely conditions, filters, or selects the appropriate Lambda signal for further processing.\r\n*   **AFU Ratio Increase (Trigger `FAC_AFU_RATIO_UP`):**\r\n    1.  The `FAC_LAM_MV_MMV_AFU` signal is compared with the `C_FAC_LAM_MV_AFU_THD_UP` threshold using a \"greater than\" operator (>).\r\n    2.  The boolean result of this comparison is fed into a \"Check ~= 0\" block, which effectively converts a true/false (1/0) condition into a signal.\r\n    3.  This signal is then multiplied by `C_FAC_I_AFU_RATIO_UP` (a gain block). The result of this multiplication is `FAC_AFU_RATIO_UP`. This block essentially outputs `C_FAC_I_AFU_RATIO_UP` if Lambda exceeds the threshold, and 0 otherwise, signifying a need for the AFU ratio to increase.\r\n*   **AFU Ratio Calculation (`FAC_AFU_RATIO_LAMB_out`):**\r\n    1.  A more complex logic branch calculates `FAC_AFU_RATIO_LAMB_out`. It involves multiple inputs: `C_FAC_I_AFU_RATIO_UP_FAST`, `FAC_LAM_MV_MMV_AFU`, `C_FAC_LAM_MV_AFU_THD_UP`, and `C_FAC_I_AFU_RATIO_UP` (similar to the previous section but with more logic). These inputs feed into a complex decision/processing block (indicated by the various lines converging before the 'Controller' block).\r\n    2.  The signal `FAC_AFU_RATIO_LAMB_in` (representing the previous or initial value of the ratio) is fed into a block labeled \"Controller Increases at least 1 Hex\". This suggests an incremental controller or accumulator that updates the ratio based on a control logic. \"1 Hex\" often refers to a fixed-point unit increment (e.g., 1/65536).\r\n    3.  The output of this controller is scaled by a gain block with a value of `0.0078125`.\r\n    4.  The scaled value is then passed through a `max` block, which likely compares it against some minimum value (potentially 0 or a very small increment) to prevent unintended decreases or ensure a minimum positive adjustment. The final output of this section is `FAC_AFU_RATIO_LAMB_out`, representing the dynamically adjusted AFU ratio.\r\n\r\n**2.", "mimetype": "text/plain", "start_char_idx": 200781, "end_char_idx": 204492, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "171a100e-53a3-4ac4-89aa-0ca68da8d682": {"__data__": {"id_": "171a100e-53a3-4ac4-89aa-0ca68da8d682", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8f7cf1cc-9d3d-4e7f-bcea-1858ad6ea469", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "d9bc51b6a3ffa783de314ef1a4987e84526084f1e5efe8b91d2c11a3cabf5cc4", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "fa3b551c-4409-42ef-bb77-a3d06dc9946c", "node_type": "1", "metadata": {}, "hash": "2d0770e89ecd3f2094c0c0a88068ace216f402c40e8569e43cae568527745290", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "The output of this controller is scaled by a gain block with a value of `0.0078125`.\r\n    4.  The scaled value is then passed through a `max` block, which likely compares it against some minimum value (potentially 0 or a very small increment) to prevent unintended decreases or ensure a minimum positive adjustment. The final output of this section is `FAC_AFU_RATIO_LAMB_out`, representing the dynamically adjusted AFU ratio.\r\n\r\n**2. Figure 4.8.14: Feedthrough sequencing**\r\n*   This is a simple feedthrough path: the `feedback` signal (likely an input to this subsystem) is processed by a function block `f()` (which could be an identity function, a delay, or a lookup) and then output as `ratio_up_else`. This block might be used for managing state transitions, simple signal routing, or a unit delay within a larger control loop.\r\n\r\n**3. Figure 4.8.15: Limitation for FAC_AFU_RATIO_LAMB**\r\n*   **Upper Limit (Maximum) Clamping:**\r\n    1.  The calculated ratio `FAC_AFU_RATIO_LAMB_cur` (which is likely the `FAC_AFU_RATIO_LAMB_out` from Figure 4.8.13, or a further processed version) is fed into a `min` block along with the maximum limit `FAC_AFU_RATIO_FTL_MAX`.\r\n    2.  The output of this `min` block is `min(FAC_AFU_RATIO_LAMB_cur, FAC_AFU_RATIO_FTL_MAX)`. This ensures that the ratio does not exceed the specified maximum.\r\n*   **Lower Limit (Minimum) Clamping:**\r\n    1.  The result from the `min` block is then fed into a `max` block along with the minimum limit `FAC_AFU_RATIO_FTL_MIN`.\r\n    2.  The output of this `max` block is `max(min_result, FAC_AFU_RATIO_FTL_MIN)`. This ensures that the ratio does not fall below the specified minimum.\r\n*   **Final Output:** The value resulting from both clamping operations is assigned to `FAC_AFU_RATIO_LAMB`, which is the final, validated AFU ratio ready for integration into engine control strategies.\r\n\r\n\r\n--- Page 73 ---\r\n\r\nThis image contains multiple Simulink diagrams. The most complex and comprehensive diagram, labeled \"Figure 4.8.18: First increment of valid timer due to driving conditions and new fuel completely arrived,\" is the primary subject of this analysis, as it encompasses detailed logic relevant to the broader title \"ALFU. Lambda based flex fuel ratio detection.\" The other diagrams (Figures 4.8.16 and 4.8.17) appear to be generic timer building blocks, with Figure 4.8.17 representing the core incrementing timer used within Figure 4.8.18.\r\n\r\n## Function\r\n\r\nThis Simulink diagram's primary function is to determine and track the validity of a Lambda-based Air-Fuel Ratio (AFR) factor, specifically `FAC_AFU_RATIO_LAMB_cur`, based on various engine operating conditions and internal control states. It outputs a validated AFR factor and a corresponding timer that indicates how long this factor has been continuously valid. This is crucial for systems that adapt or learn based on AFR, ensuring that only reliable data is used.\r\n\r\n## Inputs\r\n\r\n1.  **`T_FAC_AFU_RATIO_LAMB_VLD_cur`**: The current value of the validity timer for the Lambda-based AFU ratio. This serves as both an input (initial/feedback) and an internal state.\r\n2.  **`FAC_AFU_RATIO_LAMB_cur`**: The instantaneous, calculated Lambda-based Air-Fuel Ratio factor.\r\n3.  **`MAF`**: Mass Air Flow sensor reading, indicating engine load or air intake.\r\n4.  **`CTR_FUEL_OIL`**: Counter or indicator related to fuel oil, potentially signifying fuel quality, composition, or contamination levels.\r\n5.  **`STATE_ALFU_CTL`**: The current operating state of the ALFU (Lambda-based flex fuel ratio detection) control system, likely from a state machine.\r\n6.  **`IP_FAC_AFU_RATIO_LAMB_VLD`**: An interpolation table or map used to derive a validity condition or threshold based on the timer `T_FAC_AFU_RATIO_LAMB_VLD_cur`.\r\n7.  **`IP_MAF_MIN_FAC_AFU_LAMB_VLD`**: An interpolation table or map that provides a minimum required MAF value, indexed by `CTR_FUEL_OIL`, for the AFU ratio to be considered valid.\r\n8.", "mimetype": "text/plain", "start_char_idx": 204058, "end_char_idx": 207997, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fa3b551c-4409-42ef-bb77-a3d06dc9946c": {"__data__": {"id_": "fa3b551c-4409-42ef-bb77-a3d06dc9946c", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "171a100e-53a3-4ac4-89aa-0ca68da8d682", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "0ee4a6023c537cb418dc3d7a4d002edafddba13f8aedb18cfd937cdb8418ecbc", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a978244b-b272-433a-8c29-1f760a8af7af", "node_type": "1", "metadata": {}, "hash": "09efa0b22bc81416e458fe3687288e8db1d83413654df20ae4041cba835f2d76", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**`IP_FAC_AFU_RATIO_LAMB_VLD`**: An interpolation table or map used to derive a validity condition or threshold based on the timer `T_FAC_AFU_RATIO_LAMB_VLD_cur`.\r\n7.  **`IP_MAF_MIN_FAC_AFU_LAMB_VLD`**: An interpolation table or map that provides a minimum required MAF value, indexed by `CTR_FUEL_OIL`, for the AFU ratio to be considered valid.\r\n8.  **`IP_FAC_AFU_RATIO_LAMB_VLD_out`**: An interpolation table or map used to derive a validity condition or value based on `STATE_ALFU_CTL` and `LEARN`.\r\n9.  **`LEARN`**: A constant value (here, '3') potentially representing a specific state or condition within the `STATE_ALFU_CTL` domain, possibly related to a learning phase.\r\n10. **Constants**: `0.1` (likely a time increment, e.g., 0.1 seconds per sample), `0` (used for comparison thresholds and reset values).\r\n\r\n## Outputs\r\n\r\n1.  **`T_FAC_AFU_RATIO_LAMB_VLD`**: The output validity timer for the Lambda-based AFU ratio. This value represents how long the `FAC_AFU_RATIO_LAMB_VLD` has been considered valid. It resets to `0` if conditions are not met.\r\n2.  **`FAC_AFU_RATIO_LAMB_VLD`**: The validated Lambda-based Air-Fuel Ratio factor. This output reflects `FAC_AFU_RATIO_LAMB_cur` only when validity conditions are met; otherwise, it is `0`.\r\n\r\n## Logic Flow\r\n\r\nThe system operates in a continuous manner, evaluating multiple conditions to gate the validity of the current Lambda-based AFR factor and its associated timer:\r\n\r\n1.  **Timer Increment (Top-Left):**\r\n    *   The input `T_FAC_AFU_RATIO_LAMB_VLD_cur` is incremented by `0.1`. This forms a discrete-time accumulating timer, effectively measuring elapsed time when conditions are met. This operation is analogous to the \"Incrementing delay timer\" shown in Figure 4.8.17.\r\n    *   This incremented timer value is then fed into an interpolation table `IP_FAC_AFU_RATIO_LAMB_VLD` to generate a condition or threshold (`IP_val`) related to the timer's duration.\r\n\r\n2.  **MAF Condition Check (Middle-Left):**\r\n    *   The `CTR_FUEL_OIL` value is used to look up a minimum required MAF (`y_val` from `IP_MAF_MIN_FAC_AFU_LAMB_VLD`). This dynamic threshold adjusts based on fuel oil conditions.\r\n    *   The current `MAF` reading is then compared against this minimum MAF (`MAF > IP_MAF_MIN_FAC_AFU_LAMB_VLD`). If `MAF` is greater, this condition is true.\r\n\r\n3.  **State-Dependent Condition Check (Bottom-Left/Middle):**\r\n    *   The `STATE_ALFU_CTL` and a constant `LEARN` value (`3`) are used as inputs to another interpolation table `IP_FAC_AFU_RATIO_LAMB_VLD_out`. This block determines a condition or flag (`IP_val`) based on the current ALFU control state, possibly indicating if the system is in a permissible state for validation (e.g., not in an error state or a specific learning phase).\r\n\r\n4.  **Combining Validity Conditions (Center):**\r\n    *   The `IP_val` from the timer interpolation, the boolean result of the MAF comparison, and the `IP_val` from the state-dependent interpolation are multiplexed (combined).\r\n    *   This combined signal (labeled \"Check\") is then evaluated (`Check ~= 0`). This means if *any* of the underlying conditions results in a non-zero value (implying 'true' or a specific state), the overall validity check is considered positive.\r\n\r\n5.  **Gated Outputs (Right):**\r\n    *   **Output Timer (`T_FAC_AFU_RATIO_LAMB_VLD`):** A `Switch` block uses the result of `Check ~= 0` to control the output.\r\n        *   If `Check ~= 0` (validity conditions met), the *incremented* timer value from step 1 is passed through as `T_FAC_AFU_RATIO_LAMB_VLD`.\r\n        *   If `Check == 0` (validity conditions not met), the timer is reset to `0`.", "mimetype": "text/plain", "start_char_idx": 207648, "end_char_idx": 211278, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a978244b-b272-433a-8c29-1f760a8af7af": {"__data__": {"id_": "a978244b-b272-433a-8c29-1f760a8af7af", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "fa3b551c-4409-42ef-bb77-a3d06dc9946c", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "06cb5179ed01ed32e50cf5176366f2e65cd9fae490b68d86d67099f5051d82ef", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3669dfb4-1f0b-4d40-86fc-06351a4ff71e", "node_type": "1", "metadata": {}, "hash": "d3291f54d7b2306c805361e719839e2a14bdb6341de1482f879d8de2355b4023", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   If `Check ~= 0` (validity conditions met), the *incremented* timer value from step 1 is passed through as `T_FAC_AFU_RATIO_LAMB_VLD`.\r\n        *   If `Check == 0` (validity conditions not met), the timer is reset to `0`.\r\n    *   **Output Validated AFR Factor (`FAC_AFU_RATIO_LAMB_VLD`):** Another `Switch` block, controlled by the same `Check ~= 0` condition, determines the output AFR factor.\r\n        *   If `Check ~= 0` (validity conditions met), the current `FAC_AFU_RATIO_LAMB_cur` is passed through as `FAC_AFU_RATIO_LAMB_VLD`.\r\n        *   If `Check == 0` (validity conditions not met), the validated AFR factor is reset to `0`.\r\n\r\nIn essence, the diagram ensures that both the Lambda-based AFU ratio and its associated validity timer are only propagated (and incremented, for the timer) when specific operational requirements (sufficient MAF, appropriate ALFU state, and timer-based conditions) are continuously met. If any of these conditions fail, both the validated ratio and its timer are immediately reset to zero, indicating that the current AFR data is not reliable for adaptive control or learning.\r\n\r\n\r\n--- Page 74 ---\r\n\r\n## Function\r\nThe primary function of this Simulink diagram (Figure 4.8.20) is to implement a conditional learning and update mechanism for an integral air-fuel ratio (Lambda) correction factor, `FAC_AFU_RATIO_LAMB`. It calculates and updates a long-term learned integral factor (`FAC_AFU_RATIO_LAMB_INT_out`) and a corresponding learning counter (`CTR_FAC_AFU_LAMB_INT_out`). The final output `FAC_AFU_RATIO_LAMB_out` is then selected between this learned integral factor and a current Lambda factor, based on a set of precise activation and validation conditions. This system essentially manages the adaptation (or \"learning\") of a fuel correction factor over time.\r\n\r\n## Inputs\r\n1.  **`FAC_AFU_RATIO_LAMB_INT_in`**: The input value for the integral Lambda ratio factor, often representing a previous learned state or a default.\r\n2.  **`FAC_AFU_RATIO_LAMB_cur`**: The current (short-term or immediate) Lambda ratio factor, likely derived from real-time measurements or a baseline calculation.\r\n3.  **`CTR_FAC_AFU_LAMB_INT_in`**: The input counter associated with the integral Lambda ratio factor, reflecting the duration or number of past learning opportunities.\r\n4.  **`LV_FAC_AFU_LAMB_ACT`**: A boolean flag indicating if the overall Lambda factor system is active.\r\n5.  **`LV_FAC_AFU_LAMB_CTL_ACT`**: A boolean flag indicating if the Lambda factor control is currently active. When true, it might inhibit certain learning updates.\r\n6.  **`C_FAC_AFU_LAMB_INT_TOL`**: A configuration constant representing a tolerance value used to define the update range for the integral Lambda factor.\r\n7.  **`C_FAC_AFU_LAMB_INT_BOL`**: A configuration constant representing a boundary offset low, used in conjunction with the tolerance to define the integral factor's update limits.\r\n8.  **`FAC_AFU_RATIO_LAMB_VLD`**: A signal indicating the validity or confidence level of the Lambda ratio for learning purposes.\r\n9.  **Constants**: Numerical constants such as `512` (likely a maximum count for the integral counter), `FFFFh` (a hexadecimal value, typically representing a maximum integer value for saturation), and `V. 6.0` (a numerical threshold used in comparisons, potentially a version-specific constant).\r\n\r\n## Outputs\r\n1.  **`FAC_AFU_RATIO_LAMB_INT_out`**: The updated integral Lambda ratio factor, clamped within specified boundaries if learning is active.\r\n2.  **`CTR_FAC_AFU_LAMB_INT_out`**: The updated counter for the integral Lambda ratio factor, incremented or reset based on learning conditions.\r\n3.  **`FAC_AFU_RATIO_LAMB_out`**: The final output Lambda ratio factor, which is conditionally selected between the updated integral factor (`FAC_AFU_RATIO_LAMB_INT_out`) and the current factor (`FAC_AFU_RATIO_LAMB_cur`).\r\n\r\n## Logic Flow\r\n\r\n1.", "mimetype": "text/plain", "start_char_idx": 211054, "end_char_idx": 214944, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3669dfb4-1f0b-4d40-86fc-06351a4ff71e": {"__data__": {"id_": "3669dfb4-1f0b-4d40-86fc-06351a4ff71e", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a978244b-b272-433a-8c29-1f760a8af7af", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "d0967aced19cf5088cec65b2cd3667b4b0c2716e7a2ce6ac290314371631f31a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "22012782-ed8f-4649-835f-663225c86563", "node_type": "1", "metadata": {}, "hash": "ad9f8b2a09d0e25a3c13879bd42b4fc4251231cfb360d77bfc45404b58cf3a0b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "2.  **`CTR_FAC_AFU_LAMB_INT_out`**: The updated counter for the integral Lambda ratio factor, incremented or reset based on learning conditions.\r\n3.  **`FAC_AFU_RATIO_LAMB_out`**: The final output Lambda ratio factor, which is conditionally selected between the updated integral factor (`FAC_AFU_RATIO_LAMB_INT_out`) and the current factor (`FAC_AFU_RATIO_LAMB_cur`).\r\n\r\n## Logic Flow\r\n\r\n1.  **Initial Pre-processing (f() block):**\r\n    *   An initial `f()` block receives `FAC_AFU_RATIO_LAMB_INT_in`, `FAC_AFU_RATIO_LAMB_cur`, `CTR_FAC_AFU_LAMB_INT_in`, `LV_FAC_AFU_LAMB_ACT`, `LV_FAC_AFU_LAMB_CTL_ACT`, and `FAC_AFU_RATIO_LAMB_VLD`.\r\n    *   This block outputs potentially processed versions of these inputs, including `FAC_AFU_RATIO_LAMB_in`, `CTR_FAC_AFU_LAMB_INT_cur` (the current counter value), `FAC_AFU_RATIO_LAMB_cur`, and `FAC_AFU_RATIO_LAMB_VLD`. Its exact internal logic is not shown, but it prepares signals for the downstream decision-making.\r\n\r\n2.  **Determine Primary Learning Enable Condition:**\r\n    *   A boolean signal, `Learning_Enable_Condition`, is calculated: `LV_FAC_AFU_LAMB_ACT AND (NOT LV_FAC_AFU_LAMB_CTL_ACT)`. This means the learning process can proceed only if the Lambda system is active, but not under active control.\r\n\r\n3.  **Generate Full Learning Condition (`fc_1`):**\r\n    *   `fc_1` is derived by combining `Learning_Enable_Condition` with the `FAC_AFU_RATIO_LAMB_VLD` signal using an `AND` gate: `fc_1 = Learning_Enable_Condition AND FAC_AFU_RATIO_LAMB_VLD`. This signal governs the updates of the integral factor and counter.\r\n\r\n4.  **Integral Counter Update Logic (`CTR_FAC_AFU_LAMB_INT_out`):**\r\n    *   A `Check ~= 0` (multiport switch) controlled by `fc_1` determines the `CTR_FAC_AFU_LAMB_INT_out`.\r\n    *   **If `fc_1` is true (learning enabled and valid):**\r\n        *   The internal counter (`CTR_FAC_AFU_LAMB_INT_cur`) is checked. If it's less than `512`, it is incremented by 1.\r\n        *   Otherwise (if `CTR_FAC_AFU_LAMB_INT_cur >= 512`), it is saturated to `FFFFh`.\r\n        *   This updated value is output as `CTR_FAC_AFU_LAMB_INT_out`.\r\n    *   **If `fc_1` is false (learning not enabled or not valid):**\r\n        *   `CTR_FAC_AFU_LAMB_INT_out` is reset to `0`.\r\n\r\n5.  **Integral Factor Range Clamping and Update Logic (`FAC_AFU_RATIO_LAMB_INT_out`):**\r\n    *   Another `Check ~= 0` switch, also controlled by `fc_1`, determines `FAC_AFU_RATIO_LAMB_INT_out`.\r\n    *   **If `fc_1` is true:**\r\n        *   A `Min_Boundary` is calculated: `FAC_AFU_RATIO_LAMB_cur - C_FAC_AFU_LAMB_INT_TOL - C_FAC_AFU_LAMB_INT_BOL`.\r\n        *   A `Max_Boundary` is calculated: `FAC_AFU_RATIO_LAMB_cur + C_FAC_AFU_LAMB_INT_TOL + C_FAC_AFU_LAMB_INT_BOL`.\r\n        *   The input `FAC_AFU_RATIO_LAMB_in` (from the `f()` block) is then clamped between `Min_Boundary` and `Max_Boundary` using a Max/Min block. This clamped value is output as `FAC_AFU_RATIO_LAMB_INT_out`.\r\n    *   **If `fc_1` is false:**\r\n        *   `FAC_AFU_RATIO_LAMB_INT_out` is set to `FAC_AFU_RATIO_LAMB_cur`, meaning the integral factor is not updated and simply mirrors the current factor.\r\n\r\n6.  **Generate Final Output Condition (`fc_2`):**\r\n    *   `fc_2` is generated by an `AND` operation: `fc_1` AND (`CTR_FAC_AFU_LAMB_INT_cur > 0`) AND (`FAC_AFU_RATIO_LAMB_VLD >= V. 6.0`).", "mimetype": "text/plain", "start_char_idx": 214554, "end_char_idx": 217841, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "22012782-ed8f-4649-835f-663225c86563": {"__data__": {"id_": "22012782-ed8f-4649-835f-663225c86563", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3669dfb4-1f0b-4d40-86fc-06351a4ff71e", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "3015bc6b97102ab4fcc2ffe987cd77d91d8dce637e19cc40c777ecd0b5a11d8b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4f2ebf35-1eb9-48a0-8a8f-c74873a6cbc7", "node_type": "1", "metadata": {}, "hash": "8aa2efd50cecb2ec8742b567df44cc2939254001ea47efa9fae50fca7e105497", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "6.  **Generate Final Output Condition (`fc_2`):**\r\n    *   `fc_2` is generated by an `AND` operation: `fc_1` AND (`CTR_FAC_AFU_LAMB_INT_cur > 0`) AND (`FAC_AFU_RATIO_LAMB_VLD >= V. 6.0`). This condition ensures that the learned integral factor is used only if learning was active, the counter has accumulated some value, and the validity signal meets a specific threshold.\r\n\r\n7.  **Final Output Determination (`FAC_AFU_RATIO_LAMB_out`):**\r\n    *   A final `Check ~= 0` switch, controlled by `fc_2`, determines the ultimate `FAC_AFU_RATIO_LAMB_out`.\r\n    *   **If `fc_2` is true (all conditions for applying the learned factor are met):**\r\n        *   `FAC_AFU_RATIO_LAMB_out` is set to `FAC_AFU_RATIO_LAMB_INT_out` (the updated integral factor).\r\n    *   **If `fc_2` is false (conditions for applying learned factor not met):**\r\n        *   `FAC_AFU_RATIO_LAMB_out` is set to `FAC_AFU_RATIO_LAMB_cur` (the current factor, bypassing the learned integral value).\r\n\r\n\r\n--- Page 75 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram's primary function is to compute and manage a validity timer, `T_FAC_AFU_RATIO_LAMB_VLD_out`, which measures the continuous duration for which a set of specific operational and validity criteria related to the Air-Fuel Ratio (AFU) lambda detection are met. It essentially determines if the system conditions are \"valid\" for a sustained period, incrementing the timer when conditions are met, and resetting it otherwise. This is crucial in automotive control systems, especially for learning or adaptation processes that require stable and valid operating points.\r\n\r\n## Inputs\r\n\r\n*   **`STATE_ALFU_CTL`**: Discrete value representing the current state of the ALFU (Adaptive Lambda Flex-Fuel Unit) control.\r\n*   **`VLD_LEARN`**: Discrete value indicating the validation state for learning.\r\n*   **`LV_CP_CLOSE_ACT`**: Boolean flag, typically true if the closed-loop control for lambda is active.\r\n*   **`LV_FAC_AFU_LAMB_CTL_ACT`**: Boolean flag, true if the lambda controller for AFU ratio is active.\r\n*   **`FAC_AFU_RATIO_LAMB`**: Analog value representing the current AFU lambda ratio.\r\n*   **`FAC_AFU_RATIO_FTL_MIN`**: Analog value, minimum fault tolerance limit for the AFU ratio lambda.\r\n*   **`LC_FAC_AFU_RATIO_LAMB_LIM`**: Analog value, a limit value used for comparison with AFU ratio lambda.\r\n*   **`FAC_LAM_MV_MMV_AFU`**: Analog value, a measured or monitored variable related to AFU lambda.\r\n*   **`FAC_AFU_RATIO_FTL_MAX`**: Analog value, maximum fault tolerance limit for the AFU ratio lambda.\r\n*   **`IDX_EX_OBK_LAMB`**: Boolean or discrete index, typically used to select a specific operating mode or condition for exhaust lambda (e.g., bypass or direct).\r\n*   **`LV_FAC_AFU_LAMB_OIL_COLD`**: Boolean flag, true if the AFU lambda system is operating under cold oil conditions.\r\n*   **`T_FAC_AFU_RATIO_LAMB_VLD_in`**: The previous (or current state) integer value of the validity timer, used as input for incrementing.\r\n*   **`C_T_FAC_AFU_RATIO_OIL_COLD_MAX`**: Integer constant, the maximum allowed timer value during cold oil conditions.\r\n\r\n## Outputs\r\n\r\n*   **`T_FAC_AFU_RATIO_LAMB_VLD_out`**: Integer value, the current (updated) value of the AFU ratio lambda validity timer. This timer counts up when conditions are met and resets to zero otherwise.\r\n\r\n## Logic Flow\r\n\r\nThe diagram calculates a boolean condition (`[cond]`) based on various inputs. This `[cond]` signal then controls whether the output timer `T_FAC_AFU_RATIO_LAMB_VLD_out` increments or resets.\r\n\r\n1.  **ALFU State and Control Activation Check (Upper Branch):**\r\n    *   This section checks four conditions:\r\n        *   `STATE_ALFU_CTL` equals 4.\r\n        *   `VLD_LEARN` equals 5.\r\n        *   `LV_CP_CLOSE_ACT` is NOT active (i.e., false).\r\n        *   `LV_FAC_AFU_LAMB_CTL_ACT` is active (true).", "mimetype": "text/plain", "start_char_idx": 217654, "end_char_idx": 221458, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4f2ebf35-1eb9-48a0-8a8f-c74873a6cbc7": {"__data__": {"id_": "4f2ebf35-1eb9-48a0-8a8f-c74873a6cbc7", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "22012782-ed8f-4649-835f-663225c86563", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "615c3a1ed0a55d038681a8a662331395f31c528864ef782daafd52858143dbe6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1ced94c9-c261-4b54-933a-541117381fa5", "node_type": "1", "metadata": {}, "hash": "319d5ff357eda18ba7aa3ec7398d0b8ab9449a411fbb6e118e896920e0844024", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "1.  **ALFU State and Control Activation Check (Upper Branch):**\r\n    *   This section checks four conditions:\r\n        *   `STATE_ALFU_CTL` equals 4.\r\n        *   `VLD_LEARN` equals 5.\r\n        *   `LV_CP_CLOSE_ACT` is NOT active (i.e., false).\r\n        *   `LV_FAC_AFU_LAMB_CTL_ACT` is active (true).\r\n    *   All four conditions are combined with an AND gate. The result of this AND gate is a part of the overall validity criteria.\r\n\r\n2.  **AFU Ratio Lower Limit Check (Middle Branch):**\r\n    *   This branch evaluates conditions related to the lower bounds of `FAC_AFU_RATIO_LAMB` and `FAC_LAM_MV_MMV_AFU`.\r\n    *   It checks if `FAC_AFU_RATIO_LAMB` is 0 OR `FAC_AFU_RATIO_LAMB` is equal to `FAC_AFU_RATIO_FTL_MIN`.\r\n    *   It also checks if `FAC_AFU_RATIO_LAMB` is less than `LC_FAC_AFU_RATIO_LAMB_LIM`.\r\n    *   It checks if `FAC_LAM_MV_MMV_AFU` is less than 0.\r\n    *   These sub-conditions are combined using AND/OR gates. The result is then AND'ed with `LV_FAC_AFU_LAMB_CTL_ACT`, forming a composite lower limit validity check.\r\n\r\n3.  **AFU Ratio Upper Limit Check (Lower Branch):**\r\n    *   Similar to the lower limit check, this branch evaluates conditions related to the upper bounds.\r\n    *   It checks if `FAC_AFU_RATIO_LAMB` is 1 OR `FAC_AFU_RATIO_LAMB` is equal to `FAC_AFU_RATIO_FTL_MAX`.\r\n    *   It also checks if `FAC_AFU_RATIO_LAMB` is greater than `LC_FAC_AFU_RATIO_LAMB_LIM`.\r\n    *   It checks if `FAC_LAM_MV_MMV_AFU` is greater than 0.\r\n    *   These sub-conditions are combined using AND/OR gates. The result is then AND'ed with `LV_FAC_AFU_LAMB_CTL_ACT`, forming a composite upper limit validity check.\r\n\r\n4.  **Combined Lambda Ratio Validity & Overall ALFU Pre-Condition:**\r\n    *   The results from the `AFU Ratio Lower Limit Check` and `AFU Ratio Upper Limit Check` are combined with an OR gate. This means if either the lower or upper limits (or their sub-conditions) are met, this part of the condition is true.\r\n    *   This result is then OR'ed with the output from the `ALFU State and Control Activation Check`. This yields an overall pre-condition for the timer logic.\r\n\r\n5.  **Oil Cold Condition Check:**\r\n    *   This section checks two conditions:\r\n        *   `LV_FAC_AFU_LAMB_OIL_COLD` is true.\r\n        *   The current timer value `T_FAC_AFU_RATIO_LAMB_VLD_in` is less than or equal to `C_T_FAC_AFU_RATIO_OIL_COLD_MAX`.\r\n    *   These two conditions are combined with an AND gate.\r\n\r\n6.  **Final Timer Increment Condition (`[cond]`):**\r\n    *   The result from the `Combined Lambda Ratio Validity & Overall ALFU Pre-Condition` and the result from the `Oil Cold Condition Check` are combined using a final AND gate. This output is the critical `[cond]` signal.\r\n\r\n7.  **Timer Operation (Right-most section):**\r\n    *   The `[cond]` signal acts as the control input for a switch block.\r\n    *   If `[cond]` is true (indicated by `Check ~= 0`), the timer increments: `T_FAC_AFU_RATIO_LAMB_VLD_in` is fed into a Sum block where 1 is added, and this incremented value is passed through the switch.\r\n    *   If `[cond]` is false (indicated by `Check == 0`), the timer resets: a constant 0 value is passed through the switch.\r\n    *   The output of this switch is then assigned to `T_FAC_AFU_RATIO_LAMB_VLD_out`, which typically represents the next discrete time step's timer value.\r\n\r\n8.  **`FAC_LAM_MV_MMV_AFU` Conditioning (Parallel path):**\r\n    *   Separately, a switch block is controlled by `IDX_EX_OBK_LAMB`.", "mimetype": "text/plain", "start_char_idx": 221157, "end_char_idx": 224608, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1ced94c9-c261-4b54-933a-541117381fa5": {"__data__": {"id_": "1ced94c9-c261-4b54-933a-541117381fa5", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4f2ebf35-1eb9-48a0-8a8f-c74873a6cbc7", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "6b63a297e440a4ae43e57fd998eb78d0b016105b5a3fbeb695ab3a52afa6b0af", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "adc53055-4755-434f-b770-971684c1064c", "node_type": "1", "metadata": {}, "hash": "f90ba309ac3e6ba9fc3e5ff7f331108927ef7d71180fd0b35f06c4e7ec1d8859", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The output of this switch is then assigned to `T_FAC_AFU_RATIO_LAMB_VLD_out`, which typically represents the next discrete time step's timer value.\r\n\r\n8.  **`FAC_LAM_MV_MMV_AFU` Conditioning (Parallel path):**\r\n    *   Separately, a switch block is controlled by `IDX_EX_OBK_LAMB`.\r\n    *   If `IDX_EX_OBK_LAMB` is true, the input `FAC_LAM_MV_MMV_AFU` is passed through.\r\n    *   If `IDX_EX_OBK_LAMB` is false, a constant 0 is passed through.\r\n    *   The output of this switch then feeds into another block also labeled `[FAC_LAM_MV_MMV_AFU]`, which appears to be a stateful or processing block for this signal, potentially to condition it for further use in the system (though its direct influence on `T_FAC_AFU_RATIO_LAMB_VLD_out` is via the conditional checks, not directly from this output).\r\n\r\n\r\n--- Page 76 ---\r\n\r\n## Function\r\n\r\nThe primary function of these Simulink diagrams is to manage the activation, deactivation, and validity status of Lambda-related parameters within an \"ALFU\" (Lambda based flex fuel ratio detection) system in an automotive application. This involves implementing sequences for normal operational control, handling specific reset conditions, and explicitly resetting the validity flags of calculated or sensed Lambda values.\r\n\r\n## Inputs\r\n\r\n*   **`f()` (multiple instances):** Function call or event triggers, enabling specific sub-processes or blocks.\r\n*   **`[fc_1]`, `[fc_2]`:** Functional control signals or flags, likely representing conditions or requests for Lambda activation.\r\n*   **`feedback` (multiple instances):** A feedback signal or event, used to determine the execution path or trigger an action in different parts of the system.\r\n*   **`FAC_AFU_RATIO_LAMB`:** A calculated or measured factor related to the Air-Fuel Ratio (AFU) Lambda.\r\n\r\n## Outputs\r\n\r\n*   **`LV_FAC_AFU_RATIO_LAMB_ACT`:** A boolean flag indicating the activation state of the Lambda ratio factor.\r\n*   **`LV_FAC_AFU_LAMB_CTL_ACT`:** A boolean flag indicating the activation state of the Lambda control.\r\n*   **`RST_LAMB_ACT`:** An internal signal or computed value related to resetting Lambda activation (indicated within a block, not an explicit port in the top-level diagram, but part of the logical outcome).\r\n*   **`clc_else`:** A merged bus of signals, likely representing the conditional state of various Lambda activation flags, intended for further processing or routing in the system.\r\n*   **`rstvldlamb`:** A bus containing several parameters that have been reset or marked as invalid. This bus includes:\r\n    *   `FAC_AFU_RATIO_LAMB_OLD` (Old value of the Lambda ratio factor)\r\n    *   `T_FAC_AFU_RATIO_LAMB_VLD` (Time-based validity flag for the Lambda ratio factor)\r\n    *   `FAC_AFU_RATIO_LAMB_VLD` (General validity flag for the Lambda ratio factor)\r\n    *   `LV_FAC_AFU_LAMB_VLD` (Validity flag for the Lambda control)\r\n\r\n## Logic Flow\r\n\r\nThe overall logic flow is structured into three main components, each addressing a specific aspect of Lambda parameter management:\r\n\r\n1.  **Sequence to reset Lambda activation (Figure 4.8.23):**\r\n    *   This block handles the primary sequence for activating or deactivating Lambda control variables.\r\n    *   It receives trigger inputs (`f()`, `[fc_1]`, `[fc_2]`) and a `feedback` signal.\r\n    *   A multiplexer or conditional logic, indicated by the triangular blocks and version numbers (V. 6.1, V. 6.0), selects between different signal paths based on the inputs.\r\n    *   The subsystem sets the `LV_FAC_AFU_RATIO_LAMB_ACT` and `LV_FAC_AFU_LAMB_CTL_ACT` flags, potentially involving memory elements to maintain state. The `RST_LAMB_ACT` label within a block suggests a reset action is part of this sequence.\r\n    *   The activation flags, along with `clc_else` signals, are then combined into a bus by the `BusMerge` block, likely for onward transmission or further conditional processing.\r\n\r\n2.  **Reset Lambda based detection actuation (Figure 4.8.24):**\r\n    *   This component represents a specific condition where the Lambda-based AFU detection algorithm is explicitly inactive.", "mimetype": "text/plain", "start_char_idx": 224323, "end_char_idx": 228389, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "adc53055-4755-434f-b770-971684c1064c": {"__data__": {"id_": "adc53055-4755-434f-b770-971684c1064c", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1ced94c9-c261-4b54-933a-541117381fa5", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "360773606aa7695f9e70f5291b6246e17d897a67884753189df8beb3b41cb332", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a49ced47-3bad-4b22-a511-75d96dda51fb", "node_type": "1", "metadata": {}, "hash": "db177bce451935895b4a35f4f57f5060880e1437e2c3f22d2b1145f6cbdaf362", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The activation flags, along with `clc_else` signals, are then combined into a bus by the `BusMerge` block, likely for onward transmission or further conditional processing.\r\n\r\n2.  **Reset Lambda based detection actuation (Figure 4.8.24):**\r\n    *   This component represents a specific condition where the Lambda-based AFU detection algorithm is explicitly inactive.\r\n    *   Triggered by an `f()` input (indicating the state or event for this reset), this block unconditionally sets both `LV_FAC_AFU_RATIO_LAMB_ACT` and `LV_FAC_AFU_LAMB_CTL_ACT` to `0` (inactive state).\r\n    *   This ensures that the Lambda activation flags are reset to a default inactive state when the associated detection algorithm is not running, preventing erroneous activation.\r\n\r\n3.  **ACTION_ALFU_RstVldLamb (Figure 4.8.25):**\r\n    *   This block is an \"ActionExport\" block, typically used in Stateflow or triggered subsystems, to perform an explicit reset of the validity flags for various Lambda-related parameters.\r\n    *   It is triggered by a `feedback` signal and receives `FAC_AFU_RATIO_LAMB` as an input.\r\n    *   Upon activation (triggered by the `feedback` signal), the internal logic within \"ACTIONDEF_ALFU_RstVldLamb\" sets the validity flags (`T_FAC_AFU_RATIO_LAMB_VLD`, `FAC_AFU_RATIO_LAMB_VLD`, `LV_FAC_AFU_LAMB_VLD`) to an invalid state (e.g., `false` or `0`) and potentially resets `FAC_AFU_RATIO_LAMB_OLD`.\r\n    *   These invalidated parameters are then grouped into an output bus named `rstvldlamb`, making their invalid status available to other parts of the control system that consume these values.\r\n\r\nCollectively, these diagrams define a robust control strategy for managing the operational state and data integrity of Lambda parameters essential for flex fuel ratio detection, incorporating normal activation logic, specific default resets, and explicit validity invalidation actions.\r\n\r\n\r\n--- Page 77 ---\r\n\r\nThis image contains two Simulink-style diagrams (Figure 4.8.26 and Figure 4.8.27) which describe an automotive control logic related to Lambda (air-fuel ratio) validity management. The blocks, signal lines, and labeling conventions are characteristic of Simulink/Stateflow models used in embedded control systems development.\r\n\r\n## Function\r\n\r\nThe primary function of this system is to manage and reset/update various validity flags and values associated with the air-fuel ratio (Lambda) within a flex-fuel detection system (as indicated by \"ALFU. Lambda based flex fuel ratio detection\"). Specifically, it captures the current lambda ratio as an \"old\" value, resets a lambda validity timer/counter, calculates a new primary lambda validity status based on a lookup table, and evaluates a lower validity limit for the lambda factor. This set of operations seems to be triggered as an \"Action\" (ACTION_ALFU_RstVldLamb), likely to re-initialize or re-evaluate validity states.\r\n\r\n## Inputs\r\n\r\nBased on the combined information from both figures:\r\n\r\n*   **Trigger signal (`f()`):** An event or signal that initiates the \"Calculation of RstVldLamb\" subsystem.\r\n*   **Action Import:** A signal or data input to the triggered subsystem, potentially carrying context or data for the action.\r\n*   **`FAC_AFU_RATIO_LAMB`:** The current air-fuel ratio lambda factor.\r\n*   **`C_FAC_AFU_RATIO_LAMB_VLD_DEAC`:** A constant or parameter representing a deactivation threshold for the lambda validity.\r\n*   **Constant `0`:** A numerical constant used in the calculation flow.\r\n\r\n## Outputs\r\n\r\nBased on the combined information from both figures:\r\n\r\n*   **`FAC_AFU_RATIO_LAMB_OLD`:** The previous (or captured) value of the `FAC_AFU_RATIO_LAMB` at the time the action is triggered.\r\n*   **`T_FAC_AFU_RATIO_LAMB_VLD`:** A timer or counter variable indicating the validity duration for the lambda factor, which is explicitly reset to `0` by this action.\r\n*   **`FAC_AFU_RATIO_LAMB_VLD`:** The primary validity status or level for the lambda factor, calculated based on a lookup table during this action.\r\n*   **`LV_FAC_AFU_RATIO_LAMB_VLD`:** A boolean flag (level/limit validity) indicating whether `FAC_AFU_RATIO_LAMB_VLD` is at or above a specified deactivation threshold.", "mimetype": "text/plain", "start_char_idx": 228019, "end_char_idx": 232189, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a49ced47-3bad-4b22-a511-75d96dda51fb": {"__data__": {"id_": "a49ced47-3bad-4b22-a511-75d96dda51fb", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "adc53055-4755-434f-b770-971684c1064c", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "f054272118085935a132c07932f995ef1fdc890323c4904bec9e80ee588f1b00", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b91d4856-cd94-4093-9d14-9c8f24b24a77", "node_type": "1", "metadata": {}, "hash": "9ca3079c5f2a07200b81b3aa49cbef85097de4a91a6a8c7d99c1be9a2fd9b54d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **`FAC_AFU_RATIO_LAMB_VLD`:** The primary validity status or level for the lambda factor, calculated based on a lookup table during this action.\r\n*   **`LV_FAC_AFU_RATIO_LAMB_VLD`:** A boolean flag (level/limit validity) indicating whether `FAC_AFU_RATIO_LAMB_VLD` is at or above a specified deactivation threshold.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be described by combining the overarching action defined in Figure 4.8.26 with its detailed calculation in Figure 4.8.27:\r\n\r\n1.  **Action Initiation (Figure 4.8.26):** The `ACTION_ALFU_RstVldLamb` (Reset Validity Lambda Action) is initiated. This action is likely controlled by an `ACTION_CREATOR` and `Aggregate Local` conditions, potentially within a Stateflow chart. An `ActionImport` signal is also brought into the system.\r\n2.  **Triggered Calculation (Figure 4.8.27):** An explicit trigger signal (`f()`) or the initiation of the action itself activates the \"Calculation of RstVldLamb\" subsystem. The `ActionImport` signal is passed through an \"In^check scope\" block, suggesting an internal processing or validation step upon trigger.\r\n3.  **Capture Old Lambda Ratio:** The current value of `FAC_AFU_RATIO_LAMB` is taken and passed through a gain block (V.6.1, which appears to be a pass-through gain of 1.0 or similar) to become the output `FAC_AFU_RATIO_LAMB_OLD`. This step effectively records the lambda ratio value at the moment the reset/update action occurs.\r\n4.  **Reset Validity Timer/Counter:** A constant value of `0` (V.6.4) is passed through another gain block (V.6.1) and assigned to `T_FAC_AFU_RATIO_LAMB_VLD`. This ensures that the timer/counter for lambda validity is reset to its initial state.\r\n5.  **Calculate Primary Lambda Validity:**\r\n    *   The `0` constant is also used as an input (`x_val`) to a 1D lookup table named `IP_FAC_AFU_RATIO_LAMB_VLD`.\r\n    *   The output (`IP_val`) from this lookup table is then assigned to `FAC_AFU_RATIO_LAMB_VLD`. This means that `FAC_AFU_RATIO_LAMB_VLD` is set to a predefined value from the lookup table, based on the initial `0` input, effectively providing an initial or default validity state.\r\n6.  **Evaluate Lower Validity Limit:**\r\n    *   The calculated `FAC_AFU_RATIO_LAMB_VLD` value (`IP_val` from the lookup table) is compared against the constant `C_FAC_AFU_RATIO_LAMB_VLD_DEAC` using a \"greater than or equal to\" (`>=`) comparison block (V.6.0).\r\n    *   The boolean result of this comparison is assigned to `LV_FAC_AFU_RATIO_LAMB_VLD`. This flag indicates whether the current lambda validity value has reached a condition that might lead to deactivation or signifies it's above a critical lower limit.\r\n7.  **Output Export (Figure 4.8.26):** The calculated values (`FAC_AFU_RATIO_LAMB_OLD`, `T_FAC_AFU_RATIO_LAMB_VLD`, `FAC_AFU_RATIO_LAMB_VLD`, and `LV_FAC_AFU_RATIO_LAMB_VLD`) are then exported from the `ACTION_ALFU_RstVldLamb` action via \"ActionExport\" blocks, making them available to other parts of the system. `ACTION_ALFU_RstVldLamb_T2` also represents an export, possibly a status or event signal related to the action's execution.\r\n\r\n\r\n--- Page 79 ---\r\n\r\nThis image is a Simulink-style diagram, specifically displaying two related blocks of a larger system.\r\n\r\n## Function\r\nThe primary function of this Simulink model is to manage and initialize parameters for a lambda-based flex-fuel ratio detection system, as indicated by the title \"ALFU. Lambda based flex fuel ratio detection (Appl. Inc.)\". It executes periodically (every 100ms) to process sensor inputs and configuration data, producing key outputs related to lambda values and an inhibition factor. A critical component is its robust initialization routine that utilizes Non-Volatile Memory (NVM) to preserve and retrieve certain operational states (`IDX_EX_CBK_LAMB`) across system resets or power cycles.", "mimetype": "text/plain", "start_char_idx": 231870, "end_char_idx": 235686, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b91d4856-cd94-4093-9d14-9c8f24b24a77": {"__data__": {"id_": "b91d4856-cd94-4093-9d14-9c8f24b24a77", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a49ced47-3bad-4b22-a511-75d96dda51fb", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "a9134ada8af819ced3fb07f0dc78c13e88b769f6256459d660c78000d273298a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "bb4cb7a8-0d9e-4521-aaef-1566508b239b", "node_type": "1", "metadata": {}, "hash": "cd7856fce150a8a263366834befd04d598488a2b70f5971795ef7ae6d5e1ea6b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Lambda based flex fuel ratio detection (Appl. Inc.)\". It executes periodically (every 100ms) to process sensor inputs and configuration data, producing key outputs related to lambda values and an inhibition factor. A critical component is its robust initialization routine that utilizes Non-Volatile Memory (NVM) to preserve and retrieve certain operational states (`IDX_EX_CBK_LAMB`) across system resets or power cycles.\r\n\r\n## Inputs\r\nBased on both Figure 4.91 (Main Operation) and Figure 4.9.2 (Initialization):\r\n\r\n*   **`fc_INI` (Initialization Event):** A control signal that triggers the initialization logic, encompassing various reset and NVM-related events.\r\n*   **`feedback` (IDX_EX_CBK_LAMB):** A feedback signal representing the current or last calculated `IDX_EX_CBK_LAMB` from the main operational loop. This is crucial for NVM storage and initial state setting.\r\n*   **`NC_STATE_AFU_SENS_CONF` (AFU Sensor Configuration State):** A status or configuration input related to the Air-Fuel-Unit sensor.\r\n*   **`LC_FAC_AFU_RATIO_CONF` (AFU Ratio Configuration Factor):** A configurable factor influencing the Air-Fuel-Unit ratio calculation.\r\n*   **`ACTION_FARM_GetPermission_T3` (Permission Signal):** A signal likely indicating permission to execute certain functionalities or enter specific operational modes.\r\n*   **Control Signals for Initialization (Implicit via `fc_INI`):** These signals, such as `<fc_RST>` (Reset), `<fc_ESZERU>` (Emergency Zero), `<fc_NVMINI>` (NVM Initialization), `<fc_NVMRES>` (NVM Reset), and `<fc_NVMISTO>` (NVM In Store), define the specific type of initialization or NVM operation to be performed.\r\n\r\n## Outputs\r\nBased on both Figure 4.91 (Main Operation) and Figure 4.9.2 (Initialization):\r\n\r\n*   **`IDX_EX_CBK_LAMB` (Lambda Callback Index):** An index value that represents a key state or result from the lambda detection process. This is both an output and an internal feedback signal.\r\n*   **`LV_INH_FAC_AFU_RATIO_LAMB` (Lambda Inhibition Factor for AFU Ratio):** A factor that likely inhibits or modifies the operation of the Air-Fuel-Unit based on the detected lambda conditions.\r\n*   **`fc_OPM_100MS` (Operational 100ms Signal):** An internal signal generated by the recurrence block, indicating the periodic execution of the main operational logic.\r\n*   **`ini` (Initialization Output):** The combined output of the initialization process, providing the determined initial values for relevant system variables to the main operational blocks.\r\n\r\n## Logic Flow\r\n\r\nThe system's logic can be divided into two primary phases: Periodic Operation and Initialization.\r\n\r\n### 1. Periodic Operation (Figure 4.91)\r\n\r\n1.  **Scheduling:** The system operates on a fixed-time schedule, triggered every `100MS` by the recurrence block. The `Activation: always` ensures continuous execution once the system is active.\r\n2.  **Input Configuration & Permission:** The `fc()` (operational) block receives various configuration inputs (`NC_STATE_AFU_SENS_CONF`, `LC_FAC_AFU_RATIO_CONF`) and a permission signal (`ACTION_FARM_GetPermission_T3`). This block likely implements the core flex-fuel ratio detection algorithms. An `opm` feedback loop within this block suggests iterative calculations or state machine behavior.\r\n3.  **Initialization Data Input (`INI X.1`):** The `INI X.1` block receives the global `fc_INI` signal and the `feedback` signal (the current/last `IDX_EX_CBK_LAMB`). During system startup or reset events, this block provides initialized values for internal variables to the main calculation, based on the detailed logic in Figure 4.9.2.\r\n4.  **Main Calculation:** A central, unnamed block processes the outputs from `INI X.1` and `fc()/opm X.2`. This block integrates the initialized parameters with real-time operational calculations to derive the final system outputs.\r\n5.  **Outputs:** The system produces two primary outputs:\r\n    *   `IDX_EX_CBK_LAMB`: The calculated lambda callback index. This value is also fed back into the `INI X.1` block, serving as the `feedback` input for subsequent cycles or initialization events.\r\n    *   `LV_INH_FAC_AFU_RATIO_LAMB`: The calculated inhibition factor for the AFU ratio.\r\n\r\n### 2.", "mimetype": "text/plain", "start_char_idx": 235264, "end_char_idx": 239447, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "bb4cb7a8-0d9e-4521-aaef-1566508b239b": {"__data__": {"id_": "bb4cb7a8-0d9e-4521-aaef-1566508b239b", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b91d4856-cd94-4093-9d14-9c8f24b24a77", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "aa556a6187a4bd858c2d09f1277c2ad67641e41347b40f2fa044828f59c30010", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d508eaec-fec8-44f8-8941-d374ab1084ca", "node_type": "1", "metadata": {}, "hash": "38589cd69f1bcf7ae97d87d429618414f9544ff45684620adea59dc3c45e9b48", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "5.  **Outputs:** The system produces two primary outputs:\r\n    *   `IDX_EX_CBK_LAMB`: The calculated lambda callback index. This value is also fed back into the `INI X.1` block, serving as the `feedback` input for subsequent cycles or initialization events.\r\n    *   `LV_INH_FAC_AFU_RATIO_LAMB`: The calculated inhibition factor for the AFU ratio.\r\n\r\n### 2. Initialization at RESET event (Figure 4.9.2)\r\n\r\nThis diagram details how the system initializes its parameters, especially `IDX_EX_CBK_LAMB` and `LV_INH_FAC_AFU_RATIO_LAMB`, during a reset or startup event:\r\n\r\n1.  **Triggering Initialization:** The initialization process is activated by the `fc_INI` signal, which itself is a composite of various reset and NVM-related control signals (`<fc_RST>`, `<fc_ESZERU>`, `<fc_NVMINI>`, `<fc_NVMRES>`, `<fc_NVMISTO>`). These individual signals might control specific aspects of the initialization.\r\n2.  **Initialize Inhibition Factor:** `LV_INH_FAC_AFU_RATIO_LAMB` is directly initialized to a constant value of `0`. This establishes a default \"no inhibition\" state at system start.\r\n3.  **Handle Lambda Callback Index (IDX_EX_CBK_LAMB) with NVM:**\r\n    *   **Read from NVM:** During initialization, two `NVMY[read/init]` blocks attempt to retrieve the `IDX_EX_CBK_LAMB` value from Non-Volatile Memory. If no stored value is found, they default to `0`. The outputs of these two read blocks are combined by a `Merge` block, providing the initial `IDX_EX_CBK_LAMB` value for the system. The presence of two read blocks might imply redundancy or different NVM partitions.\r\n    *   **Store to NVM:** A `NVMY[store]` block takes the `feedback` signal (which is the `IDX_EX_CBK_LAMB` value from the main operational loop at the time of the store trigger) and saves it into Non-Volatile Memory. This ensures that the last calculated operational state of `IDX_EX_CBK_LAMB` is preserved across system power cycles or controlled shutdowns, making it available for subsequent initializations.\r\n4.  **Output Initialized Values:** The `ini` output combines the initialized `LV_INH_FAC_AFU_RATIO_LAMB` (which is 0) and the NVM-derived `IDX_EX_CBK_LAMB` value. This `ini` output then feeds into the main operational blocks (like `INI X.1` in Figure 4.91) to set their initial states.\r\n\r\n\r\n--- Page 85 ---\r\n\r\nThis is a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to handle the **initialization of various parameters and flags** related to the \"Fuel tank level based flex fuel ratio detection (ALFU)\" system during a **RESET event**. It ensures that most system variables are reset to a predefined default state (typically '0'). Specifically, it manages the conditional reinitialization of the `FAC_AFU_RATIO_FTL_VLD` (AFU ratio validity flag) based on whether the AFU ratio detected by the FTL algorithm is considered valid or not. It also appears to incorporate specific handling for potential \"CHECK SUM error\" conditions affecting temporary AFU ratio limits.\r\n\r\n## Inputs\r\n1.  **`MFF_SUM_REFU`**: An input signal, likely a boolean flag or an integer value related to a summation reference for the flex fuel system.\r\n2.  **`C_FAC_AFU_RATIO_FTL_VLD`**: A constant input with a value of '1', representing the valid state for the AFU ratio.\r\n3.  **Implicit Inputs (System State / Conditions)**:\r\n    *   **RESET Event Trigger**: The entire diagram's operation is triggered by a system reset event.\r\n    *   **\"AT CHECK SUM error,\" Condition**: A boolean condition that, if true, influences the initialization of `FAC_AFU_RATIO_FTL_MIN_TMP` and `FAC_AFU_RATIO_FTL_MAX_TMP`.\r\n    *   **AFU Ratio Validity Status**: An external condition indicating whether \"the AFU ratio detected by FTL based algorithm is valid.\" This is critical for setting `FAC_AFU_RATIO_FTL_VLD`.\r\n\r\n## Outputs\r\n1.  **`rst_ini`**: The main output signal of the initialization block/subsystem, likely indicating that the reset initialization process has been performed or completed.\r\n2.", "mimetype": "text/plain", "start_char_idx": 239090, "end_char_idx": 243066, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d508eaec-fec8-44f8-8941-d374ab1084ca": {"__data__": {"id_": "d508eaec-fec8-44f8-8941-d374ab1084ca", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "bb4cb7a8-0d9e-4521-aaef-1566508b239b", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "944898875d0ed94dff9d0531515f37983b519a9f8bc497df14c84643b292695f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "16216916-3f3f-48fb-b6ba-4293a1ed2c03", "node_type": "1", "metadata": {}, "hash": "b189b0e0222bce7ea76cf9af1645d0088139781f065936325743a61dfb33ab3b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **AFU Ratio Validity Status**: An external condition indicating whether \"the AFU ratio detected by FTL based algorithm is valid.\" This is critical for setting `FAC_AFU_RATIO_FTL_VLD`.\r\n\r\n## Outputs\r\n1.  **`rst_ini`**: The main output signal of the initialization block/subsystem, likely indicating that the reset initialization process has been performed or completed.\r\n2.  **Initialized Variables (Internal Outputs / State Updates)**: These are the variables whose values are set by this diagram during the reset event.\r\n    *   `LV_FAC_AFU_RATIO_FTL_ACT` (initialized to 0)\r\n    *   `LV_FTL_REFU` (initialized to 0)\r\n    *   `LV_VS_STOP` (initialized to 0)\r\n    *   `FTL_PERC_VS_STOP` (initialized to 0)\r\n    *   `FTL_PERC_MAX_VS_STOP` (initialized to 0)\r\n    *   `T_VS_STOP` (initialized to 0)\r\n    *   `LV_FAC_AFU_RATIO_VLD_RST` (initialized to 0)\r\n    *   `FTL_PERC` (initialized to 0)\r\n    *   `MFF_SUM_REFU_INT` (derived from `MFF_SUM_REFU`, its initial state is set as part of `rst_ini`)\r\n    *   `FAC_AFU_RATIO_FTL_MIN_TMP` (initialized based on \"CHECK SUM error\" condition, likely to 0)\r\n    *   `FAC_AFU_RATIO_FTL_MAX_TMP` (initialized based on \"CHECK SUM error\" condition, likely to 1)\r\n    *   `FAC_AFU_RATIO` (initialized to 0, potentially overridden)\r\n    *   `FAC_AFU_RATIO_FTL_VLD` (initialized to `C_FAC_AFU_RATIO_FTL_VLD` (1) or '0' based on AFU ratio validity)\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of this diagram describes the sequence of operations performed when a system reset occurs:\r\n\r\n1.  **Reset Event Trigger:** The entire process is activated by an implicit \"RESET event.\"\r\n\r\n2.  **Default Initialization of Local Variables and Flags:**\r\n    *   A large number of local variables and flags (prefixed with `LV_` or `FTL_`) are unconditionally set to a default value of **'0'**. This includes `LV_FAC_AFU_RATIO_FTL_ACT`, `LV_FTL_REFU`, `LV_VS_STOP`, `FTL_PERC_VS_STOP`, `FTL_PERC_MAX_VS_STOP`, `T_VS_STOP`, `LV_FAC_AFU_RATIO_VLD_RST`, and `FTL_PERC`.\r\n    *   These constant '0' values are fed into a central `rst_ini` block, indicating they are being written or assigned as part of the reset.\r\n\r\n3.  **`MFF_SUM_REFU` Processing:**\r\n    *   The input `MFF_SUM_REFU` passes through a block (labeled '2', potentially a simple signal pass-through or a non-significant operation in this context) to produce `MFF_SUM_REFU_INT`.\r\n    *   `MFF_SUM_REFU_INT` is then also fed into the `rst_ini` block, becoming part of the reset state.\r\n\r\n4.  **`FAC_AFU_RATIO` and Temporary Limit Initialization (Error Handling):**\r\n    *   A condition related to \"AT CHECK SUM error,\" is evaluated.\r\n    *   If a check sum error exists, `FAC_AFU_RATIO_FTL_MIN_TMP` is likely initialized to '0' and `FAC_AFU_RATIO_FTL_MAX_TMP` is likely initialized to '1' as indicated by the text annotations.\r\n    *   These temporary values, along with `FAC_AFU_RATIO` (which is shown receiving a '0' constant and passing through a '3' block), are also provided to the `rst_ini` block. This suggests their reset values can be influenced by specific conditions or predefined constants.\r\n\r\n5.  **Conditional Initialization of `FAC_AFU_RATIO_FTL_VLD`:**\r\n    *   This is a critical part of the reset logic, determining the validity flag for the AFU ratio.\r\n    *   The system checks whether \"the AFU ratio detected by FTL based algorithm is valid\" (an external condition).\r\n    *   If the AFU ratio is **valid**, `FAC_AFU_RATIO_FTL_VLD` is set to the constant value of `C_FAC_AFU_RATIO_FTL_VLD`, which is '1'.", "mimetype": "text/plain", "start_char_idx": 242690, "end_char_idx": 246189, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "16216916-3f3f-48fb-b6ba-4293a1ed2c03": {"__data__": {"id_": "16216916-3f3f-48fb-b6ba-4293a1ed2c03", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d508eaec-fec8-44f8-8941-d374ab1084ca", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "fac1921d581ddeaa56aa6920b9e0aebf25111333dde45ee116921ab2f616d52b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "df3904eb-1849-4f92-97ed-6cb847d071c3", "node_type": "1", "metadata": {}, "hash": "77599e353170f79029bb656f76177eb45e7dad2546e1cd7fe74bd4e4dc8d0d70", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The system checks whether \"the AFU ratio detected by FTL based algorithm is valid\" (an external condition).\r\n    *   If the AFU ratio is **valid**, `FAC_AFU_RATIO_FTL_VLD` is set to the constant value of `C_FAC_AFU_RATIO_FTL_VLD`, which is '1'.\r\n    *   If the AFU ratio is **invalid** (or not yet determined as valid), `FAC_AFU_RATIO_FTL_VLD` is reinitialized to '0' (the `LV_FAC_AFU_RATIO_FTL_VLD` which is '0' is used in this path).\r\n    *   This conditional logic is represented by a selection mechanism (implied by the converging lines and the \"Check ~= 0\" text), choosing between the constant '1' (valid) and '0' (invalid/default).\r\n    *   The resulting `FAC_AFU_RATIO_FTL_VLD` value is then fed into the `rst_ini` block.\r\n\r\n6.  **Initialization Completion:**\r\n    *   All these determined reset values for the various parameters and flags are consolidated by the `rst_ini` block.\r\n    *   The output `rst_ini` signal signifies that this specific reset initialization routine has been executed, preparing the ALFU system for operation with its initial set of values.\r\n\r\n\r\n--- Page 86 ---\r\n\r\n## Function\r\nThe primary function of these Simulink diagrams is to manage and control the learned parameters associated with **Fuel Tank Level-based Flex Fuel Ratio (ALFU) detection**, specifically regarding the ethanol content. This involves both the storage and conditional update/reset of these parameters (Figure 4.10.3) and the determination of when to reset the \"valid learn conditions\" for these parameters (Figure 4.10.4).\r\n\r\n*   **Figure 4.10.3 (ALFU. Fuel tank level based flex fuel ratio detection):** This diagram's role is to select between initial/default values and current input values for several flex fuel ratio parameters (`FAC_AFU_RATIO_FTL`, `MIN`, `MAX`, `VLD`). It uses a \"clear\" signal to decide whether to load initial constants (effectively resetting) or to pass through the continuously updated current inputs. This subsystem likely represents the core storage and persistence logic for these learned parameters.\r\n*   **Figure 4.10.4 (Condition check to reset valid learn conditions):** This diagram's specific function is to determine if a condition to reset the \"valid learn conditions\" (e.g., for ethanol content) is met. It evaluates a reset request in conjunction with an inhibit signal to trigger the reset logic within a \"manual detection\" subsystem.\r\n\r\n## Inputs\r\n\r\n**For Figure 4.10.3 (Parameter Management):**\r\n1.  `C_FAC_AFU_RATIO_FTL_INI`: Constant initial value for the Flex Fuel Ratio.\r\n2.  `C_FAC_AFU_RATIO_FTL_MIN_INI`: Constant initial minimum value for the Flex Fuel Ratio.\r\n3.  `C_FAC_AFU_RATIO_FTL_MAX_INI`: Constant initial maximum value for the Flex Fuel Ratio.\r\n4.  `LC_CLR_FAC_AFU_RATIO_FTL`: A control signal (likely boolean or integer) that, when active (non-zero), signals to reset/initialize the parameters.\r\n5.  `FAC_AFU_RATIO_FTL_in`: Current input value for the Flex Fuel Ratio.\r\n6.  `FAC_AFU_RATIO_FTL_MIN_in`: Current input minimum value for the Flex Fuel Ratio.\r\n7.  `FAC_AFU_RATIO_FTL_MAX_in`: Current input maximum value for the Flex Fuel Ratio.\r\n8.  `FAC_AFU_RATIO_FTL_VLD_in`: Current input validity flag for the Flex Fuel Ratio parameters.\r\n9.  `LV_FAC_AFU_RATIO_FTL_VLD_in`: Current input learned/persistent validity flag for the Flex Fuel Ratio parameters.\r\n\r\n**For Figure 4.10.4 (Reset Condition Check):**\r\n1.  `LV_FAC_AFU_RATIO_RST_REQ`: A boolean flag indicating a request to reset the Flex Fuel Ratio learning.\r\n2.  `LV_INH_FAC_AFU_RATIO_FTL`: A boolean flag that, when true, inhibits the reset operation from occurring.\r\n3.  `input`: A generic input signal to the `CLC_MAN_DET` subsystem, whose specific content is not detailed here.\r\n4.  `man_rst`: A signal representing a manual reset input, used by various internal components.\r\n\r\n## Outputs\r\n\r\n**For Figure 4.10.3 (Parameter Management):**\r\n1.  `FAC_AFU_RATIO_FTL_out`: The output (current or initialized) Flex Fuel Ratio.\r\n2.", "mimetype": "text/plain", "start_char_idx": 245941, "end_char_idx": 249896, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "df3904eb-1849-4f92-97ed-6cb847d071c3": {"__data__": {"id_": "df3904eb-1849-4f92-97ed-6cb847d071c3", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "16216916-3f3f-48fb-b6ba-4293a1ed2c03", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "118f8032c7969e20774305d480056af07c7ace9d17cd50a2ba21d3367f6e2abe", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3f84d0c2-4cf7-44be-8e9c-10dd643317e5", "node_type": "1", "metadata": {}, "hash": "f34f7cd7094d7268a99e48f0f123136b51eb1f2b78e60e4b8c1ae5a9f67c0d0e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  `input`: A generic input signal to the `CLC_MAN_DET` subsystem, whose specific content is not detailed here.\r\n4.  `man_rst`: A signal representing a manual reset input, used by various internal components.\r\n\r\n## Outputs\r\n\r\n**For Figure 4.10.3 (Parameter Management):**\r\n1.  `FAC_AFU_RATIO_FTL_out`: The output (current or initialized) Flex Fuel Ratio.\r\n2.  `FAC_AFU_RATIO_FTL_MIN_out`: The output minimum Flex Fuel Ratio.\r\n3.  `FAC_AFU_RATIO_FTL_MAX_out`: The output maximum Flex Fuel Ratio.\r\n4.  `FAC_AFU_RATIO_FTL_VLD_out`: The output validity flag for the Flex Fuel Ratio parameters.\r\n5.  `LV_FAC_AFU_RATIO_FTL_VLD_out`: The output learned/persistent validity flag for the Flex Fuel Ratio parameters.\r\n\r\n**For Figure 4.10.4 (Reset Condition Check):**\r\n1.  `man_det`: The output signal representing the status of the manual detection process, which is influenced by the determined reset conditions.\r\n\r\n## Logic Flow\r\n\r\n**Figure 4.10.3: Flex Fuel Ratio Parameter Management**\r\n\r\n1.  **Input Grouping:** Two distinct sets of data are prepared:\r\n    *   One set consists of constant initial values (`C_FAC_AFU_RATIO_FTL_INI`, `C_FAC_AFU_RATIO_FTL_MIN_INI`, `C_FAC_AFU_RATIO_FTL_MAX_INI`, and two '0' constants for other initial states).\r\n    *   The second set comprises current, dynamic input values (`FAC_AFU_RATIO_FTL_in`, `FAC_AFU_RATIO_FTL_MIN_in`, `FAC_AFU_RATIO_FTL_MAX_in`, `FAC_AFU_RATIO_FTL_VLD_in`, `LV_FAC_AFU_RATIO_FTL_VLD_in`).\r\n2.  **Conditional Selection (Switch Block):** A switch block (labeled \"Check ~= 0\") controls which set of values is passed forward.\r\n    *   If the control signal `LC_CLR_FAC_AFU_RATIO_FTL` is non-zero (indicating an active clear/reset request), the initial constant values are selected.\r\n    *   If `LC_CLR_FAC_AFU_RATIO_FTL` is zero (indicating no active clear/reset), the current dynamic input values are selected.\r\n3.  **Parameter Storage/Processing (f() Block):** The selected values are fed into an 'f()' block. This block likely represents a function, a state-holding element (e.g., a memory block), or a subsystem that processes these values and makes them available for output, effectively managing their persistence or real-time update.\r\n4.  **Output Distribution:** The outputs from the 'f()' block are then demultiplexed and connected to the respective output ports: `FAC_AFU_RATIO_FTL_out`, `FAC_AFU_RATIO_FTL_MIN_out`, `FAC_AFU_RATIO_FTL_MAX_out`, `FAC_AFU_RATIO_FTL_VLD_out`, and `LV_FAC_AFU_RATIO_FTL_VLD_out`.\r\n\r\n**Figure 4.10.4: Reset Condition Check for Valid Learn Conditions**\r\n\r\n1.  **Reset Condition Logic (`cond_if`):**\r\n    *   The `LV_FAC_AFU_RATIO_RST_REQ` signal (reset request) is evaluated.\r\n    *   The `LV_INH_FAC_AFU_RATIO_FTL` signal (inhibit reset) is inverted using a NOT gate.\r\n    *   An AND gate combines the reset request and the inverted inhibit signal. The output, `cond_if`, becomes true if a reset is requested AND the reset is not inhibited.\r\n2.  **Conditional Execution (If-Else Block):** The `cond_if` signal dictates the execution path within an 'if-else' block:\r\n    *   **If `cond_if` is true (reset condition met):** The 'if' branch is activated. It passes the 'input' signal (and implicitly `man_rst`) through an intermediate 'f()' block before routing them to the `CLC_MAN_DET` subsystem (X.2.1.2.1). This path is designed for handling the system in a reset state.\r\n    *   **If `cond_if` is false (reset condition not met):** The 'else' branch is activated. It routes the 'input' and `man_rst` signals directly to the `CLC_MAN_DET` subsystem, indicating normal operation where no reset is triggered by this condition.\r\n3.", "mimetype": "text/plain", "start_char_idx": 249537, "end_char_idx": 253158, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3f84d0c2-4cf7-44be-8e9c-10dd643317e5": {"__data__": {"id_": "3f84d0c2-4cf7-44be-8e9c-10dd643317e5", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "df3904eb-1849-4f92-97ed-6cb847d071c3", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "41a2da3e0b34440c5bf8a34dd7d5ce38f3728692635b0579537beca6bfd83621", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ca667646-d607-4692-b9fb-a8d5a7c84f84", "node_type": "1", "metadata": {}, "hash": "946b88edbdfdbed39198bbd5f408cba715f05341bc6a4c0ba00e9f0cccb66951", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This path is designed for handling the system in a reset state.\r\n    *   **If `cond_if` is false (reset condition not met):** The 'else' branch is activated. It routes the 'input' and `man_rst` signals directly to the `CLC_MAN_DET` subsystem, indicating normal operation where no reset is triggered by this condition.\r\n3.  **Manual Reset Validity (`rst_vld`):** The `man_rst` input is independently processed by the `RST_VLD` subsystem (X.2.1.2.2), which determines a `rst_vld` signal, likely indicating the validity or status of the manual reset.\r\n4.  **Manual Detection (`CLC_MAN_DET`):** The `CLC_MAN_DET` subsystem (X.2.1.2.1) receives the 'input' signal, the `man_rst` signal, and the `rst_vld` signal. Its internal logic (not detailed here) processes these to determine the final `clc_man_det` and `man_det` outputs, indicating the state of the \"manual detection\" based on the prevailing reset conditions.\r\n5.  **Output Merging:** A `BusMerge` block combines the necessary signals from the `CLC_MAN_DET` subsystem to form the final `man_det` output, representing the consolidated result of the manual detection, considering any active reset conditions.\r\n\r\n\r\n--- Page 88 ---\r\n\r\nThis image is indeed a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram, titled \"ALFU. Fuel tank level based flex fuel ratio detection\", is to **validate and select appropriate fuel ratio (likely Ethanol content) and related parameters for a flex-fuel system, based on the overall validity of the determined Ethanol content and fuel tank level (FTL) information.**\r\n\r\nIt implements a conditional logic: if the currently determined Ethanol content and related system states are deemed valid, then newly calculated or adjusted values for the fuel ratio and FTL parameters are used. Otherwise, previously stored or fallback (\"current\") values for these parameters are retained and outputted. This mechanism ensures robustness and continuity in fuel ratio detection by gracefully handling invalid or uncertain sensor/calculation data.\r\n\r\n## Inputs\r\nThe system takes the following key inputs:\r\n\r\n1.  **`FAC_AFU_RATIO_EXT_ADJ`**: External adjustment value for the air-fuel unit ratio.\r\n2.  **`C_FAC_AFU_RATIO_FTL_VLD`**: A constant (likely boolean/threshold) indicating the validity or enablement of the external AFU ratio adjustment.\r\n3.  **`FTL`**: Fuel Tank Level value.\r\n4.  **`C_FTL_PERC_OFS`**: A constant (likely boolean/threshold) for applying an offset to the FTL percentage.\r\n5.  **`LV_FAC_AFU_RATIO_EXT_ADJ`**: A boolean flag indicating the validity of the external AFU ratio adjustment (likely a diagnostic value).\r\n6.  **`LV_ES`**: A general system validity or error status flag (e.g., \"Live Value Error State\").\r\n7.  **`FAC_AFU_RATIO_FTL_cur`**: The \"current\" (previous/fallback) fuel tank level based AFU ratio.\r\n8.  **`FAC_AFU_RATIO_FTL_MAX_cur`**: The \"current\" (previous/fallback) maximum possible AFU ratio.\r\n9.  **`FAC_AFU_RATIO_FTL_MIN_cur`**: The \"current\" (previous/fallback) minimum possible AFU ratio.\r\n10. **`FAC_AFU_RATIO_FTL_VLD_cur`**: The \"current\" (previous/fallback) validity status of the AFU ratio.\r\n11. **`LV_FAC_AFU_RATIO_FTL_VLD_cur`**: The \"current\" (previous/fallback) live value validity status of the AFU ratio.\r\n12. **`LV_FTL_REFU_cur`**: The \"current\" (previous/fallback) live value for fuel tank level refueling status.\r\n13. **`FTL_PERC_in`**: The \"current\" (previous/fallback) FTL percentage.\r\n14. **`FTL_PERC_STOP_in`**: The \"current\" (previous/fallback) FTL percentage stop value.\r\n15. **`FTL_PERC_STOP_REFU_in`**: The \"current\" (previous/fallback) FTL percentage stop refueling value.\r\n\r\n## Outputs\r\nThe system produces the following key outputs:\r\n\r\n1.  **`FAC_AFU_RATIO_FTL`**: The selected fuel tank level based AFU ratio.\r\n2.  **`FAC_AFU_RATIO_FTL_MAX`**: The selected maximum possible AFU ratio.", "mimetype": "text/plain", "start_char_idx": 252837, "end_char_idx": 256692, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ca667646-d607-4692-b9fb-a8d5a7c84f84": {"__data__": {"id_": "ca667646-d607-4692-b9fb-a8d5a7c84f84", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3f84d0c2-4cf7-44be-8e9c-10dd643317e5", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "a07b18e1bd4871819f35c5a29ed1373a5ddb0222a65f6d43ad365147b094c942", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7373595c-fece-4753-b4eb-10f8c005a032", "node_type": "1", "metadata": {}, "hash": "d193971c72897d90b1c00f284b1c6d60acc170353a65991cd8917a24264498aa", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "15. **`FTL_PERC_STOP_REFU_in`**: The \"current\" (previous/fallback) FTL percentage stop refueling value.\r\n\r\n## Outputs\r\nThe system produces the following key outputs:\r\n\r\n1.  **`FAC_AFU_RATIO_FTL`**: The selected fuel tank level based AFU ratio.\r\n2.  **`FAC_AFU_RATIO_FTL_MAX`**: The selected maximum possible AFU ratio.\r\n3.  **`FAC_AFU_RATIO_FTL_MIN`**: The selected minimum possible AFU ratio.\r\n4.  **`FAC_AFU_RATIO_FTL_VLD`**: The selected validity status of the AFU ratio.\r\n5.  **`LV_FAC_AFU_RATIO_FTL_VLD`**: The selected live value validity status of the AFU ratio.\r\n6.  **`LV_FTL_REFU`**: The selected live value for fuel tank level refueling status.\r\n7.  **`FTL_PERC_out`**: The selected FTL percentage.\r\n8.  **`FTL_PERC_STOP_out`**: The selected FTL percentage stop value.\r\n9.  **`FTL_PERC_STOP_REFU_out`**: The selected FTL percentage stop refueling value.\r\n\r\n## Logic Flow\r\nThe logical flow of the diagram proceeds as follows:\r\n\r\n1.  **Individual Parameter Pre-Processing and Candidate Value Generation:**\r\n    *   **External AFU Ratio Adjustment:** The input `FAC_AFU_RATIO_EXT_ADJ` is conditionally selected. If the constant `C_FAC_AFU_RATIO_FTL_VLD` is true (non-zero), `FAC_AFU_RATIO_EXT_ADJ` is chosen; otherwise, a value of `0` is chosen. This forms a \"new\" candidate value for `FAC_AFU_RATIO_FTL`.\r\n    *   **Fuel Tank Level (FTL) Percentage:** The input `FTL` is conditionally modified. If the constant `C_FTL_PERC_OFS` is true (non-zero), `FTL` is added to `C_FTL_PERC_OFS`; otherwise, raw `FTL` is chosen. This forms a \"new\" candidate value for `FTL_PERC_out`.\r\n\r\n2.  **Overall Validity Check:**\r\n    *   An `AND` logic block combines two boolean inputs: `LV_FAC_AFU_RATIO_EXT_ADJ` and `LV_ES`.\r\n    *   The output of this `AND` block (let's call it `overall_validity`) determines the main control flow. `overall_validity` is TRUE if both `LV_FAC_AFU_RATIO_EXT_ADJ` and `LV_ES` are true, indicating that the externally adjusted AFU ratio is valid and the system is in a valid state.\r\n\r\n3.  **Conditional Selection of Output Values (Main Switch Logic):**\r\n    *   A large Simulink Switch block, labeled \"Check ~= 0\", uses the `overall_validity` signal as its control input.\r\n    *   **If `overall_validity` is TRUE (non-zero):** The switch selects the \"newly calculated/adjusted\" set of values.\r\n        *   The candidate value from step 1 (output of the `FAC_AFU_RATIO_EXT_ADJ` mux) is selected for `FAC_AFU_RATIO_FTL`.\r\n        *   The candidate value from step 1 (output of the `FTL` mux) is selected for `FTL_PERC_out`.\r\n        *   For the remaining outputs (`FAC_AFU_RATIO_FTL_MAX`, `MIN`, `VLD`, `LV_FAC_AFU_RATIO_FTL_VLD`, `LV_FTL_REFU`, `FTL_PERC_STOP_out`, `FTL_PERC_STOP_REFU_out`), the diagram implies that corresponding \"new\" values (derived from the current inputs and calculations, consistent with valid Ethanol content) are selected, although their specific connections to the top inputs of the switch are not fully detailed in this view.\r\n    *   **If `overall_validity` is FALSE (zero):** The switch selects the \"previous\" or \"fallback\" values. These are the `_cur` and `_in` inputs provided from the lower-left section of the diagram: `FAC_AFU_RATIO_FTL_cur`, `FAC_AFU_RATIO_FTL_MAX_cur`, `FAC_AFU_RATIO_FTL_MIN_cur`, `FAC_AFU_RATIO_FTL_VLD_cur`, `LV_FAC_AFU_RATIO_FTL_VLD_cur`, `LV_FTL_REFU_cur`, `FTL_PERC_in`, `FTL_PERC_STOP_in`, and `FTL_PERC_STOP_REFU_in`.\r\n\r\n4.", "mimetype": "text/plain", "start_char_idx": 256374, "end_char_idx": 259778, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7373595c-fece-4753-b4eb-10f8c005a032": {"__data__": {"id_": "7373595c-fece-4753-b4eb-10f8c005a032", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ca667646-d607-4692-b9fb-a8d5a7c84f84", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "bfeae5cdb7fc76559a0e8b62ba235cd09ae1c0c87ee13b95ef853f1a17f4e49d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "953e9c2d-5bc3-4a0e-bc9d-9a3d78425133", "node_type": "1", "metadata": {}, "hash": "4ac0fd1c3bb0736e033119a777ffb4a5767dd5f07ba7bcf4df27e5e8ac44a3b2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "4.  **Output Assignment:**\r\n    *   The complete set of selected values from the Switch block is then routed directly to the corresponding output signals on the right side of the diagram. This means the outputs (`FAC_AFU_RATIO_FTL`, `FAC_AFU_RATIO_FTL_MAX`, etc.) will either reflect the newly validated/calculated values or revert to the previously stored/fallback values, depending on the `overall_validity` check.\r\n\r\n\r\n--- Page 90 ---\r\n\r\nThis image presents two distinct Simulink diagrams, Figure 4.10.9 and Figure 4.10.10, which together describe aspects of an automotive fuel system.\r\n\r\n## Function\r\n\r\nThe primary function of these Simulink diagrams is to manage and determine the state of the \"Fuel Tank Level based Flex Fuel Ratio detection\" (ALFU) system. This involves:\r\n\r\n1.  **Error Detection:** Evaluating the status of the Fuel Tank Level (FTL) sensor to determine if there's an error (`LV_ERR_FTL`).\r\n2.  **Operational Mode Control:** Conditionally activating different logical components (`CLC_ACT`, `CLC_FTL_STOP`, `NOT_IF`) based on a complex combination of system states, validity flags, and requests related to engine operation, CAN communication, manual refuel events, and external adjustments/inhibitions.\r\n3.  **Fuel Tank Level Percentage Calculation:** Determining the current fuel tank level as a percentage (`FTL_PERC`) and a snapshot at the start of a refuel event (`FTL_PERC_ST_REFU`).\r\n4.  **Flex Fuel Ratio FTL Activity Flag:** Deriving a flag (`LV_FAC_AFU_RATIO_FTL_ACT`) that indicates whether the FTL-based flex fuel ratio calculation is currently active.\r\n5.  **Output Aggregation:** Merging various operational states into a single bus output (`fttl_fu`) for further system use.\r\n\r\n## Inputs\r\n\r\n**Figure 4.10.9 (ALFU Logic):**\r\n\r\n*   `LV_ES`: Logical Variable, Engine Started/Running status.\r\n*   `LV_FTL_CAN_VLD_AFU`: Logical Variable, indicating if Fuel Tank Level CAN data is valid for AFU (Alcohol Fuel Unit) calculations.\r\n*   `LV_FAC_AFU_RATIO_FTL_ACT`: Logical Variable, indicating if the Flex Fuel Ratio FTL calculation is currently active. (This signal is an output in Figure 4.10.10, suggesting a feedback or interconnected system).\r\n*   `LV_FAC_AFU_RATIO_EXT_ADJ`: Logical Variable, indicating an external adjustment for the Flex Fuel Ratio.\r\n*   `ext_req_min_max`: A signal (likely a range or threshold) for external requests, used within function calls.\r\n*   `LC_FTL_REFU_MAN_DET`: Logical Variable, indicating if a fuel tank refuel has been manually detected.\r\n*   `LV_FAC_AFU_RATIO_EXT_REQ`: Logical Variable, indicating an external request related to the Flex Fuel Ratio.\r\n*   `NC_FID_ERR_FTL_SENS_FTL`: Numeric/Configurable, indicating an error status from the FTL sensor.\r\n*   `LV_INH_FAC_AFU_RATIO_FTL`: Logical Variable, indicating if the Flex Fuel Ratio FTL calculation is inhibited.\r\n*   `PRM_LV_PRMS`: Parameters/permissions for the `ACTION_FARM_GetPermission` block.\r\n*   `input`: Generic input to the `fc()` blocks (e.g., `CLC_ACT`), likely representing various sensor readings or system values.\r\n\r\n**Figure 4.10.10 (FTL Percentage Determination):**\r\n\r\n*   `C_FTL_PERC_OFS`: Constant, representing an offset for fuel tank level percentage calculation.\r\n*   `FTL`: Raw or measured fuel tank level value.\r\n\r\n## Outputs\r\n\r\n**Figure 4.10.9 (ALFU Logic):**\r\n\r\n*   `LV_ERR_FTL`: Logical Variable, indicating an error in the Fuel Tank Level system.\r\n*   `fttl_fu`: A bus containing the aggregated outputs/states from `CLC_ACT`, `CLC_FTL_STOP`, and `NOT_IF` logic blocks. This is the primary high-level output of this diagram section.\r\n\r\n**Figure 4.10.10 (FTL Percentage Determination):**\r\n\r\n*   `FTL_PERC`: Calculated fuel tank level as a percentage.\r\n*   `FTL_PERC_ST_REFU`: Fuel tank level percentage at the start of a refuel event (or a stored start-refuel value).\r\n*   `LV_FAC_AFU_RATIO_FTL_ACT`: Logical Variable, indicating that the FTL-based flex fuel ratio calculation is active. (This signal is an input in Figure 4.10.9, suggesting a feedback or interconnected system).", "mimetype": "text/plain", "start_char_idx": 259776, "end_char_idx": 263807, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "953e9c2d-5bc3-4a0e-bc9d-9a3d78425133": {"__data__": {"id_": "953e9c2d-5bc3-4a0e-bc9d-9a3d78425133", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7373595c-fece-4753-b4eb-10f8c005a032", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "1925aeb7197461ac3741b56bae3fd43f27e0893b7859d312310a31fdfa624123", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c0ca60f2-b065-4c23-a141-5e77c14a29d3", "node_type": "1", "metadata": {}, "hash": "e07e4c41bdee6df2ecc6ae3fa9f7638ed7f9a94b52941e1b31dd07527d61c9fc", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `FTL_PERC_ST_REFU`: Fuel tank level percentage at the start of a refuel event (or a stored start-refuel value).\r\n*   `LV_FAC_AFU_RATIO_FTL_ACT`: Logical Variable, indicating that the FTL-based flex fuel ratio calculation is active. (This signal is an input in Figure 4.10.9, suggesting a feedback or interconnected system).\r\n\r\n## Logic Flow\r\n\r\nThe system's logic flow can be broken down into two main parts, corresponding to the two figures:\r\n\r\n### Figure 4.10.9: ALFU Operational Logic\r\n\r\n1.  **FTL Error Determination:**\r\n    *   The `NC_FID_ERR_FTL_SENS_FTL` input, along with `PRM_LV_PRMS`, is fed into the `ACTION_FARM_GetPermission` block. This block likely evaluates if the FTL sensor error allows the system to operate or if certain permissions are met.\r\n    *   The output of this block is then negated by a `NOT` gate to produce `LV_ERR_FTL`. This implies that if permission is *granted* (no error), `LV_ERR_FTL` is FALSE, and if permission is *denied* (error detected), `LV_ERR_FTL` is TRUE.\r\n\r\n2.  **Conditional Logic for ALFU Modes:**\r\n    *   Three `cond_if` blocks (Simulink 'If' blocks) control the activation of different ALFU operational modes: `CLC_ACT`, `CLC_FTL_STOP`, and `NOT_IF`. Each `cond_if` block evaluates a complex boolean condition to determine which branch (if or else) to execute.\r\n\r\n    *   **`CLC_ACT` (ALFU Activate Logic):**\r\n        *   This mode is activated if an `AND` condition is met, where *all* of the following logical signals are FALSE (due to the preceding `NOT` gates):\r\n            *   `LV_ES` (Engine is NOT started/running)\r\n            *   `LV_FTL_CAN_VLD_AFU` (FTL CAN data for AFU is NOT valid)\r\n            *   `LV_FAC_AFU_RATIO_FTL_ACT` (FTL-based AFU ratio calculation is NOT active)\r\n            *   `LV_ERR_FTL` (There is NO FTL error)\r\n            *   `LC_FTL_REFU_MAN_DET` (Refuel is NOT manually detected)\r\n            *   `LV_FAC_AFU_RATIO_EXT_ADJ` (NO external adjustment for AFU ratio)\r\n            *   `LV_FAC_AFU_RATIO_EXT_REQ` (NO external request for AFU ratio)\r\n            *   `LV_INH_FAC_AFU_RATIO_FTL` (AFU ratio FTL calculation is NOT inhibited)\r\n        *   If this extensive `AND` condition is true, the `CLC_ACT` function (X.2.3.1) is called with `input` and `ext_req_min_max`. Otherwise, its `else` branch is taken.\r\n\r\n    *   **`CLC_FTL_STOP` (ALFU Stop Logic):**\r\n        *   This mode is activated if another `AND` condition is met. The first part of this `AND` condition is an `OR` gate: `LV_ES` (Engine is running) OR `NOT LV_FTL_CAN_VLD_AFU` (FTL CAN data for AFU is NOT valid).\r\n        *   Combined with the `OR` result, the following must also be FALSE (due to `NOT` gates):\r\n            *   `LV_FAC_AFU_RATIO_FTL_ACT` (FTL-based AFU ratio calculation is NOT active)\r\n            *   `LV_ERR_FTL` (There is NO FTL error)\r\n            *   `LC_FTL_REFU_MAN_DET` (Refuel is NOT manually detected)\r\n            *   `LV_FAC_AFU_RATIO_EXT_ADJ` (NO external adjustment for AFU ratio)\r\n            *   `LV_FAC_AFU_RATIO_EXT_REQ` (NO external request for AFU ratio)\r\n        *   If this `AND` condition is true, the `CLC_FTL_STOP` function (X.2.3.2) is called with `input` and `ext_req_min_max`. Otherwise, its `else` branch is taken.\r\n\r\n    *   **`NOT_IF` (Default/Engine Running Logic):**\r\n        *   This mode is activated if `LV_ES` (Engine is running) is TRUE.\r\n        *   If `LV_ES` is true, the `NOT_IF` function (X.2.3.3) is called with `input` and `ext_req_min_max`. Otherwise, its `else` branch is taken.\r\n\r\n3.", "mimetype": "text/plain", "start_char_idx": 263480, "end_char_idx": 266985, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c0ca60f2-b065-4c23-a141-5e77c14a29d3": {"__data__": {"id_": "c0ca60f2-b065-4c23-a141-5e77c14a29d3", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "953e9c2d-5bc3-4a0e-bc9d-9a3d78425133", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "685bd15d94fba782e5f61b5f329fb72b68361715c2f842c7699783debc417784", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c9848d99-dff3-4076-876f-12d8f7081f49", "node_type": "1", "metadata": {}, "hash": "03d26ef76fb245b23858330c9dc210a71c34d6d8d24c2b791df6b6115e5df5f0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Otherwise, its `else` branch is taken.\r\n\r\n    *   **`NOT_IF` (Default/Engine Running Logic):**\r\n        *   This mode is activated if `LV_ES` (Engine is running) is TRUE.\r\n        *   If `LV_ES` is true, the `NOT_IF` function (X.2.3.3) is called with `input` and `ext_req_min_max`. Otherwise, its `else` branch is taken.\r\n\r\n3.  **Output Bus Merge:**\r\n    *   The outputs from the active branches of `CLC_ACT`, `CLC_FTL_STOP`, and `NOT_IF` (or their respective `else` branches) are collected and combined into a single bus named `fttl_fu` by the `BusMerge` block. This bus likely encapsulates the current operating state or results of the ALFU logic.\r\n\r\n### Figure 4.10.10: Fuel Tank Level Percentage Determination\r\n\r\n1.  **Percentage Calculation:**\r\n    *   The raw or measured `FTL` value is summed with the constant `C_FTL_PERC_OFS` (Fuel Tank Level Percentage Offset). This offset likely adjusts for tank geometry, sensor zero point, or residual fuel.\r\n    *   The result of this sum is then branched.\r\n\r\n2.  **Output Signals:**\r\n    *   One branch of the summed value directly becomes `FTL_PERC`, representing the calculated fuel tank level as a percentage.\r\n    *   Another branch of the summed value becomes `FTL_PERC_ST_REFU`, which could be a stored value of the FTL percentage at the start of a refuel event, or a specific calculation for that purpose.\r\n    *   The `FTL_PERC` (or a related signal derived from it) is further processed to generate `LV_FAC_AFU_RATIO_FTL_ACT`. This indicates that the status of the \"Flex Fuel Ratio FTL Active\" flag is determined by the calculated fuel tank level percentage. This flag then feeds back as an input to the complex conditional logic in Figure 4.10.9.\r\n\r\n\r\n--- Page 91 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram represents a system designed to **detect a refueling event at engine restart** and subsequently **calculate the maximum and minimum possible Air-Fuel Ratio (AFU) limits** based on the observed change in fuel tank levels and predefined system parameters. The overall goal is to provide accurate information for flex-fuel ratio determination (e.g., ethanol content) after a refueling operation.\r\n\r\nThe system is split into two primary parts:\r\n1.  **Refueling Detection (Figure 4.10.11):** Compares current and previous fuel levels with hysteresis to identify if refueling has occurred.\r\n2.  **AFU Ratio Limit Calculation (Figure 4.10.12):** If refueling is detected, it calculates dynamic upper and lower bounds for the Air-Fuel Ratio based on the fuel level changes.\r\n\r\n## Inputs\r\n\r\n*   **`FTL_PERC`**: Current Fuel Tank Level (percentage). (From Figure 4.10.11)\r\n*   **`FTL_PERC_STOP`**: Fuel Tank Level at the time of engine stop (percentage). (From Figure 4.10.11 & 4.10.12)\r\n*   **`FTL_PERC_ST_REFU`**: Fuel Tank Level at the start of the refueling event (percentage). (From Figure 4.10.12)\r\n*   **`IP_FTL_PERC_HYS_REFU`**: A 1D Lookup Table (map) that defines the hysteresis behavior used in the refueling detection logic. (From Figure 4.10.11)\r\n*   **`clc_act_1`**: A control or activation signal, likely a boolean, used to enable or trigger parts of the refueling detection logic. (From Figure 4.10.11)\r\n*   **`C_FAC_AFU_RATIO_MAX_REFU`**: A constant value representing a maximum Air-Fuel Ratio factor used in the calculation of the upper AFU limit during refueling. (From Figure 4.10.12)\r\n*   **`C_FAC_AFU_RATIO_MIN_REFU`**: A constant value representing a minimum Air-Fuel Ratio factor used in the calculation of the lower AFU limit during refueling. (From Figure 4.10.12)\r\n\r\n## Outputs\r\n\r\n*   **`refu_st`**: A bus signal representing the overall refueling status. It contains at least two signals:\r\n    *   **`ftll_refu`**: The main refueling detection flag.", "mimetype": "text/plain", "start_char_idx": 266659, "end_char_idx": 270393, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c9848d99-dff3-4076-876f-12d8f7081f49": {"__data__": {"id_": "c9848d99-dff3-4076-876f-12d8f7081f49", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c0ca60f2-b065-4c23-a141-5e77c14a29d3", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "d17d0b59e017bed5ef817b802a50533a2ab22faadd5c1d07c5e54060f28fab1b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "adc0c331-ec98-4315-a6fd-01cef883f43d", "node_type": "1", "metadata": {}, "hash": "f168e39af3fe6ce4b27e5964349420882cdbbb3bdfe1783858f08f862a157bf3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "(From Figure 4.10.12)\r\n\r\n## Outputs\r\n\r\n*   **`refu_st`**: A bus signal representing the overall refueling status. It contains at least two signals:\r\n    *   **`ftll_refu`**: The main refueling detection flag.\r\n    *   **`rst_lv_ftll_refu`**: A reset or latch control signal for the refueling detection.\r\n*   **`LV_FTL_REFU`**: A boolean flag (set to '1' in this diagram) indicating that the refueling detection logic is active or confirmed.\r\n*   **`LV_FAC_AFU_RATIO_FTL_VLD`**: A validity flag for the calculated AFU ratio limits (set to '0' in this diagram, suggesting external validation or initial invalid state).\r\n*   **`FAC_AFU_RATIO_FTL_VLD`**: An actual value associated with the AFU ratio validity (set to '0' in this diagram).\r\n*   **`FAC_AFU_RATIO_FTL_MAX`**: The calculated maximum possible Air-Fuel Ratio limit determined after refueling.\r\n*   **`FAC_AFU_RATIO_FTL_MIN`**: The calculated minimum possible Air-Fuel Ratio limit determined after refueling.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow is described in two main parts, corresponding to the two diagrams presented:\r\n\r\n### Part 1: Refueling Detection (Figure 4.10.11)\r\n\r\n1.  **Fuel Level Difference Calculation**: The system first calculates the difference between the current fuel tank level (`FTL_PERC`) and the fuel tank level recorded at the previous engine stop (`FTL_PERC_STOP`).\r\n2.  **Hysteresis Application**: This difference is then fed as `x_val` into a 1D lookup table, `IP_FTL_PERC_HYS_REFU`. This lookup table incorporates hysteresis, preventing minor fuel level fluctuations from triggering false refueling detections. The output of this map is `IP_val`.\r\n3.  **Refueling Condition Check**: The `IP_val` is compared against `FTL_PERC_STOP` (specifically, `IP_val >= FTL_PERC_STOP`). The boolean result of this comparison (`cond_if`) indicates a potential refueling event.\r\n4.  **Refueling Flag Generation (`FTL_REFU` Subsystem)**: The `cond_if` signal, along with the activation signal `clc_act_1`, is processed by the `FTL_REFU` subsystem (identified as X.2.3.1.2.1). This subsystem internally manages the state logic to generate the primary refueling detection flag, `ftll_refu`.\r\n5.  **Reset/Latching Logic (`RST_LV_FTL_REFU` Subsystem)**: Concurrently, the `RST_LV_FTL_REFU` subsystem (X.2.3.1.2.2) uses `clc_act_1` to produce a reset or latch control signal, `rst_lv_ftll_refu`. This signal is crucial for managing the internal state of the refueling detection logic.\r\n6.  **Refueling Status Output**: The `ftll_refu` and `rst_lv_ftll_refu` signals are then combined into a bus named `refu_st`, which is the final output representing the refueling status.\r\n\r\n### Part 2: AFU Ratio Limit Calculation (Figure 4.10.12)\r\n\r\nThis part of the diagram is active when refueling is detected at engine restart, and proceeds as follows:\r\n\r\n1.  **Refueling Confirmation Flag (`LV_FTL_REFU`)**: The `LV_FTL_REFU` output is directly set to a constant value of `1`, indicating that the system is currently processing a confirmed refueling event.\r\n2.  **AFU Ratio Validity Status**: The `LV_FAC_AFU_RATIO_FTL_VLD` and `FAC_AFU_RATIO_FTL_VLD` outputs are both directly set to a constant value of `0`. This implies that the validity of the calculated AFU ratio limits might be determined by external logic based on other conditions, or these specific outputs are initially considered invalid by this diagram.\r\n3.  **Maximum AFU Ratio Calculation (`FAC_AFU_RATIO_FTL_MAX`)**:\r\n    *   The sum of `FTL_PERC_STOP` and `FTL_PERC_ST_REFU` is calculated.\r\n    *   This sum is then multiplied by the constant `C_FAC_AFU_RATIO_MAX_REFU`.\r\n    *   Separately, the product of `FTL_PERC_STOP` and `FTL_PERC_ST_REFU` is calculated.\r\n    *   These two intermediate products are then added together.", "mimetype": "text/plain", "start_char_idx": 270185, "end_char_idx": 273935, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "adc0c331-ec98-4315-a6fd-01cef883f43d": {"__data__": {"id_": "adc0c331-ec98-4315-a6fd-01cef883f43d", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c9848d99-dff3-4076-876f-12d8f7081f49", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "65d093bac5d0682adeddca89d661e7306a01a75f5ca167eaba74e8edf553b536", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "383e941e-eeb9-4d06-a803-9e13c080e852", "node_type": "1", "metadata": {}, "hash": "2b2a3c05475981a9c5e2c58cfb45a974d81f9dbb861e01115851f0c97b34d5c3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   This sum is then multiplied by the constant `C_FAC_AFU_RATIO_MAX_REFU`.\r\n    *   Separately, the product of `FTL_PERC_STOP` and `FTL_PERC_ST_REFU` is calculated.\r\n    *   These two intermediate products are then added together.\r\n    *   Finally, this combined sum is divided by the difference between `FTL_PERC_ST_REFU` and `FTL_PERC_STOP` (`FTL_PERC_ST_REFU - FTL_PERC_STOP`). The result of this complex formula is the `FAC_AFU_RATIO_FTL_MAX`.\r\n4.  **Minimum AFU Ratio Calculation (`FAC_AFU_RATIO_FTL_MIN`)**: This calculation follows an identical structure to the maximum AFU ratio calculation. It uses the same fuel level inputs (`FTL_PERC_STOP`, `FTL_PERC_ST_REFU`) but substitutes the `C_FAC_AFU_RATIO_MIN_REFU` constant in place of `C_FAC_AFU_RATIO_MAX_REFU`. The result is the `FAC_AFU_RATIO_FTL_MIN`.\r\n\r\n\r\n--- Page 92 ---\r\n\r\n## Function\r\nThe primary function of this Simulink subsystem is to manage the validity and assignment of a Fuel Tank Level (FTL) based flex fuel ratio. It determines when the FTL-based ethanol content is considered valid and, if so, assigns the newly calculated content. If the conditions for validity are not met, it either indicates invalidity or holds the last known valid ratio.\r\n\r\n## Inputs\r\n1.  **`C_FAC_AFU_RATIO_FTL_VLD`**: (Boolean) A global or persistent flag indicating the current validity of the FTL based ratio. (Capacitance/Fuel Air Ratio/Fuel Tank Level Valid)\r\n2.  **`LC_AFU_FTL_REFI_BIN`**: (Boolean) A binary flag indicating if a refueling event is currently active or detected. (Logical/Fuel Air Ratio/Fuel Tank Level Refuel Binary)\r\n3.  **`V. 6.4`**: (Mixed type, likely interpreted as boolean for logic and numerical for calculation) A system parameter or signal, potentially representing a general system enable or voltage level, used in both the validity logic and the ratio calculation.\r\n4.  **`LV_FAC_AFU_RATIO_VLD`**: (Numerical/Boolean) An input used by the `f(x)` calculation block, likely representing a more general or overarching \"local valid\" flag for the fuel-air ratio from another part of the system. (Local/Fuel Air Ratio/Valid)\r\n5.  **`LV_FAC_AFU_RATIO_FTL_VLD_cur`**: (Boolean/Numerical) The value of the `LV_FAC_AFU_RATIO_FTL_VLD` output from the previous time step. This acts as a feedback input for maintaining the local validity state.\r\n6.  **`FAC_AFU_RATIO_FTL_VLD_cur`**: (Numerical) The value of the `FAC_AFU_RATIO_FTL_VLD` output from the previous time step. This acts as a feedback input to hold the last valid ratio.\r\n7.  **`1`**: (Constant Numerical) A constant value used as an input to the `f(x)` calculation block, potentially a scaling factor or a reference value.\r\n\r\n## Outputs\r\n1.  **`LV_FAC_AFU_RATIO_FTL_VLD`**: (Boolean/Numerical) The current determined local validity state of the FTL-based fuel-air ratio. A value of '1' usually means valid, and '0' means invalid. (Local/Fuel Air Ratio/Fuel Tank Level Valid)\r\n2.  **`FAC_AFU_RATIO_FTL_VLD`**: (Numerical) The final FTL-based flex fuel ratio. This output is either a newly calculated value (if currently valid) or the last known valid value (if currently invalid). (Fuel Air Ratio/Fuel Tank Level Valid)\r\n\r\n## Logic Flow\r\n\r\nThe subsystem processes inputs and updates outputs in a time-stepped manner, as indicated by the presence of Unit Delay blocks (`z^-1`).\r\n\r\n1.  **Determine FTL Logic Activation (`FTL_Logic_Active`):**\r\n    *   An `AND` gate evaluates three conditions:\r\n        *   `C_FAC_AFU_RATIO_FTL_VLD` is true.\r\n        *   `LC_AFU_FTL_REFI_BIN` is false (inverted by the `NOT` block, meaning \"no refueling event\").\r\n        *   `V. 6.4` is true (interpreted as a boolean condition).", "mimetype": "text/plain", "start_char_idx": 273704, "end_char_idx": 277348, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "383e941e-eeb9-4d06-a803-9e13c080e852": {"__data__": {"id_": "383e941e-eeb9-4d06-a803-9e13c080e852", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "adc0c331-ec98-4315-a6fd-01cef883f43d", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "b3c30829751db707067015353dd9a2ca148ea2c5957b3401b66a2ff39549023f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1572f213-00ff-44e0-a649-657f95965c08", "node_type": "1", "metadata": {}, "hash": "021f94e2f305731dd6d45c3cae8e687360e96f8ccc165952617dbd3913702e5b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `LC_AFU_FTL_REFI_BIN` is false (inverted by the `NOT` block, meaning \"no refueling event\").\r\n        *   `V. 6.4` is true (interpreted as a boolean condition).\r\n    *   The output of this `AND` gate, `FTL_Logic_Active`, becomes true only if all three conditions are met. This signal essentially determines if the FTL-based validity logic should be active.\r\n\r\n2.  **Determine \"Local\" FTL Validity (`LV_FAC_AFU_RATIO_FTL_VLD`):**\r\n    *   A `Switch` block uses `FTL_Logic_Active` as its control input (`u2`). The switch condition is `Check ~= 0`.\r\n    *   If `FTL_Logic_Active` is TRUE (non-zero), the switch outputs `LV_FAC_AFU_RATIO_FTL_VLD_cur` (the local FTL validity state from the previous time step). This means the validity state holds its last value.\r\n    *   If `FTL_Logic_Active` is FALSE (zero), the switch outputs `0`. This means the local FTL validity is reset to `0` (invalid).\r\n    *   The output `LV_FAC_AFU_RATIO_FTL_VLD` is then fed into a Unit Delay block to become `LV_FAC_AFU_RATIO_FTL_VLD_cur` for the next time step, establishing a feedback loop that retains or resets the local validity state. (Note: How `LV_FAC_AFU_RATIO_FTL_VLD` can initially become '1' is not depicted, suggesting external initialization or setting under conditions not shown).\r\n\r\n3.  **Calculate Current FTL Flex Fuel Ratio (`Calculated_FTL_Ratio`):**\r\n    *   A custom function block, labeled `f(x)`, takes four inputs: `1`, `V. 6.4`, `LV_FAC_AFU_RATIO_VLD`, and `LV_FAC_AFU_RATIO_FTL_VLD_cur`.\r\n    *   This block performs a calculation (e.g., a mathematical function, a lookup table, or a state-space model) to derive the current FTL-based flex fuel ratio. Let's refer to its output as `Calculated_FTL_Ratio`.\r\n\r\n4.  **Assign Overall FTL Flex Fuel Ratio (`FAC_AFU_RATIO_FTL_VLD`):**\r\n    *   A second `Switch` block uses the determined \"Local\" FTL Validity (`LV_FAC_AFU_RATIO_FTL_VLD`) as its control input (`u2`).\r\n    *   If `LV_FAC_AFU_RATIO_FTL_VLD` is TRUE (non-zero), the switch outputs the `Calculated_FTL_Ratio` from the `f(x)` block. This updates the overall ratio with the new value.\r\n    *   If `LV_FAC_AFU_RATIO_FTL_VLD` is FALSE (zero), the switch outputs `FAC_AFU_RATIO_FTL_VLD_cur` (the overall FTL ratio from the previous time step). This means the system holds the last known valid ratio if the current conditions don't permit an update.\r\n    *   The output `FAC_AFU_RATIO_FTL_VLD` is then fed into a Unit Delay block to become `FAC_AFU_RATIO_FTL_VLD_cur` for the next time step, maintaining the last valid ratio.\r\n\r\nIn summary, the system dynamically manages the validity of the FTL flex fuel ratio by considering various operational conditions (refueling, overall system validity). It ensures that the output ratio is either a freshly calculated value when valid, or a held value from the last valid calculation, preventing spurious updates during invalid conditions.\r\n\r\n\r\n--- Page 93 ---\r\n\r\nThis image displays a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram, titled \"ALFU. Fuel tank level based flex fuel ratio detection,\" is to process various inputs related to fuel tank levels, refueling events, sensor states, and permissions to determine and output:\r\n1.  Adjusted minimum and maximum allowed fuel tank level ratios.\r\n2.  An integrated sum of refueling mass flow.\r\n3.  A calculated fuel tank level percentage after a refueling stop.\r\n4.  A validity/reset flag for the AFU (Alcohol Fuel Unit) ratio, indicating whether the system's fuel ratio calculation is currently valid or requires a reset.\r\n\r\nEssentially, it's a subsystem for managing fuel tank level related calculations and validity in a flex-fuel system, likely for detecting refueling and ensuring the accuracy of fuel type estimation.", "mimetype": "text/plain", "start_char_idx": 277185, "end_char_idx": 280940, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1572f213-00ff-44e0-a649-657f95965c08": {"__data__": {"id_": "1572f213-00ff-44e0-a649-657f95965c08", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "383e941e-eeb9-4d06-a803-9e13c080e852", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "5c785aa1d91898932b1d5186ac384b46b762d1bb5dbc321c3f648cb989a5eeb6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "470d8147-c0b5-4b67-ad25-d0d326373121", "node_type": "1", "metadata": {}, "hash": "c2730f93b81727095fcb44c3df76cc2ef3e7f683730605ed4d31e43173dedc82", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "2.  An integrated sum of refueling mass flow.\r\n3.  A calculated fuel tank level percentage after a refueling stop.\r\n4.  A validity/reset flag for the AFU (Alcohol Fuel Unit) ratio, indicating whether the system's fuel ratio calculation is currently valid or requires a reset.\r\n\r\nEssentially, it's a subsystem for managing fuel tank level related calculations and validity in a flex-fuel system, likely for detecting refueling and ensuring the accuracy of fuel type estimation.\r\n\r\n## Inputs\r\nThe key inputs to this diagram are:\r\n*   `FAC_AFU_RATIO_FTL_MIN_in`: Input for the minimum allowed fuel tank level ratio.\r\n*   `C_FAC_AFU_RATIO_FTL_OFS_MIN`: Offset value for the minimum fuel tank level ratio.\r\n*   `FAC_AFU_RATIO_FTL_MAX_in`: Input for the maximum allowed fuel tank level ratio.\r\n*   `C_FAC_AFU_RATIO_FTL_OFS_MAX`: Offset value for the maximum fuel tank level ratio.\r\n*   `FTL_PERC_ST_REFU`: Fuel tank level percentage at the start of refueling.\r\n*   `FTL_PERC_STOP_REFU_in`: Fuel tank level percentage at the stop of refueling.\r\n*   `FTL_PERC_STOP_IN`: Fuel tank level percentage at engine stop, used for a look-up table.\r\n*   `MFF_SUM_REFU_in`: Mass flow sum related to refueling.\r\n*   `C_MFF_SUM_REFU_THD_FTL_INI`: Threshold for the initial fill fuel tank level based on mass flow sum.\r\n*   `NC_STATE_AFU_SENS_CONF`: Non-confirmed state of the AFU sensor configuration (a boolean or enumerated state).\r\n*   `ACTION_FARM_GetPermission_T3`: Permission signal from the \"Action Farm\" component (likely indicating operational permission).\r\n*   `NC_FID_ERR_AFU_SENS_FTL`: Error flag for the AFU fuel tank level sensor.\r\n*   `LC_FAC_AFU_RATIO_CONF`: Local confirmation flag for the AFU ratio.\r\n*   `LV_FAC_AFU_RATIO_VLD_RST_in`: Input signal to explicitly request a reset of the AFU ratio validity.\r\n*   `IP_FTL_PERC_HYS_REFU`: A 1D Look-Up Table providing hysteretic fuel tank percentage data based on `FTL_PERC_STOP_IN`.\r\n\r\n## Outputs\r\nThe key outputs from this diagram are:\r\n*   `FAC_AFU_RATIO_FTL_MIN_out`: The calculated minimum allowed fuel tank level ratio, constrained to be non-negative.\r\n*   `FAC_AFU_RATIO_FTL_MAX_out`: The calculated maximum allowed fuel tank level ratio, constrained to an upper limit (e.g., 1 or 100%).\r\n*   `MFF_SUM_REFU_INT_out`: The integrated sum of refueling mass flow, resettable.\r\n*   `FTL_PERC_STOP_out`: The calculated fuel tank level percentage after a stop event.\r\n*   `FTL_PERC_STOP_REFU_out`: The calculated fuel tank level percentage after a refueling stop event.\r\n*   `LV_FAC_AFU_RATIO_VLD_RST_out`: The validity/reset flag for the AFU ratio, indicating its current state (0 for reset/invalid, 1 for valid after integration delay).\r\n\r\n## Logic Flow\r\nThe logical flow can be broken down into three main parallel processing paths:\r\n\r\n1.  **Fuel Tank Level Ratio Bounds Calculation:**\r\n    *   The `FAC_AFU_RATIO_FTL_MIN_in` is summed with `C_FAC_AFU_RATIO_FTL_OFS_MIN`. The result is then passed through a `max(x, 0)` block, ensuring the output `FAC_AFU_RATIO_FTL_MIN_out` is never negative.\r\n    *   Similarly, `FAC_AFU_RATIO_FTL_MAX_in` is summed with `C_FAC_AFU_RATIO_FTL_OFS_MAX`. The result is then passed through a `min(x, 1)` block (assuming '1' as the upper limit), ensuring the output `FAC_AFU_RATIO_FTL_MAX_out` does not exceed this limit.\r\n\r\n2.  **Refueling Sum Integration and Fuel Tank Level Percentage at Stop Calculation:**\r\n    *   **Refueling Sum:** The integrator block, which outputs `MFF_SUM_REFU_INT_out`, accumulates `MFF_SUM_REFU_in`. This integrator is reset to 0 (initial condition) if the sum of `FTL_PERC_ST_REFU` and `FTL_PERC_STOP_REFU_in` is non-zero, indicating that a refueling start or stop event has occurred.", "mimetype": "text/plain", "start_char_idx": 280464, "end_char_idx": 284155, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "470d8147-c0b5-4b67-ad25-d0d326373121": {"__data__": {"id_": "470d8147-c0b5-4b67-ad25-d0d326373121", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1572f213-00ff-44e0-a649-657f95965c08", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "30ecbdd87c1526e89ffede3bca2552273f08bfa2110be7dee941df34a993beb5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "13fa6252-4c70-4dbd-89b6-8f0bc915e5e2", "node_type": "1", "metadata": {}, "hash": "490cbfaf5258a8eb086d3cf315c033f2091d34c101234b4c38dc14fb51111a02", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This integrator is reset to 0 (initial condition) if the sum of `FTL_PERC_ST_REFU` and `FTL_PERC_STOP_REFU_in` is non-zero, indicating that a refueling start or stop event has occurred.\r\n    *   **FTL Percentage at Stop:**\r\n        *   `FTL_PERC_STOP_IN` is fed into a 1D Look-Up Table (`IP_FTL_PERC_HYS_REFU`) to get a hysteretic value.\r\n        *   A `min` block compares `MFF_SUM_REFU_in` with `C_MFF_SUM_REFU_THD_FTL_INI`. The output of this `min` block controls a `Switch`.\r\n        *   If the condition set by the `min` block output is met (e.g., if the mass flow sum is below the threshold), a constant value `99.60937` (labeled `FTL_PERC`) is selected. Otherwise, the output of the `IP_FTL_PERC_HYS_REFU` look-up table is selected.\r\n        *   The selected value is then output as both `FTL_PERC_STOP_out` and `FTL_PERC_STOP_REFU_out`.\r\n\r\n3.  **AFU Ratio Validity Reset Logic (`LV_FAC_AFU_RATIO_VLD_RST_out`):**\r\n    *   A primary reset condition for the AFU ratio validity is determined by an `OR` gate. This `OR` gate becomes true if any of the following conditions are met:\r\n        *   `NC_STATE_AFU_SENS_CONF == 0`: The AFU sensor configuration state is 0 (potentially indicating an invalid configuration).\r\n        *   `NOT(ACTION_FARM_GetPermission_T3)`: Permission from \"Action Farm\" is *not* granted. (`ACTION_FARM_GetPermission_T3` is passed through an \"ActionImport\" block becoming `PRM_LV_PRMS`, which is then inverted by a `NOT` gate).\r\n        *   `NC_FID_ERR_AFU_SENS_FTL`: An error in the AFU fuel tank level sensor is detected (this signal directly feeds the `OR` gate, indicating an active-high error).\r\n        *   `LC_FAC_AFU_RATIO_CONF`: A local confirmation flag for the AFU ratio is active.\r\n        *   `LV_FAC_AFU_RATIO_VLD_RST_in`: An external signal explicitly requests a reset.\r\n    *   The output of this `OR` gate (the combined reset condition) serves as the reset trigger for an integrator.\r\n    *   This integrator, which takes a constant `1` as input, produces `LV_FAC_AFU_RATIO_VLD_RST_out`. When the `OR` gate output is true, the integrator resets its output to `0` (indicated by the `0` block above it), signifying an invalid or reset state. When the `OR` gate output is false, the integrator starts integrating the `1` input, causing `LV_FAC_AFU_RATIO_VLD_RST_out` to become `1` after a unit time, indicating that the AFU ratio is considered valid.\r\n\r\nThe smaller diagram labeled \"Figure 4.10:15\" shows a simplified path where `LV_FAC_AFU_RATIO_VLD_RST` is simply output as `0` from an initialization or specific state, possibly representing a default or forced invalid state under certain conditions (e.g., engine start without refueling detected, as per the surrounding text).\r\n\r\n\r\n--- Page 95 ---\r\n\r\nThis image contains two distinct Simulink diagrams, which will be analyzed separately as components of a larger automotive system related to fuel tank level (FTL) based flex fuel ratio (AFU) detection.\r\n\r\n## Function\r\n\r\n### Diagram 1 (Figure 4.1017: \"Condition checking while engine running\")\r\nThis diagram's primary function is to perform a detailed logical condition check that dictates the activation of specific calculation paths for Fuel Tank Level (FTL) based Alcohol Fuel Unit (AFU) detection when the engine is running. It evaluates numerous system states, sensor validities, error flags, and control requests to determine if a set of \"active\" conditions are met, subsequently directing the processing to one of two distinct function blocks.\r\n\r\n### Diagram 2 (Figure 4.1018: \"FTL_PERC calculation\")\r\nThis diagram's primary function is to calculate the final Fuel Tank Level Percentage (`FTL_PERC`) by adding a configurable offset (`C_FTL_PERC_OFS`) to the raw Fuel Tank Level (`FTL`). This calculation is indicated to be performed at a 100ms interval when active.\r\n\r\n## Inputs\r\n\r\n### Diagram 1 (Figure 4.1017)\r\n*   **LV_ES**: Engine State (Boolean).", "mimetype": "text/plain", "start_char_idx": 283970, "end_char_idx": 287876, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "13fa6252-4c70-4dbd-89b6-8f0bc915e5e2": {"__data__": {"id_": "13fa6252-4c70-4dbd-89b6-8f0bc915e5e2", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "470d8147-c0b5-4b67-ad25-d0d326373121", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "42dfe7573297973ecaa99d4d136fcee2e9b109e5381024214ee1fdf210ba4f3d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7fd64ccb-9432-44ea-a9f4-73e01f42ea61", "node_type": "1", "metadata": {}, "hash": "b2dc1372c50b0070d1306ed55892bb9500bf883115765ccfbeab862b0e3a42d6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This calculation is indicated to be performed at a 100ms interval when active.\r\n\r\n## Inputs\r\n\r\n### Diagram 1 (Figure 4.1017)\r\n*   **LV_ES**: Engine State (Boolean). *Interpretation: Assumed to be \"Engine Stopped\" (active high) to logically align with the diagram title \"Condition checking while engine running\"; thus, its inversion signifies \"Engine Running\".*\r\n*   **LV_FTL_CAN_VLD_AFU**: FTL Sensor CAN Validity for AFU (Boolean).\r\n*   **LV_FAC_AFU_RATIO_FTL_ACT**: Actual AFU Ratio derived from FTL measurement (Numerical/Boolean indicating activity).\r\n*   **ACTION_FARM_GetPermission_T3**: Permission for a specific action (e.g., related to 'Farm T3') (Boolean).\r\n*   **NC_FID_ERR_FTL_SENS_FTL**: Error Flag for FTL Sensor (Boolean).\r\n*   **PRM_FID_ACTION_FARM_GetPermission**: Parameter defining permission for a 'Farm' action (Boolean/Configurable).\r\n*   **LC_FTL_REFU_MAN_DET**: Manual Refueling Detection for FTL (Boolean).\r\n*   **LV_FAC_AFU_RATIO_EXT_ADJ**: External Adjustment status for AFU Ratio (Boolean).\r\n*   **LV_FAC_AFU_RATIO_EXT_REQ**: External Request status for AFU Ratio (Boolean).\r\n*   **LV_INH_FAC_AFU_RATIO_FTL**: Inhibit Flag for AFU Ratio from FTL (Boolean).\r\n*   **input (signal `ext_req_min_max`)**: An external requested minimum/maximum value (Numerical), which is passed into the conditional function blocks.\r\n\r\n### Diagram 2 (Figure 4.1018)\r\n*   **FTL**: Fuel Tank Level (Raw numerical value).\r\n*   **C_FTL_PERC_OFS**: Configuration Parameter: Fuel Tank Level Percentage Offset (Constant numerical value).\r\n\r\n## Outputs\r\n\r\n### Diagram 1 (Figure 4.1017)\r\n*   **clc**: A bus containing the output of the conditionally executed function block. This bus will carry either the `ext_req_min_max` value (if the `COND_IF` branch is taken) or the `clc_not_if` value (if the `CLC_NOT_IF` branch is taken).\r\n\r\n### Diagram 2 (Figure 4.1018)\r\n*   **FTL_PERC**: Calculated Fuel Tank Level Percentage (Numerical).\r\n\r\n## Logic Flow\r\n\r\n### Diagram 1 (Figure 4.1017: \"Condition checking while engine running\")\r\n1.  **Input Pre-processing**:\r\n    *   Several boolean input signals (`LV_ES`, `NC_FID_ERR_FTL_SENS_FTL`, `LC_FTL_REFU_MAN_DET`, `LV_FAC_AFU_RATIO_EXT_ADJ`, `LV_FAC_AFU_RATIO_EXT_REQ`, `LV_INH_FAC_AFU_RATIO_FTL`) are inverted using `NOT` gates.\r\n    *   `ACTION_FARM_GetPermission_T3` is processed by an \"ActionImport\" block, and `PRM_FID_ACTION_FARM_GetPermission` by a \"PRM_LV_PRMS\" block, likely handling data access or conversions.\r\n2.  **Primary Condition Evaluation (`cond_if`)**:\r\n    *   A large `AND` gate combines ten different conditions. For the `cond_if` signal to be TRUE (indicating the \"active\" condition for AFU detection), all of the following must be TRUE:\r\n        *   NOT `LV_ES` (Engine is running, based on interpretation).\r\n        *   `LV_FTL_CAN_VLD_AFU` (FTL sensor CAN data for AFU is valid).\r\n        *   `LV_FAC_AFU_RATIO_FTL_ACT` (Actual FTL-based AFU ratio is active or available).\r\n        *   The processed permission from `ACTION_FARM_GetPermission_T3`.\r\n        *   NOT `NC_FID_ERR_FTL_SENS_FTL` (FTL sensor is not in an error state).\r\n        *   The processed parameter for `PRM_FID_ACTION_FARM_GetPermission`.\r\n        *   NOT `LC_FTL_REFU_MAN_DET` (No manual refueling is detected for FTL).\r\n        *   NOT `LV_FAC_AFU_RATIO_EXT_ADJ` (No external adjustment for AFU ratio is active).\r\n        *   NOT `LV_FAC_AFU_RATIO_EXT_REQ` (No external request for AFU ratio is active).\r\n        *   NOT `LV_INH_FAC_AFU_RATIO_FTL` (AFU ratio calculation from FTL is not inhibited).\r\n    *   The boolean result of this `AND` gate is assigned to the signal `cond_if`.\r\n3.", "mimetype": "text/plain", "start_char_idx": 287712, "end_char_idx": 291334, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7fd64ccb-9432-44ea-a9f4-73e01f42ea61": {"__data__": {"id_": "7fd64ccb-9432-44ea-a9f4-73e01f42ea61", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "13fa6252-4c70-4dbd-89b6-8f0bc915e5e2", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "bb91e179e8c8d0c937a6f27c7fc37152a4aefea506217aafe0846ee56d28b419", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3a5dd933-c316-4e91-a0ae-3a6218719dd9", "node_type": "1", "metadata": {}, "hash": "bbf310527bde5bf9d10d39a9911c5fcf54398687219b1a230c8b3a0102632dd4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   NOT `LV_FAC_AFU_RATIO_EXT_REQ` (No external request for AFU ratio is active).\r\n        *   NOT `LV_INH_FAC_AFU_RATIO_FTL` (AFU ratio calculation from FTL is not inhibited).\r\n    *   The boolean result of this `AND` gate is assigned to the signal `cond_if`.\r\n3.  **Conditional Execution**:\r\n    *   The `cond_if` signal controls an `If` block (version 6.0), determining which of two subsequent function blocks is executed.\r\n    *   **If `cond_if` is TRUE (THEN branch)**: The input signal `ext_req_min_max` and the `cond_if` signal are fed into a function block `fc()` named `COND_IF X.2.3.3.1.1`. The output of this function (labeled `ext_req_min_max` in this path) is selected.\r\n    *   **If `cond_if` is FALSE (ELSE branch)**: The input signal `ext_req_min_max` and the `cond_if` signal are fed into a different function block `fc()` named `CLC_NOT_IF X.2.3.3.1.2`. The output of this function (labeled `clc_not_if` in this path) is selected.\r\n4.  **Output Merging**: The selected output from either the THEN or ELSE branch is then combined into a single output bus named `clc` by a `BusMerge` block.\r\n\r\n### Diagram 2 (Figure 4.1018: \"FTL_PERC calculation\")\r\n1.  **Input Acquisition**: The raw `FTL` (Fuel Tank Level) value is received as an input.\r\n2.  **Parameter Retrieval**: The constant `C_FTL_PERC_OFS` (Fuel Tank Level Percentage Offset) is retrieved, representing a configured offset value.\r\n3.  **Calculation**: An `Add` block sums the `FTL` input value with the `C_FTL_PERC_OFS` parameter.\r\n4.  **Output Assignment**: The result of this addition directly forms the `FTL_PERC` output, representing the calculated Fuel Tank Level Percentage.\r\n\r\n\r\n--- Page 97 ---\r\n\r\nThis image contains two Simulink diagrams, which are part of a larger automotive system, specifically dealing with fuel tank level analysis and refueling detection for flex fuel applications.\r\n\r\n## Function\r\nThe primary function of this system is to **detect and manage fuel tank level states and refueling events, especially when the engine is running, to support flex fuel ratio determination and adaptation.**\r\n\r\n*   **Figure 4.10.21 (Top Diagram):** Focuses on \"Fuel tank level based flex fuel ratio detection.\" It processes various fuel level and vehicle stop inputs with hysteresis and delays to generate flags and percentages indicating different states like 'vehicle stop', 'maximum vehicle stop', and 'refueling stop'. These flags likely serve as critical inputs for the flex fuel adaptation algorithm.\r\n*   **Figure 4.10.22 (Bottom Diagram):** Addresses \"Refueling at running engine.\" It takes processed fuel level states from the first diagram (or similar inputs) and current fuel level (`x_val`) to conditionally execute specific refueling calculation logic when a refueling event is detected while the engine is running.\r\n\r\n## Inputs\r\nThe combined system receives the following key inputs:\r\n\r\n*   **`FTL_PERC_MAX_VS_STOP_in`**: Input for the maximum fuel percentage allowed during a vehicle stop.\r\n*   **`FTL_PERC_VS_STOP`**: Input representing the fuel percentage at which a vehicle stop condition is met.\r\n*   **`LV_FAC_AFU_RATIO_VLD`**: A boolean flag indicating the validity of the Adaptive Fuel Unit (AFU) ratio.\r\n*   **`FTL_PERC_STOP_REFU_in`**: Input for the fuel percentage threshold related to stopping for refueling.\r\n*   **`FTL_PERC_STOP_in`**: Input for a general fuel percentage threshold related to a stop event.\r\n*   **`x_val`**: An analog input, likely representing the current fuel tank level (percentage or volume), used for hysteresis and threshold comparisons.\r\n*   **`input`**: A generic input signal to the `ERU_REFU_CLC` function call subsystem (Figure 4.10.22).\r\n*   **`clc_vs`**: Vehicle speed or a related control signal, used as an input to both function call subsystems in Figure 4.10.22.\r\n\r\n## Outputs\r\nThe combined system produces the following key outputs:\r\n\r\n*   **`FTL_PERC_ST_REFU`**: Flag indicating a 'Stop for Refueling' state. (Intermediate output used by the second diagram).", "mimetype": "text/plain", "start_char_idx": 291070, "end_char_idx": 295077, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3a5dd933-c316-4e91-a0ae-3a6218719dd9": {"__data__": {"id_": "3a5dd933-c316-4e91-a0ae-3a6218719dd9", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7fd64ccb-9432-44ea-a9f4-73e01f42ea61", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "7b3c3d3bc9df677add1f5d133b29506adfc1b026b2624a389212bb7b56768021", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "78a05257-2281-48fa-88fa-c6e628ab3689", "node_type": "1", "metadata": {}, "hash": "8aa9078ceff3fb34da45d4f281939c8f161cd603e6fb2bc40def313cfeba16d2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **`clc_vs`**: Vehicle speed or a related control signal, used as an input to both function call subsystems in Figure 4.10.22.\r\n\r\n## Outputs\r\nThe combined system produces the following key outputs:\r\n\r\n*   **`FTL_PERC_ST_REFU`**: Flag indicating a 'Stop for Refueling' state. (Intermediate output used by the second diagram).\r\n*   **`FTL_PERC_STOP`**: Flag indicating a general 'Stop' state. (Intermediate output used by the second diagram).\r\n*   **`FTL_PERC_STOP_REFU`**: The calculated fuel percentage for 'Stop Refueling'.\r\n*   **`LV_VS_STOP_out`**: A boolean flag indicating a 'Vehicle Stop' condition.\r\n*   **`T_VS_STOP`**: A signal representing the 'Time Vehicle Stop'.\r\n*   **`FTL_PERC_MAX_VS_STOP_out`**: The calculated maximum fuel percentage for 'Vehicle Stop'.\r\n*   **`eru_refu`**: A bus containing refueling-related status and calculation results, specifically `eru_refu_clc` (Refueling Calculation result) and potentially `not_if` (result from the 'else' branch).\r\n\r\n## Logic Flow\r\n\r\nThe system's logic flow can be broken down into two main parts, corresponding to the two diagrams, followed by their interaction:\r\n\r\n### Figure 4.10.21: Fuel Tank Level based Flex Fuel Ratio Detection\r\n\r\n1.  **Input Conditioning and Hysteresis**:\r\n    *   Various input signals (`FTL_PERC_MAX_VS_STOP_in`, `FTL_PERC_VS_STOP`, `FTL_PERC_STOP_REFU_in`, `FTL_PERC_STOP_in`) are passed through Unit Delay blocks, providing access to their previous values.\r\n    *   The `x_val` (current fuel level) is fed into a 1D look-up table (`IP_FTL_PERC_HYS_REFU`), which applies hysteresis to the fuel level measurement, outputting `IP_val`. This makes the system less sensitive to minor fluctuations around a threshold.\r\n\r\n2.  **Vehicle Stop Condition (`LV_VS_STOP_in`) Calculation**:\r\n    *   Two `FTL_PERC_VS_STOP` signals (likely current and delayed values) are summed. This sum is compared against a constant `V.6.0` using a `>=` operator.\r\n    *   The result of this comparison, along with `LV_FAC_AFU_RATIO_VLD` (AFU ratio validity), a check if `FTL_PERC_STOP_REFU_in` is non-zero, and a check if the delayed `FTL_PERC_MAX_VS_STOP_in` is non-zero, are combined using a complex AND gate. The output of this AND gate is `LV_VS_STOP_in`, representing an aggregated vehicle stop condition based on fuel levels and ratio validity.\r\n\r\n3.  **Main Fuel Level State Determination**:\r\n    *   `IP_val` (from hysteresis) is summed with a constant `V.6.7`.\r\n    *   The `IP_val + V.6.7` result, along with a non-zero check on the delayed `FTL_PERC_STOP_REFU_in` and a non-zero check on the delayed `FTL_PERC_STOP_in`, are combined via an AND gate.\r\n    *   This AND gate's output, `LV_VS_STOP_in`, and the non-zero check on `FTL_PERC_STOP_REFU_in`, are fed into a central AND gate block. The output of this central AND, after being checked for non-zero and processed by a generic function block `f()`, drives the setting of the primary fuel level state outputs: `FTL_PERC_ST_REFU`, `FTL_PERC_STOP`, and `FTL_PERC_STOP_REFU`.\r\n    *   Finally, the system outputs `LV_VS_STOP_out`, `T_VS_STOP`, and `FTL_PERC_MAX_VS_STOP_out`, which are derived or passed through from intermediate states, potentially via Unit Delays for state memory.\r\n\r\n### Figure 4.10.22: Refueling at Running Engine\r\n\r\n1.  **Refueling Detection Condition (`cond_if`)**:\r\n    *   The `FTL_PERC_ST_REFU` and `FTL_PERC_STOP` signals (likely outputs from the first diagram, representing fuel level stop states) are summed.\r\n    *   `x_val` (current fuel level) is again processed through the `IP_FTL_PERC_HYS_REFU` look-up table, and its output `IP_val` is summed with `V.6.7`.", "mimetype": "text/plain", "start_char_idx": 294750, "end_char_idx": 298371, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "78a05257-2281-48fa-88fa-c6e628ab3689": {"__data__": {"id_": "78a05257-2281-48fa-88fa-c6e628ab3689", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3a5dd933-c316-4e91-a0ae-3a6218719dd9", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "0370f8dcee5260d22e3d6536c2fff5e002900910f3f517a86002589c9cd11293", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "2202ce74-1142-4f6d-9bfa-422726731ab5", "node_type": "1", "metadata": {}, "hash": "4eb904ea2da5471b84363e10d586f43caf398f2965e6aac9da6cc3b4b9094a36", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `x_val` (current fuel level) is again processed through the `IP_FTL_PERC_HYS_REFU` look-up table, and its output `IP_val` is summed with `V.6.7`.\r\n    *   The sum `(FTL_PERC_ST_REFU + FTL_PERC_STOP)` is compared with a constant `V.6.0` using a `>=` operator. The result of this comparison, potentially combined with the hysteresis output `IP_val + V.6.7`, generates the boolean condition `cond_if`. This `cond_if` determines if a refueling event is likely occurring while the engine is running.\r\n\r\n2.  **Conditional Execution (If-Else Logic)**:\r\n    *   An `If-Else` block evaluates `cond_if`:\r\n        *   **If `cond_if` is TRUE (Refueling Detected)**: The `[fc_THEN]` branch is executed. This branch calls a subsystem named `ERU_REFU_CLC` (`X.2.3.3.1.1.3.1`), taking `input` and `clc_vs` as arguments, and produces `eru_refu_clc`. This likely performs specific calculations or state updates related to the refueling event.\r\n        *   **If `cond_if` is FALSE (No Refueling Detected)**: The `[fc_ELSE]` branch is executed. This branch calls a subsystem named `NOT_IF` (`X.2.3.3.1.1.3.2`), taking `clc_vs` as an argument, and produces `not_if`. This might handle non-refueling scenarios or reset relevant states.\r\n\r\n3.  **Output Bus Creation**:\r\n    *   The outputs from the executed branch (`eru_refu_clc` from the 'then' path, and potentially `not_if` from the 'else' path, which might be implicitly merged or default to a zero value if not active) are combined into a bus named `eru_refu` using a BusMerge block. This `eru_refu` bus is the final output of this refueling detection subsystem.\r\n\r\nIn essence, the system first establishes various fuel level and vehicle state flags (Figure 4.10.21) and then uses these, along with real-time fuel level, to specifically detect and process refueling events that occur when the engine is active (Figure 4.10.22), providing a robust mechanism for flex fuel system adaptation.\r\n\r\n\r\n--- Page 98 ---\r\n\r\nThis image contains two Simulink diagrams, Figure 4.10.23 and Figure 4.10.24, which represent parts of an automotive control system.\r\n\r\n## Function\r\n\r\nThe primary function of these interconnected Simulink diagrams is to calculate and validate the maximum and minimum possible Ethanol content (flex fuel ratio, FTL_RATIO) in a vehicle's fuel tank, specifically when a refueling event is detected while the engine is running.\r\nFigure 4.10.23 focuses on dynamically adjusting the upper and lower bounds of the flex fuel ratio (`FAC_AFU_RATIO_FTL_MAX` and `FAC_AFU_RATIO_FTL_MIN`) based on refueling and engine operating conditions.\r\nFigure 4.10.24 then determines the overall validity (`LV_FAC_AFU_RATIO_FTL_VLD_out`) of the flex fuel ratio based on various inputs, including refueling status and calibration constants.\r\n\r\n## Inputs\r\n\r\nThe combined inputs to these diagrams are:\r\n\r\n*   `FAC_AFU_RATIO_FTL_MAX_TMP`: Temporary or previously calculated maximum flex fuel ratio. (Numeric)\r\n*   `FAC_AFU_RATIO_FTL_MIN_TMP`: Temporary or previously calculated minimum flex fuel ratio. (Numeric)\r\n*   `[FTL_PERC_STOP]`: A flag indicating if fuel tank level percentage update is stopped. (Boolean/Numeric, e.g., 0 or 1)\r\n*   `[FTL_PERC_ST_REFU]`: A flag indicating if fuel tank level percentage update is started due to refueling. (Boolean/Numeric, e.g., 0 or 1)\r\n*   `C_FAC_AFU_RATIO_MAX_REFU`: Calibration constant for adjusting the maximum ratio during refueling. (Numeric)\r\n*   `C_FAC_AFU_RATIO_MIN_REFU`: Calibration constant for adjusting the minimum ratio during refueling. (Numeric)\r\n*   `LV_FTL_REFU`: A boolean signal indicating if a refueling event is active. (Boolean)\r\n*   `LV_FAC_AFU_RATIO_VLD`: An existing validity flag for the base flex fuel ratio. (Boolean)\r\n*   `FAC_AFU_RATIO_FTL_VLD`: The current validated flex fuel ratio value.", "mimetype": "text/plain", "start_char_idx": 298222, "end_char_idx": 302012, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2202ce74-1142-4f6d-9bfa-422726731ab5": {"__data__": {"id_": "2202ce74-1142-4f6d-9bfa-422726731ab5", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "78a05257-2281-48fa-88fa-c6e628ab3689", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "1f1147a827ef70953750fbee0a804bf0fd15f080cc7335382620e9140d12df1e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b4725c0d-f63c-4d27-974e-9c51a0299d53", "node_type": "1", "metadata": {}, "hash": "644a990550d282af7f83c2850c70686b6258b14053bc99f200dd393ab06b9ea6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "(Numeric)\r\n*   `LV_FTL_REFU`: A boolean signal indicating if a refueling event is active. (Boolean)\r\n*   `LV_FAC_AFU_RATIO_VLD`: An existing validity flag for the base flex fuel ratio. (Boolean)\r\n*   `FAC_AFU_RATIO_FTL_VLD`: The current validated flex fuel ratio value. (Numeric)\r\n*   `C_FAC_AFU_RATIO_FTL_VLD`: A calibration constant related to the overall FTL validity. (Boolean/Numeric)\r\n*   `LC_AFU_FTL_REFU_BIN`: A binary signal indicating the detection of refueling. (Boolean)\r\n*   `LV_FAC_AFU_RATIO_FTL_VLD_in`: An input validity flag for the FTL ratio being evaluated. (Boolean)\r\n*   `FAC_AFU_RATIO_FTL_VLD_in`: An input FTL ratio value being evaluated for validity. (Numeric)\r\n*   `Check`: A signal used as a condition for a switch block in the validity logic. (Numeric, its source is external to this diagram)\r\n\r\n## Outputs\r\n\r\nThe combined outputs from these diagrams are:\r\n\r\n*   `FAC_AFU_RATIO_FTL_MAX`: The calculated maximum possible flex fuel ratio. (Numeric)\r\n*   `FAC_AFU_RATIO_FTL_MIN`: The calculated minimum possible flex fuel ratio. (Numeric)\r\n*   `LV_FAC_AFU_RATIO_FTL_VLD_out`: The output boolean flag indicating the validity of the FTL ratio. (Boolean)\r\n*   `FAC_AFU_RATIO_FTL_VLD_out`: The output FTL ratio value, typically a pass-through of `FAC_AFU_RATIO_FTL_VLD_in`. (Numeric)\r\n\r\n## Logic Flow\r\n\r\nThe logic flow can be broken down into two main parts corresponding to the two figures:\r\n\r\n### Part 1: FAC_AFU_RATIO_FTL_MAX/MIN Calculation (Figure 4.10.23)\r\n\r\nThis section calculates the upper and lower bounds of the flex fuel ratio. Both maximum and minimum calculations follow a parallel structure:\r\n\r\n1.  **Read Temporary Ratios:** The process starts by taking the current `FAC_AFU_RATIO_FTL_MAX_TMP` and `FAC_AFU_RATIO_FTL_MIN_TMP` values, which are likely previous or temporarily stored ratio bounds.\r\n2.  **Determine Refueling/Stop Condition:** The flags `[FTL_PERC_STOP]` and `[FTL_PERC_ST_REFU]` are combined in an arithmetic expression: `CONDITION = ([FTL_PERC_STOP] * 1) + [FTL_PERC_ST_REFU]`. This `CONDITION` value (which can be 0, 1, or 2 if the inputs are binary) determines the magnitude of the adjustment to the ratio bounds.\r\n3.  **Calculate Max Ratio Adjustment:**\r\n    *   The `CONDITION` from step 2 is multiplied by the calibration constant `C_FAC_AFU_RATIO_MAX_REFU`.\r\n    *   This product is then added to `FAC_AFU_RATIO_FTL_MAX_TMP`, producing an intermediate adjusted maximum ratio.\r\n4.  **Calculate Min Ratio Adjustment:**\r\n    *   Similarly, the `CONDITION` is multiplied by the calibration constant `C_FAC_AFU_RATIO_MIN_REFU`.\r\n    *   This product is added to `FAC_AFU_RATIO_FTL_MIN_TMP`, yielding an intermediate adjusted minimum ratio.\r\n5.  **Final Max Ratio Processing (f() block):** The intermediate adjusted maximum ratio (from step 3) and three other signals (`LV_FTL_REFU`, `LV_FAC_AFU_RATIO_FTL_VLD`, `FAC_AFU_RATIO_FTL_VLD`) are fed into a generic function block labeled `f()`. This `f()` block likely contains specific algorithms (e.g., filtering, state logic, or boundary checks) to produce the final `FAC_AFU_RATIO_FTL_MAX`.\r\n6.  **Final Min Ratio Processing (f() block):** The intermediate adjusted minimum ratio (from step 4) and the same three external signals are fed into an identical `f()` function block to produce the final `FAC_AFU_RATIO_FTL_MIN`.\r\n\r\n### Part 2: Setting Valid Bit (Figure 4.10.24)\r\n\r\nThis section determines the validity status of the calculated flex fuel ratio.\r\n\r\n1.  **Evaluate Preliminary Validity:** An `AND` gate combines three conditions:\r\n    *   `C_FAC_AFU_RATIO_FTL_VLD`: A calibration constant (e.g., indicating if FTL validity calculations are enabled or if a base condition is met).\r\n    *   `NOT(LC_AFU_FTL_REFU_BIN)`: Ensures that the system is *not* currently detecting refueling.", "mimetype": "text/plain", "start_char_idx": 301743, "end_char_idx": 305532, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b4725c0d-f63c-4d27-974e-9c51a0299d53": {"__data__": {"id_": "b4725c0d-f63c-4d27-974e-9c51a0299d53", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "2202ce74-1142-4f6d-9bfa-422726731ab5", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "5e0be1937aa9aa820639aaafb8f3581e8f7095726d94160013a74ecea5eeb927", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d0065b88-878a-4756-b37c-7af88690c169", "node_type": "1", "metadata": {}, "hash": "2cee57f8cb6c08e154836e814fc17189591a37d78b3fac60433284d2b16a5329", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "1.  **Evaluate Preliminary Validity:** An `AND` gate combines three conditions:\r\n    *   `C_FAC_AFU_RATIO_FTL_VLD`: A calibration constant (e.g., indicating if FTL validity calculations are enabled or if a base condition is met).\r\n    *   `NOT(LC_AFU_FTL_REFU_BIN)`: Ensures that the system is *not* currently detecting refueling.\r\n    *   `LV_FAC_AFU_RATIO_VLD`: An existing validity flag, likely a prerequisite for current validity.\r\n    *   The output of this `AND` gate, `PRELIM_VALID`, indicates a basic set of conditions for validity.\r\n2.  **First `f()` Function Block (Validity Refinement):** `PRELIM_VALID` and the multiplexed inputs `LV_FAC_AFU_RATIO_FTL_VLD_in` and `FAC_AFU_RATIO_FTL_VLD_in` are processed by a first `f()` function block. This block likely performs further checks or state-dependent logic to refine the validity status. Let's call its output `F1_VALID_OUT`.\r\n3.  **Conditional Selection (Switch Block):** A Switch block selects between `F1_VALID_OUT` and `LV_FAC_AFU_RATIO_FTL_VLD_in`:\r\n    *   If the external signal `Check` is not equal to 0 (`Check ~= 0` is true), `F1_VALID_OUT` is selected.\r\n    *   Otherwise (if `Check == 0`), the input validity flag `LV_FAC_AFU_RATIO_FTL_VLD_in` is selected. This allows for bypassing or holding the previous validity under certain conditions. Let's call this `SWITCHED_VALID_STATUS`.\r\n4.  **Second `f()` Function Block (Final Validity Output):** `SWITCHED_VALID_STATUS` and the same multiplexed inputs (`LV_FAC_AFU_RATIO_FTL_VLD_in`, `FAC_AFU_RATIO_FTL_VLD_in`) are processed by a second `f()` function block. This final `f()` block determines and outputs the ultimate validity flag, `LV_FAC_AFU_RATIO_FTL_VLD_out`.\r\n5.  **Ratio Value Pass-through:** The input ratio value `FAC_AFU_RATIO_FTL_VLD_in` is directly routed to `FAC_AFU_RATIO_FTL_VLD_out`. This implies that this validity subsystem does not modify the flex fuel ratio value itself, only its validity status.\r\n\r\nThe `f()` blocks represent custom logic, possibly implemented as S-Functions or Embedded MATLAB Functions, which are not detailed in these diagrams but are crucial for the complete system behavior. They are likely responsible for state management, filtering, or complex decision-making based on the various input signals.\r\n\r\n\r\n--- Page 99 ---\r\n\r\nThe image provided is a Simulink diagram.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram, titled \"ALFU. Fuel tank level based flex fuel ratio detection\" (Figure 4.10.25), is to:\r\n\r\n1.  **Calculate and bound minimum and maximum thresholds** for a fuel tank level-based Air-Fuel Ratio Unit (AFU) ratio.\r\n2.  **Detect and signal fuel refueling events** (start and stop) based on fuel percentage inputs, incorporating offsets, hysteresis, and mass flow sum thresholds.\r\n3.  **Generate a validity reset signal** for the AFU ratio, considering sensor confirmation status, system permissions, and error conditions.\r\n\r\n## Inputs\r\n\r\nThe key inputs to this system (from Figure 4.10.25) are:\r\n\r\n*   `FAC_AFU_RATIO_FTL_MIN_in`: Raw input for the minimum AFU ratio threshold.\r\n*   `C_FAC_AFU_RATIO_FTL_OFS_MIN`: Configurable offset for the minimum AFU ratio threshold.\r\n*   `FAC_AFU_RATIO_FTL_MAX_in`: Raw input for the maximum AFU ratio threshold.\r\n*   `C_FAC_AFU_RATIO_FTL_OFS_MAX`: Configurable offset for the maximum AFU ratio threshold.\r\n*   `FTL_PERC_ST_REFU_in`: Fuel tank level percentage indicating the start of a refueling event.\r\n*   `FTL_PERC_STOP_REFU_in`: Fuel tank level percentage indicating the stop of a refueling event.\r\n*   `FTL_PERC_STOP_in`: Fuel tank level percentage for hysteresis calculation in stop detection.\r\n*   `MFF_SUM_REFU_in`: Mass flow sum during a potential refueling event.\r\n*   `C_MFF_SUM_REFU_THD_FTL_INI`: Configurable threshold for the initial fuel tank level mass flow sum.", "mimetype": "text/plain", "start_char_idx": 305202, "end_char_idx": 309010, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d0065b88-878a-4756-b37c-7af88690c169": {"__data__": {"id_": "d0065b88-878a-4756-b37c-7af88690c169", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b4725c0d-f63c-4d27-974e-9c51a0299d53", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "5f89b5c22576bab6103f236c8000d998467ce06e80f4ee26d9f368c64d882311", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "aa777019-5f98-4e7b-b43e-2862b2a8ab08", "node_type": "1", "metadata": {}, "hash": "a5f46f691509ae9d858e827a3c36f4a117193f2b1571f95667eaa52337cb3507", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `FTL_PERC_STOP_REFU_in`: Fuel tank level percentage indicating the stop of a refueling event.\r\n*   `FTL_PERC_STOP_in`: Fuel tank level percentage for hysteresis calculation in stop detection.\r\n*   `MFF_SUM_REFU_in`: Mass flow sum during a potential refueling event.\r\n*   `C_MFF_SUM_REFU_THD_FTL_INI`: Configurable threshold for the initial fuel tank level mass flow sum.\r\n*   `NC_STATE_AFU_SENS_CONF`: Status indicating the confirmation state of the AFU sensor.\r\n*   `ACTION_FARM_GetPermission_T3`: A specific permission signal (T3) related to the AFU system.\r\n*   `PRM_LV_PRMS`: Parameter for permission level, used by the `ACTION_FARM_GetPermission` block.\r\n*   `NC_FID_ERR_AFU_SENS_FTL`: Error flag indicating an issue with the AFU sensor in the fuel tank level context.\r\n*   `LC_FAC_AFU_RATIO_CONF`: Confirmation signal for the AFU ratio.\r\n*   `LV_FAC_AFU_RATIO_VLD_RST_in`: An incoming signal requesting a reset of the AFU ratio validity.\r\n\r\n## Outputs\r\n\r\nThe key outputs generated by this system (from Figure 4.10.25) are:\r\n\r\n*   `FAC_AFU_RATIO_FTL_MIN_out` (1): The calculated and bounded minimum AFU ratio threshold.\r\n*   `FAC_AFU_RATIO_FTL_MAX_out` (2): The calculated and bounded maximum AFU ratio threshold.\r\n*   `MFF_SUM_REFU_INT_out` (3): An intermediate output related to the mass flow sum during refuel.\r\n*   `FTL_PERC_STOP_out` (4): Output related to the fuel percentage stop.\r\n*   `FTL_PERC_STOP_REFU_out` (5): Output indicating the fuel percentage at stop of refuel.\r\n*   `LV_FAC_AFU_RATIO_VLD_RST_out` (6): The final AFU ratio validity reset signal.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the diagram (Figure 4.10.25) can be divided into three main sections:\r\n\r\n1.  **AFU Ratio Threshold Calculation:**\r\n    *   **Minimum Threshold**: The `FAC_AFU_RATIO_FTL_MIN_in` signal is adjusted by adding the `C_FAC_AFU_RATIO_FTL_OFS_MIN` offset. The result is then ensured to be non-negative by passing it through a `max` block with `0`. This final value is output as `FAC_AFU_RATIO_FTL_MIN_out`.\r\n    *   **Maximum Threshold**: Similarly, `FAC_AFU_RATIO_FTL_MAX_in` is adjusted by adding the `C_FAC_AFU_RATIO_FTL_OFS_MAX` offset. This result is then capped at `1` by passing it through a `min` block with `1`. This final value is output as `FAC_AFU_RATIO_FTL_MAX_out`.\r\n    *   *Purpose*: To provide bounded and configurable operating limits for the AFU ratio.\r\n\r\n2.  **Refuel Detection Logic:**\r\n    *   **Start Refuel Processing**: `FTL_PERC_ST_REFU_in` is offset by `C_FAC_AFU_RATIO_FTL_OFS_MIN` (likely a specific offset, potentially reusing a parameter name). The resulting signal, `FTL_PERC_ST_REFU`, is then compared (`>`) to `0`. The output of this comparison, after processing by a \"Check ~= 0\" block (likely a rising edge or non-zero detection), generates `MFF_SUM_REFU_INT_out`.\r\n    *   **Hysteresis for Stop Detection**: `FTL_PERC_STOP_in` is fed into a lookup table (`IP_FTL_PERC_HYS_REFU`) to introduce hysteresis, generating `IP_val`. This helps stabilize the stop refuel detection against minor fluctuations.\r\n    *   **Mass Flow Sum Minimum**: `MFF_SUM_REFU_in` is limited by taking the `min` with `C_MFF_SUM_REFU_THD_FTL_INI`, establishing a floor for the mass flow sum.\r\n    *   **Stop Refuel Outputs**: The `FTL_PERC_ST_REFU` signal is passed directly (via a gain of 1) to `FTL_PERC_STOP_out`. It is also involved in generating `FTL_PERC_STOP_REFU_out`, likely through a comparison or thresholding against a constant value (e.g., `99.60937`).\r\n    *   *Purpose*: To accurately identify the start and stop of a refueling event, taking into account fuel level changes, potential noise (via hysteresis), and accumulated fuel mass flow.", "mimetype": "text/plain", "start_char_idx": 308636, "end_char_idx": 312305, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "aa777019-5f98-4e7b-b43e-2862b2a8ab08": {"__data__": {"id_": "aa777019-5f98-4e7b-b43e-2862b2a8ab08", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d0065b88-878a-4756-b37c-7af88690c169", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "f97c8356c52b1ad28a2113ef225e2857cc649f57122b07394ed0712d41850739", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "fc372c1d-30e1-488a-a19f-034e3e84e425", "node_type": "1", "metadata": {}, "hash": "96f1e00c366fca80fef0af4cd2a039688fcb812d3205b08691d86c3c0ed1ad13", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "It is also involved in generating `FTL_PERC_STOP_REFU_out`, likely through a comparison or thresholding against a constant value (e.g., `99.60937`).\r\n    *   *Purpose*: To accurately identify the start and stop of a refueling event, taking into account fuel level changes, potential noise (via hysteresis), and accumulated fuel mass flow.\r\n\r\n3.  **AFU Ratio Validity Reset Logic:**\r\n    *   **Sensor Confirmation**: `NC_STATE_AFU_SENS_CONF` is checked for equality (`==`) with `0`, indicating a specific sensor state.\r\n    *   **Permission & Error Check**: The `ACTION_FARM_GetPermission` block (likely a subsystem or function call) takes `PRM_LV_PRMS` and `NC_FID_ERR_AFU_SENS_FTL` as inputs. Its output, `ActionImport`, is then inverted by a `NOT` block. This means the reset logic considers when permission is *not* granted or if an error is present.\r\n    *   **OR Logic Combination**: The inverted `ActionImport` signal and the result of the sensor confirmation check (`NC_STATE_AFU_SENS_CONF == 0`) are combined using an `OR` gate. This means if either condition is true, it contributes to triggering a reset.\r\n    *   **Final Reset Determination**: The output of the `OR` gate, along with `LC_FAC_AFU_RATIO_CONF` and `LV_FAC_AFU_RATIO_VLD_RST_in`, feeds into a \"Check ~= 0\" block. The output of this block is `LV_FAC_AFU_RATIO_VLD_RST_out`.\r\n    *   *Purpose*: To provide a robust mechanism for resetting the validity of the AFU ratio, triggered by sensor status, system permissions, error conditions, or an external reset request.\r\n\r\n*Note on Figure 4.10.26*: This secondary diagram illustrates a specific scenario where `LV_FAC_AFU_RATIO_VLD_RST` (likely referring to `LV_FAC_AFU_RATIO_VLD_RST_in` from Figure 4.10.25 in a larger system context) is simply '0' if the vehicle does not stop, implying that the validity reset might be suppressed or handled differently under certain vehicle conditions. However, Figure 4.10.25 is the primary logic defining how `LV_FAC_AFU_RATIO_VLD_RST_out` is computed.\r\n\r\n\r\n--- Page 100 ---\r\n\r\nThe image contains two distinct Simulink-style block diagrams, each representing a specific automotive system function. I will analyze each diagram separately.\r\n\r\n---\r\n\r\n### **Diagram 1: MFF_SUM_REFU calculation (Figure 4.10.27)**\r\n\r\n## Function\r\nThis subsystem is designed to calculate and accumulate the total mass fuel flow (MFF) since the last refueling event. A crucial aspect of its function is to preserve or hold the previously calculated accumulated value during specific operational states, namely when the engine is stopped (`LV_ES`) or during a Power Up Clear (`LV_PUC`) event. This ensures the mass fuel flow tracking remains consistent under these conditions, rather than continuously accumulating or resetting.\r\n\r\n## Inputs\r\n*   **MFF_SUM_REFU_INT_in (Inputs 3 & 4)**: An input representing a previous, reset, or initial value for the intermediate integrated mass fuel flow. This is used when the accumulation should be held or reset.\r\n*   **MFF_SP_AFU**: Instantaneous mass fuel flow, likely \"Mass Fuel Flow Short-Period for Active Fuel Usage,\" representing the current rate of fuel consumption.\r\n*   **LV_ES (Input 1)**: A boolean flag indicating the \"Engine Stop\" condition. (TRUE when engine is stopped).\r\n*   **LV_PUC (Input 2)**: A boolean flag indicating a \"Power Up Clear\" condition. (TRUE when PUC is active).\r\n*   **MFF_SUM_REFU_in (Input 5)**: An input representing a previous, reset, or initial value for the final total mass fuel flow sum.\r\n\r\n## Outputs\r\n*   **MFF_SUM_REFU_INT_out (Output 1)**: The output of the internally integrated mass fuel flow, potentially subject to further processing or used as an intermediate accumulation value.\r\n*   **MFF_SUM_REFU_out (Output 2)**: The final accumulated mass fuel flow since the last refuel, representing the primary output of this calculation.\r\n\r\n## Logic Flow\r\n1.  **Continuous Accumulation**: The instantaneous mass fuel flow `MFF_SP_AFU` is continuously added to a feedback value `[MFF_SUM_REFU_INT]`. This feedback loop represents the core accumulation of mass fuel over time.\r\n2.", "mimetype": "text/plain", "start_char_idx": 311967, "end_char_idx": 316062, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "fc372c1d-30e1-488a-a19f-034e3e84e425": {"__data__": {"id_": "fc372c1d-30e1-488a-a19f-034e3e84e425", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "aa777019-5f98-4e7b-b43e-2862b2a8ab08", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "a81a963a4cfb5d916097fee93d4c797d514249b471b6c3f5b0b66190073088f8", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d441dfef-8feb-4919-b757-c78b11a98ef6", "node_type": "1", "metadata": {}, "hash": "0538725029e24554d4fb2f51a14071e413ac0a9066f04bea079e9406c73d5305", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **MFF_SUM_REFU_out (Output 2)**: The final accumulated mass fuel flow since the last refuel, representing the primary output of this calculation.\r\n\r\n## Logic Flow\r\n1.  **Continuous Accumulation**: The instantaneous mass fuel flow `MFF_SP_AFU` is continuously added to a feedback value `[MFF_SUM_REFU_INT]`. This feedback loop represents the core accumulation of mass fuel over time.\r\n2.  **Intermediate Processing**: The result of the summation from step 1, along with `MFF_SUM_REFU_INT_in` (Input 4), passes through a block labeled `V. 6.7`. This block likely performs a range check, saturation, or selects a specific value based on its inputs.\r\n3.  **Engine State & PUC Condition Check**:\r\n    *   The `LV_ES` (Engine Stop) signal is negated (`NOT LV_ES`).\r\n    *   The `LV_PUC` (Power Up Clear) signal is negated (`NOT LV_PUC`).\r\n    *   These two negated signals are combined by an `AND` gate. The output of this `AND` gate is TRUE only if the engine is *not* stopped (`NOT LV_ES` is TRUE) AND no Power Up Clear is active (`NOT LV_PUC` is TRUE). In other words, this signal is TRUE when the engine is actively running and no PUC event is in progress.\r\n4.  **Selection for MFF_SUM_REFU_INT_out**:\r\n    *   The TRUE/FALSE output of the `AND` gate controls a switch block labeled `Check ~= 0`.\r\n    *   If the `AND` gate output is TRUE (engine running, no PUC), the switch selects the output from the intermediate processing path (step 2).\r\n    *   If the `AND` gate output is FALSE (engine stopped OR PUC active), the switch selects `MFF_SUM_REFU_INT_in` (Input 3). This effectively holds the value or provides a reset/previous value to be maintained.\r\n    *   The selected value then passes through a generic function block `f()` (which could represent any further transformation like scaling, filtering, or data type conversion).\r\n    *   The output of `f()` then enters another switch (also labeled `Check ~= 0`), controlled by an unspecified `Check` signal (often tied to the same logic or a related validation). This switch's output is `MFF_SUM_REFU_INT_out` and is also fed back to `[MFF_SUM_REFU_INT]` for the next accumulation cycle.\r\n5.  **Selection for MFF_SUM_REFU_out**:\r\n    *   The same `AND` gate output (from step 3) also controls a second switch block labeled `Check ~= 0`.\r\n    *   If the `AND` gate output is TRUE, this switch selects the output of the `f()` block (the continuously accumulated and processed value).\r\n    *   If the `AND` gate output is FALSE, this switch selects `MFF_SUM_REFU_in` (Input 5). This mechanism allows the final `MFF_SUM_REFU_out` to either reflect the ongoing accumulation or revert/hold a specific previous value during engine stop/PUC events.\r\n\r\n---\r\n\r\n### **Diagram 2: Valid bit for binary fuels (Figure 4.10.28)**\r\n\r\n## Function\r\nThis subsystem is responsible for determining the validity (`_VLD` flags) and calculating the FTL (Fuel Tank Level) based fuel ratio, which often relates to Ethanol content in flex-fuel vehicles. It specifically handles scenarios for \"binary fuels\" and relies on both Lambda sensor measurements and FTL data, incorporating range checks and conditions for validity.\r\n\r\n## Inputs\r\n*   **FAC_AFU_RATIO_FTL_MAX (Input 3)**: The maximum allowable value for the FTL-based fuel ratio.\r\n*   **FAC_AFU_RATIO_LAMB (Input 2)**: The fuel ratio (e.g., Ethanol content) estimated or derived from Lambda sensor measurements.\r\n*   **FAC_AFU_RATIO_FTL_MIN (Input 4)**: The minimum allowable value for the FTL-based fuel ratio.\r\n*   **C_FAC_AFU_RATIO_FTL_VLD (Input 1)**: A constant value, likely representing a nominal or default validity state for the FTL ratio.\r\n*   **LV_FAC_AFU_RATIO_LAMB_VLD (Input 1)**: A boolean flag indicating the validity of the Lambda-based fuel ratio measurement.\r\n*   **LC_AFU_FTL_REFU_BIN**: A binary flag indicating whether a refueling event has recently occurred.", "mimetype": "text/plain", "start_char_idx": 315672, "end_char_idx": 319541, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d441dfef-8feb-4919-b757-c78b11a98ef6": {"__data__": {"id_": "d441dfef-8feb-4919-b757-c78b11a98ef6", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "fc372c1d-30e1-488a-a19f-034e3e84e425", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "c38d5e35c4648a89a06fb8a01f616d85eebfb72b7c421699ddae0d7a5011953c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "dbc8bdde-0d4a-462d-aa6c-b25c0ecb3daf", "node_type": "1", "metadata": {}, "hash": "9f42a55ed10dfb523b12dfb40fc220c5aeddd7f547a2fb7c3a17022d57ec901d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **C_FAC_AFU_RATIO_FTL_VLD (Input 1)**: A constant value, likely representing a nominal or default validity state for the FTL ratio.\r\n*   **LV_FAC_AFU_RATIO_LAMB_VLD (Input 1)**: A boolean flag indicating the validity of the Lambda-based fuel ratio measurement.\r\n*   **LC_AFU_FTL_REFU_BIN**: A binary flag indicating whether a refueling event has recently occurred.\r\n*   **FAC_AFU_RATIO_FTL_in (Input 7)**: An input representing a previous or default value for the FTL-based fuel ratio.\r\n*   **LV_FAC_AFU_RATIO_FTL_VLD_in (Input 5)**: An input representing a previous or default validity state for the `LV_FAC_AFU_RATIO_FTL_VLD` output.\r\n*   **FAC_AFU_RATIO_FTL_VLD_in (Input 6)**: An input representing a previous or default validity state for the `FAC_AFU_RATIO_FTL_VLD` output.\r\n\r\n## Outputs\r\n*   **FAC_AFU_RATIO_FTL (Output 1)**: The calculated or selected FTL-based fuel ratio (e.g., the determined Ethanol content).\r\n*   **LV_FAC_AFU_RATIO_FTL_VLD (Output 2)**: A boolean flag indicating the validity of the FTL-based fuel ratio (`LV` typically means \"Live\" or \"Logic Value\").\r\n*   **FAC_AFU_RATIO_FTL_VLD (Output 3)**: Another boolean flag indicating the validity of the FTL-based fuel ratio (possibly representing a different aspect of validity or a raw validity state).\r\n\r\n## Logic Flow\r\n1.  **Lambda Ratio Range Check**:\r\n    *   The `FAC_AFU_RATIO_LAMB` value is compared against `FAC_AFU_RATIO_FTL_MAX` and `FAC_AFU_RATIO_FTL_MIN` using `V. 6.7` blocks (likely performing boundary checks or comparisons like `>=` and `<=`).\r\n    *   The results are further processed by `<` and `>` blocks (V. 6.0), which together likely determine if `FAC_AFU_RATIO_LAMB` falls *within* an acceptable range.\r\n    *   The outcome of this range check then passes through a `Check ~= 0` switch, likely selecting the `FAC_AFU_RATIO_LAMB` value if it's within range, or potentially a default value otherwise. This path feeds the \"valid\" input of the main switch for `FAC_AFU_RATIO_FTL`.\r\n2.  **Overall Validity Condition**:\r\n    *   The `LV_FAC_AFU_RATIO_LAMB_VLD` (Lambda ratio validity) signal is passed through a unit delay block (`u/y V. 6.2`). This ensures that the validity condition considers a slightly older state of the Lambda sensor's validity.\r\n    *   This delayed validity signal, `C_FAC_AFU_RATIO_FTL_VLD` (a constant for FTL ratio validity), and `LC_AFU_FTL_REFU_BIN` (refuel binary flag) are combined using an `AND` gate. This `AND` gate outputs TRUE only if all three conditions are met: the Lambda ratio was valid (in the previous cycle), the FTL ratio constant is valid, and a binary refuel event is detected. This collective TRUE signal enables the calculation.\r\n3.  **Selection for `FAC_AFU_RATIO_FTL`**:\r\n    *   The TRUE/FALSE output of the `AND` gate (from step 2) controls a switch block labeled `Check ~= 0`.\r\n    *   If the `AND` gate output is TRUE (all validity conditions met), the switch selects the processed `FAC_AFU_RATIO_LAMB` value (from the range check in step 1).\r\n    *   If the `AND` gate output is FALSE, the switch selects `FAC_AFU_RATIO_FTL_in` (Input 7), providing a default or previously known fuel ratio value.\r\n    *   The output of this switch is `FAC_AFU_RATIO_FTL`.\r\n4.  **Selection for Validity Flags (`LV_FAC_AFU_RATIO_FTL_VLD` and `FAC_AFU_RATIO_FTL_VLD`)**:\r\n    *   The same `AND` gate output (from step 2) controls two additional switch blocks (both `Check ~= 0`).\r\n    *   For `LV_FAC_AFU_RATIO_FTL_VLD` (Output 2): If the `AND` gate is TRUE, the switch selects `C_FAC_AFU_RATIO_FTL_VLD` (likely a TRUE/1 signal).", "mimetype": "text/plain", "start_char_idx": 319173, "end_char_idx": 322737, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "dbc8bdde-0d4a-462d-aa6c-b25c0ecb3daf": {"__data__": {"id_": "dbc8bdde-0d4a-462d-aa6c-b25c0ecb3daf", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d441dfef-8feb-4919-b757-c78b11a98ef6", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "9c6ae4e81aad385a7986cf1d0c21abbbc4571edf8c339609905e3bcc5ac8b850", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f0b01d6e-7d21-442d-a1b0-0a22968d7fca", "node_type": "1", "metadata": {}, "hash": "306baac7b360688be284755733072ae5112df0327dc07c8c93fc5950e6086a16", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   For `LV_FAC_AFU_RATIO_FTL_VLD` (Output 2): If the `AND` gate is TRUE, the switch selects `C_FAC_AFU_RATIO_FTL_VLD` (likely a TRUE/1 signal). If FALSE, it selects `LV_FAC_AFU_RATIO_FTL_VLD_in` (Input 5), a previous validity state.\r\n    *   For `FAC_AFU_RATIO_FTL_VLD` (Output 3): If the `AND` gate is TRUE, the switch also selects `C_FAC_AFU_RATIO_FTL_VLD`. If FALSE, it selects `FAC_AFU_RATIO_FTL_VLD_in` (Input 6), another previous validity state.\r\n    *   This ensures that the validity outputs reflect the current operational conditions, defaulting to previous states if conditions for active calculation are not met.\r\n\r\n\r\n--- Page 103 ---\r\n\r\nThis image displays a Simulink diagram representing a software component for an automotive system.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram, as indicated by its title \"ALFU: Fuel tank level based flex fuel ratio detection (Appl. Inc.)\", is to implement an algorithm for detecting or estimating the flex fuel ratio (e.g., ethanol content in fuel) based on the fuel tank level and a variety of other related system parameters. It also includes initialization logic for system resets.\r\n\r\n## Inputs\r\nThe system receives the following inputs:\r\n\r\n**Scheduler/Trigger Inputs:**\r\n*   `fc_ini`: An initialization trigger, activated upon a system reset (`Init: RST`).\r\n*   `fc_opm_100MS`: An operational trigger, activated periodically every 100 milliseconds (`Recurrence: 100MS`, `Activation: always`).\r\n\r\n**Process/Data Inputs (from the left multiplexer):**\r\n*   `MFF_SP_MV`\r\n*   `N_32`\r\n*   `LV_ES`\r\n*   `LV_PUC`\r\n*   `FTL` (Likely Fuel Tank Level)\r\n*   `LC_FAC_AFU_RATIO_CONF`\r\n*   `LV_FAC_AFU_RATIO_DFT_ST_ACT`\r\n*   `LV_FAC_AFU_RATIO_EXT_REQ`\r\n*   `MFF_SUM_REFU`\r\n*   `NC_STATE_AFU_SENS_CONF`\r\n*   `ACTION_FARM_GetPermission_T3`\r\n*   `IDX_EX_CBK_LAMB`\r\n\r\n**Internal Feedback Input:**\r\n*   `feedback`: A signal fed back into the `OPM X.2` block, suggesting internal state management or closed-loop logic.\r\n\r\n## Outputs\r\nThe system produces the following outputs:\r\n\r\n*   `LV_FAC_AFU_RATIO_RST_REQ`\r\n*   `LV_FTL_CAN_VLD_AFU`\r\n*   `LV_FTL_EOL_END`\r\n*   `LV_INH_FAC_AFU_RATIO_FTL`\r\n*   `MFF_SP_AFU`\r\n*   `T_FTL_CAN_VLD` (This signal is part of the internal bus but not explicitly shown exiting via the right-hand demultiplexer in this view, though it's an output of the logic)\r\n\r\n## Logic Flow\r\n\r\n1.  **Scheduling and Activation**:\r\n    *   The `APP_CDN V. 7.2` block defines the execution characteristics of the component.\r\n    *   The component's main operational logic (`OPM X.2`) is scheduled to run every `100MS` (`Recurrence: 100MS`), triggered by `fc_opm_100MS`.\r\n    *   An initialization routine (`INI X.1`) is triggered by `fc_ini` upon a system reset (`Init: RST`).\r\n    *   The component is always active and never deactivates.\r\n\r\n2.  **Input Acquisition**:\r\n    *   During its operational cycle, the system gathers a diverse set of inputs from various sources. These include measured values (e.g., `FTL`), status flags, and configuration parameters, which are multiplexed and fed into the `OPM X.2` block.\r\n\r\n3.  **Initialization Logic (`INI X.1`)**:\r\n    *   When a system reset occurs, the `fc_ini` signal triggers the `INI X.1` block.\r\n    *   As detailed in \"4.11.1 Initialisation at RESET event\" (Figure 4.11.2), this block sets the initial values for the component's output signals: `MFF_SP_AFU` to 0, `LV_FTL_EOL_END` to 1, and `LV_INH_FAC_AFU_RATIO_FTL`, `LV_FTL_CAN_VLD_AFU`, `T_FTL_CAN_VLD`, and `LV_FAC_AFU_RATIO_RST_REQ` to 0.", "mimetype": "text/plain", "start_char_idx": 322593, "end_char_idx": 326105, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f0b01d6e-7d21-442d-a1b0-0a22968d7fca": {"__data__": {"id_": "f0b01d6e-7d21-442d-a1b0-0a22968d7fca", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "dbc8bdde-0d4a-462d-aa6c-b25c0ecb3daf", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "a4349f11918d05117f8d98ee55d280aa4df41167f5a545e2eec48dd3829fd705", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8ed491eb-f864-4e59-9ca2-21dab48441bd", "node_type": "1", "metadata": {}, "hash": "ad507cfb6fd5b8537193544ce9d5af70966f30762b848b03a2584b18ec9c62d6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   These initialized values are passed to the `fc()` function block, which acts as the interface for the component's logic.\r\n\r\n4.  **Operational Logic (`OPM X.2`)**:\r\n    *   Every 100 milliseconds, the `fc_opm_100MS` signal triggers the `OPM X.2` block.\r\n    *   This block receives the current process inputs and an internal `feedback` signal (likely representing a previous state or calculated value).\r\n    *   `OPM X.2` contains the core \"Fuel tank level based flex fuel ratio detection\" algorithm. It processes the inputs and feedback to continuously calculate and update the output parameters related to flex fuel detection and system status.\r\n\r\n5.  **Output Generation**:\r\n    *   Both the `INI X.1` (during reset) and `OPM X.2` (during normal operation) blocks produce a set of output signals.\r\n    *   These signals are combined onto an internal data bus (labeled `V. 6.3`).\r\n    *   A demultiplexer on the right-hand side extracts and exposes five of these signals (`MFF_SP_AFU`, `LV_FTL_EOL_END`, `LV_FAC_AFU_RATIO_RST_REQ`, `LV_FTL_CAN_VLD_AFU`, `LV_INH_FAC_AFU_RATIO_FTL`) as the primary external outputs of the component.\r\n\r\n\r\n--- Page 104 ---\r\n\r\n## Function\r\n\r\nThe provided image contains two distinct Simulink diagrams, likely representing control logic for an automotive system, specifically related to \"ALFU: Fuel tank level based flex fuel ratio detection.\"\r\n\r\n1.  **Figure 4.11.3: Inhibition of Refuel Detection**: This small diagram's primary function is to set or reset a flag/factor related to refuel detection inhibition. By setting `LV_INH_FAC_AFU_RATIO_FTL` to `0`, it effectively disables or nullifies an inhibition factor, implying that refuel detection is not being inhibited by this particular condition.\r\n\r\n2.  **Figure 4.11.4: MFF_SP_AFU for MFF_SUM_REFU calculation**: This diagram calculates the output signal `MFF_SP_AFU_out`. Its primary function is to conditionally determine this output value:\r\n    *   Under specific operational conditions (when `LV_ES` and `LV_PUC` are both inactive), it calculates `MFF_SP_AFU_out` as the product of `N_32`, `MFF_SP_MV`, and `C_MFF_SP_AFU`.\r\n    *   Otherwise (if `LV_ES` or `LV_PUC` is active), it passes through the input value `MFF_SP_AFU_in` as `MFF_SP_AFU_out`.\r\n    This logic suggests it's part of a robust fuel flow calculation, potentially adapting how fuel flow is determined based on system states (e.g., engine run/stop, power-up sequence).\r\n\r\n## Inputs\r\n\r\n**Figure 4.11.3:**\r\n*   **Implicit Constant `0`**: This block uses a fixed numerical value.\r\n\r\n**Figure 4.11.4:**\r\n*   **N_32**: A numerical input, likely representing a quantity, state, or scaling factor (e.g., a counter, a specific operating condition index).\r\n*   **MFF_SP_MV**: A numerical input, likely representing a *measured* specific mass fuel flow value.\r\n*   **C_MFF_SP_AFU**: A numerical input, likely a *calibrated* or *correction* factor for the specific mass fuel flow of the Alternative Fuel Unit.\r\n*   **LV_ES**: A boolean (logical) input flag, likely indicating the \"Engine Stop\" status (e.g., true if engine stopped, false if running).\r\n*   **LV_PUC**: A boolean (logical) input flag, whose specific meaning is unclear without further context but often relates to \"Power Up Condition,\" \"Pump Under Control,\" or similar system state.\r\n*   **MFF_SP_AFU_in**: A numerical input, representing an initial, default, or previously calculated specific mass fuel flow value that may be passed through.\r\n\r\n## Outputs\r\n\r\n**Figure 4.11.3:**\r\n*   **LV_INH_FAC_AFU_RATIO_FTL**: A numerical output, representing an inhibition factor for the \"Fuel Ratio Detection based on Fuel Tank Level\" (FTL). Setting it to `0` would typically mean no inhibition.\r\n\r\n**Figure 4.11.4:**\r\n*   **MFF_SP_AFU_out**: A numerical output, representing the final calculated or selected specific mass fuel flow value for the Alternative Fuel Unit.\r\n\r\n## Logic Flow\r\n\r\n**Figure 4.11.3: Inhibition of Refuel Detection**\r\n1.", "mimetype": "text/plain", "start_char_idx": 326111, "end_char_idx": 330057, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8ed491eb-f864-4e59-9ca2-21dab48441bd": {"__data__": {"id_": "8ed491eb-f864-4e59-9ca2-21dab48441bd", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f0b01d6e-7d21-442d-a1b0-0a22968d7fca", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "22cb713ec8be98060ece82e22cb36fac38b11960155bbdaeed88558c17398035", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9fd37487-9087-45c6-8170-05c433453244", "node_type": "1", "metadata": {}, "hash": "5c6b1e738485c59c1be787b7379e3b673e39af76b3e79a216651e963a4e268d3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Setting it to `0` would typically mean no inhibition.\r\n\r\n**Figure 4.11.4:**\r\n*   **MFF_SP_AFU_out**: A numerical output, representing the final calculated or selected specific mass fuel flow value for the Alternative Fuel Unit.\r\n\r\n## Logic Flow\r\n\r\n**Figure 4.11.3: Inhibition of Refuel Detection**\r\n1.  A constant numerical value `0` is introduced into the diagram.\r\n2.  This constant value `0` is directly assigned to the output signal `LV_INH_FAC_AFU_RATIO_FTL`. This block essentially hardcodes or forces this inhibition factor to zero, effectively enabling or not interfering with refuel detection.\r\n\r\n**Figure 4.11.4: MFF_SP_AFU for MFF_SUM_REFU calculation**\r\n1.  **Calculate Product Path**:\r\n    *   The input `N_32` is multiplied by `MFF_SP_MV`.\r\n    *   The result of this first multiplication is then further multiplied by `C_MFF_SP_AFU`. This final product (`N_32 * MFF_SP_MV * C_MFF_SP_AFU`) represents one potential value for `MFF_SP_AFU_out`.\r\n2.  **Evaluate Switching Condition**:\r\n    *   The boolean input `LV_ES` is inverted by a `NOT` gate. (Output: `NOT LV_ES`)\r\n    *   The boolean input `LV_PUC` is inverted by another `NOT` gate. (Output: `NOT LV_PUC`)\r\n    *   The outputs of these two `NOT` gates are then fed into an `AND` gate. (Output: `(NOT LV_ES) AND (NOT LV_PUC)`)\r\n    *   This boolean result, `(NOT LV_ES) AND (NOT LV_PUC)`, serves as the control input for the subsequent Switch block, where `Check ~= 0` means the condition is true if the AND gate's output is true (non-zero).\r\n3.  **Conditional Output Selection (Switch Block)**:\r\n    *   The Switch block evaluates the `Check ~= 0` condition from step 2.\r\n    *   **If** `(NOT LV_ES) AND (NOT LV_PUC)` is true (meaning `LV_ES` is false AND `LV_PUC` is false), the Switch block selects the upper input, which is the product calculated in step 1 (`N_32 * MFF_SP_MV * C_MFF_SP_AFU`). This value is then assigned to `MFF_SP_AFU_out`.\r\n    *   **Else** (if `LV_ES` is true OR `LV_PUC` is true), the Switch block selects the lower input, which is `MFF_SP_AFU_in`. This value is then assigned to `MFF_SP_AFU_out`.\r\n\r\nIn essence, `MFF_SP_AFU_out` is a dynamically calculated value when certain conditions are met, otherwise, it defaults to a pre-existing input value.\r\n\r\n\r\n--- Page 105 ---\r\n\r\nThis image is a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram, titled \"4.11.2.3 Ensure valid FTL signal\" and related to \"ALFU: Fuel tank level based flex fuel ratio detection\", is to validate Fuel Tank Level (FTL) related signals. It checks several conditions, including the FTL value itself and various permission flags, to determine if the FTL temperature and liquid volume validity signals should be considered valid or be defaulted to an invalid state.\r\n\r\n## Inputs\r\n1.  **`T_FTL_CAN_VLD_in`**: Input signal for Fuel Tank Level CAN Temperature Validity.\r\n2.  **`C_T_FTL_CAN_VLD`**: A criterion or threshold value for FTL CAN Temperature Validity.\r\n3.  **`LV_FTL_CAN_VLD_AFU_in`**: Input signal for Fuel Tank Level CAN Liquid Volume Validity (for AFU application).\r\n4.  **`FTL`**: The raw Fuel Tank Level signal.\r\n5.  **`ACTION_FARM_GetPermission_T3`**: A timed permission signal for an action related to FARM.\r\n6.  **`NC_FID_ERR_FTL_SENS_FTL_AI`**: A fault/error flag indicating a problem with the FTL sensor.\r\n7.  **`PRM_FID`**: A parameter or identifier related to the FTL sensor.\r\n8.  **`ACTION_FARM_GetPermission`**: A general permission signal for an action related to FARM.\r\n9.  **Constants**: Numerical constants such as `1`, `0.1`, `0` used for comparisons, offsets, or default values.\r\n\r\n## Outputs\r\n1.", "mimetype": "text/plain", "start_char_idx": 329756, "end_char_idx": 333376, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9fd37487-9087-45c6-8170-05c433453244": {"__data__": {"id_": "9fd37487-9087-45c6-8170-05c433453244", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8ed491eb-f864-4e59-9ca2-21dab48441bd", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "57544255c449a1fcb4d66366bac2ea531addca5ac1958a5590d56fac0a7f3ff4", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9a8b66a9-fa56-48cc-99b6-c6521cbef015", "node_type": "1", "metadata": {}, "hash": "d5b7f972112ee326e536b1710bf15384452777b9e26d1e1ac0a9ec2dbdae6392", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "7.  **`PRM_FID`**: A parameter or identifier related to the FTL sensor.\r\n8.  **`ACTION_FARM_GetPermission`**: A general permission signal for an action related to FARM.\r\n9.  **Constants**: Numerical constants such as `1`, `0.1`, `0` used for comparisons, offsets, or default values.\r\n\r\n## Outputs\r\n1.  **`LV_FTL_CAN_VLD_AFU_out`**: Output signal indicating the validated Fuel Tank Level CAN Liquid Volume Validity for the AFU application.\r\n2.  **`T_FTL_CAN_VLD_out`**: Output signal indicating the validated Fuel Tank Level CAN Temperature Validity.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the diagram can be described step-by-step:\r\n\r\n1.  **Fuel Tank Level (FTL) Basic Check**: The `FTL` input signal is compared to `0` using a `>` (greater than) operator. This generates a boolean result: `TRUE` if FTL is positive, `FALSE` otherwise.\r\n\r\n2.  **Permission Evaluation (`PRM_LV_PRMS`)**:\r\n    *   The `ACTION_FARM_GetPermission_T3` signal influences an internal permission state `PRM_LV_PRMS` via an 'ActionImport' block.\r\n    *   Separately, `PRM_FID` and `ACTION_FARM_GetPermission` are combined in a block (likely a custom function or a data store operation) which also influences the `PRM_LV_PRMS` state.\r\n    *   `PRM_LV_PRMS` thus represents an aggregated permission flag.\r\n\r\n3.  **Overall Validation Condition**: An `AND` logical gate combines two conditions:\r\n    *   The result of `(FTL > 0)`.\r\n    *   The aggregated permission flag `PRM_LV_PRMS`.\r\n    *   The output of this `AND` gate is a master validation condition: `TRUE` only if FTL is positive AND the necessary liquid volume permissions (`PRM_LV_PRMS`) are granted. This output will control whether the FTL validity signals are passed through or set to an invalid state.\r\n\r\n4.  **Temperature FTL Validity Processing**:\r\n    *   The `T_FTL_CAN_VLD_in` signal is compared against `C_T_FTL_CAN_VLD` using a `>=` (greater than or equal to) operator. This yields a boolean or numerical value indicating the current temperature FTL validity.\r\n    *   This result is then fed into a `Check ~= 0` block (acting as a conditional switch).\r\n        *   If the master validation condition from the `AND` gate (Step 3) is `TRUE`, the calculated value from `(T_FTL_CAN_VLD_in >= C_T_FTL_CAN_VLD)` is passed through.\r\n        *   If the master validation condition is `FALSE`, a constant `0` (representing an invalid state) is passed through.\r\n    *   The output of this switch becomes `T_FTL_CAN_VLD_out`.\r\n\r\n5.  **Liquid Volume FTL Validity Processing**:\r\n    *   A small offset (`0.1`) is added to the `LV_FTL_CAN_VLD_AFU_in` signal. This might be for tolerance or scaling.\r\n    *   This adjusted signal is then fed into another `Check ~= 0` block (conditional switch).\r\n        *   If the master validation condition from the `AND` gate (Step 3) is `TRUE`, the adjusted value `(LV_FTL_CAN_VLD_AFU_in + 0.1)` is passed through.\r\n        *   If the master validation condition is `FALSE`, a constant `0` (representing an invalid state) is passed through.\r\n    *   The output of this switch becomes `LV_FTL_CAN_VLD_AFU_out`.\r\n\r\n6.  **Final Output Routing**: The two resulting validated signals, `LV_FTL_CAN_VLD_AFU_out` and `T_FTL_CAN_VLD_out`, are sent to their respective output ports. Other signals like `NC_FID_ERR_FTL_SENS_FTL_AI` and constant zeros are shown as inputs to a final multiplexer/demultiplexer structure, suggesting they might be part of a broader output bus or other validation indicators not directly represented by the named outputs in this specific diagram view. However, the direct paths clearly show the logic for `LV_FTL_CAN_VLD_AFU_out` and `T_FTL_CAN_VLD_out`.\r\n\r\n\r\n--- Page 106 ---\r\n\r\nThis is clearly a Simulink-style block diagram, not a text page or table.", "mimetype": "text/plain", "start_char_idx": 333076, "end_char_idx": 336816, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "9a8b66a9-fa56-48cc-99b6-c6521cbef015": {"__data__": {"id_": "9a8b66a9-fa56-48cc-99b6-c6521cbef015", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9fd37487-9087-45c6-8170-05c433453244", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "cc3ee630f9ae1c4c133c53d593c324f4d186a24a98c42ea6245e4a6a5acd9a44", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "345694e2-c0bd-4c43-b69e-b92e5a8842e4", "node_type": "1", "metadata": {}, "hash": "e176639e94406159befb8f1e46d4fc7e4a03fb1a2431bba72804feb9b952c2c8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "However, the direct paths clearly show the logic for `LV_FTL_CAN_VLD_AFU_out` and `T_FTL_CAN_VLD_out`.\r\n\r\n\r\n--- Page 106 ---\r\n\r\nThis is clearly a Simulink-style block diagram, not a text page or table.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to detect conditions that warrant an \"Additional Refueling Request\" and subsequently trigger a reset or re-evaluation of the flex-fuel ratio calculation (`LV_FAC_AFU_RATIO_RST_REQ`). This is essential in flex-fuel vehicles to ensure the correct ethanol content estimation, especially after a fuel tank refill, by accounting for changes in fuel composition. The system monitors various sensor states, error conditions, diagnostic activities, and physical refueling indicators (fuel tank level, mass fuel flow) to determine if a reset is necessary.\r\n\r\n## Inputs\r\n\r\nThe key inputs to this system are:\r\n\r\n1.  **`NC_STATE_AFU_SENS_CONF`**: (Boolean/Integer) State regarding the AFU sensor configuration (e.g., Not Confirmed).\r\n2.  **`ACTION_FARM_GetPermission_T3`**: (Boolean) A permission signal from a 'FARM' action, possibly indicating a system state or timer status.\r\n3.  **`PRM_LV_PRMS`**: (Boolean) A global permission status or parameter for system permissions.\r\n4.  **`NC_FID_ERR_AFU_SENS_FTL_AI`**: (Boolean) Fault ID Error status for the AFU sensor's Fuel Tank Level Analog Input.\r\n5.  **`IDX_EX_OBK_LAMB`**: (Boolean/Enum) External On-Board Diagnostics related to Lambda control, or an index thereof.\r\n6.  **`NC_FID_ERR_AFU_SUM_LS_UP`**: (Boolean) Fault ID Error status for the AFU Sum Level Sensor (e.g., in an 'Up' state).\r\n7.  **`[LV_ES]`**: (Boolean) Local Variable for Engine Stop status.\r\n8.  **`LV_FAC_AFU_RATIO_EXT_REQ`**: (Boolean) An external request to reset the flex-fuel ratio.\r\n9.  **`LC_FTL_REFU_MAN_DET`**: (Boolean) Local Constant for manual detection of refueling via Fuel Tank Level.\r\n10. **`LV_FAC_AFU_RATIO_DFT_ST_ACT`**: (Boolean) Local Variable indicating if the Flex Fuel Ratio Diagnostic Function Test is Active.\r\n11. **`LV_FTL_CAN_VLD_AFU`**: (Boolean) Local Variable indicating if the Fuel Tank Level CAN signal for AFU is valid.\r\n12. **`FTL`**: (Numeric) Current Fuel Tank Level.\r\n13. **`C_FTL_H_REFU_DET`**: (Numeric) Constant threshold for High Refueling Detection based on Fuel Tank Level.\r\n14. **`MFF_SUM_REFU`**: (Numeric) Sum of Mass Fuel Flow during a refueling event.\r\n15. **`C_MFF_SUM_REFU_H_REFU_DET`**: (Numeric) Constant threshold for High Refueling Detection based on summed Mass Fuel Flow.\r\n16. **`C_MFF_SUM_REFU_MAX_REFU_DET`**: (Numeric) Constant maximum threshold for Refueling Detection based on summed Mass Fuel Flow.\r\n\r\n## Outputs\r\n\r\nThe single key output of this system is:\r\n\r\n1.  **`LV_FAC_AFU_RATIO_RST_REQ`**: (Boolean) Local Variable for Flex Fuel Ratio Reset Request. This signal becomes true if any of the specified conditions for an additional refueling event are met.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow determines `LV_FAC_AFU_RATIO_RST_REQ` by combining multiple conditions using `OR` logic, meaning if any path evaluates to true, the reset request is issued. Many conditions pass through `S-blocks` (e.g., V.6.0, V.6.2, V.6.3, V.6.4), which typically implement hysteresis, debouncing, or latching behavior to prevent transient signals from triggering an immediate response and to maintain a state for a specified duration.\r\n\r\nHere's a step-by-step breakdown of the logical paths:\r\n\r\n1.  **Engine Stop Condition:**\r\n    *   The `[LV_ES]` (Engine Stop) signal directly feeds into the final `OR` block. This means if the engine is stopped, it can directly contribute to a reset request.\r\n\r\n2.  **Configuration and Sensor Error Path (Top Section):**\r\n    *   **AFU Sensor Configuration Check:** `NC_STATE_AFU_SENS_CONF` is compared to `0`. If `true`, it contributes to an initial `OR` block.", "mimetype": "text/plain", "start_char_idx": 336615, "end_char_idx": 340437, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "345694e2-c0bd-4c43-b69e-b92e5a8842e4": {"__data__": {"id_": "345694e2-c0bd-4c43-b69e-b92e5a8842e4", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9a8b66a9-fa56-48cc-99b6-c6521cbef015", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "88df216b50dcb81724b5a58c86b66d284edf9a62e10b00d6f3a66cdf527c2b9d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "28e961a0-6322-4495-9683-bc4039f11242", "node_type": "1", "metadata": {}, "hash": "eaf39fd95f14f69e311aa3f00a1c7b20229bed89d4b8f5ef7e393e0a6a63b62b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This means if the engine is stopped, it can directly contribute to a reset request.\r\n\r\n2.  **Configuration and Sensor Error Path (Top Section):**\r\n    *   **AFU Sensor Configuration Check:** `NC_STATE_AFU_SENS_CONF` is compared to `0`. If `true`, it contributes to an initial `OR` block.\r\n    *   **Permission Checks & AFU Ratio Configuration Latch (`LC_FAC_AFU_RATIO_CONF`):**\r\n        *   `ACTION_FARM_GetPermission_T3` and `NC_FID_ERR_AFU_SENS_FTL_AI` and a filtered `IDX_EX_OBK_LAMB` (after passing through a selector) and `NC_FID_ERR_AFU_SUM_LS_UP` all go through `ActionImport` and `GetPermission` blocks.\r\n        *   Their outputs, along with the inverted (`NOT`) `PRM_LV_PRMS` (global permission parameter), feed into `S-blocks` (V.6.2/V.6.3). These `S-blocks` latch a 'true' state if the permission is denied or an error/condition is present, creating persistent flags.\r\n        *   The persistent flag `LC_FAC_AFU_RATIO_CONF` (from `ACTION_FARM_GetPermission_T3` path) combines with the `NC_STATE_AFU_SENS_CONF == 0` result in an `OR` block. The output of this `OR` block then feeds an `S-block` (V.6.0) and an `AND` block.\r\n    *   **Combined Configuration/Error Condition:** The output of the `OR` block (from `NC_STATE_AFU_SENS_CONF` and `LC_FAC_AFU_RATIO_CONF`) is `AND`ed with the persistent `[LV_ES]` state (from an `S-block` V.6.3 at the bottom). This combined result contributes to the final `OR` block.\r\n\r\n3.  **Direct Request/Manual/Diagnostic Paths (Middle Section):**\r\n    *   **External Request:** `LV_FAC_AFU_RATIO_EXT_REQ` passes through an `S-block` (V.6.2). Its persistent output directly feeds the final `OR` block.\r\n    *   **Manual Refueling Detection:** `LC_FTL_REFU_MAN_DET` passes through an `S-block` (V.6.4). Its persistent output directly feeds the final `OR` block.\r\n    *   **Diagnostic Test Active:** `LV_FAC_AFU_RATIO_DFT_ST_ACT` passes through an `S-block` (V.6.2). Its persistent output directly feeds the final `OR` block.\r\n    *   **Persistent Error States:** The persistent outputs from the `S-blocks` (V.6.2) for `NC_FID_ERR_AFU_SENS_FTL_AI`, `IDX_EX_OBK_LAMB`, and `NC_FID_ERR_AFU_SUM_LS_UP` are collected and appear to feed into an implicit `AND` condition which then contributes to the final `OR` block (via the `AND` block below `LC_FAC_AFU_RATIO_CONF`).\r\n\r\n4.  **Physical Refueling Detection Paths (Bottom Section):**\r\n    *   **Fuel Tank Level (FTL) Refueling Detection:**\r\n        *   `LV_FTL_CAN_VLD_AFU` (persistent via S-block V.6.3) is `AND`ed with (`FTL >= C_FTL_H_REFU_DET`).\r\n        *   This result is `AND`ed with the persistent `[LV_ES]` (Engine Stop) state from an `S-block` (V.6.3) at the bottom.\r\n        *   The final `AND` result contributes to the main `OR` block. This logic detects refueling if the CAN FTL signal is valid, the level is high (above a threshold), and the engine is stopped (typical refueling scenario).\r\n    *   **Mass Fuel Flow (MFF) Refueling Detection:**\r\n        *   (`MFF_SUM_REFU >= C_MFF_SUM_REFU_H_REFU_DET`) is `AND`ed with (`MFF_SUM_REFU >= C_MFF_SUM_REFU_MAX_REFU_DET`). (Note: The diagram shows two separate `>=` blocks for these two conditions, but they feed the same `AND` block, implying both must be true simultaneously or one is a lower bound and the other an upper bound for a certain range detection).\r\n        *   This result is `AND`ed with a persistent state derived from (`NC_STATE_AFU_SENS_CONF == 0` OR `LC_FAC_AFU_RATIO_CONF`) after passing through an `S-block` (V.6.0).", "mimetype": "text/plain", "start_char_idx": 340150, "end_char_idx": 343634, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "28e961a0-6322-4495-9683-bc4039f11242": {"__data__": {"id_": "28e961a0-6322-4495-9683-bc4039f11242", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "345694e2-c0bd-4c43-b69e-b92e5a8842e4", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "c67bc68c49ce2064999b454cf78e97f68d64ab3ff9e42d51568aa622cbfeb190", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "83f75bd5-dfdd-4145-9a20-4eee50b2bfd5", "node_type": "1", "metadata": {}, "hash": "eb5c928d2646a3d8feedcb0ccbb2e0c448599e70da18e1b8d11b1d4846387134", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   This result is `AND`ed with a persistent state derived from (`NC_STATE_AFU_SENS_CONF == 0` OR `LC_FAC_AFU_RATIO_CONF`) after passing through an `S-block` (V.6.0).\r\n        *   The final `AND` result contributes to the main `OR` block. This logic detects refueling based on a significant sum of fuel mass flow, taking into account sensor configuration/error status.\r\n\r\nUltimately, `LV_FAC_AFU_RATIO_RST_REQ` becomes true if *any* of these distinct conditions, after being filtered through their respective persistence/hysteresis blocks, are met. This comprehensive approach ensures that various direct refueling indicators, system status, diagnostic requests, and error conditions can trigger the necessary flex-fuel ratio recalibration.\r\n\r\n\r\n--- Page 110 ---\r\n\r\nThis image is a Simulink-style block diagram, likely originating from an automotive software development environment (given the Continental branding and \"ALFU - Alternative fuel ratio determination\" title).\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to determine and output the **Alternative Fuel Ratio (ALFU)**, including its validity and associated diagnostic states. This system likely plays a crucial role in engine control units (ECUs) that manage vehicles capable of operating on multiple fuel types or requiring dynamic air-fuel ratio adjustments based on various operating conditions and fault tolerance strategies. It consolidates multiple raw and validated fuel ratio inputs, error states, and permissions to calculate a robust and reliable final fuel ratio.\r\n\r\n## Inputs\r\n\r\nThe diagram receives a comprehensive set of inputs related to fuel ratio, system states, and operational permissions:\r\n\r\n*   **Initialization & Timing Signals:**\r\n    *   `fc_INI`: Initialization command.\r\n    *   `fc_OPM_100MS`: Operational mode/timing signal, indicating a 100ms recurrence.\r\n*   **Raw & Processed Fuel Ratio Signals:** A multitude of `FAC_AFU_RATIO_...` signals, indicating various sources or aspects of the air-fuel ratio, potentially from different sensors or estimation models:\r\n    *   `FAC_AFU_RATIO_ER`, `FAC_AFU_RATIO_ERU` (and their `_VLD` counterparts): Error and Error-Uncertainty related ratios.\r\n    *   `FAC_AFU_RATIO_FTL`, `FAC_AFU_RATIO_FTL_VLD`: Fault-tolerant related ratios.\r\n    *   `FAC_AFU_RATIO_LAMB`, `FAC_AFU_RATIO_LAMB_VLD`: Lambda (air-fuel equivalence ratio) related ratios.\r\n    *   `FAC_AFU_RATIO_SENS_MMV_DLY`: Sensor-based ratio with minimum/maximum value and delay.\r\n    *   `FAC_AFU_RATIO_DFT_ST`: Diagnostic Fault Tolerant State.\r\n*   **Live/Local Variable (LV) Status Signals:** These indicate active states or validity flags for different control aspects:\r\n    *   `LV_FAC_AFU_LAMB_CTL_ACT`: Lambda control active status.\r\n    *   `LV_FAC_AFU_RATIO_ERU_ACT`, `LV_FAC_AFU_RATIO_ERU_VLD`: Error-Uncertainty active and valid status.\r\n    *   `LV_FAC_AFU_RATIO_LAMB_ACT`, `LV_FAC_AFU_RATIO_LAMB_VLD`: Lambda active and valid status.\r\n    *   `LV_FAC_AFU_RATIO_SENS_VLD`: Sensor validity status.\r\n*   **System State & Permission Signals:**\r\n    *   `ACTION_FARM_GetPermission_T3`: Permission flag from a functional safety or fault management module.\r\n    *   `LV_FTL_REFU`: Fault tolerant reference unit status.\r\n    *   `NC_STATE_AFU_SENS_CONF`: Configuration status of AFU sensors.\r\n    *   `FAC_AFU_RATIO_DFT_ST_ACT`: Diagnostic Fault Tolerant State Active.\r\n\r\n## Outputs\r\n\r\nThe system produces the following outputs:\r\n\r\n*   **Primary Alternative Fuel Ratio:**\r\n    *   `FAC_AFU_RATIO`: The determined alternative fuel ratio.\r\n*   **Ratio Status & Validity:**\r\n    *   `FAC_AFU_RATIO_DET`: Detection status of the fuel ratio (e.g., if it has been successfully determined).\r\n    *   `FAC_AFU_RATIO_VLD`: Overall validity status of the determined fuel ratio.\r\n*   **Diagnostic & Internal State Outputs:**\r\n    *   `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST`: Reset signal for the Diagnostic Fault Tolerant Active state.\r\n    *   `LV_FAC_AFU_RATIO_VLD`: An internal or local validity signal for the fuel ratio (distinct from the main output `FAC_AFU_RATIO_VLD`).\r\n    *   `STATE_ALFU`: The current operational state of the ALFU determination module.", "mimetype": "text/plain", "start_char_idx": 343468, "end_char_idx": 347632, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "83f75bd5-dfdd-4145-9a20-4eee50b2bfd5": {"__data__": {"id_": "83f75bd5-dfdd-4145-9a20-4eee50b2bfd5", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "28e961a0-6322-4495-9683-bc4039f11242", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "30bd94dd093c50877bd0f06e5a0c9cfdfee1aad5f19f7b9cf8170a75e77decda", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "635b15e9-4433-409c-8403-b560186e396e", "node_type": "1", "metadata": {}, "hash": "85e3f958a2156743f19f0c72b5b26901a4253b6359efbd7353157bb5624ae3db", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **Diagnostic & Internal State Outputs:**\r\n    *   `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST`: Reset signal for the Diagnostic Fault Tolerant Active state.\r\n    *   `LV_FAC_AFU_RATIO_VLD`: An internal or local validity signal for the fuel ratio (distinct from the main output `FAC_AFU_RATIO_VLD`).\r\n    *   `STATE_ALFU`: The current operational state of the ALFU determination module.\r\n*   **Feedback Signal:**\r\n    *   `feedback`: An internal signal from the core logic `V.6.3` back to `fctl` and `OPM X.2` (Operational Mode Manager), indicating state or output feedback.\r\n\r\n## Logic Flow\r\n\r\nThe diagram illustrates a modular and recurrent computation of the alternative fuel ratio, executed periodically every 100ms.\r\n\r\n1.  **Initialization and Recurrence (Top Left):** The system defines its execution properties: `Recurrence: 100MS`, indicating periodic execution; `Init: RST, NVMINI, NVMRES, NVMSTO` for various initialization states; `Activation: always` and `Deactivation: never`. The `fc_INI` and `fc_OPM_100MS` signals govern the timing and initialization flow.\r\n\r\n2.  **Input Consolidation (Left Panel):** A large number of input signals, prefixed `FAC_AFU_RATIO_...`, `LV_FAC_AFU_...`, `ACTION_FARM_...`, `LV_FTL_...`, and `NC_STATE_AFU_SENS_CONF` are fed into the main processing blocks. These represent diverse measurements, estimations, validity flags, and system permissions relevant to fuel ratio determination. The `APP_CON V.7.2` block appears to act as a container or interface for these incoming signals.\r\n\r\n3.  **Control and Operational Mode Management:**\r\n    *   The `fctl` block (Function Control) receives `fc_INI` and an `input` signal from the consolidated inputs. It also receives a `feedback` signal from the main processing block.\r\n    *   The `OPM X.2` block (Operational Mode Manager) similarly receives `fc_INI`, an `input` signal (likely the same or related to `fctl`'s input), and the `feedback` signal. It outputs an `opm` (operational mode) signal.\r\n    *   The `INI X.1` block handles initialization logic, receiving `fc_INI` and outputting an `ini` signal.\r\n    These blocks collectively manage the functional control and operational modes, likely determining how the main calculation block should behave based on system state, initialization, and feedback.\r\n\r\n4.  **Core ALFU Ratio Determination (Central Block - V.6.3):**\r\n    *   The large, unnamed block labeled `V.6.3` is the heart of the \"Alternative fuel ratio determination.\" It receives the processed `ini` and `opm` signals, the raw input signals from the left, and the `feedback` signal.\r\n    *   Within this block, the various `FAC_AFU_RATIO` signals (e.g., from error detection, fault tolerance, Lambda calculations, or sensors) are processed.\r\n    *   It likely involves a complex logic of:\r\n        *   **Selection:** Choosing the most appropriate fuel ratio value from multiple available inputs based on their validity (`_VLD` signals), error states (`_ER`), and sensor confidence (`NC_STATE_AFU_SENS_CONF`).\r\n        *   **Validation:** Ensuring the selected ratio is within plausible limits and that its source is reliable.\r\n        *   **Fault Tolerance:** Incorporating diagnostic fault tolerant states (`_DFT_ST`) to handle sensor failures or system anomalies gracefully.\r\n        *   **Permission Checks:** Gating calculations based on permissions (`ACTION_FARM_GetPermission_T3`).\r\n        *   **State Management:** Transitioning through different internal states (`STATE_ALFU`) based on input conditions and calculation outcomes.\r\n    *   The block generates the final `FAC_AFU_RATIO` and its associated status (`_DET`, `_VLD`). It also provides diagnostic/reset signals (`LV_FAC_AFU_RATIO_DFT_ST_ACT_RST`, `LV_FAC_AFU_RATIO_VLD`) and an overall `STATE_ALFU`.\r\n\r\n5.  **Feedback Loop:** A `feedback` signal is routed from the `V.6.3` block back to the `fctl` and `OPM X.2` blocks. This closed-loop mechanism suggests that the current state or output of the AFU ratio determination influences how the function control and operational mode management modules operate in the next cycle, enabling adaptive or state-dependent behavior.\r\n\r\n6.", "mimetype": "text/plain", "start_char_idx": 347254, "end_char_idx": 351396, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "635b15e9-4433-409c-8403-b560186e396e": {"__data__": {"id_": "635b15e9-4433-409c-8403-b560186e396e", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "83f75bd5-dfdd-4145-9a20-4eee50b2bfd5", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "2557aa7d11d7176e24c25b55571f00643105f130af565b62d92b2d9aecf67ec9", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f206efa9-f7fa-4ccf-9ffb-df9d5a048bd2", "node_type": "1", "metadata": {}, "hash": "f57fc4734239f19ff0a5d3df5a563fda99ccbc3bce8c1ac2a6261bea97bcdec8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "5.  **Feedback Loop:** A `feedback` signal is routed from the `V.6.3` block back to the `fctl` and `OPM X.2` blocks. This closed-loop mechanism suggests that the current state or output of the AFU ratio determination influences how the function control and operational mode management modules operate in the next cycle, enabling adaptive or state-dependent behavior.\r\n\r\n6.  **Output (Right Panel):** The final determined `FAC_AFU_RATIO` and its associated status and state variables are outputted from the `V.6.3` block, ready for use by other modules within the ECU. The numbered circles (1-5) on the right likely represent designated output ports or an output interface definition.\r\n\r\n\r\n--- Page 111 ---\r\n\r\nThis image contains two distinct Simulink diagrams that together describe aspects of an \"Alternative Fuel Ratio determination\" (ALFU) system.\r\n\r\n## Function\r\nThe primary function of these Simulink diagrams is to manage the initialization and periodic validation of the Alternative Fuel Ratio Unit (ALFU) system's operational status and data validity.\r\nThe first diagram (Figure 4.13.2) details the process of initializing key ALFU state and validity flags to known default (typically inactive or invalid) states upon a system reset.\r\nThe second diagram (Figure 4.13.3) describes a periodic calculation (every 100ms) that determines the overall validity of the ALFU ratio (`FAC_AFU_RATIO_VLD`) based on the validity of its sub-components and sensor confirmation status. This aggregated validity signal is then made available for external modules.\r\n\r\n## Inputs\r\nThe combined inputs to the functionalities represented in these diagrams are:\r\n\r\n*   **Implicit System Reset Event**: An external trigger that initiates the initialization logic in Figure 4.13.2.\r\n*   **`FAC_AFU_RATIO_LAMB_VLD`** (V. 6.7): A boolean flag indicating the validity of the Lambda (air-fuel ratio) determination by the ALFU.\r\n*   **`FAC_AFU_RATIO_FTL_VLD`** (V. 6.7): A boolean flag indicating the validity of the Fuel Trim Logic determination by the ALFU.\r\n*   **`FAC_AFU_RATIO_ER_VLD`** (V. 6.7): A boolean flag indicating the validity of an error-related determination by the ALFU.\r\n*   **`NC_STATE_AFU_SENS_CONF`** (V. 6.0): A signal representing the \"Not Confirmed State of ALFU Sensor\". Its value (likely 0 for confirmed, non-zero for not confirmed) influences the overall validity.\r\n*   **`LC_FAC_AFU_RATIO_CONF`** (V. 6.4): A boolean flag indicating \"Local Confirmation of ALFU Ratio\".\r\n\r\n## Outputs\r\nThe combined outputs from the functionalities represented in these diagrams are:\r\n\r\n*   **`FAC_AFU_RATIO_VLD`** (V. 6.4): The primary output, indicating the overall validity of the ALFU ratio for external use. It is initialized to 0 at reset and calculated periodically.\r\n*   **`LV_FAC_AFU_RATIO_VLD`** (V. 6.4): \"Last Value of ALFU Ratio Valid\", initialized to 0 at reset.\r\n*   **`STATE_ALFU`** (V. 6.4): The current operational state of the ALFU system, initialized to `INACTIVE` at reset.\r\n*   **`FAC_AFU_RATIO`** (V. 6.4): The calculated ALFU ratio, initialized to 0 at reset. This is derived from `FAC_AFU_RATIO_DET`.\r\n*   **`LV_FAC_AFU_RATIO_DFT_ST_ACT_RST`** (V. 6.4): \"Last Value of AFU Ratio Default State Active Reset\", initialized to 0 at reset.\r\n*   **`rst`**: An output signal, likely a confirmation or status of the reset event, from the initialization logic.\r\n\r\n## Logic Flow\r\n\r\nThe logic flow is divided into two main parts as presented in the image:\r\n\r\n### 1. Initialization at RESET event (Figure 4.13.2)\r\nThis logic executes when a system RESET event occurs to ensure ALFU variables are in a defined initial state.\r\n\r\n1.  **Reset Trigger**: An implicit system reset event (not explicitly shown as an input block) triggers this initialization.\r\n2.  **Constant Assignments**:\r\n    *   The `FAC_AFU_RATIO_VLD` signal is set to a constant value of `0`.\r\n    *   The `LV_FAC_AFU_RATIO_VLD` signal is set to a constant value of `0`.", "mimetype": "text/plain", "start_char_idx": 351024, "end_char_idx": 354959, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f206efa9-f7fa-4ccf-9ffb-df9d5a048bd2": {"__data__": {"id_": "f206efa9-f7fa-4ccf-9ffb-df9d5a048bd2", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "635b15e9-4433-409c-8403-b560186e396e", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "a9b21a01f263972719ae7ab6d6a3876249d97591222e5e6197f6995eadd8ed72", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6ed293fc-e8c2-4a23-b590-7db7363d0dbc", "node_type": "1", "metadata": {}, "hash": "c58c0c7ed5286329c703b80f4784134b9e0e6a57577d6d280081b0fdc03e240a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "1.  **Reset Trigger**: An implicit system reset event (not explicitly shown as an input block) triggers this initialization.\r\n2.  **Constant Assignments**:\r\n    *   The `FAC_AFU_RATIO_VLD` signal is set to a constant value of `0`.\r\n    *   The `LV_FAC_AFU_RATIO_VLD` signal is set to a constant value of `0`.\r\n    *   The `STATE_ALFU` signal is set to the enumerated value `INACTIVE`.\r\n    *   The `FAC_AFU_RATIO_DET` signal is set to a constant value of `0`, which then directly feeds into and initializes `FAC_AFU_RATIO` to `0`.\r\n    *   The `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST` signal is set to a constant value of `0`.\r\n3.  **Output Reset Status**: An output signal `rst` is produced, likely indicating the occurrence or completion of the reset action for these signals.\r\n\r\n### 2. Calculation at every 100MS (Figure 4.13.3)\r\nThis logic runs periodically every 100 milliseconds to determine the overall validity of the ALFU ratio.\r\n\r\n1.  **Sum of Validity Flags**: The three input validity flags `FAC_AFU_RATIO_LAMB_VLD`, `FAC_AFU_RATIO_FTL_VLD`, and `FAC_AFU_RATIO_ER_VLD` are summed together. The result (V. 6.7) indicates how many of these sub-validity conditions are true (assuming they are binary 0/1).\r\n2.  **Sensor Confirmation Check**: The `NC_STATE_AFU_SENS_CONF` signal is compared to `0`. If `NC_STATE_AFU_SENS_CONF` is `0` (implying the sensor state is confirmed), this comparison yields a true value.\r\n3.  **Logical OR Operation**: A logical OR operation is performed on three conditions:\r\n    *   Condition A: The result of the sum from step 1, interpreted as true if the sum is greater than 0 (i.e., at least one sub-validity flag is true).\r\n    *   Condition B: The result of the comparison from step 2 (`NC_STATE_AFU_SENS_CONF == 0`).\r\n    *   Condition C: The `LC_FAC_AFU_RATIO_CONF` signal itself (interpreted as true if non-zero).\r\n    This means the output of the OR gate is true if any of these three conditions are met.\r\n4.  **Not Equal to Zero Check**: The output of the logical OR gate then passes through a \"Check ~= 0\" block. This block outputs `1` (true) if its input is not equal to `0`, and `0` (false) if its input is `0`. This effectively ensures the final output is a binary validity flag (0 or 1).\r\n5.  **Output Final Validity**: The binary result from the \"Check ~= 0\" block is assigned to the `FAC_AFU_RATIO_VLD` output, which indicates the overall validity of the ALFU ratio for use by other modules.\r\n\r\n\r\n--- Page 113 ---\r\n\r\nThis image is indeed a Simulink-like diagram, likely representing a functional block within an automotive control system.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to determine the overall validity status of an \"Alternative Fuel Unit Ratio,\" represented by the boolean output signal `LV_FAC_AFU_RATIO_VLD`. It consolidates multiple checks, including the ratio's value against a threshold, the sensor's configuration, its intrinsic validity, system permissions, and local configuration settings, to produce a final judgment on whether the AFU ratio data is reliable for use by other system components.\r\n\r\n## Inputs\r\n1.  **`FAC_AFU_RATIO_VLD`**: A numeric value representing the current validity or magnitude of the Alternative Fuel Unit (AFU) ratio.\r\n2.  **`C_FAC_AFU_RATIO_VLD_THD_2`**: A numeric threshold constant against which `FAC_AFU_RATIO_VLD` is compared.\r\n3.  **`NC_STATE_AFU_SENS_CONF`**: An integer or enumeration representing the current configuration state of the AFU sensor.\r\n4.  **`LV_FAC_AFU_RATIO_SENS_VLD`**: A boolean signal indicating the direct, intrinsic validity reported by the AFU ratio sensor itself.\r\n5.  **`ACTION_FARM_GetPermission`**: A boolean signal representing a status or request for a system-level permission.\r\n6.  **`PRM_FID`**: A parameter identifier, likely an integer, used in the permission evaluation logic.\r\n7.", "mimetype": "text/plain", "start_char_idx": 354651, "end_char_idx": 358489, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6ed293fc-e8c2-4a23-b590-7db7363d0dbc": {"__data__": {"id_": "6ed293fc-e8c2-4a23-b590-7db7363d0dbc", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f206efa9-f7fa-4ccf-9ffb-df9d5a048bd2", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "188a3629bc01bdcdfdd4359718e705f58a738acf4100a0c774835c073c75eb13", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "87bb6bca-7770-4590-acaa-3c09c5b8e39d", "node_type": "1", "metadata": {}, "hash": "433863c38cc3178b391609555747e07a525f17d098899ddd9944766154a32534", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "4.  **`LV_FAC_AFU_RATIO_SENS_VLD`**: A boolean signal indicating the direct, intrinsic validity reported by the AFU ratio sensor itself.\r\n5.  **`ACTION_FARM_GetPermission`**: A boolean signal representing a status or request for a system-level permission.\r\n6.  **`PRM_FID`**: A parameter identifier, likely an integer, used in the permission evaluation logic.\r\n7.  **`NC_FID_ERR_AFU_SENS_AFU`**: An error status or flag related to the AFU sensor, likely boolean or an error code.\r\n8.  **`LC_FAC_AFU_RATIO_CONF`**: A boolean flag indicating a local configuration status for the AFU ratio (e.g., active, suppressed, etc.).\r\n\r\n## Outputs\r\n1.  **`LV_FAC_AFU_RATIO_VLD`**: A boolean signal (true/false) indicating the final calculated validity of the Alternative Fuel Unit Ratio.\r\n\r\n## Logic Flow\r\n\r\nThe diagram processes several input conditions in parallel and combines them through logical gates (AND, OR, NOT, Comparators) to derive the final `LV_FAC_AFU_RATIO_VLD` output. The overall structure indicates that the AFU ratio is considered valid if *either* a primary set of conditions (Branch 1) *OR* a secondary set of alternative conditions (Branch 2) is met.\r\n\r\n**Branch 1: Primary Validity Conditions (Top Path)**\r\n\r\n1.  **Ratio Value Threshold Check**:\r\n    *   `FAC_AFU_RATIO_VLD` is compared with `C_FAC_AFU_RATIO_VLD_THD_2` using a \"Greater than or Equal to\" (`>=`) comparator.\r\n    *   The output is true if `FAC_AFU_RATIO_VLD` meets or exceeds the threshold.\r\n\r\n2.  **Sensor Configuration Check**:\r\n    *   `NC_STATE_AFU_SENS_CONF` is compared for equality (`=`) with the constant value `V. 6.0`.\r\n    *   The output is true if the sensor is in the specific configuration state indicated by `V. 6.0`.\r\n\r\n3.  **Intrinsic Sensor Validity**:\r\n    *   The direct input `LV_FAC_AFU_RATIO_SENS_VLD` (representing the sensor's own validity assessment) is passed directly as a condition.\r\n\r\n4.  **Action Permission Evaluation**:\r\n    *   An \"ActionImport\" block processes `ACTION_FARM_GetPermission` (from input block 3), `PRM_FID`, and `NC_FID_ERR_AFU_SENS_AFU` (from input block 5). This block likely encapsulates logic to determine a system permission status.\r\n    *   The output labeled `ACTION_FARM_GetPermission` from this \"ActionImport\" block serves as a condition.\r\n\r\n5.  **Combination of Primary Conditions**:\r\n    *   The results from the Ratio Value Threshold Check, Sensor Configuration Check, Intrinsic Sensor Validity, and the Derived Action Permission are all fed into an `AND` gate.\r\n    *   If **all four** of these conditions are simultaneously true, the output of this `AND` gate is true, signifying that the primary validity criteria are met.\r\n\r\n**Branch 2: Secondary/Alternative Validity Conditions (Bottom Path)**\r\n\r\n1.  **Local Configuration Inactivity Check**:\r\n    *   The input `LC_FAC_AFU_RATIO_CONF` is passed through a `NOT` gate.\r\n    *   The output is true if `LC_FAC_AFU_RATIO_CONF` is false (implying the local configuration is not active in a way that would invalidate the ratio).\r\n\r\n2.  **LV Parameter Permission Evaluation**:\r\n    *   Another output from the \"ActionImport\" block, labeled `PRM_LV_PRMS`, serves as a condition. This indicates a permission or status related to \"LV\" parameters, derived from the same permission logic in the \"ActionImport\" block.\r\n\r\n3.  **Combination of Secondary Conditions**:\r\n    *   The result from the Local Configuration Inactivity Check (`NOT LC_FAC_AFU_RATIO_CONF`) and the `PRM_LV_PRMS` signal are fed into a second `AND` gate.\r\n    *   If **both** of these conditions are simultaneously true, the output of this `AND` gate is true, signifying that the secondary (alternative) validity criteria are met.\r\n\r\n**Final Determination:**\r\n\r\n1.  The outputs of **Branch 1 (Primary Validity Conditions)** and **Branch 2 (Secondary/Alternative Validity Conditions)** are fed into a final `OR` gate.\r\n2.", "mimetype": "text/plain", "start_char_idx": 358126, "end_char_idx": 361996, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "87bb6bca-7770-4590-acaa-3c09c5b8e39d": {"__data__": {"id_": "87bb6bca-7770-4590-acaa-3c09c5b8e39d", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6ed293fc-e8c2-4a23-b590-7db7363d0dbc", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "e23ad48192474c62bd8679d3a6e9eec26a04a0671506cbc16aaa886e861a187f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f775ea61-7c67-413c-87bd-6cd33159f07d", "node_type": "1", "metadata": {}, "hash": "8808a1010676d41ad5e36cc5c277ef12d5f2097baa11c43d06f297634096d75e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   If **both** of these conditions are simultaneously true, the output of this `AND` gate is true, signifying that the secondary (alternative) validity criteria are met.\r\n\r\n**Final Determination:**\r\n\r\n1.  The outputs of **Branch 1 (Primary Validity Conditions)** and **Branch 2 (Secondary/Alternative Validity Conditions)** are fed into a final `OR` gate.\r\n2.  If **either** the output of the first `AND` gate (Primary Conditions met) is true **OR** the output of the second `AND` gate (Secondary Conditions met) is true, then the ultimate output `LV_FAC_AFU_RATIO_VLD` is set to `true`. Otherwise, it is `false`.\r\n\r\n\r\n--- Page 114 ---\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram, titled \"4.13.2.4 Calculation of FAC_AFU_RATIO_DET\" (Alternative fuel ratio determination), is to calculate and output a robust alternative fuel unit ratio (`FAC_AFU_RATIO_DET`) and its associated diagnostic status (`LV_FAC_AFU_RATIO_DFT_ST_ACT_RST`). It achieves this by evaluating multiple input ratio values, their validity, sensor confidence levels, and error conditions, then selecting the most appropriate ratio through a hierarchical conditional logic.\r\n\r\n## Inputs\r\n\r\nThe following are the key inputs to this subsystem:\r\n\r\n1.  **`LV_FAC_AFU_RATIO_LAMB_ACT`**: Boolean/status indicating an active Lambda ratio.\r\n2.  **`NC_STATE_AFU_SENS_CONF`**: Boolean/status indicating the confidence state of the alternative fuel unit sensor.\r\n3.  **`LC_FAC_AFU_RATIO_CONF`**: Boolean/status indicating confidence in a local alternative fuel unit ratio.\r\n4.  **`FAC_AFU_RATIO_LAMB`**: Calculated Lambda-based alternative fuel unit ratio value.\r\n5.  **`LV_FAC_AFU_RATIO_SENS_VLD`**: Boolean/status indicating validity of sensor-based alternative fuel unit ratio.\r\n6.  **`LV_FAC_AFU_RATIO_VLD`**: Boolean/status indicating general validity of the alternative fuel unit ratio.\r\n7.  **`FAC_AFU_RATIO_SENS_MMV_DLY`**: Sensor-based alternative fuel unit ratio with Moving Mean Value (MMV) and delay.\r\n8.  **`FAC_AFU_RATIO_ER`**: Alternative fuel unit ratio for error/emergency mode.\r\n9.  **`FAC_AFU_RATIO_FTL`**: Alternative fuel unit ratio for a Fault Tolerant Limit (FTL) condition.\r\n10. **`FAC_AFU_RATIO_FTL_VLD`**: Boolean/status indicating validity of the FTL ratio.\r\n11. **`FAC_AFU_RATIO_LAMB_VLD`**: Boolean/status indicating validity of the Lambda ratio.\r\n12. **`LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_in`**: Input for diagnostic reset status.\r\n13. **`FAC_AFU_RATIO_ERU`**: Alternative fuel unit ratio for a specific error unit.\r\n14. **`FAC_AFU_RATIO_DET_in`**: Default or previous determined alternative fuel unit ratio.\r\n15. **`ACTION_FARM_GetPermission`**: Boolean/status indicating permission for a specific action (from a 'GetPermission' block).\r\n16. **`PRM_LV_PRMS`**: Boolean/status indicating a specific parameter permission (from a 'GetPermission' block).\r\n17. **`NC_FID_ERR_AFU_SENS_AFU`**: Boolean/status indicating an error in the AFU sensor.\r\n\r\n## Outputs\r\n\r\nThe subsystem produces two main outputs:\r\n\r\n1.  **`FAC_AFU_RATIO_DET`**: The determined alternative fuel unit ratio, chosen based on the input conditions.\r\n2.  **`LV_FAC_AFU_RATIO_DFT_ST_ACT_RST`**: The resulting diagnostic fault status, likely related to the chosen ratio's source or validity.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be described in a step-by-step manner, prioritizing the selection of the alternative fuel unit ratio and its status:\r\n\r\n1.  **Error Status Derivation (`[lv_err_afu_sens]`):**\r\n    *   First, an internal boolean signal `[lv_err_afu_sens]` is calculated. This signal represents an overall AFU sensor error or permission issue.\r\n    *   It is true if `ACTION_FARM_GetPermission` is FALSE (inverted), OR if `PRM_LV_PRMS` is FALSE (inverted), OR if `NC_FID_ERR_AFU_SENS_AFU` is TRUE.\r\n    *   `[lv_err_afu_sens]` is used as a condition in subsequent ratio selections.\r\n\r\n2.", "mimetype": "text/plain", "start_char_idx": 361636, "end_char_idx": 365502, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f775ea61-7c67-413c-87bd-6cd33159f07d": {"__data__": {"id_": "f775ea61-7c67-413c-87bd-6cd33159f07d", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "87bb6bca-7770-4590-acaa-3c09c5b8e39d", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "e5b6c05090ebe459e4bcd7f513f4c80477f0e7b27b7ba928e3f599fe6b0a04c3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "dd4d6cfe-3fec-4899-8b2a-e1c6987b2513", "node_type": "1", "metadata": {}, "hash": "7b0c2318d52e0d40594051617e391fc912b7ee192cca15c90cde60cbac05bb03", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This signal represents an overall AFU sensor error or permission issue.\r\n    *   It is true if `ACTION_FARM_GetPermission` is FALSE (inverted), OR if `PRM_LV_PRMS` is FALSE (inverted), OR if `NC_FID_ERR_AFU_SENS_AFU` is TRUE.\r\n    *   `[lv_err_afu_sens]` is used as a condition in subsequent ratio selections.\r\n\r\n2.  **Preliminary Lambda Ratio Selection (`temp_ratio_1`):**\r\n    *   A conditional block (`cond_if` labeled `V:6.4`) determines an intermediate ratio value (`temp_ratio_1`).\r\n    *   The condition for this block is: `(NOT(NC_STATE_AFU_SENS_CONF) AND LC_FAC_AFU_RATIO_CONF) OR LV_FAC_AFU_RATIO_LAMB_ACT`.\r\n    *   If this condition is TRUE, `temp_ratio_1` is set to `0`.\r\n    *   If FALSE, `temp_ratio_1` is `FAC_AFU_RATIO_LAMB`.\r\n\r\n3.  **Preliminary Sensor MMV DLY Ratio Selection (`temp_ratio_2`):**\r\n    *   Another conditional block (`cond_if` labeled `V:6.4`) determines a second intermediate ratio value (`temp_ratio_2`).\r\n    *   The condition for this block is: `(NOT(LC_FAC_AFU_RATIO_CONF) AND LV_FAC_AFU_RATIO_SENS_VLD) AND [lv_err_afu_sens]`.\r\n    *   If this condition is TRUE, `temp_ratio_2` is set to `1`.\r\n    *   If FALSE, `temp_ratio_2` is `FAC_AFU_RATIO_SENS_MMV_DLY`.\r\n\r\n4.  **Main Alternative Fuel Ratio and Diagnostic Status Determination:**\r\n    *   A large, complex conditional subsystem (labeled `cond_if` with `V:5.2` and `V:6.0` indicators) is responsible for the final selection of `FAC_AFU_RATIO_DET_ou` and `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_ou`.\r\n    *   This subsystem takes all the pre-processed ratios (`temp_ratio_1`, `temp_ratio_2`) and a multitude of other inputs: `FAC_AFU_RATIO_VLD`, `LV_FAC_AFU_RATIO_VLD`, `NC_STATE_AFU_SENS_CONF`, `[lv_err_afu_sens]`, `FAC_AFU_RATIO_ER`, `FAC_AFU_RATIO_ER_VLD`, `FAC_AFU_RATIO_FTL`, `FAC_AFU_RATIO_FTL_VLD`, `FAC_AFU_RATIO_LAMB_VLD`, `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_in`, `FAC_AFU_RATIO_ERU`, and `FAC_AFU_RATIO_DET_in`.\r\n    *   The internal logic of this subsystem (not fully visible, but implied by `cond_if` structure) evaluates these inputs in a prioritized manner. It likely checks validity flags, confidence levels, and error states to decide which specific ratio (`temp_ratio_1`, `temp_ratio_2`, `FAC_AFU_RATIO_ER`, `FAC_AFU_RATIO_FTL`, `FAC_AFU_RATIO_ERU`, or `FAC_AFU_RATIO_DET_in`) should be output as `FAC_AFU_RATIO_DET_ou`.\r\n    *   Concurrently, based on the same conditions, it determines the appropriate `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_ou`.\r\n\r\n5.  **Final Output Merging:**\r\n    *   The `FAC_AFU_RATIO_DET_ou` signal from the main conditional subsystem is passed through a `Merge` block to become the final output `FAC_AFU_RATIO_DET`.\r\n    *   The `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_ou` signal and a fallback value `CLC_ELSE` are merged to produce the final `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST`. This implies that `CLC_ELSE` is used as a default if no specific diagnostic reset condition is met within the conditional logic.\r\n\r\n\r\n--- Page 115 ---\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to determine the final Alternative Fuel Unit (AFU) Ratio (`FAC_AFU_RATIO_DET_out`) for engine control, dynamically prioritizing between an aggregated ratio derived from multiple sensors (Lambda, Fuel Trim Long, Exhaust Gas Recirculation) and a dedicated \"Drivability intervention\" ratio based on the Exhaust Gas Recirculation Unit (ERU).", "mimetype": "text/plain", "start_char_idx": 365187, "end_char_idx": 368534, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "dd4d6cfe-3fec-4899-8b2a-e1c6987b2513": {"__data__": {"id_": "dd4d6cfe-3fec-4899-8b2a-e1c6987b2513", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f775ea61-7c67-413c-87bd-6cd33159f07d", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "b3cdc36465daa8368e8da0b610110b41447527b1bda2ee88a2751413c0d6ce84", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f0d6e4c3-088f-4e90-84ec-9ebe005bf195", "node_type": "1", "metadata": {}, "hash": "da196be837445390f2406453e1bc9e3139e68ad30e1738e854f8d925da41748d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "--- Page 115 ---\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to determine the final Alternative Fuel Unit (AFU) Ratio (`FAC_AFU_RATIO_DET_out`) for engine control, dynamically prioritizing between an aggregated ratio derived from multiple sensors (Lambda, Fuel Trim Long, Exhaust Gas Recirculation) and a dedicated \"Drivability intervention\" ratio based on the Exhaust Gas Recirculation Unit (ERU). Concurrently, it manages a diagnostic fault state active reset flag (`LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_out`) based on various system validation, sensor confidence, error states, and the activation of the drivability intervention. This system aims to provide a robust fuel ratio calculation with immediate response to drivability concerns even before comprehensive sensor feedback is fully processed.\r\n\r\n## Inputs\r\n1.  **`FAC_AFU_RATIO_LAMB`**: Raw AFU ratio from the Lambda sensor.\r\n2.  **`FAC_AFU_RATIO_LAMB_VLD`**: Validation flag (Boolean) for `FAC_AFU_RATIO_LAMB`.\r\n3.  **`FAC_AFU_RATIO_FTL`**: Raw AFU ratio from the Fuel Trim Long (FTL) system.\r\n4.  **`FAC_AFU_RATIO_FTL_VLD`**: Validation flag (Boolean) for `FAC_AFU_RATIO_FTL`.\r\n5.  **`FAC_AFU_RATIO_ER`**: Raw AFU ratio from the Exhaust Gas Recirculation (ER) sensor.\r\n6.  **`FAC_AFU_RATIO_ER_VLD`**: Validation flag (Boolean) for `FAC_AFU_RATIO_ER`.\r\n7.  **`LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_in`**: Input signal (Boolean) to activate the diagnostic fault state reset.\r\n8.  **`FAC_AFU_RATIO_VLD`**: General AFU ratio validation signal.\r\n9.  **`C_FAC_AFU_RATIO_VLD_THD_1`**: Constant threshold for AFU ratio validation.\r\n10. **`LV_FAC_AFU_RATIO_VLD`**: Validation flag (Boolean) for `FAC_AFU_RATIO_VLD`.\r\n11. **`LC_FAC_AFU_RATIO_CONT`**: Control flag (Boolean), possibly for continuous AFU ratio determination.\r\n12. **`NC_STATE_AFU_SENS_CONF`**: AFU sensor confidence state (Integer, typically 0 or 1).\r\n13. **`lv_err_afu_sens`**: AFU sensor error flag (Boolean).\r\n14. **`FAC_AFU_RATIO_ERU`**: AFU ratio specifically used for Exhaust Gas Recirculation Unit (ERU) drivability intervention.\r\n15. **`LV_FAC_AFU_RATIO_ERU_ACT`**: Activation flag (Boolean) for the `FAC_AFU_RATIO_ERU` based intervention.\r\n16. **`FAC_AFU_RATIO_DET_in`**: An existing or baseline detected AFU ratio, often used as a reference.\r\n\r\n## Outputs\r\n1.  **`FAC_AFU_RATIO_DET_out`**: The final determined AFU ratio for the system.\r\n2.  **`LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_out`**: Output flag (Boolean) indicating the state of the diagnostic fault state active reset.\r\n\r\n## Logic Flow\r\n\r\nThe system operates in a multi-stage process involving ratio validation, aggregation, drivability intervention, and fault state management.\r\n\r\n1.  **Aggregated Validated Ratio Calculation (Top Left Path):**\r\n    *   The raw AFU ratios from Lambda (`FAC_AFU_RATIO_LAMB`), FTL (`FAC_AFU_RATIO_FTL`), and ER (`FAC_AFU_RATIO_ER`) are each multiplied by their respective validation flags (`_VLD`). This means if a sensor reading is not validated, its contribution to the sum becomes zero.\r\n    *   These three validated (or zeroed) ratio components are then summed together using an adder block.\r\n    *   The result of this sum, representing an `Aggregated_Validated_Ratio`, is fed into a Demux block (V. 6.8), and subsequently becomes one of the candidate inputs for the final AFU ratio determination switch.\r\n\r\n2.  **Drivability Intervention Logic (Bottom Path):**\r\n    *   A `Drivability_Ratio` is calculated by multiplying `FAC_AFU_RATIO_ERU` with its activation flag `LV_FAC_AFU_RATIO_ERU_ACT`. If `LV_FAC_AFU_RATIO_ERU_ACT` is 0, the `Drivability_Ratio` becomes 0, effectively deactivating this intervention path.", "mimetype": "text/plain", "start_char_idx": 368115, "end_char_idx": 371758, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f0d6e4c3-088f-4e90-84ec-9ebe005bf195": {"__data__": {"id_": "f0d6e4c3-088f-4e90-84ec-9ebe005bf195", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "dd4d6cfe-3fec-4899-8b2a-e1c6987b2513", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "3a0bb0a9c7c3109ae8329d9f3f525afa41af6b32122f936772bdb6f9723ce481", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1a68fd9d-a6f6-494b-b7b9-7d8a50dc6082", "node_type": "1", "metadata": {}, "hash": "da0210e45a7c6f5ebd64783ab0a19a50155abcb7397bbc5ec22540ec2387b108", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "2.  **Drivability Intervention Logic (Bottom Path):**\r\n    *   A `Drivability_Ratio` is calculated by multiplying `FAC_AFU_RATIO_ERU` with its activation flag `LV_FAC_AFU_RATIO_ERU_ACT`. If `LV_FAC_AFU_RATIO_ERU_ACT` is 0, the `Drivability_Ratio` becomes 0, effectively deactivating this intervention path.\r\n    *   This calculated `Drivability_Ratio` is then compared against `FAC_AFU_RATIO_DET_in` using a \"not equal to\" (`~=`) relational operator. The boolean result, `Drivability_Ratio_Deviation_Flag`, indicates if the ERU-based drivability ratio suggests a departure from the baseline detected ratio.\r\n    *   The `Drivability_Ratio` itself is also fed as a candidate input for the final AFU ratio determination switch.\r\n\r\n3.  **Final AFU Ratio Determination (`FAC_AFU_RATIO_DET_out`):**\r\n    *   A main Switch block selects the final `FAC_AFU_RATIO_DET_out`.\r\n    *   The control input for this switch is the `Drivability_Ratio_Deviation_Flag` derived in step 2.\r\n    *   **If `Drivability_Ratio_Deviation_Flag` is TRUE** (meaning `Drivability_Ratio` is *not equal* to `FAC_AFU_RATIO_DET_in`): The output `FAC_AFU_RATIO_DET_out` is set to the `Drivability_Ratio` (from step 2). This signifies an active drivability intervention overriding the default ratio.\r\n    *   **If `Drivability_Ratio_Deviation_Flag` is FALSE** (meaning `Drivability_Ratio` *is equal* to `FAC_AFU_RATIO_DET_in`): The output `FAC_AFU_RATIO_DET_out` is set to the `Aggregated_Validated_Ratio` (from step 1). This is the standard operational mode when no ERU-based drivability deviation is detected.\r\n\r\n4.  **Diagnostic Fault State Reset Flag Logic (`LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_out`):**\r\n    *   This output is controlled by a Switch block whose selection criteria are determined by a complex combination of logical conditions aggregated through a multi-input OR gate.\r\n    *   **Condition Path A (Validation & Sensor Confidence State 0):**\r\n        *   `Sub_Cond_A1`: (`FAC_AFU_RATIO_VLD >= C_FAC_AFU_RATIO_VLD_THD_1`) AND `LV_FAC_AFU_RATIO_VLD`.\r\n        *   `Sub_Cond_A2`: `NOT LC_FAC_AFU_RATIO_CONT`.\r\n        *   `Intermediate_Cond_A = Sub_Cond_A1 OR Sub_Cond_A2`.\r\n        *   `Final_Cond_A = Intermediate_Cond_A AND (NC_STATE_AFU_SENS_CONF == 0)`.\r\n    *   **Condition Path B (Sensor Confidence State 1 & Error or Continuous Control):**\r\n        *   `Sub_Cond_B1`: (`NC_STATE_AFU_SENS_CONF == 1`) AND `lv_err_afu_sens`.\r\n        *   `Final_Cond_B = Sub_Cond_B1 OR LC_FAC_AFU_RATIO_CONF`.\r\n    *   **Condition Path C (Drivability Intervention Deviation):**\r\n        *   `Final_Cond_C = Drivability_Ratio_Deviation_Flag` (same flag as used for `FAC_AFU_RATIO_DET_out` control).\r\n    *   **Overall Reset Control Flag:** `Final_Cond_A`, `Final_Cond_B`, and `Final_Cond_C` are inputs to a final OR gate. The output of this OR gate, `Reset_Control_Flag`, determines the `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_out`.\r\n    *   **Switch Logic:**\r\n        *   **If `Reset_Control_Flag` is TRUE:** `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_out` is set to `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_in`. This means the active reset signal is passed through, indicating a need for diagnostic reset due to one of the specified conditions.\r\n        *   **If `Reset_Control_Flag` is FALSE:** `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_out` is set to the constant `1`. This likely indicates a default \"reset not active\" or \"no diagnostic action required\" state.\r\n\r\n\r\n--- Page 116 ---\r\n\r\nThis image is a Simulink diagram, which is used for model-based design and simulation of dynamic systems.", "mimetype": "text/plain", "start_char_idx": 371452, "end_char_idx": 374980, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1a68fd9d-a6f6-494b-b7b9-7d8a50dc6082": {"__data__": {"id_": "1a68fd9d-a6f6-494b-b7b9-7d8a50dc6082", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f0d6e4c3-088f-4e90-84ec-9ebe005bf195", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "f45295d2585b109f958b693f5518869e75d0cb937c113915c25156a2b719f184", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "595c349f-0d0f-4e7d-b1c2-f5e53c2e6b0d", "node_type": "1", "metadata": {}, "hash": "dd6db18a9542863089aadd4c60f67a9c8ff9a7e0fd21da54454d6134baa86bdb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **If `Reset_Control_Flag` is FALSE:** `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST_out` is set to the constant `1`. This likely indicates a default \"reset not active\" or \"no diagnostic action required\" state.\r\n\r\n\r\n--- Page 116 ---\r\n\r\nThis image is a Simulink diagram, which is used for model-based design and simulation of dynamic systems.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram, titled \"4.13.2.5 Manual setting of FAC_AFU_RATIO\" and described as \"ALFU, Alternative fuel ratio determination\", is to determine a final \"Alternative Fuel Unit Ratio\" (`FAC_AFU_RATIO_out`) and output a corresponding detection status (`FAC_AFU_RATIO_DET_out`). This determination involves:\r\n1.  Allowing for a manual override of the ratio.\r\n2.  Checking the validity of an input ratio against defined upper and lower limits relative to a reference detected ratio.\r\n3.  Implementing a default fallback mechanism if conditions for manual setting, detected ratio, or valid range are not met.\r\n\r\n## Inputs\r\n\r\nThe key inputs to this system are:\r\n*   `C_FAC_AFU_RATIO_MAN`: A constant value representing the manually set alternative fuel unit ratio.\r\n*   `LC_FAC_AFU_RATIO_MAN_ACT`: A boolean control signal that activates the manual override of the ratio.\r\n*   `FAC_AFU_RATIO_DET_in`: The input signal representing a detected or reference alternative fuel unit ratio. This is used as a baseline.\r\n*   `C_FAC_AFU_RATIO_LGRD`: A constant value representing a \"lower guard\" or tolerance band, used to define the acceptable range for ratio validation. It effectively defines both a positive and negative offset.\r\n*   `FAC_AFU_RATIO_in`: The primary alternative fuel unit ratio input that is being evaluated for validity.\r\n*   `LV_FAC_AFU_RATIO_DFT_ST_ACT`: A boolean control signal that, when active, forces the system into a default state, overriding other calculations. This signal appears to be generated by another part of the system (e.g., the `f(t)` block).\r\n\r\n## Outputs\r\n\r\nThe key outputs from this system are:\r\n*   `FAC_AFU_RATIO_out`: The final, determined alternative fuel unit ratio after applying manual overrides, range checks, and default logic.\r\n*   `FAC_AFU_RATIO_DET_out`: A diagnostic or status output, typically a multiplexed signal indicating the source or status of the determined `FAC_AFU_RATIO_out` (e.g., if it's in manual mode, within range, or in a default state).\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into sequential stages:\r\n\r\n1.  **Manual Override and Initial Default Value Determination:**\r\n    *   A switch block first evaluates `LC_FAC_AFU_RATIO_MAN_ACT`.\r\n    *   If `LC_FAC_AFU_RATIO_MAN_ACT` is `TRUE` (non-zero), `C_FAC_AFU_RATIO_MAN` (the manual ratio) is selected.\r\n    *   If `LC_FAC_AFU_RATIO_MAN_ACT` is `FALSE` (zero), `FAC_AFU_RATIO_DET_in` (the detected ratio) is selected.\r\n    *   The output of this switch, along with `FAC_AFU_RATIO_DET_in` and `LV_FAC_AFU_RATIO_DFT_ST_ACT`, feeds into a block named `FAC_AFU_RATIO_DFT_ST`. This block likely calculates or provides a specific \"default\" ratio value (`FAC_AFU_RATIO_DFT_ST`) to be used when other conditions are not met or a default state is active.\r\n\r\n2.  **Range Checking / Bounding of Input Ratio:**\r\n    *   This stage evaluates `FAC_AFU_RATIO_in` against a dynamic range defined by `FAC_AFU_RATIO_DET_in` and the tolerance `C_FAC_AFU_RATIO_LGRD`.\r\n    *   **Upper Limit Check:** `FAC_AFU_RATIO_in` is compared with `(FAC_AFU_RATIO_DET_in + C_FAC_AFU_RATIO_LGRD)` using a `>=` relational operator (V.6.0).\r\n        *   If `FAC_AFU_RATIO_in` is **above or equal to** this upper limit (condition is `TRUE`), a switch labeled \"Check ~= 0\" selects `FAC_AFU_RATIO_DFT_ST` (the default value).\r\n        *   Otherwise (condition is `FALSE`), it selects `FAC_AFU_RATIO_DET_in`.", "mimetype": "text/plain", "start_char_idx": 374649, "end_char_idx": 378425, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "595c349f-0d0f-4e7d-b1c2-f5e53c2e6b0d": {"__data__": {"id_": "595c349f-0d0f-4e7d-b1c2-f5e53c2e6b0d", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1a68fd9d-a6f6-494b-b7b9-7d8a50dc6082", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "9b456c2f2623116b0fc1b577541a24eeb3b581118890e6855e4fd4b2ef252b67", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f75e3a03-7bd9-4847-8997-e12b1df7ed39", "node_type": "1", "metadata": {}, "hash": "5c2d94765b6fc0d0abf5fe6f91f06bd2ec5a19bb848960aeda074189ac403a44", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   If `FAC_AFU_RATIO_in` is **above or equal to** this upper limit (condition is `TRUE`), a switch labeled \"Check ~= 0\" selects `FAC_AFU_RATIO_DFT_ST` (the default value).\r\n        *   Otherwise (condition is `FALSE`), it selects `FAC_AFU_RATIO_DET_in`.\r\n    *   **Lower Limit Check:** `FAC_AFU_RATIO_in` is compared with `(FAC_AFU_RATIO_DET_in - C_FAC_AFU_RATIO_LGRD)` using a `<=` relational operator (V.6.3).\r\n        *   If `FAC_AFU_RATIO_in` is **below or equal to** this lower limit (condition is `TRUE`), a second \"Check ~= 0\" switch selects `FAC_AFU_RATIO_DFT_ST`.\r\n        *   Otherwise (condition is `FALSE`), it selects the output from the upper limit check.\r\n    *   In summary, if `FAC_AFU_RATIO_in` falls outside the allowed range `[FAC_AFU_RATIO_DET_in - C_FAC_AFU_RATIO_LGRD, FAC_AFU_RATIO_DET_in + C_FAC_AFU_RATIO_LGRD]`, the output of this stage becomes `FAC_AFU_RATIO_DFT_ST`. Otherwise, it remains `FAC_AFU_RATIO_DET_in`.\r\n\r\n3.  **Final Output Selection (`FAC_AFU_RATIO_out`):**\r\n    *   The final switch before the `FAC_AFU_RATIO_out` port is controlled by `LV_FAC_AFU_RATIO_DFT_ST_ACT`.\r\n    *   If `LV_FAC_AFU_RATIO_DFT_ST_ACT` is `TRUE` (non-zero), indicating a global default state is active, then `FAC_AFU_RATIO_DFT_ST` (the default value from stage 1) is selected as `FAC_AFU_RATIO_out`.\r\n    *   Otherwise (`LV_FAC_AFU_RATIO_DFT_ST_ACT` is `FALSE`), the output from the range checking stage (the bounded `FAC_AFU_RATIO_DET_in` or `FAC_AFU_RATIO_DFT_ST` if out of bounds) is selected as `FAC_AFU_RATIO_out`.\r\n\r\n4.  **Detection Status Output (`FAC_AFU_RATIO_DET_out`):**\r\n    *   The `FAC_AFU_RATIO_DET_out` port receives a multiplexed signal. The inputs to the multiplexer are `LV_FAC_AFU_RATIO_DFT_ST_ACT`, `FAC_AFU_RATIO_DET_in`, and `FAC_AFU_RATIO_DFT_ST`.\r\n    *   This output likely provides a consolidated status or flag, indicating which mode or value was ultimately used to determine `FAC_AFU_RATIO_out` (e.g., if a default value was imposed due to an active default state, or if the detected value was used, or if the default value was imposed due to range violation). The specific selection logic for the multiplexer (e.g., priority-based or concatenating into a bus) is not explicitly detailed but aims to convey diagnostic information.\r\n\r\n\r\n--- Page 121 ---\r\n\r\nThis image is a Simulink-style diagram, commonly used in automotive embedded software development for control system design.\r\n\r\n## Function\r\nThe primary function of this system, as indicated by the title \"ALFU. Alternative fuel ratio determination (Appl. Inc.)\", is to determine and manage the alternative fuel ratio. This typically involves calculating and controlling the air-fuel mixture for combustion, likely for engines capable of running on different fuel types (e.g., gasoline, E85, CNG) or to optimize combustion under various operating conditions and environmental factors. It's an application-layer component, integrating various sensor inputs, control states, and calibration values to produce the necessary outputs for fuel ratio control.\r\n\r\n## Inputs\r\nThe system receives numerous inputs from various sources, reflecting engine operation, sensor readings, and system states. These are primarily grouped on the left-hand side of the diagram:\r\n\r\n*   **Fuel Ratio & Lambda Related:**\r\n    *   `FAC_AFU_RATIO`: Base alternative fuel unit ratio.\r\n    *   `FAC_AFU_RATIO_LAMB_VLD`: Validity flag for lambda-based AFU ratio.\r\n    *   `LV_LAM_LSCL`: Lambda sensor calibration factor.\r\n    *   `LV_FAC_AFU_RATIO_VLD_RST`: Reset signal for AFU ratio validity.\r\n    *   `LV_FAC_AFU_RATIO_LAMB_VLD`: Lambda-based AFU ratio validity (possibly a different specific validity).\r\n    *   `LV_FAC_AFU_RATIO_EXT_REQ`: External request for AFU ratio.", "mimetype": "text/plain", "start_char_idx": 378171, "end_char_idx": 381916, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f75e3a03-7bd9-4847-8997-e12b1df7ed39": {"__data__": {"id_": "f75e3a03-7bd9-4847-8997-e12b1df7ed39", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "595c349f-0d0f-4e7d-b1c2-f5e53c2e6b0d", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "140fc1619e44b398eb83c95690328c67989558b58cf8c8beac9eeacabe5d3a0d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ea705bbd-3e7e-47eb-b017-9c4981b18ddc", "node_type": "1", "metadata": {}, "hash": "28c532159b12005f8c242a4d2b2884cccb32d9dd0df4e41290bc4e423cd3e604", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `LV_LAM_LSCL`: Lambda sensor calibration factor.\r\n    *   `LV_FAC_AFU_RATIO_VLD_RST`: Reset signal for AFU ratio validity.\r\n    *   `LV_FAC_AFU_RATIO_LAMB_VLD`: Lambda-based AFU ratio validity (possibly a different specific validity).\r\n    *   `LV_FAC_AFU_RATIO_EXT_REQ`: External request for AFU ratio.\r\n    *   `LV_FAC_AFU_RATIO_ERU_VLD`: Validity for Emergency Run Unit (ERU) AFU ratio.\r\n    *   `LV_FAC_AFU_RATIO_VLD`: General validity for AFU ratio.\r\n    *   `IDX_EX_CBK_LAMB`: Index for external callback related to lambda.\r\n    *   `ACTION_ALFU_RstVldLamb_T2`: Action to reset lambda validity (Task 2).\r\n    *   `ACTION_ALFU_RstVldEr_T2`: Action to reset Emergency Run validity (Task 2).\r\n    *   `ACTION_ALFU_RstVldEru_T2`: Action to reset ERU validity (Task 2).\r\n*   **Engine & Vehicle Operating Conditions:**\r\n    *   `LV_PUC`: Power Unit Control status/value.\r\n    *   `MAF`: Mass Air Flow.\r\n    *   `N`: Engine Speed.\r\n    *   `N_32`: Engine Speed (potentially a different resolution or filtered version).\r\n    *   `TCO`: Coolant Temperature.\r\n    *   `CTR_FUEL_OIL`: Control signal for fuel oil.\r\n    *   `LV_ST_END`: Start-End status flag.\r\n    *   `VS_GRD`: Vehicle Speed.\r\n    *   `MFF_SUM_REFU`: Sum of refueling mass flow.\r\n    *   `TOIL`: Oil Temperature.\r\n*   **Permissions & Actions:**\r\n    *   `ACTION_FARM_GetPermission_T3`: Action to get permission (Task 3).\r\n\r\n## Outputs\r\nThe system produces several outputs that describe the determined alternative fuel ratio, its validity, and related control states. These are typically consumed by other control modules in the engine management system:\r\n\r\n*   `FAC_AFU_AFS`: Alternative Fuel Unit - Air Fuel Ratio Sensor related value.\r\n*   `FAC_AFU_SAE`: Alternative Fuel Unit - SAE (Society of Automotive Engineers) compliant value.\r\n*   `LV_FAC_AFU_CP_DEAC`: Control Phase Deactivation status for AFU.\r\n*   `LV_FAC_AFU_LAMB_LDC`: Lambda value for Load-Dependent Control in AFU.\r\n*   `LV_FAC_AFU_LAMB_OIL`: Lambda value considering oil parameters in AFU.\r\n*   `LV_FAC_AFU_LAMB_OIL_COLD`: Lambda value considering cold oil parameters in AFU.\r\n*   `LV_TQ_N_FAC_AFU_LAMB_VLD`: Validity of lambda for Torque-Speed based AFU.\r\n*   `STATE_ALFU_CTL`: Control state of the Alternative Fuel Unit.\r\n*   `STATE_FUEL_TYPE_SAE`: Fuel type state according to SAE standards.\r\n\r\n## Logic Flow\r\nThe diagram illustrates a scheduled execution model typical for embedded real-time systems:\r\n\r\n1.  **Initialization (RST):**\r\n    *   Upon a reset condition (`Init: RST`), an initialization routine is triggered via the `fc_INI` signal. This execution typically occurs once at system startup. The `INI` block (labeled X.1) handles this phase, likely setting initial values for internal variables and states.\r\n\r\n2.  **Periodic Execution:**\r\n    *   The core logic is executed periodically through two main tasks:\r\n        *   **100ms Task (`OPM_100MS`):** This task is activated every 100 milliseconds (`Recurrence: 100MS`, `Activation: always fc_OPM_100MS`). It gathers a significant portion of the input signals from the left-hand bus (e.g., `FAC_AFU_RATIO`, `MAF`, `N`, `TCO`, various validity flags and requests). These inputs, along with a `feedback` signal, are processed within the `OPM_100MS` block (X.2).\r\n        *   **1s Task (`OPM_1S`):** This task runs every 1 second (`Recurrence: 1S`, `Activation: always fc_OPM_1S`). It processes a smaller, typically less time-critical, set of inputs (e.g., `CTR_FUEL_OIL`, `LV_ST_END`, `VS_GRD`, `MFF_SUM_REFU`, `TOIL`, `ACTION_FARM_GetPermission_T3`).", "mimetype": "text/plain", "start_char_idx": 381609, "end_char_idx": 385157, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ea705bbd-3e7e-47eb-b017-9c4981b18ddc": {"__data__": {"id_": "ea705bbd-3e7e-47eb-b017-9c4981b18ddc", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f75e3a03-7bd9-4847-8997-e12b1df7ed39", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "c969b2a124fe74833f1f033e7ea1222edefc550eb5f7eec2ebf72caea73447a9", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "63099d95-60f4-48bc-8d46-2afa3963dcb1", "node_type": "1", "metadata": {}, "hash": "10fe449dd8a0f896a491895980126e599d91966c8c630aa081ef6aa0f36db78d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **1s Task (`OPM_1S`):** This task runs every 1 second (`Recurrence: 1S`, `Activation: always fc_OPM_1S`). It processes a smaller, typically less time-critical, set of inputs (e.g., `CTR_FUEL_OIL`, `LV_ST_END`, `VS_GRD`, `MFF_SUM_REFU`, `TOIL`, `ACTION_FARM_GetPermission_T3`). These inputs, along with its own `feedback` signal, are processed within the `OPM_1S` block (X.3).\r\n\r\n3.  **Main Calculation Block (`V.6.3`):**\r\n    *   The outputs from the `OPM_100MS` (X.2) and `OPM_1S` (X.3) blocks, along with other internal or derived signals like `PERC_FF` and `N_MMV_LDC_AFU_LAMB`, are fed into the central computational block labeled \"V.6.3\". This block represents the core logic for \"Alternative fuel ratio determination\".\r\n    *   Inside \"V.6.3\", complex calculations and state-machine logic are executed based on the diverse inputs. These calculations account for factors like engine load (MAF, N), thermal conditions (TCO, TOIL), vehicle speed (VS_GRD), fuel type and refueling information (MFF_SUM_REFU), and various validity and request signals.\r\n    *   The block generates a comprehensive set of output values (e.g., different lambda values, control states, SAE-compliant data) that collectively define the alternative fuel ratio and associated control parameters.\r\n\r\n4.  **Output Distribution:**\r\n    *   The outputs generated by the \"V.6.3\" block are then routed to the system's external output ports on the right, making them available to other components of the automotive control system.\r\n\r\n5.  **Deactivation:**\r\n    *   The diagram specifies \"Deactivation: never fc_OPM_1S\". While \"never\" implies continuous operation, the connection to `fc_OPM_1S` is slightly ambiguous. It most likely means the system does not *internally* deactivate itself based on its own logic; however, if the `fc_OPM_1S` signal (which is an activation trigger) were to be explicitly disabled or removed by a higher-level scheduler, it could imply a deactivation of the component's 1-second task, potentially leading to a broader system shutdown. In practice, for core control functions like this, \"never\" often means the component is expected to run continuously once initialized.\r\n\r\n\r\n--- Page 122 ---\r\n\r\nThis image displays a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to **initialize a set of variables to their default reset values**, predominantly zero, upon a system reset or during an initialization phase. This process is part of an \"Alternative fuel ratio determination\" (ALFU) system. Essentially, it sets up the initial state for numerous parameters and status flags within the ALFU control logic.\r\n\r\n## Inputs\r\nIn a strict sense, there are no dynamic external inputs to this specific subsystem for its operation. The \"inputs\" are constant values defined within the diagram itself for initialization purposes.\r\n*   **Constant `0` values**: For each listed variable, a constant value of `0` is provided. These act as the desired initial values.\r\n*   **\"V. 6.4\" (Implied Data Type/Scaling)**: While not a runtime input, \"V. 6.4\" appears below each `0` and likely specifies the data type, scaling, or version of the variable being initialized (e.g., a fixed-point data type like \"signed 6-bit integer with 4 bits to the right of the decimal point\", or simply a descriptor like \"Voltage, version 6.4\"). This information guides how the `0` is interpreted and stored.\r\n\r\n## Outputs\r\nThe subsystem outputs a collection of initialized variables/signals. These are the variables whose values have been set to `0` by this initialization block.\r\n*   **`FAC_AFU_AFS`**: Initialized factor for AFU Air-Fuel Ratio Sensing.\r\n*   **`FAC_AFU_SAE`**: Initialized factor for AFU SAE.\r\n*   **`LV_FAC_AFU_CP_DEAC`**: Initialized latch variable for AFU control path deactivation.\r\n*   **`LV_FAC_AFU_LAMB_LDC`**: Initialized latch variable for AFU Lambda (air-fuel ratio) control.\r\n*   **`LV_FAC_AFU_LAMB_OIL`**: Initialized latch variable for AFU Lambda related to oil.", "mimetype": "text/plain", "start_char_idx": 384877, "end_char_idx": 388870, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "63099d95-60f4-48bc-8d46-2afa3963dcb1": {"__data__": {"id_": "63099d95-60f4-48bc-8d46-2afa3963dcb1", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ea705bbd-3e7e-47eb-b017-9c4981b18ddc", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "f65f8265d67cbe6d91f6d56cff8221a32f361b6b9633d293faa87f22089b0d66", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f5e25945-3d1c-4313-960f-3522cbf905df", "node_type": "1", "metadata": {}, "hash": "63d3cbd176d6f9a54fb0a579419780d6ef5212cec6d100895e93e33646037b4f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **`LV_FAC_AFU_CP_DEAC`**: Initialized latch variable for AFU control path deactivation.\r\n*   **`LV_FAC_AFU_LAMB_LDC`**: Initialized latch variable for AFU Lambda (air-fuel ratio) control.\r\n*   **`LV_FAC_AFU_LAMB_OIL`**: Initialized latch variable for AFU Lambda related to oil.\r\n*   **`LV_FAC_AFU_LAMB_OIL_COLD`**: Initialized latch variable for AFU Lambda related to cold oil conditions.\r\n*   **`LV_FAC_AFU_LAMB_OIL_HOT`**: Initialized latch variable for AFU Lambda related to hot oil conditions.\r\n*   **`LV_TQ_N_FAC_AFU_ER_VLD`**: Initialized latch variable for Torque-Engine Speed factor AFU validity.\r\n*   **`LV_TQ_N_FAC_AFU_LAMB_VLD`**: Initialized latch variable for Torque-Engine Speed factor AFU Lambda validity.\r\n*   **`LV_VS_GRD_INT_AFU`**: Initialized latch variable for general integrated AFU validity/state.\r\n*   **`N_MMV_LDC_AFU_LAMB`**: Initialized nominal value for AFU Lambda control.\r\n*   **`PERC_FF`**: Initialized percentage fuel factor.\r\n*   **`STATE_ALFU_CTL`**: Initialized control state for ALFU.\r\n*   **`STATE_FUEL_TYPE_SAE`**: Initialized fuel type state (SAE standard).\r\n*   **`T_FAC_AFU_LAMB_OIL_HOT`**: Initialized temperature factor for AFU Lambda hot oil.\r\n*   **`T_LDC_FAC_AFU`**: Initialized temperature-related factor for AFU control.\r\n*   **`TQ_MMV_LDC_AFU_LAMB`**: Initialized torque for AFU Lambda control.\r\n*   **`VS_GRD_INT_AFU`**: Initialized general integrated AFU validity/state.\r\n*   **`ini`**: A grouped output signal (indicated by the line leading to block '1') which likely represents the bundle of all initialized signals or a flag indicating that the initialization process is complete.\r\n\r\n## Logic Flow\r\n1.  **Trigger Event**: This initialization subsystem is presumably activated at a system reset event or during the initial startup sequence of the ALFU control unit.\r\n2.  **Constant Value Generation**: For each variable that needs to be initialized, a constant block is implicitly represented on the left side, providing a `0` value. This `0` is the target reset value.\r\n3.  **Variable Assignment (via `f()` block)**: Each `0` value is routed into the central `f()` block. This `f()` block acts as a functional container or a subsystem that takes these constant `0` values as \"inputs\" and then outputs them directly as the assigned values for the named variables (e.g., `FAC_AFU_AFS`, `LV_FAC_AFU_CP_DEAC`, etc.). In a typical Simulink implementation, this could be a direct assignment or a simple pass-through.\r\n4.  **Output of Initialized Variables**: The `f()` block then outputs these initialized variables, now carrying their default `0` values. These signals are then available to other parts of the ALFU model.\r\n5.  **Signal Grouping/Continuation**: The collective output of these initialized signals, or possibly a single status signal indicating initialization completion, is represented by the `ini` label, which then feeds into a block labeled `1`. This `1` could be a 'Goto' block (meaning these signals are sent to a 'From' block elsewhere in the model), a 'Terminator' (if they are not used further), or simply a visual label for the output port of the subsystem.\r\n\r\nIn essence, the diagram illustrates a simple, direct assignment of zero values to a predefined set of variables crucial for the \"Alternative fuel ratio determination\" system, ensuring a consistent starting state.\r\n\r\n\r\n--- Page 123 ---\r\n\r\nThis image is a Simulink diagram, specifically a block diagram representing a control system for alternative fuel ratio determination and flex fuel condition management in an automotive context.\r\n\r\n## Function\r\n\r\nThe primary function of this diagram is to calculate and determine various flex-fuel related parameters, including the percentage of flex fuel, a calibrated alternative fuel ratio (SAE-compliant), a constrained alternative fuel ratio, and the final SAE-conform fuel type state for display or further control actions. This is crucial for an Engine Control Unit (ECU) in a flex-fuel vehicle to adapt engine operation (e.g., fuel injection, ignition timing) based on the detected fuel composition.\r\n\r\n## Inputs\r\n\r\n*   **`FAC_AFU_RATIO`**: Represents the measured or estimated actual alternative fuel unit ratio.", "mimetype": "text/plain", "start_char_idx": 388589, "end_char_idx": 392786, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f5e25945-3d1c-4313-960f-3522cbf905df": {"__data__": {"id_": "f5e25945-3d1c-4313-960f-3522cbf905df", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "63099d95-60f4-48bc-8d46-2afa3963dcb1", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "af8aa34fc6d7cc5fe1632afdf7ed5845661b4ca1b3c2882a1e08b2ef99492a55", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6402fe45-24b6-4e87-88a8-46d7b22d7eb5", "node_type": "1", "metadata": {}, "hash": "7ec5f92c6232ed9f01637a0d3ae43ce209958a65918f8dfa958a4275e8fa99aa", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This is crucial for an Engine Control Unit (ECU) in a flex-fuel vehicle to adapt engine operation (e.g., fuel injection, ignition timing) based on the detected fuel composition.\r\n\r\n## Inputs\r\n\r\n*   **`FAC_AFU_RATIO`**: Represents the measured or estimated actual alternative fuel unit ratio.\r\n*   **`C_FUEL_MAX_CONF`**: A constant parameter indicating the maximum confidence level for the fuel measurement/estimation.\r\n*   **`[PERC_FF]`**: The percentage of flex fuel, likely an input from another calculation block or sensor.\r\n*   **`C_FAC_AFU_AFS_MAX`**: A constant parameter defining the maximum allowable alternative fuel ratio.\r\n*   **`C_FAC_AFU_AFS_MIN`**: A constant parameter defining the minimum allowable alternative fuel ratio.\r\n*   **`[FAC_AFU_SAE]`**: The SAE-compliant alternative fuel ratio, used as an input for the fuel type determination logic.\r\n*   **`BI_GAS`**: A binary input flag indicating the presence or selection of gasoline.\r\n*   **`BI_ETH`**: A binary input flag indicating the presence or selection of ethanol.\r\n*   **`Stoichiometric Factor`**: A value representing the stoichiometric air-fuel ratio, typically a constant or lookup table value depending on fuel type.\r\n\r\n## Outputs\r\n\r\n*   **`PERC_FF`**: The calculated percentage of flex fuel (output for display or further use).\r\n*   **`FAC_AFU_SAE`**: The calculated alternative fuel ratio that conforms to SAE standards.\r\n*   **`FAC_AFU_AFS`**: The final alternative fuel ratio after applying minimum and maximum constraints and incorporating the stoichiometric factor.\r\n*   **`STATE_FUEL_TYPE_SAE`**: A discrete state value representing the SAE-conform fuel type (e.g., 1 for gasoline, 9 for gasoline blend, 3 for ethanol blend).\r\n\r\n## Logic Flow\r\n\r\nThe diagram can be broken down into three main logical sections:\r\n\r\n1.  **Percentage Flex Fuel and SAE-Compliant Ratio Calculation:**\r\n    *   The `FAC_AFU_RATIO` is multiplied by `C_FUEL_MAX_CONF`. This likely scales the raw ratio by a confidence factor.\r\n    *   This scaled value, along with the input `[PERC_FF]`, is fed into a processing block (labeled `V.6.8`).\r\n    *   The output of this `V.6.8` block is then divided by `100` (represented by a gain block).\r\n    *   The result of this division becomes the output `FAC_AFU_SAE`. This block essentially translates the raw AFU ratio and percentage flex fuel into an SAE-compliant alternative fuel ratio.\r\n    *   The input `[PERC_FF]` is also directly passed through as an output `PERC_FF` for display purposes.\r\n\r\n2.  **Constrained Alternative Fuel Ratio (`FAC_AFU_AFS`) Calculation:**\r\n    *   The `[FAC_AFU_SAE]` (from the previous step) is used as a primary input.\r\n    *   This `[FAC_AFU_SAE]` value is processed with `C_FAC_AFU_AFS_MAX` and `C_FAC_AFU_AFS_MIN` using a series of sum and product blocks (labeled `V.6.7` and `X`). Although not a standard Simulink Min/Max block, this configuration often implies a custom logic to clamp or scale `FAC_AFU_SAE` within the specified min/max limits (`C_FAC_AFU_AFS_MIN`, `C_FAC_AFU_AFS_MAX`). The label `C_FAC_AFU_AFS_MIN` also appears as an input to a summation, suggesting it is further processed.\r\n    *   The result of this clamping/scaling logic is then added to a `Stoichiometric Factor`.\r\n    *   The final sum produces the `FAC_AFU_AFS` output, which is the operational alternative fuel ratio after considering physical limits and the stoichiometric requirement.\r\n\r\n3.  **SAE Conform Fuel Type Display (`STATE_FUEL_TYPE_SAE`) Determination:**\r\n    *   This section uses a nested series of switch blocks to determine the fuel type.\r\n    *   **Outer Switch (Main Fuel Type):** It checks if `[FAC_AFU_SAE]` is equal to `0`.\r\n        *   If `[FAC_AFU_SAE] == 0` (True), it means pure gasoline, and the output `STATE_FUEL_TYPE_SAE` is set to `1` (representing Gasoline).", "mimetype": "text/plain", "start_char_idx": 392495, "end_char_idx": 396307, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6402fe45-24b6-4e87-88a8-46d7b22d7eb5": {"__data__": {"id_": "6402fe45-24b6-4e87-88a8-46d7b22d7eb5", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f5e25945-3d1c-4313-960f-3522cbf905df", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "88f8a6c57f6de81d196499d162f1182488da7157f1b118db1771ad951e0d8ac3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6be9155c-43b0-431b-b0c4-b6ee12efa8df", "node_type": "1", "metadata": {}, "hash": "415a980b6bcb5925c709f63c8a95d9833e59715c40f29a0e2b8b9ebeb5b48a3a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **Outer Switch (Main Fuel Type):** It checks if `[FAC_AFU_SAE]` is equal to `0`.\r\n        *   If `[FAC_AFU_SAE] == 0` (True), it means pure gasoline, and the output `STATE_FUEL_TYPE_SAE` is set to `1` (representing Gasoline).\r\n        *   If `[FAC_AFU_SAE] != 0` (False), it proceeds to evaluate nested fuel blends.\r\n    *   **Middle Switch (Gasoline/Alternative Blend):** This switch is controlled by the output (`y`) of an `MX` block.\r\n        *   The `MX [MX:MN] u` block takes inputs `BI_GAS`, `10`, `0`, and `[FAC_AFU_SAE]`. This is likely a custom function or lookup table block that determines if a gasoline-alternative blend condition is met based on `BI_GAS` and the AFU ratio.\r\n        *   If the `y` output from this `MX` block (after a `Check ~= 0` evaluation) is true, it means a gasoline/alternative blend is detected, and `STATE_FUEL_TYPE_SAE` is set to `9`.\r\n        *   If false, it proceeds to the innermost switch.\r\n    *   **Inner Switch (Ethanol Blend):** This switch is controlled by the output (`y`) of another `MX` block.\r\n        *   This `MX [MX:MN] u` block takes inputs `BI_ETH`, `100`, `10`, and `[FAC_AFU_SAE]`. Similar to the previous `MX` block, it assesses if an ethanol blend condition is met based on `BI_ETH` and the AFU ratio.\r\n        *   If the `y` output from this `MX` block (after a `Check ~= 0` evaluation) is true, it means an ethanol blend is detected, and `STATE_FUEL_TYPE_SAE` is set to `3`.\r\n        *   If all conditions are false, the final state is not explicitly defined in the diagram's visible branches, but would typically default to a specific value or previous state.\r\n\r\nIn summary, the system first calculates an adjusted SAE-compliant alternative fuel ratio. Then, it uses this ratio along with defined min/max limits and a stoichiometric factor to determine the operational alternative fuel ratio. Finally, it classifies the fuel type into discrete SAE-conform states based on the calculated alternative fuel ratio and binary flags for gasoline and ethanol.\r\n\r\n\r\n--- Page 124 ---\r\n\r\nThe provided image displays two distinct Simulink diagrams, which are common for modeling automotive control logic.\r\n\r\n## Function\r\n\r\nThe document shows two separate functionalities:\r\n\r\n1.  **Deactivation of Canister purge (4.14.2.2):** This logic determines the condition under which the Alternative Fuel Unit (AFU) canister purge functionality should be deactivated. It likely relates to the state of an AFU control state machine.\r\n2.  **Driving window for valid learning active (4.14.2.3):** This logic defines the operational conditions (engine speed, mass air flow, and other states) under which an AFU-related \"learning\" process is considered valid or active. It outputs flags indicating the validity of fuel ratio (lambda) and error factors for this learning.\r\n\r\n## Inputs\r\n\r\n### For 4.14.2.2 Deactivation of Canister purge:\r\n\r\n*   `STATE_ALFU_CTL`: An integer or enumerated signal representing the current state of the AFU control.\r\n*   `FINISHED` (constant `0`): A constant representing the \"finished\" state.\r\n*   `WAIT` (constant `1`): A constant representing the \"wait\" state.\r\n\r\n### For 4.14.2.3 Driving window for valid learning active:\r\n\r\n*   `C_N_TOL_FAC_AFU_LAMB_VLD`: Upper tolerance constant for engine speed (N) for AFU lambda validity.\r\n*   `C_N_BOL_FAC_AFU_LAMB_VLD`: Lower tolerance constant for engine speed (N) for AFU lambda validity.\r\n*   `[N_32]`: Current engine speed (N), likely a 32-bit integer.\r\n*   `C_TQ_TOL_FAC_AFU_LAMB_VLD`: Upper tolerance constant for a range check, likely for Mass Air Flow (MAF) despite \"TQ\" in name, given `[MAF]` input.\r\n*   `C_TQ_BOL_FAC_AFU_LAMB_VLD`: Lower tolerance constant for a range check, likely for MAF.\r\n*   `[MAF]`: Current Mass Air Flow (MAF) value.", "mimetype": "text/plain", "start_char_idx": 396078, "end_char_idx": 399845, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6be9155c-43b0-431b-b0c4-b6ee12efa8df": {"__data__": {"id_": "6be9155c-43b0-431b-b0c4-b6ee12efa8df", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6402fe45-24b6-4e87-88a8-46d7b22d7eb5", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "96c9367d0b33ac7f8d13620878014e95778604bc9ee199172fb7cdd4e76a3568", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "409a5706-2c19-4cce-85c1-b694087357f6", "node_type": "1", "metadata": {}, "hash": "2a037a7cb81529605872e52f4ea1349c5a5cd1d02da7ccb48b3c7552fc9f973a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `C_TQ_TOL_FAC_AFU_LAMB_VLD`: Upper tolerance constant for a range check, likely for Mass Air Flow (MAF) despite \"TQ\" in name, given `[MAF]` input.\r\n*   `C_TQ_BOL_FAC_AFU_LAMB_VLD`: Lower tolerance constant for a range check, likely for MAF.\r\n*   `[MAF]`: Current Mass Air Flow (MAF) value.\r\n*   `LV_FAC_AFU_RATIO_EXT_REQ`: A boolean flag indicating an external request for AFU ratio learning.\r\n*   `LV_PUC`: A boolean flag, possibly related to Purge Control or another system state.\r\n*   `ID_MAF_MAX_AFU_ER_ACT`: A 1D-lookup table (indexed by `[N_32]`) providing the maximum MAF threshold for AFU error activation.\r\n*   `ID_MAF_MIN_AFU_ER_ACT`: A 1D-lookup table (indexed by `[N_32]`) providing the minimum MAF threshold for AFU error activation.\r\n*   `LV_ST_END`: A boolean flag, likely indicating the end of a system or learning state.\r\n\r\n## Outputs\r\n\r\n### For 4.14.2.2 Deactivation of Canister purge:\r\n\r\n*   `LV_FAC_AFU_CP_DEAC`: A boolean flag; `true` if AFU canister purge should be deactivated, `false` otherwise.\r\n\r\n### For 4.14.2.3 Driving window for valid learning active:\r\n\r\n*   `LV_TQ_N_FAC_AFU_LAMB_VLD`: A boolean flag indicating the validity of the lambda (fuel ratio) factor for AFU learning, based on torque (implied N/MAF) and engine speed.\r\n*   `LV_TQ_N_FAC_AFU_ER_VLD`: A boolean flag indicating the validity of the error factor for AFU learning, based on torque (implied N/MAF) and engine speed.\r\n\r\n## Logic Flow\r\n\r\n### 4.14.2.2 Deactivation of Canister purge\r\n\r\n1.  **State Comparison:** The `STATE_ALFU_CTL` signal is compared against two specific states: `FINISHED` (0) and `WAIT` (1).\r\n    *   If `STATE_ALFU_CTL` equals `FINISHED`, the first comparator outputs `true`.\r\n    *   If `STATE_ALFU_CTL` equals `WAIT`, the second comparator outputs `true`.\r\n2.  **OR Logic:** The results of both comparators are fed into an `OR` gate. This means if `STATE_ALFU_CTL` is *either* `FINISHED` *or* `WAIT`, the `OR` gate outputs `true`.\r\n3.  **NOT Logic:** The output of the `OR` gate is then inverted by a `NOT` gate.\r\n4.  **Final Output:** The inverted signal is assigned to `LV_FAC_AFU_CP_DEAC`. Therefore, the AFU canister purge is deactivated when the `STATE_ALFU_CTL` is in *any state other than* `FINISHED` or `WAIT`.\r\n\r\n### 4.14.2.3 Driving window for valid learning active\r\n\r\nThis diagram evaluates two main sets of conditions, then combines them, and finally controls their output based on a system end flag.\r\n\r\n**Part A: Lambda Validity Pre-Conditions**\r\n\r\n1.  **Engine Speed Range Check:** `[N_32]` is checked to be within the range `[C_N_BOL_FAC_AFU_LAMB_VLD, C_N_TOL_FAC_AFU_LAMB_VLD]` using a Min/Max range-check block. This block outputs `true` (1) if `[N_32]` is within the defined range, `false` (0) otherwise.\r\n2.  **MAF Range Check:** `[MAF]` is checked to be within the range `[C_TQ_BOL_FAC_AFU_LAMB_VLD, C_TQ_TOL_FAC_AFU_LAMB_VLD]` using a Min/Max range-check block. This outputs `true` if `[MAF]` is within its range, `false` otherwise. (Note: Variable names `C_TQ_...` suggest torque, but the input is `[MAF]`, indicating a MAF range check).\r\n3.  **Combined Range and External Request:** The results of the Engine Speed and MAF range checks are combined with an `AND` gate. This `AND` result is then combined with `LV_FAC_AFU_RATIO_EXT_REQ` using an `OR` gate.", "mimetype": "text/plain", "start_char_idx": 399552, "end_char_idx": 402854, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "409a5706-2c19-4cce-85c1-b694087357f6": {"__data__": {"id_": "409a5706-2c19-4cce-85c1-b694087357f6", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6be9155c-43b0-431b-b0c4-b6ee12efa8df", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "d0b7cddf0a1d903842eeeed833f441cef2b4f38afa63b71c42ee685d206d0f2b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d17ddd6b-faf6-44fa-a8b9-368410de1df7", "node_type": "1", "metadata": {}, "hash": "1a7c59616960354d62ebc17730596b89e04c81169795a06c28ce61fe21879801", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "(Note: Variable names `C_TQ_...` suggest torque, but the input is `[MAF]`, indicating a MAF range check).\r\n3.  **Combined Range and External Request:** The results of the Engine Speed and MAF range checks are combined with an `AND` gate. This `AND` result is then combined with `LV_FAC_AFU_RATIO_EXT_REQ` using an `OR` gate. This produces `Lambda_Pre_VLD`, which is `true` if both N and MAF are in range, OR if an external AFU ratio request is active.\r\n\r\n**Part B: Error Validity Pre-Conditions**\r\n\r\n1.  **MAF Max/Min Lookup:** `[N_32]` is used to look up `ID_MAF_MAX_AFU_ER_ACT` and `ID_MAF_MIN_AFU_ER_ACT` to determine dynamic maximum and minimum MAF thresholds for error activation.\r\n2.  **MAF Error Range Check:** `[MAF]` is checked to be within the range defined by the outputs of the two lookup tables (`MAF_Min_ER_Act` and `MAF_Max_ER_Act`) using a Min/Max range-check block. This outputs `true` if `[MAF]` is within the error-relevant range, `false` otherwise.\r\n3.  **Purge Control Condition:** The result of the MAF error range check is combined with the inverted `LV_PUC` signal (`NOT LV_PUC`) using an `AND` gate. This produces `ER_Pre_VLD`, which is `true` if MAF is in the error range AND `LV_PUC` is false.\r\n\r\n**Part C: Final Output Logic**\r\n\r\n1.  **Intermediate Combined Validity:** `Lambda_Pre_VLD` (from Part A) and `ER_Pre_VLD` (from Part B) are combined using an `OR` gate. This means if either the lambda validity pre-conditions or the error validity pre-conditions are met, the `Intermediate_Combined_VLD` signal is `true`.\r\n2.  **Switch Control by `LV_ST_END`:** A `Switch` block takes `Intermediate_Combined_VLD` as its top input and a constant `0` as its bottom input. The control input for the switch is `LV_ST_END`, checked for `~= 0` (non-zero or `true`).\r\n    *   If `LV_ST_END` is `true`, the `Switch` outputs `Intermediate_Combined_VLD`.\r\n    *   If `LV_ST_END` is `false`, the `Switch` outputs `0`.\r\n3.  **Demultiplexed Outputs:** The output of the `Switch` block is then demultiplexed and assigned to both `LV_TQ_N_FAC_AFU_LAMB_VLD` and `LV_TQ_N_FAC_AFU_ER_VLD`.\r\n\r\nTherefore, both `LV_TQ_N_FAC_AFU_LAMB_VLD` and `LV_TQ_N_FAC_AFU_ER_VLD` will be `true` (1) if the combined validity conditions (`Intermediate_Combined_VLD`) are met AND `LV_ST_END` is active; otherwise, they will both be `false` (0). This implies that the learning validity flags are only active during a specific system or learning state indicated by `LV_ST_END`.\r\n\r\n\r\n--- Page 125 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram, titled \"4.14.2.4 Limited Dynamics condition\" (Figure 4.14.6), is a component of an automotive Air-Fuel Ratio (AFR) or Lambda control system, indicated by \"ALFU: Alternative fuel ratio determination\". Its primary function is to process, regulate, and select specific Lambda-related values (for engine speed, torque, and a general factor) based on dynamic conditions and calibrated limits. It applies rate limiting, performs threshold comparisons, and uses multi-port switches to output regulated values and a status flag, ensuring that LAMB parameters remain within acceptable operational bounds during dynamic changes.\r\n\r\n## Inputs\r\n\r\n*   **C_CRLC_N_MMV_LDC_AFU_LAMB**: Calibration value defining the rate limit for the engine speed (N) related Lambda.\r\n*   **N_MMV_LDC_AFU_LAMB_in**: The raw or current input value for engine speed related Lambda.\r\n*   **C_CRLC_TQ_MMV_LDC_AFU_LAMB**: Calibration value defining the rate limit for the torque (TQ) related Lambda.\r\n*   **TQ_MMV_LDC_AFU_LAMB_in**: The raw or current input value for torque related Lambda.\r\n*   **T_LDC_FAC_AFU_in**: Input value for a temperature/factor related Lambda.", "mimetype": "text/plain", "start_char_idx": 402530, "end_char_idx": 406190, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d17ddd6b-faf6-44fa-a8b9-368410de1df7": {"__data__": {"id_": "d17ddd6b-faf6-44fa-a8b9-368410de1df7", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "409a5706-2c19-4cce-85c1-b694087357f6", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "dcd1248703c185f80a8e19715574e0dfad3d9813dc1d97806a086c003f37ba12", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c682d84d-fb60-45f6-92f9-0fb8b4662ead", "node_type": "1", "metadata": {}, "hash": "6bca02ff26804fb9709811c6a4c0306d58d07ed7cb9767ceae35c79831b6dc7f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **C_CRLC_TQ_MMV_LDC_AFU_LAMB**: Calibration value defining the rate limit for the torque (TQ) related Lambda.\r\n*   **TQ_MMV_LDC_AFU_LAMB_in**: The raw or current input value for torque related Lambda.\r\n*   **T_LDC_FAC_AFU_in**: Input value for a temperature/factor related Lambda.\r\n*   **C_T_LDC_FAC_AFU**: Calibration value for the temperature/factor related Lambda.\r\n*   **C_N_LDC_FAC_AFU_LAMB**: Calibration value used in a comparison for the engine speed related path.\r\n*   **C_TQ_LDC_FAC_AFU_LAMB**: Calibration value used in a comparison for the torque related path.\r\n*   **LV_ST_END**: A control signal (likely boolean, \"Limited Value State End\") that dictates the final output selection.\r\n*   **Constants**: `1`, `0.1`, `0` (used as direct inputs or fallback values in switches).\r\n*   **MAF** (Mass Air Flow) and **N** (Engine Speed): Shown as inputs to an internal multiplexer, likely for contextual information or internal processing in an upstream block connected to the main switches.\r\n\r\n## Outputs\r\n\r\n*   **N_MMV_LDC_AFU_LAMB_out**: The regulated output value for engine speed related Lambda.\r\n*   **TQ_MMV_LDC_AFU_LAMB_out**: The regulated output value for torque related Lambda.\r\n*   **LV_FAC_AFU_LAMB_LDC**: A status flag or factor indicating a limited dynamics condition.\r\n*   **T_LDC_FAC_AFU_out**: The regulated output value for the temperature/factor related Lambda.\r\n\r\n## Logic Flow\r\n\r\nThe diagram processes three primary paths: engine speed (N), torque (TQ), and a general factor/temperature (T_LDC_FAC_AFU), leading to final regulated outputs.\r\n\r\n1.  **Rate Limiting for N and TQ LAMB:**\r\n    *   The input `N_MMV_LDC_AFU_LAMB_in` is processed by a rate limiter block (`m`, labeled V.6.6) which limits its rate of change based on the calibration value `C_CRLC_N_MMV_LDC_AFU_LAMB`. This produces `[N_MMV_LDC_AFU_LAMB]`, a rate-limited version.\r\n    *   Similarly, `TQ_MMV_LDC_AFU_LAMB_in` is rate-limited by `C_CRLC_TQ_MMV_LDC_AFU_LAMB` using another identical block, resulting in `[TQ_MMV_LDC_AFU_LAMB]`.\r\n\r\n2.  **Factor/Temperature LAMB (T_LDC_FAC_AFU) Processing:**\r\n    *   `T_LDC_FAC_AFU_in` is passed to a switch or logic block (`V.6.0`) along with `C_T_LDC_FAC_AFU`. This block, possibly based on an internal condition (e.g., \"Check -= 0\" which is shown as an input to the main multiplexer), selects either `T_LDC_FAC_AFU_in` or a constant `0`. The output of this selection is then fed into further stages.\r\n\r\n3.  **Intermediate Comparison and Logical AND:**\r\n    *   `N_MMV_LDC_AFU_LAMB_in` is combined with `C_N_LDC_FAC_AFU_LAMB` (via V.6.7 and V.6.5 blocks, likely min/max or clamping, followed by addition/subtraction). The result is then compared using a less-than (`<`, V.6.0) block.\r\n    *   A similar operation occurs for `TQ_MMV_LDC_AFU_LAMB_in` and `C_TQ_LDC_FAC_AFU_LAMB`, producing another boolean output from a less-than (`<`, V.6.0) block.\r\n    *   The boolean results of these two comparisons are combined by an `AND` gate, indicating if both conditions are met.\r\n\r\n4.  **Main Multiport Switch (Selector 1):**\r\n    *   A large Multiport Switch (controlled by a signal derived from the `AND` gate output and the \"Check -= 0\" condition from the T_LDC_FAC_AFU path) selects among various inputs. These inputs include:\r\n        *   The original input values (`N_MMV_LDC_AFU_LAMB_in`, `TQ_MMV_LDC_AFU_LAMB_in`).\r\n        *   The rate-limited values (`[N_MMV_LDC_AFU_LAMB]`, `[TQ_MMV_LDC_AFU_LAMB]`).", "mimetype": "text/plain", "start_char_idx": 405906, "end_char_idx": 409348, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c682d84d-fb60-45f6-92f9-0fb8b4662ead": {"__data__": {"id_": "c682d84d-fb60-45f6-92f9-0fb8b4662ead", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d17ddd6b-faf6-44fa-a8b9-368410de1df7", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "ff4d52d5c5838c1f74f39334c4a04a9043494811388d300244285943e07751d4", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "94f86d51-3033-4a3a-9b72-5dc90038c003", "node_type": "1", "metadata": {}, "hash": "0b75fe3f53e5075e0363cc892af5863ecd5b56160c6e45b7f7faa06db16dd200", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "These inputs include:\r\n        *   The original input values (`N_MMV_LDC_AFU_LAMB_in`, `TQ_MMV_LDC_AFU_LAMB_in`).\r\n        *   The rate-limited values (`[N_MMV_LDC_AFU_LAMB]`, `[TQ_MMV_LDC_AFU_LAMB]`).\r\n        *   The processed `T_LDC_FAC_AFU` value.\r\n        *   Other constant inputs (like `1`, `0.1`, `0`).\r\n        *   (Potentially `MAF` and `N` if the initial multiplexer feeds into this switch).\r\n    *   This switch dynamically routes values based on the prevailing dynamic conditions or control logic.\r\n\r\n5.  **Final Output Selection (Multiport Switch 2):**\r\n    *   The outputs from the Main Multiport Switch (Selector 1) are fed into a second Multiport Switch.\r\n    *   This final switch is controlled by the `LV_ST_END` signal. It chooses between:\r\n        *   The values selected by the first Multiport Switch.\r\n        *   Alternative fallback values, which include the rate-limited values (`[N_MMV_LDC_AFU_LAMB]`, `[TQ_MMV_LDC_AFU_LAMB]`), the `T_LDC_FAC_AFU` output, and constant `0`s.\r\n    *   The `LV_ST_END` signal serves as a final override or selection criterion, determining if the system is transitioning out of a \"limited dynamics\" state, selecting appropriate outputs for the current state.\r\n\r\n6.  **Output Assignment:**\r\n    *   The values selected by the final Multiport Switch are then assigned to the respective output ports: `N_MMV_LDC_AFU_LAMB_out`, `TQ_MMV_LDC_AFU_LAMB_out`, `LV_FAC_AFU_LAMB_LDC`, and `T_LDC_FAC_AFU_out`.\r\n\r\nIn summary, this diagram implements a robust control strategy for Lambda parameters, using rate limiting to smooth transitions, logical comparisons to identify specific operational states, and multi-stage switching to apply appropriate regulation or fallback values based on system dynamics and an \"end-of-state\" flag.\r\n\r\n\r\n--- Page 126 ---\r\n\r\n## Function\r\nThe primary function of these Simulink diagrams is to detect and monitor conditions related to **engine oil dilution by fuel**, specifically focusing on when the oil is considered \"hot\" and when fuel might be vaporizing from the oil. This information is critical for controlling the air-fuel ratio (AFU_LAMB) and other engine parameters to compensate for fuel entering the oil or to manage its removal.\r\n\r\nThe upper diagram (\"4.14.2.5.2 Observation of Oil dilution conditions\") determines flags or states concerning the presence of oil dilution conditions, potentially related to engine operating modes or specific thresholds. The lower diagram (\"4.14.2.5.3 Vaporisation of Fuel from Oil detection condition\") specifically assesses if active fuel vaporization from the oil is occurring based on several conditions.\r\n\r\n## Inputs\r\nGiven the two distinct diagrams in the image, inputs are listed per section:\r\n\r\n**From \"4.14.2.5.2 Observation of Oil dilution conditions\":**\r\n*   `T_FAC_AFU_LAMB_OIL_HOT_in` (Boolean/Status): Input flag indicating a hot oil condition relevant to lambda control.\r\n*   `f(t)` (Timer/Time): Input representing time or a timer function.\r\n*   `LV_IS` (Boolean): Status of a lambda-value related ignition system or general lambda-value status.\r\n*   `LC_FAC_AFU_LAMB_IS` (Boolean): Control flag or status related to lambda control enable/status.\r\n*   `LV_FAC_AFU_RATIO_EXT_REQ` (Boolean): Flag indicating an external request for specific lambda ratio adjustment.\r\n*   `T_FAC_AFU_LAMB_OIL_HOT` (Numeric/Internal Signal): Signal representing a raw or processed hot oil temperature value, used as an input to a lookup table.\r\n*   `CTR_FUEL_OIL` (Numeric/Internal Signal): Counter or value related to fuel in oil, used as an input to lookup tables.\r\n*   `LV_FAC_AFU_LAMB_OIL_HOT_in` (Boolean/Status): Input flag indicating hot oil condition relevant to lambda control, potentially a separate aspect from `T_FAC_AFU_LAMB_OIL_HOT_in`.\r\n\r\n**From \"4.14.2.5.3 Vaporisation of Fuel from Oil detection condition\":**\r\n*   `LV_FAC_AFU_LAMB_OIL_COLD` (Boolean): Flag indicating cold oil condition relevant to lambda control.\r\n*   `LC_FAC_AFU_LAMB_OIL_COLD` (Boolean): Control flag related to cold oil lambda control.", "mimetype": "text/plain", "start_char_idx": 409147, "end_char_idx": 413188, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "94f86d51-3033-4a3a-9b72-5dc90038c003": {"__data__": {"id_": "94f86d51-3033-4a3a-9b72-5dc90038c003", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c682d84d-fb60-45f6-92f9-0fb8b4662ead", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "25c55694a525d474ea1c67ed84a0e6cd53b146f0d6191204c3996bb10b64fa4e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "266bcc81-dd97-4252-941a-78c42ec452fc", "node_type": "1", "metadata": {}, "hash": "f413c0e35155de64fc1ac557b51065903ad2dbea5d33bf84a818ca8df6bcdfb8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**From \"4.14.2.5.3 Vaporisation of Fuel from Oil detection condition\":**\r\n*   `LV_FAC_AFU_LAMB_OIL_COLD` (Boolean): Flag indicating cold oil condition relevant to lambda control.\r\n*   `LC_FAC_AFU_LAMB_OIL_COLD` (Boolean): Control flag related to cold oil lambda control.\r\n*   `LV_FAC_AFU_LAMB_OIL_HOT` (Boolean): Flag indicating hot oil condition relevant to lambda control.\r\n*   `LC_FAC_AFU_LAMB_OIL_HOT` (Boolean): Control flag related to hot oil lambda control.\r\n*   `LV_FAC_AFU_RATIO_EXT_REQ` (Boolean): Flag indicating an external request for specific lambda ratio adjustment.\r\n*   `LC_FAC_AFU_LAMB_EXT_REQ_OIL_ENA` (Boolean): Enable flag for external lambda request specific to oil conditions.\r\n\r\n## Outputs\r\nOutputs are listed per diagram:\r\n\r\n**From \"4.14.2.5.2 Observation of Oil dilution conditions\":**\r\n*   `T_FAC_AFU_LAMB_OIL_HOT_out` (Boolean/Status): Output flag representing the determined status of the hot oil condition for lambda control.\r\n*   `LV_FAC_AFU_LAMB_OIL_HOT_out` (Boolean/Status): Output flag representing the determined status of a hot oil lambda-value related condition.\r\n\r\n**From \"4.14.2.5.3 Vaporisation of Fuel from Oil detection condition\":**\r\n*   `LV_FAC_AFU_LAMB_OIL` (Boolean): Output flag indicating whether fuel is still vaporizing from the engine oil. This signal is explicitly labeled \"Fuel still vaporizes\".\r\n\r\n## Logic Flow\r\n\r\n**For \"4.14.2.5.2 Observation of Oil dilution conditions\":**\r\n\r\n1.  **Timer for Hot Oil Condition:** A timer or accumulator block (`f(t)`) is activated. If `T_FAC_AFU_LAMB_OIL_HOT_in` is true, its output is incremented by `0.1` (`V. 6.7`). This accumulated value is then compared (via `>`) against a threshold. This suggests a time-based condition for affirming the hot oil state.\r\n2.  **Exclusion/Bypass Conditions:**\r\n    *   `LV_IS` is inverted (`NOT`).\r\n    *   `LC_FAC_AFU_LAMB_IS` is inverted (`NOT`).\r\n    *   These two inverted signals, along with `LV_FAC_AFU_RATIO_EXT_REQ`, are combined using an `OR` gate. If any of these conditions are met (e.g., `LV_IS` is false, `LC_FAC_AFU_LAMB_IS` is false, or `LV_FAC_AFU_RATIO_EXT_REQ` is true), this might influence the subsequent processing of oil dilution.\r\n3.  **Hot Oil Threshold Determination (Upper Path):**\r\n    *   A 1D lookup table, `IP_T_FAC_AFU_LAMB_OIL_HOT`, takes `CTR_FUEL_OIL` as its input (x-axis) and outputs an interpolated `IP_val`. This table likely defines a dynamic threshold for hot oil detection based on the amount of fuel in the oil.\r\n    *   This `IP_val` is compared against a constant `V. 6.0` using a `>` (greater than) comparator.\r\n    *   The output of this comparator, along with the timed condition from step 1, the `T_FAC_AFU_LAMB_OIL_HOT_in` input, and the result of the `OR` gate from step 2, are fed into a multiplexing stage.\r\n    *   A \"Switch\" block (indicated by the diagonal line) then selects one of its inputs (from the multiplexer or a default value) based on a \"Check ~= 0\" control signal.\r\n4.  **Fuel in Oil Threshold Determination (Lower Path - TOIL):**\r\n    *   Another 1D lookup table, `IP_TOIL_FAC_AFU_LAMB_OIL_HOT`, takes `CTR_FUEL_OIL` (or `0` as shown in the crop) as its input and outputs an interpolated `IP_val` (labeled `TOIL`). This table likely defines a threshold for \"fuel in oil\" when the oil is considered hot.\r\n    *   This `IP_val` (TOIL) is also compared against `V. 6.0` using a `>` comparator.\r\n    *   Similar to the upper path, the comparator output, along with other signals (`T_FAC_AFU_LAMB_OIL_HOT_in` and `LV_FAC_AFU_LAMB_OIL_HOT_in`), are multiplexed.", "mimetype": "text/plain", "start_char_idx": 412918, "end_char_idx": 416469, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "266bcc81-dd97-4252-941a-78c42ec452fc": {"__data__": {"id_": "266bcc81-dd97-4252-941a-78c42ec452fc", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "94f86d51-3033-4a3a-9b72-5dc90038c003", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4acb98283ba45792fadd9061f0e94ee243d2a02a664f2a06a5e2b1fd1e84fa9b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d03c16b8-04d7-422e-888c-899d6609ec47", "node_type": "1", "metadata": {}, "hash": "4f10d84b3762b45730b56e4723b226637b29eefa3cb5cd1f3e23f7dabbeadbe3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This table likely defines a threshold for \"fuel in oil\" when the oil is considered hot.\r\n    *   This `IP_val` (TOIL) is also compared against `V. 6.0` using a `>` comparator.\r\n    *   Similar to the upper path, the comparator output, along with other signals (`T_FAC_AFU_LAMB_OIL_HOT_in` and `LV_FAC_AFU_LAMB_OIL_HOT_in`), are multiplexed.\r\n    *   Another \"Switch\" block, controlled by \"Check ~= 0\", then selects its output.\r\n5.  **Output Generation:** The outputs from these two \"Switch\" blocks, combined with the initial `T_FAC_AFU_LAMB_OIL_HOT_in` and `LV_FAC_AFU_LAMB_OIL_HOT_in` signals (via multiplexers indicated by blue '1' and '2' blocks), determine the final `T_FAC_AFU_LAMB_OIL_HOT_out` and `LV_FAC_AFU_LAMB_OIL_HOT_out` status flags. This suggests that the initial input flags are passed through or modified based on the evaluated conditions from the lookup tables and timer.\r\n\r\n**For \"4.14.2.5.3 Vaporisation of Fuel from Oil detection condition\":**\r\n\r\n1.  **Cold Oil Condition Check:** The `LV_FAC_AFU_LAMB_OIL_COLD` and `LC_FAC_AFU_LAMB_OIL_COLD` flags are combined using an `AND` gate. This condition is met if both flags are true, indicating active lambda control for cold oil conditions.\r\n2.  **Hot Oil Condition Check:** The `LV_FAC_AFU_LAMB_OIL_HOT` and `LC_FAC_AFU_LAMB_OIL_HOT` flags are combined using an `AND` gate. This condition is met if both flags are true, indicating active lambda control for hot oil conditions.\r\n3.  **External Request Condition Check:** The `LV_FAC_AFU_RATIO_EXT_REQ` and `LC_FAC_AFU_LAMB_EXT_REQ_OIL_ENA` flags are combined using an `AND` gate. This condition is met if both flags are true, indicating an external request for lambda ratio adjustment related to oil, and that this request is enabled.\r\n4.  **Overall Vaporization Status:** The outputs of the three `AND` gates from steps 1, 2, and 3 are combined using an `OR` gate. If **any** of these three conditions are true, the output `LV_FAC_AFU_LAMB_OIL` becomes true, signifying that \"Fuel still vaporizes\" from the engine oil. This implies that under any of these specific operational scenarios, fuel vaporization is considered to be ongoing or plausible.\r\n\r\n\r\n--- Page 127 ---\r\n\r\nThis image displays two interconnected Simulink/Stateflow-like diagrams, primarily dealing with conditional logic and action calls within an automotive system context, likely related to an Alternative Fuel Ratio (ALFU) determination process.\r\n\r\n## Function\r\n\r\nThe primary function of this system is to manage and conditionally execute reset actions for validation flags associated with an Alternative Fuel Ratio (ALFU) determination process. It defines the enabling condition for these reset actions and then illustrates how individual reset actions are triggered and processed.\r\n\r\n## Inputs\r\n\r\n1.  **`LV_FAC_AFU_RATIO_VLD_RST`**: (From Figure 4.14.10) A boolean or event signal that acts as the primary enabling condition. When this signal is false, it enables the triggering of the reset actions.\r\n2.  **`ACTION_ALFU_RstVldLamb`**: (From Figure 4.14.11, as an input to the ActionImport block) An action or event signal that, when active, triggers the reset of Lambda validity.\r\n3.  **`ACTION_ALFU_RstVldEr`**: (From Figure 4.14.11, as an input to the ActionImport block) An action or event signal that, when active, triggers the reset of Error validity.\r\n4.  **`ACTION_ALFU_RstVldEru`**: (From Figure 4.14.11, as an input to the ActionImport block) An action or event signal that, when active, triggers the reset of Eru (likely another error or validation state) validity.\r\n\r\n## Outputs\r\n\r\nThe outputs are the execution of the specified reset actions:\r\n\r\n1.  **`ACTION_ALFU_RstVldLamb`**: The execution or triggering of the action to reset the Lambda validity flag.\r\n2.  **`ACTION_ALFU_RstVldEr`**: The execution or triggering of the action to reset the Error validity flag.\r\n3.", "mimetype": "text/plain", "start_char_idx": 416129, "end_char_idx": 420000, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d03c16b8-04d7-422e-888c-899d6609ec47": {"__data__": {"id_": "d03c16b8-04d7-422e-888c-899d6609ec47", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "266bcc81-dd97-4252-941a-78c42ec452fc", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "5d486e5b2a3f38849a21129711159983635bb179736e94b143fb4b15a4324b29", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "2112abf9-0358-468d-8a90-d3b41502ce98", "node_type": "1", "metadata": {}, "hash": "3955e55a78de0284de2a2724c17bd5b177c274cb5f69b03f11d42a56e2e84cca", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Outputs\r\n\r\nThe outputs are the execution of the specified reset actions:\r\n\r\n1.  **`ACTION_ALFU_RstVldLamb`**: The execution or triggering of the action to reset the Lambda validity flag.\r\n2.  **`ACTION_ALFU_RstVldEr`**: The execution or triggering of the action to reset the Error validity flag.\r\n3.  **`ACTION_ALFU_RstVldEru`**: The execution or triggering of the action to reset the Eru validity flag.\r\n    *Note: These appear as both inputs and outputs in different contexts, indicating an event-driven system where the 'output' is the actual occurrence or handling of the action itself.*\r\n\r\n## Logic Flow\r\n\r\nThe system operates in two main phases as depicted in the two figures:\r\n\r\n**Phase 1: Enable Conditions for Reset Actions (Figure 4.14.10)**\r\n\r\n1.  **Evaluate Primary Condition:** The system first evaluates the state of the input signal `LV_FAC_AFU_RATIO_VLD_RST` using a \"cond_if\" block (likely a conditional execution or Stateflow junction).\r\n2.  **Conditional Execution Path:**\r\n    *   If `LV_FAC_AFU_RATIO_VLD_RST` is `true` (indicated by the upper dashed branch), an unspecified action or state is entered (represented by the placeholder `f()`).\r\n    *   If `LV_FAC_AFU_RATIO_VLD_RST` is `false` (indicated by the lower branch), a function call block labeled `fc()` is activated.\r\n3.  **Triggering Reset Actions:** When the `fc()` block is active (i.e., `LV_FAC_AFU_RATIO_VLD_RST` is false), it generates or propagates the action signals `ACTION_ALFU_RstVldLamb`, `ACTION_ALFU_RstVldEr`, and `ACTION_ALFU_RstVldEru`. This means that if the enabling condition is met, these three reset actions are prepared to be executed. The `FCT_CALL X.2.6.1` suggests this `fc()` block might be a subroutine or a referenced function.\r\n\r\n**Phase 2: Execution of Action Calls (Figure 4.14.11)**\r\n\r\n1.  **Receive Action Signals:** Each of the action signals (`ACTION_ALFU_RstVldLamb`, `ACTION_ALFU_RstVldEr`, `ACTION_ALFU_RstVldEru`) triggered from Phase 1 (or other parts of the system) acts as an input event to dedicated processing units.\r\n2.  **Process Action Imports:** Each action signal feeds into an \"ActionImport\" block. In Simulink/Stateflow, an \"ActionImport\" block typically represents an entry point for an action or event to be processed within a chart or subsystem.\r\n3.  **Execute Specific Actions:** Upon receiving its corresponding action signal via the \"ActionImport\" block, the system executes the specific logic associated with that action. This execution is effectively the output:\r\n    *   `ACTION_ALFU_RstVldLamb` implies the logic for resetting Lambda validity is run.\r\n    *   `ACTION_ALFU_RstVldEr` implies the logic for resetting Error validity is run.\r\n    *   `ACTION_ALFU_RstVldEru` implies the logic for resetting Eru validity is run.\r\n\r\nIn summary, Figure 4.14.10 determines *when* to initiate a set of reset actions based on a key validity flag. Figure 4.14.11 then details *how* these specific reset actions are individually handled and executed once they are triggered.\r\n\r\n\r\n--- Page 128 ---\r\n\r\nThis image displays a Stateflow chart, which is a component of Simulink for designing event-driven systems and state machines.\r\n\r\n## Function\r\n\r\nThe primary function of this Stateflow diagram, titled \"STATE_ALFU_CTL selection\" and associated with \"ALFU. Alternative fuel ratio determination\", is to control the operational stages for determining or adjusting an Alternative Fuel Unit (AFU) ratio. It manages the transitions between different states such as waiting, checking/changing, learning, validating learned parameters, and final validation, based on various system conditions and sensor inputs. This ensures that the AFU ratio is determined robustly and adaptively under suitable operating conditions.\r\n\r\n## Inputs\r\n\r\nThe inputs to this state machine are the variables and flags whose values determine the transition conditions between states. Based on the provided tables, these inputs include:\r\n\r\n*   `STATE_ALFU_CTL`: The current state of the ALFU control system (likely an enumeration or string representing the overall control status).\r\n*   `LV_FAC_AFU_RATIO_VLD`: A boolean flag indicating the validity of the AFU ratio.", "mimetype": "text/plain", "start_char_idx": 419698, "end_char_idx": 423864, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2112abf9-0358-468d-8a90-d3b41502ce98": {"__data__": {"id_": "2112abf9-0358-468d-8a90-d3b41502ce98", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d03c16b8-04d7-422e-888c-899d6609ec47", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "70dfc89ebdd4f6e1a7569baece6dd80dd5bf095e5362715e580ae92bdb609d47", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "669db53d-4ebc-4314-87d9-12445420546b", "node_type": "1", "metadata": {}, "hash": "f86aad4a6a8b29007e6b122e4c793eee77f048d62fe98e26a0737fc709359c64", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Inputs\r\n\r\nThe inputs to this state machine are the variables and flags whose values determine the transition conditions between states. Based on the provided tables, these inputs include:\r\n\r\n*   `STATE_ALFU_CTL`: The current state of the ALFU control system (likely an enumeration or string representing the overall control status).\r\n*   `LV_FAC_AFU_RATIO_VLD`: A boolean flag indicating the validity of the AFU ratio.\r\n*   `MFF_SUM_REFU`: A summed mass flow reference, likely of fuel.\r\n*   `C_MFF_SUM_REFU_MIN`: A constant for the minimum allowed `MFF_SUM_REFU`.\r\n*   `C_MFF_SUM_REFU_MAX`: A constant for the maximum allowed `MFF_SUM_REFU`.\r\n*   `C_MFF_SUM_REFU_LEARN_DEC`: A constant related to mass flow for learning decisions.\r\n*   `TCO`: Engine coolant temperature.\r\n*   `C_TCO_THD_FAC_AFU_VLD_LEARN`: A coolant temperature threshold for valid learning.\r\n*   `LV_LAM_LSCI[0]`: An indexed value, likely from a lambda (oxygen) sensor, indicating its status or output.\r\n*   `IDX_EX_CBK_LAMB`: An index for expected lambda sensor feedback.\r\n*   `LV_FAC_AFU_RATIO_LAMB_VLD`: A boolean flag indicating the validity of the AFU ratio based on lambda sensor data.\r\n*   `LV_FAC_AFU_LAMB_OIL`: A boolean flag related to lambda sensor status and oil.\r\n*   `LV_TQ_N_FAC_AFU_LAMB_VLD`: A boolean flag for the validity of torque/engine speed related to AFU lambda.\r\n*   `LV_FAC_AFU_LAMB_LDC`: A boolean flag for load-dependent correlation of AFU lambda.\r\n*   `LV_VS_GRD_INT_AFU`: A flag indicating vehicle speed or grade for integrated AFU.\r\n*   `LV_FAC_AFU_RATIO_ERU_VLD`: A boolean flag indicating the validity of the AFU ratio from an Engine Runtime Unit (ERU) or similar.\r\n*   `LV_TQ_N_FAC_AFU_ER_VLD`: A boolean flag for the validity of torque/engine speed related to an AFU error.\r\n\r\n## Outputs\r\n\r\nThe primary explicit output of this Stateflow chart is the current active state, which implicitly represents the `STATE_ALFU_CTL` itself. While specific actions (e.g., enabling a learning algorithm, storing validated parameters) triggered *by* entering or residing in a state are not detailed, the active state serves as a clear indication of the ALFU control's operational mode. The observable outputs would be the control logic for the Alternative Fuel Unit, such as fuel injection adjustments, fuel ratio commands, or flag settings based on the current state.\r\n\r\nThe key output states are:\r\n*   `WAIT`\r\n*   `CHG`\r\n*   `LEARN`\r\n*   `VLD_LEARN` (Validate Learning)\r\n*   `VALIDATION`\r\n*   `FINISHED`\r\n\r\n## Logic Flow\r\n\r\nThe system operates as a hierarchical state machine, cycling through different stages to ensure robust AFU ratio determination.\r\n\r\n1.  **Initial State/Restart (FINISHED to WAIT):**\r\n    *   The process can start or restart from a `FINISHED` state.\r\n    *   `FINISHED_1`: If `STATE_ALFU_CTL` is 'FINISHED' AND `LV_FAC_AFU_RATIO_VLD` is 0 (AFU ratio not valid), the system transitions from `FINISHED` to `WAIT`. This indicates that a new cycle of determination or adjustment is needed if the previously determined ratio is no longer valid.\r\n\r\n2.  **WAIT State - Primary Decision Point:**\r\n    *   The `WAIT` state is a central hub where the system idles or awaits conditions for further action.\r\n    *   `WAIT_1`: From `WAIT` to `FINISHED` if `LV_FAC_AFU_RATIO_VLD` is 1. If the AFU ratio becomes valid while waiting, the process is considered complete for the current cycle.\r\n    *   `WAIT_2`: From `WAIT` to `CHG` (Change/Check) if `MFF_SUM_REFU` is within a defined stable range (`C_MFF_SUM_REFU_MIN` to `C_MFF_SUM_REFU_MAX`). This suggests stable operating conditions suitable for minor adjustments or checks.", "mimetype": "text/plain", "start_char_idx": 423443, "end_char_idx": 427071, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "669db53d-4ebc-4314-87d9-12445420546b": {"__data__": {"id_": "669db53d-4ebc-4314-87d9-12445420546b", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "2112abf9-0358-468d-8a90-d3b41502ce98", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "e7fddd6ece08e5157447f3229018d9cd31bc81d39423fb6fc731cb9a7c6df54e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5bb23557-f62d-4723-bcb4-d55b0df89824", "node_type": "1", "metadata": {}, "hash": "a70e907a7cd23dd3258712a641a1251a2fe44c6153d1fa0ab86380374f37fc15", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "If the AFU ratio becomes valid while waiting, the process is considered complete for the current cycle.\r\n    *   `WAIT_2`: From `WAIT` to `CHG` (Change/Check) if `MFF_SUM_REFU` is within a defined stable range (`C_MFF_SUM_REFU_MIN` to `C_MFF_SUM_REFU_MAX`). This suggests stable operating conditions suitable for minor adjustments or checks.\r\n    *   `WAIT_3`: From `WAIT` to `LEARN` if `MFF_SUM_REFU` is in a specific high range (above `C_MFF_SUM_REFU_MAX` but below `C_MFF_SUM_REFU_LEARN_DEC`), AND both `LV_FAC_AFU_RATIO_ERU_VLD` and `FAC_AFU_RATIO_LAMB_VLD` are 0. This implies entering a learning phase when fuel flow is significant, but validity flags from ERU and Lambda are off.\r\n    *   `WAIT_4`: From `WAIT` to `VLD_LEARN` (Validate Learning) under stringent conditions: high `MFF_SUM_REFU`, `TCO` above a threshold, and a specific combination of lambda sensor statuses and AFU-related validities (`LV_LAM_LSCI[0] == IDX_EX_CBK_LAMB`, `LV_FAC_AFU_RATIO_LAMB_VLD == 0`, `LV_FAC_AFU_LAMB_OIL == 1`, `LV_TQ_N_FAC_AFU_LAMB_VLD == 1`, `LV_FAC_AFU_LAMB_LDC == 1`, `LV_VS_GRD_INT_AFU == 1`). This is for validating learned parameters under ideal and stable conditions.\r\n    *   `WAIT_5`: From `WAIT` to `VALIDATION` if similar conditions to `WAIT_4` are met, but with `LV_FAC_AFU_RATIO_LAMB_VLD == 1` (lambda ratio valid) and `LV_FAC_AFU_RATIO_VLD == 0` (overall ratio not yet valid), along with other specific flag states (`LV_FAC_AFU_LAMB_OIL == 1`, `LV_TQ_N_FAC_AFU_ER_VLD == 1`, `LV_FAC_AFU_LAMB_LDC == 1`). This implies a transition to full validation after a successful lambda ratio determination but before overall validation.\r\n\r\n3.  **CHG State:**\r\n    *   `CHG_1`: From `CHG` to `WAIT`. (Unconditional, typically after internal CHG operations complete or if a problem occurs).\r\n    *   `CHG_2`: From `CHG` to `VLD_LEARN`. (Unconditional, implies directly proceeding to validate learning after a change).\r\n\r\n4.  **LEARN State:**\r\n    *   `LEARN_1`: From `LEARN` to `VLD_LEARN`. (Unconditional, typically after learning is complete).\r\n    *   `LEARN_2`: From `LEARN` to `WAIT`. (Unconditional, possibly if learning is interrupted or fails).\r\n\r\n5.  **VLD_LEARN State (Validate Learning):**\r\n    *   `VLD_LEARN_1`: From `VLD_LEARN` to `VALIDATION`. (Unconditional, after learned parameters are validated).\r\n    *   `VLD_LEARN_2`: From `VLD_LEARN` to `WAIT`. (Unconditional, possibly if validation fails or requires reset).\r\n    *   `VLD_LEARN_3`: From `VLD_LEARN` to `VALIDATION`. (Duplicate destination, suggests either an internal condition or a specific event not detailed).\r\n\r\n6.  **VALIDATION State:**\r\n    *   `VALIDATION_1`: From `VALIDATION` to `FINISHED`. (Unconditional, after successful overall validation).\r\n    *   `VALIDATION_2`: From `VALIDATION` to `WAIT`. (Unconditional, possibly if validation fails and the process needs to restart from the waiting state).\r\n\r\nThe transitions without explicit conditions (labeled e.g., `CHG_1`, `LEARN_1`) typically represent automatic progression upon completion of the state's internal actions, or a default path if no specific conditions for other exits are met. In a real-world implementation, these transitions would likely be triggered by internal events (e.g., \"learning_done\", \"validation_failed\") or timeouts.\r\n\r\n\r\n--- Page 131 ---\r\n\r\nThis image contains two Simulink Stateflow diagrams, which represent state machine transitions for an \"Alternative fuel ratio determination (App. Inc.)\" (ALFU) system.", "mimetype": "text/plain", "start_char_idx": 426730, "end_char_idx": 430201, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5bb23557-f62d-4723-bcb4-d55b0df89824": {"__data__": {"id_": "5bb23557-f62d-4723-bcb4-d55b0df89824", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "669db53d-4ebc-4314-87d9-12445420546b", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "c59b833d96c6ef8f7c34965f676aaac8cd1943698932262850855ca2de31bad6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b032273a-f74c-4929-9ad3-2741cdc3f962", "node_type": "1", "metadata": {}, "hash": "786819b2f28cbe803e59f2247dd6df651190dd16b054d9a8bd49c646b0503c0c", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "In a real-world implementation, these transitions would likely be triggered by internal events (e.g., \"learning_done\", \"validation_failed\") or timeouts.\r\n\r\n\r\n--- Page 131 ---\r\n\r\nThis image contains two Simulink Stateflow diagrams, which represent state machine transitions for an \"Alternative fuel ratio determination (App. Inc.)\" (ALFU) system.\r\n\r\n## Function\r\n\r\nThe primary function of these diagrams is to control the state transitions of an Alternative Fuel Unit (AFU) system based on various operating conditions, validity signals, and fuel mass flow. It defines the logic for moving between states such as `WAIT`, `FINISHED`, `CHG` (Change), `LEARN`, `VLD_LEARN` (Validate Learning), and `VALIDATION`. These states likely correspond to different operational modes or phases of the AFU system, ensuring proper adaptation, monitoring, and error handling for fuel ratio determination.\r\n\r\n## Inputs\r\n\r\nThe system takes numerous inputs, primarily boolean validity flags and numeric values related to fuel, engine operation, and learned parameters:\r\n\r\n*   **`LV_FAC_AFU_RATIO_VLD`**: Local Variable, Factor Alternative Fuel Unit Ratio Valid (Boolean)\r\n*   **`C_MFF_SUM_REFU_MAX`**: Constant, Mass Flow Fuel Sum Refuel Maximum (Numeric)\r\n*   **`C_MFF_SUM_REFU_MIN`**: Constant, Mass Flow Fuel Sum Refuel Minimum (Numeric)\r\n*   **`MFF_SUM_REFU`**: Mass Flow Fuel Sum Refuel (Numeric)\r\n*   **`C_TCO_THD_FAC_AFU_VLD_LEARN`**: Constant, Temperature Coolant Threshold Factor AFU Valid Learn (Numeric)\r\n*   **`TCO`**: Coolant Temperature (Numeric)\r\n*   **`IDX_EX_CBK_LAMB`**: Index, Exhaust Closed-loop Bank Lambda (Numeric, used as selector)\r\n*   **`LV_FAC_AFU_RATIO_LAMB_VLD`**: Local Variable, Factor AFU Ratio Lambda Valid (Boolean)\r\n*   **`LV_FAC_AFU_LAMB_OK`**: Local Variable, Factor AFU Lambda OK (Boolean)\r\n*   **`LV_TQ_N_FAC_AFU_LAMB_VLD`**: Local Variable, Torque-speed, Factor AFU Lambda Valid (Boolean)\r\n*   **`LV_FAC_AFU_LAMB_LDC`**: Local Variable, Factor AFU Lambda LDC (Likely Load Dependent Control or similar, Boolean)\r\n*   **`LV_VS_GRD_INT_AFU`**: Local Variable, Vehicle Speed Gradient, Internal AFU (Boolean)\r\n*   **`LV_TQ_N_FAC_AFU_ER_VLD`**: Local Variable, Torque-speed, Factor AFU Error Valid (Boolean)\r\n*   **`C_MFF_SUM_REFU_LEARN_DEAC`**: Constant, Mass Flow Fuel Sum Refuel Learn Deactivation (Numeric)\r\n*   **`LV_FAC_AFU_RATIO_ERU_VLD`**: Local Variable, Factor AFU Ratio Error Unit Valid (Boolean)\r\n*   **`FAC_AFU_RATIO_LAMB_VLD`**: Factor AFU Ratio Lambda Valid (Boolean, possibly a global or different scope from `LV_FAC_AFU_RATIO_LAMB_VLD`)\r\n\r\n## Outputs\r\n\r\nThe primary output of these diagrams is a single enumerated state variable that reflects the current operating mode of the ALFU system:\r\n\r\n*   **`STATE_ALFU_CTL`**: State of ALFU Control (Enumerated output, representing FINISHED (0), WAIT (1), CHG (2), LEARN (3), VLD_LEARN (4), VALIDATION (5)).\r\n\r\n## Logic Flow\r\n\r\nThe diagrams define the conditions under which the ALFU system transitions between its various operational states. The logic flow involves evaluating multiple conditions simultaneously, often combined with `AND` gates, `NOT` gates, and comparison operators (`>=`, `==`). A central multi-input state selector (implied by the `STATE_ALFU_CTL` block with multiple numbered inputs) determines the next state based on prioritized trigger conditions.\r\n\r\n### Figure 4.14.13: Transition from FINISHED to WAIT\r\n\r\n1.  **Condition Check**: The system checks the status of `LV_FAC_AFU_RATIO_VLD`.\r\n2.  **Inversion**: This signal is inverted by a `NOT` gate.\r\n3.  **Transition Trigger**: If `LV_FAC_AFU_RATIO_VLD` is FALSE (meaning `NOT LV_FAC_AFU_RATIO_VLD` is TRUE), this triggers a state change.\r\n4.  **State Change**: The `STATE_ALFU_CTL` is set to `1` (WAIT), indicating a transition from the `FINISHED` state to the `WAIT` state because the AFU ratio validity has been lost.", "mimetype": "text/plain", "start_char_idx": 429856, "end_char_idx": 433724, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b032273a-f74c-4929-9ad3-2741cdc3f962": {"__data__": {"id_": "b032273a-f74c-4929-9ad3-2741cdc3f962", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5bb23557-f62d-4723-bcb4-d55b0df89824", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "a77eb1536e6e07da9efca6e53d925401ba3decdf9d7b1fea5ebdd03df1a013fd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7b6e1381-dd62-478d-9425-e89bc060e599", "node_type": "1", "metadata": {}, "hash": "b485b53b9ba98d818655042b0fe5fbcf1d1630645e75b56eb3d46252a972b993", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "3.  **Transition Trigger**: If `LV_FAC_AFU_RATIO_VLD` is FALSE (meaning `NOT LV_FAC_AFU_RATIO_VLD` is TRUE), this triggers a state change.\r\n4.  **State Change**: The `STATE_ALFU_CTL` is set to `1` (WAIT), indicating a transition from the `FINISHED` state to the `WAIT` state because the AFU ratio validity has been lost. If `LV_FAC_AFU_RATIO_VLD` is TRUE, the system remains in the `FINISHED` state (0).\r\n\r\n### Figure 4.14.14: Transitions from WAIT\r\n\r\nThis diagram manages transitions *from* the `WAIT` state to other states, with a clear priority implied by the vertical order of the inputs to the `STATE_ALFU_CTL` output block (0 > 2 > 4 > 3 > 5 > 1).\r\n\r\n1.  **Evaluate `MFF_SUM_REFU` clamping and `wait_2_chg`:**\r\n    *   `MFF_SUM_REFU` is clamped between `C_MFF_SUM_REFU_MIN` and `C_MFF_SUM_REFU_MAX`. The output of this `MX;MN` block (`wait_2_chg`) acts as a condition. If `MFF_SUM_REFU` is outside this range (or at max/min bounds, depending on `MX;MN` block internal logic), `wait_2_chg` becomes true.\r\n    *   **Transition to CHG (2):** If `wait_2_chg` is TRUE, `STATE_ALFU_CTL` transitions to `2` (CHG), signaling that a change in fuel sum requires attention.\r\n\r\n2.  **Evaluate Conditions for `wait_2_vldlearn`:**\r\n    *   Multiple conditions are `AND`ed together:\r\n        *   `LV_FAC_AFU_RATIO_LAMB_VLD` must be FALSE (`NOT LV_FAC_AFU_RATIO_LAMB_VLD` is TRUE).\r\n        *   `LV_FAC_AFU_LAMB_OK` must be TRUE.\r\n        *   `LV_TQ_N_FAC_AFU_LAMB_VLD` must be TRUE.\r\n        *   `LV_FAC_AFU_LAMB_LDC` must be TRUE.\r\n        *   `LV_VS_GRD_INT_AFU` must be TRUE.\r\n        *   A selected signal from a multi-port switch (`C` block), where `IDX_EX_CBK_LAMB` determines which of several validity signals (including `NOT LV_FAC_AFU_RATIO_LAMB_VLD`) is passed.\r\n    *   **Transition to VLD_LEARN (4):** If all these conditions are TRUE, `STATE_ALFU_CTL` transitions to `4` (VLD_LEARN), indicating a phase to validate learned parameters under specific lambda and engine conditions.\r\n\r\n3.  **Evaluate Conditions for `wait_2_learn`:**\r\n    *   An `AND` gate combines:\r\n        *   `LV_FAC_AFU_RATIO_ERU_VLD` must be FALSE (`NOT LV_FAC_AFU_RATIO_ERU_VLD` is TRUE).\r\n        *   `FAC_AFU_RATIO_LAMB_VLD` must be `0` (FALSE).\r\n        *   `MFF_SUM_REFU` is within the range defined by `C_MFF_SUM_REFU_LEARN_DEAC` and `C_MFF_SUM_REFU_MAX` (output of `MX;MN` block).\r\n    *   **Transition to LEARN (3):** If all these conditions are TRUE, `STATE_ALFU_CTL` transitions to `3` (LEARN), signifying the initiation of an active learning phase for AFU parameters.\r\n\r\n4.  **Evaluate Conditions for `wait_2_validation`:**\r\n    *   An `AND` gate combines:\r\n        *   `LV_TQ_N_FAC_AFU_ER_VLD` must be TRUE.\r\n        *   `LV_FAC_AFU_RATIO_VLD` must be FALSE (`NOT LV_FAC_AFU_RATIO_VLD` is TRUE).\r\n    *   **Transition to VALIDATION (5):** If both conditions are TRUE, `STATE_ALFU_CTL` transitions to `5` (VALIDATION), suggesting a system validation phase, potentially due to torque-speed related error validity while the overall AFU ratio is not valid.\r\n\r\n5.", "mimetype": "text/plain", "start_char_idx": 433404, "end_char_idx": 436447, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7b6e1381-dd62-478d-9425-e89bc060e599": {"__data__": {"id_": "7b6e1381-dd62-478d-9425-e89bc060e599", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b032273a-f74c-4929-9ad3-2741cdc3f962", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "589d2545e0e35d4bbd390596602c7100cc2eb9119a57a1da9c88303fc687896f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d828cdac-aeb0-4044-abff-1b6f6ce961e9", "node_type": "1", "metadata": {}, "hash": "c7a0dc02aab19e542fc39cb9254bcaa5993ca25428832c2d29db1252a95395eb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `LV_FAC_AFU_RATIO_VLD` must be FALSE (`NOT LV_FAC_AFU_RATIO_VLD` is TRUE).\r\n    *   **Transition to VALIDATION (5):** If both conditions are TRUE, `STATE_ALFU_CTL` transitions to `5` (VALIDATION), suggesting a system validation phase, potentially due to torque-speed related error validity while the overall AFU ratio is not valid.\r\n\r\n5.  **Evaluate Direct Conditions for `FINISHED` (0) and `WAIT` (1):**\r\n    *   **Transition to FINISHED (0):** If `LV_FAC_AFU_RATIO_VLD` is FALSE (`NOT LV_FAC_AFU_RATIO_VLD` is TRUE) and none of the higher-priority `CHG`, `VLD_LEARN`, `LEARN`, `VALIDATION` conditions are met, `STATE_ALFU_CTL` transitions to `0` (FINISHED). This suggests that if the primary AFU ratio validity is lost from the `WAIT` state, it returns to `FINISHED`.\r\n    *   **Self-loop to WAIT (1):** If `LV_FAC_AFU_RATIO_VLD` is TRUE and none of the other transition conditions are met, `STATE_ALFU_CTL` remains `1` (WAIT). This is the default state if the AFU ratio is valid and no specific action (change, learn, validate) is required.\r\n\r\nThe `Check ~= 0` blocks ensure that a transition only occurs if the preceding logical condition evaluates to TRUE (non-zero). The `STATE_ALFU_CTL` block effectively acts as a prioritized switch, where conditions are evaluated from top to bottom (FINISHED, CHG, VLD_LEARN, LEARN, VALIDATION, WAIT) and the first true condition triggers its corresponding state output.\r\n\r\n\r\n--- Page 132 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram, titled \"ALFU: Alternative fuel ratio determination (Appl. Inc.)\" and specifically describing \"4.14.2.7.3.1 Transition from state 'CHG'\", functions as a state machine controller. Its primary purpose is to determine and transition between different operational states related to alternative fuel ratio adaptation or learning, based on various engine and control unit conditions. It manages transitions from an implied 'CHG' state (likely a default or charging/calibration state) to 'WAIT', 'VLD_LEARN' (Valid Learning), or 'LEARN' states, with 'CHG' acting as the default or fallback state. The core output is `STATE_ALFU_CTL`, which represents the currently active state ID.\r\n\r\n## Inputs\r\n\r\nThe key inputs to this control logic are:\r\n\r\n*   **`[MFF_SUM_REFU]`**: Mass Fuel Flow Sum Reference (or similar fuel quantity reference), used for threshold comparisons.\r\n*   **`C_MFF_SUM_REFU_MIN`**: Constant threshold for minimum Mass Fuel Flow Sum Reference.\r\n*   **`LV_ST_END`**: Logical signal indicating the end of a process or status.\r\n*   **`C_MFF_SUM_REFU_MAX`**: Constant threshold for maximum Mass Fuel Flow Sum Reference.\r\n*   **`[TCO]`**: Coolant Temperature Output (or similar temperature reference), used for threshold comparison.\r\n*   **`C_TCO_THD_FAC_AFU_VLD_LEARN`**: Constant threshold for Coolant Temperature, specifically for valid learning conditions.\r\n*   **`C_0`**: A constant (likely 0 or 1) used to select between two logical signals for an inverted condition.\r\n*   **`IDX_EX_CBK_LAMB`**: Logical signal, possibly an index or callback flag related to lambda control.\r\n*   **`LV_LAM_LSCL`**: Logical signal related to Lambda control or closed-loop status.\r\n*   **`LV_FAC_AFU_RATIO_LAMB_VLD`**: Logical flag indicating validity of alternative fuel ratio lambda.\r\n*   **`LV_FAC_AFU_LAMB_OIL`**: Logical flag related to lambda control in conjunction with oil conditions.\r\n*   **`LV_TQ_N_FAC_AFU_LAMB_VLD`**: Logical flag related to engine torque/speed and alternative fuel lambda validity.\r\n*   **`LV_FAC_AFU_LAMB_LDC`**: Logical flag related to lambda control and possibly load/deceleration conditions.\r\n*   **`LV_VS_GRD_INT_AFU`**: Logical flag related to vehicle speed, gear, or internal alternative fuel unit status.\r\n\r\n## Outputs\r\n\r\nThe key outputs generated or managed by this system are:\r\n\r\n*   **`STATE_ALFU_CTL`**: An integer representing the current active state of the ALFU system (1 for WAIT, 4 for VLD_LEARN, 3 for LEARN, 2 for CHG).", "mimetype": "text/plain", "start_char_idx": 436106, "end_char_idx": 440045, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d828cdac-aeb0-4044-abff-1b6f6ce961e9": {"__data__": {"id_": "d828cdac-aeb0-4044-abff-1b6f6ce961e9", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7b6e1381-dd62-478d-9425-e89bc060e599", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "f2ff2d4851d0b907f7f6684dcdb456645052d5b688aba49cae4758a556ddc14a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "76c7fbb9-d07d-4ab9-b750-9a5ad95e8526", "node_type": "1", "metadata": {}, "hash": "73d8243c0cdc1b644b835c0c367e034fb89dd581bbe8eccc1eed5ef4c61c5bf8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **`LV_VS_GRD_INT_AFU`**: Logical flag related to vehicle speed, gear, or internal alternative fuel unit status.\r\n\r\n## Outputs\r\n\r\nThe key outputs generated or managed by this system are:\r\n\r\n*   **`STATE_ALFU_CTL`**: An integer representing the current active state of the ALFU system (1 for WAIT, 4 for VLD_LEARN, 3 for LEARN, 2 for CHG).\r\n*   **`MFF_SUM_REFU`**: (Potentially a pass-through or a state-managed reference output from the `STATE_ALFU_CTL` block).\r\n*   **`TCO`**: (Potentially a pass-through or a state-managed reference output from the `STATE_ALFU_CTL` block).\r\n\r\n## Logic Flow\r\n\r\nThe system operates based on a prioritized state selection mechanism, where different input conditions trigger a transition to a specific state. The `STATE_ALFU_CTL` block acts as the central state register, selecting its output based on the highest-priority active input condition. The state IDs are 1 (WAIT), 4 (VLD_LEARN), 3 (LEARN), and 2 (CHG).\r\n\r\nHere's a step-by-step breakdown of the logical flow:\r\n\r\n1.  **Evaluate WAIT State (ID 1) Condition (Highest Priority):**\r\n    *   The system checks if `[MFF_SUM_REFU]` is less than `C_MFF_SUM_REFU_MIN` OR if `LV_ST_END` is NOT true.\r\n    *   If `([MFF_SUM_REFU] < C_MFF_SUM_REFU_MIN)` OR `(NOT LV_ST_END)` is true, the condition for entering the `WAIT` state (ID 1) is met.\r\n    *   If this condition is met, `STATE_ALFU_CTL` is set to 1.\r\n\r\n2.  **Evaluate VLD_LEARN State (ID 4) Condition (Second Highest Priority):**\r\n    *   If the `WAIT` state condition is NOT met, the system then evaluates a complex `AND` condition for the `VLD_LEARN` state (ID 4):\r\n        *   `[MFF_SUM_REFU]` is greater than or equal to `C_MFF_SUM_REFU_MAX`.\r\n        *   `[TCO]` is greater than or equal to `C_TCO_THD_FAC_AFU_VLD_LEARN`.\r\n        *   `LV_LAM_LSCL` is true.\r\n        *   `NOT` (Selected signal from Mux: If `C_0` is 0, `IDX_EX_CBK_LAMB` is selected; if `C_0` is 1, `LV_LAM_LSCL` is selected).\r\n        *   `LV_FAC_AFU_RATIO_LAMB_VLD` is true.\r\n        *   `LV_FAC_AFU_LAMB_OIL` is true.\r\n        *   `LV_TQ_N_FAC_AFU_LAMB_VLD` is true.\r\n        *   `LV_FAC_AFU_LAMB_LDC` is true.\r\n        *   `LV_VS_GRD_INT_AFU` is true.\r\n    *   If ALL these sub-conditions are true, the condition for entering the `VLD_LEARN` state (ID 4) is met.\r\n    *   If this condition is met (and WAIT was not), `STATE_ALFU_CTL` is set to 4.\r\n\r\n3.  **Evaluate LEARN State (ID 3) Condition (Third Highest Priority):**\r\n    *   If neither `WAIT` nor `VLD_LEARN` conditions are met, the system evaluates the condition for the `LEARN` state (ID 3):\r\n        *   `[MFF_SUM_REFU]` is greater than or equal to `C_MFF_SUM_REFU_MAX`.\r\n    *   If this condition is met, the `LEARN` state (ID 3) is selected.\r\n    *   If this condition is met (and WAIT and VLD_LEARN were not), `STATE_ALFU_CTL` is set to 3.\r\n\r\n4.  **Default to CHG State (ID 2) (Lowest Priority):**\r\n    *   If none of the higher-priority state conditions (`WAIT`, `VLD_LEARN`, `LEARN`) are met, the system defaults to the `CHG` state (ID 2).\r\n    *   In this case, `STATE_ALFU_CTL` is set to 2.\r\n\r\n**Feedback Mechanism (Check ~= 0):**\r\nThe output `STATE_ALFU_CTL` is fed back to the \"Check ~= 0\" inputs of the `WAIT`, `VLD_LEARN`, `LEARN`, and `CHG` blocks.", "mimetype": "text/plain", "start_char_idx": 439704, "end_char_idx": 442939, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "76c7fbb9-d07d-4ab9-b750-9a5ad95e8526": {"__data__": {"id_": "76c7fbb9-d07d-4ab9-b750-9a5ad95e8526", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d828cdac-aeb0-4044-abff-1b6f6ce961e9", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4ccc9554718ae9cd574f040184826509abe5cbf9e2a6819325828c30a731e806", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8c20688d-8d2c-415b-931b-848e615a84c4", "node_type": "1", "metadata": {}, "hash": "8d7a341b13acc78fda0dfafd8cd00d5554216eac20aeed09bf1ba3aa3a6e2133", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   In this case, `STATE_ALFU_CTL` is set to 2.\r\n\r\n**Feedback Mechanism (Check ~= 0):**\r\nThe output `STATE_ALFU_CTL` is fed back to the \"Check ~= 0\" inputs of the `WAIT`, `VLD_LEARN`, `LEARN`, and `CHG` blocks. These blocks represent the state logic for each respective state and likely contain internal memory (e.g., latches or unit delays). The \"Check ~= 0\" input typically acts as a reset or enable signal. In this context, it is highly probable that if `STATE_ALFU_CTL` is active (i.e., not 0), these \"Check ~= 0\" inputs ensure that only the currently active state's block remains \"enabled\" or \"latched,\" while others are effectively cleared or reset, maintaining a mutually exclusive state. For example, if `STATE_ALFU_CTL` is 1 (WAIT), then the `WAIT` block might hold its state while the other blocks (VLD_LEARN, LEARN, CHG) are reset because `STATE_ALFU_CTL` is not equal to their respective state IDs.\r\n\r\n\r\n--- Page 133 ---\r\n\r\nThis diagram outlines the state transition logic for an \"Alternative Fuel Ratio Determination\" (ALFU) system, specifically focusing on the conditions for transitioning *from* the 'LEARN' state. It evaluates various validity and end conditions to determine the next operational state.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to define the logical conditions for transitioning out of or remaining within the 'LEARN' state for an Alternative Fuel Ratio Determination (ALFU) system. It calculates flags for learning validity (`VLD_LEARN`) and learning termination (`LV_ST_END`), which then feed into a higher-level state control logic to update the main `STATE_ALFU_CTL` and determine if the system should move to a 'WAIT' state or continue 'LEARN'ing.\r\n\r\n## Inputs\r\n\r\n1.  **`LV_LAM_LSCL`**: A flag related to the lambda sensor control (LSCL).\r\n2.  **`IDX_EX_CBK_LAMB`**: An index or control signal for the demultiplexer, influencing how `LV_LAM_LSCL` is processed.\r\n3.  **`MFF_SUM_REFU`**: Accumulated sum of fuel mass flow corrections, used for monitoring learning progress or deviation.\r\n4.  **`C_MFF_SUM_REFU_MAX`**: A configurable constant representing the maximum allowed `MFF_SUM_REFU` for learning validity.\r\n5.  **`TCO`**: Engine Coolant Temperature, a critical condition for enabling or disabling learning.\r\n6.  **`C_TCO_THD_FAC_AFU_VLD_LEARN`**: A configurable constant representing the minimum `TCO` required for AFU learning validity.\r\n7.  **`LV_FAC_AFU_RATIO_LAMB_VLD`**: A flag indicating the validity of the lambda ratio for AFU learning (e.g., stable conditions).\r\n8.  **`LV_FAC_AFU_LAMB_OIL`**: A flag indicating the validity of lambda learning related to engine oil conditions.\r\n9.  **`LV_TQ_N_FAC_AFU_LAMB_VLD`**: A flag indicating the validity of lambda learning related to engine torque and speed.\r\n10. **`LV_FAC_AFU_LAMB_LDC`**: A flag indicating the validity of lambda learning related to a load-dependent control (LDC) parameter.\r\n11. **`LV_VS_GRD_INT_AFU`**: A flag indicating the validity of lambda learning related to gradient or integration processes.\r\n12. **`C_MFF_SUM_REFU_MIN`**: A configurable constant representing the minimum `MFF_SUM_REFU` threshold for learning deactivation.\r\n13. **`C_MFF_SUM_REFU_LEARN_DEAC`**: A configurable constant representing a deactivation threshold for `MFF_SUM_REFU` to stop learning.\r\n14. **`LV_FAC_AFU_RATIO_ERU_VLD`**: A flag indicating the validity of an alternative fuel ratio error unit (ERU).\r\n15. **`FAC_AFU_RATIO_LAMB_VLD`**: Another specific flag for lambda ratio validity, checked for being active (> 0).\r\n\r\n## Outputs\r\n\r\n1.  **`STATE_ALFU_CTL`**: The primary output representing the current control state of the Alternative Fuel Unit (e.g., 'LEARN', 'WAIT').\r\n2.  **`VLD_LEARN`**: An internal flag indicating if the overall learning conditions are currently valid.\r\n3.", "mimetype": "text/plain", "start_char_idx": 442729, "end_char_idx": 446533, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8c20688d-8d2c-415b-931b-848e615a84c4": {"__data__": {"id_": "8c20688d-8d2c-415b-931b-848e615a84c4", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "76c7fbb9-d07d-4ab9-b750-9a5ad95e8526", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "68d3ca60f86ad50d03e437c74169d6e5c806ddb52d1febc3d7e0663c57e9b6b8", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "02b5013a-d551-42c3-84e3-e214bad7301b", "node_type": "1", "metadata": {}, "hash": "6bdc49c0480a4bfadc7f3ca166153548995fb45b82f46a4f39fd6c1a4fb57f81", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "15. **`FAC_AFU_RATIO_LAMB_VLD`**: Another specific flag for lambda ratio validity, checked for being active (> 0).\r\n\r\n## Outputs\r\n\r\n1.  **`STATE_ALFU_CTL`**: The primary output representing the current control state of the Alternative Fuel Unit (e.g., 'LEARN', 'WAIT').\r\n2.  **`VLD_LEARN`**: An internal flag indicating if the overall learning conditions are currently valid.\r\n3.  **`LV_ST_END`**: An internal flag indicating if learning *should continue* (True) or if learning *end conditions are met* (False).\r\n    *(Note: Based on the logical inversion, if learning *end* conditions are met, `LV_ST_END` becomes FALSE, implying `LV_ST_END` is 'learning in progress'.)*\r\n\r\n## Logic Flow\r\n\r\nThe diagram processes various inputs to determine two key internal flags, `VLD_LEARN` (learning validity) and `LV_ST_END` (learning status), which then collectively decide the next state for the ALFU system.\r\n\r\n1.  **Learning Validity Check (determines `VLD_LEARN` - top left branch):**\r\n    *   An `AND` gate evaluates a collection of individual conditions. All conditions must be true for `VLD_LEARN` to be set to true.\r\n        *   `LV_LAM_LSCL` must be active (after selection by `IDX_EX_CBK_LAMB`).\r\n        *   `MFF_SUM_REFU` must be greater than or equal to `C_MFF_SUM_REFU_MAX`.\r\n        *   `TCO` (Engine Coolant Temperature) must be greater than or equal to `C_TCO_THD_FAC_AFU_VLD_LEARN`.\r\n        *   `LV_FAC_AFU_RATIO_LAMB_VLD` must be *false* (inverted by a `NOT` gate).\r\n        *   `LV_FAC_AFU_LAMB_OIL` must be true.\r\n        *   `LV_TQ_N_FAC_AFU_LAMB_VLD` must be true.\r\n        *   `LV_FAC_AFU_LAMB_LDC` must be true.\r\n        *   `LV_VS_GRD_INT_AFU` must be true.\r\n    *   If all conditions are met, `VLD_LEARN` (block '4') is set to true. Its current state (when `Check ~= 0`) is used in subsequent logic.\r\n\r\n2.  **Learning End Condition Check (determines `LV_ST_END` - bottom left branch):**\r\n    *   An `OR` gate evaluates if any of three conditions for *ending learning* are met:\r\n        *   `MFF_SUM_REFU` is less than `C_MFF_SUM_REFU_MIN`.\r\n        *   `MFF_SUM_REFU` is greater than or equal to `C_MFF_SUM_REFU_LEARN_DEAC`.\r\n        *   `FAC_AFU_RATIO_LAMB_VLD` is greater than `0`.\r\n    *   If any of these conditions are true, the `OR` gate outputs true, indicating that learning *should end*.\r\n    *   This output is then inverted by a `NOT` gate. The inverted result is fed to the `LV_ST_END` block (block '6').\r\n    *   Therefore, `LV_ST_END` is true if *none* of the learning end conditions are met (i.e., learning is still in progress), and false if *any* learning end conditions are met. Its current state (`Check ~= 0`) is used in subsequent logic.\r\n\r\n3.  **Main State Control Update (updates `STATE_ALFU_CTL` - top right):**\r\n    *   The `STATE_ALFU_CTL` block (labeled '1') represents the overall state variable. It takes raw inputs `MFF_SUM_REFU` (from block '3') and `TCO` (from block '2') along with the `VLD_LEARN` flag (from block '4', if `Check ~= 0`).\r\n    *   If `VLD_LEARN` is true, this condition contributes to the logic within `STATE_ALFU_CTL` to determine its next value. This block implicitly defines how `VLD_LEARN`, `MFF_SUM_REFU`, and `TCO` influence the overall state transition.\r\n\r\n4.  **Transition to WAIT or LEARN (bottom right):**\r\n    *   A final `OR` gate determines conditions that could lead to transitioning to a 'WAIT' state (value '1') or maintaining a 'LEARN' state (value '3').", "mimetype": "text/plain", "start_char_idx": 446154, "end_char_idx": 449592, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "02b5013a-d551-42c3-84e3-e214bad7301b": {"__data__": {"id_": "02b5013a-d551-42c3-84e3-e214bad7301b", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8c20688d-8d2c-415b-931b-848e615a84c4", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "495ee9a4b0d6b44516aaa68e38d347a0ef0905200ad94e5c45a7869433efc2cd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4d81c75c-698b-41bb-ac20-3c5e8a822d71", "node_type": "1", "metadata": {}, "hash": "a0901b10f1257ab13b6efd9278c1a8ab3ee961a3ad0f9b50fc4ac88e311d0681", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This block implicitly defines how `VLD_LEARN`, `MFF_SUM_REFU`, and `TCO` influence the overall state transition.\r\n\r\n4.  **Transition to WAIT or LEARN (bottom right):**\r\n    *   A final `OR` gate determines conditions that could lead to transitioning to a 'WAIT' state (value '1') or maintaining a 'LEARN' state (value '3'). If any of these inputs are true, the output of the `OR` gate is true, which triggers the logic for 'WAIT' (block '1') or 'LEARN' (block '3').\r\n        *   `VLD_LEARN` is true (`Check ~= 0` from block '4').\r\n        *   `NOT(LV_ST_END)` is true (meaning learning *end* conditions are met, and thus learning is *not* in progress, or has ended).\r\n        *   `LV_FAC_AFU_RATIO_ERU_VLD` is true.\r\n        *   `FAC_AFU_RATIO_LAMB_VLD` is greater than `0`.\r\n    *   The values '1' (WAIT) and '3' (LEARN) are likely constants assigned to these states within a larger state machine framework, and the \"Check ~= 0\" for these blocks indicates the condition for transitioning to or activating these states.\r\n\r\nIn essence, the diagram ensures that the system stays in the 'LEARN' state only if learning conditions are valid, learning hasn't ended, and other validity flags are met. Otherwise, it prepares for or transitions to a 'WAIT' state.\r\n\r\n\r\n--- Page 134 ---\r\n\r\nThis image contains two distinct Simulink diagrams, both depicting state transition logic. I will focus on the first diagram, titled \"4.14.2.7.5 Transition from state 'VLD_LEARN'\", as it is presented first and is representative of the system's logic. The second diagram, \"4.14.2.7.6 From Validation\", follows a very similar structure, describing transitions from a different state.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is to determine the next operational state for an \"Alternative Fuel Ratio Determination\" (ALFU) system when it is currently in the 'VLD_LEARN' state. It evaluates various input conditions to decide whether to transition to 'FINISHED', 'WAIT', 'VALIDATION', or remain in 'VLD_LEARN'. Concurrently, it selects and propagates specific values for key system variables (`LV_FAC_AFU_RATIO_VLD`, `MFF_SUM_REFU`, `TCO`) based on the chosen next state.\r\n\r\n## Inputs\r\n\r\nThe diagram receives the following inputs:\r\n\r\n*   **`[MFF_SUM_REFU]`**: Current Mass Fuel Flow Sum Reference Unit value.\r\n*   **`TCO`**: Current temperature of a component (e.g., catalyst temperature).\r\n*   **`C_MFF_SUM_REFU_MAX`**: A constant maximum threshold for `MFF_SUM_REFU`.\r\n*   **`C_TCO_THD_FAC_AFU_VLD_LEARN`**: A constant temperature threshold specific to the AFU validation learning state.\r\n*   **`IDX_EX_CBK_LAMB`**: An index or status related to exhaust oxygen sensor feedback.\r\n*   **`LV_LAM_LSCL`**: A logical signal, possibly indicating lambda sensor scaling status.\r\n*   **`LV_FAC_AFU_LAMB_OIL`**: A logical signal, possibly indicating AFU lambda correction related to oil.\r\n*   **`LV_TQ_N_FAC_AFU_ER_VLD`**: A logical signal, possibly indicating AFU engine speed/torque validation status (used twice).\r\n*   **`LV_FAC_AFU_LAMB_LDC`**: A logical signal, possibly indicating AFU lambda correction related to load.\r\n*   **`LV_ST_END`**: A logical signal, possibly indicating the end of a specific learning step.\r\n*   **`LV_FAC_AFU_RATIO_LAMB_VLD`**: A logical signal, possibly indicating the validation of the AFU lambda ratio.\r\n*   **`LV_FAC_AFU_RATIO_VLD`**: A logical signal, indicating the validation status of the AFU ratio.\r\n\r\n## Outputs\r\n\r\nThe diagram produces the following outputs:\r\n\r\n*   **`STATE_ALFU_CTL`**: An integer value representing the selected next state of the ALFU control system (0 for FINISHED, 1 for WAIT, 5 for VALIDATION, 4 for VLD_LEARN).\r\n*   **`LV_FAC_AFU_RATIO_VLD`**: The selected value for the AFU ratio validation status, potentially passed through or updated.", "mimetype": "text/plain", "start_char_idx": 449269, "end_char_idx": 453063, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4d81c75c-698b-41bb-ac20-3c5e8a822d71": {"__data__": {"id_": "4d81c75c-698b-41bb-ac20-3c5e8a822d71", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "02b5013a-d551-42c3-84e3-e214bad7301b", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "2abb562677c55c1bc2a24d68c9f10a486cb24536d1b79c3517b87e5dfdb8fd23", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "32e18c17-7e6e-4ac8-893c-6b5da2a420ab", "node_type": "1", "metadata": {}, "hash": "5bfca9bf3403d026888446a794c44567cb8f40c66832eab64e9cb5775943e742", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Outputs\r\n\r\nThe diagram produces the following outputs:\r\n\r\n*   **`STATE_ALFU_CTL`**: An integer value representing the selected next state of the ALFU control system (0 for FINISHED, 1 for WAIT, 5 for VALIDATION, 4 for VLD_LEARN).\r\n*   **`LV_FAC_AFU_RATIO_VLD`**: The selected value for the AFU ratio validation status, potentially passed through or updated.\r\n*   **`[MFF_SUM_REFU]`**: The selected `MFF_SUM_REFU` value, potentially passed through or updated.\r\n*   **`[TCO]`**: The selected `TCO` value, potentially passed through or updated.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow defines a prioritized state transition mechanism, commonly implemented using cascaded Multiport Switch blocks in Simulink. The \"Check ~= 0\" signals from each condition block control the switches, allowing a higher-priority condition to override lower-priority ones.\r\n\r\n1.  **Evaluate FINISHED State Transition (Highest Priority):**\r\n    *   **Conditions:**\r\n        *   `[MFF_SUM_REFU]` is strictly less than `C_MFF_SUM_REFU_MAX`.\r\n        *   `TCO` is strictly less than `C_TCO_THD_FAC_AFU_VLD_LEARN`.\r\n        *   `LV_FAC_AFU_RATIO_VLD` is true (asserted).\r\n    *   **Action:** If all three conditions are true, the system transitions to the `FINISHED` state (output `STATE_ALFU_CTL` = 0). The `LV_FAC_AFU_RATIO_VLD`, `[MFF_SUM_REFU]`, and `[TCO]` values are passed through specific switch inputs associated with this state.\r\n\r\n2.  **Evaluate WAIT State Transition (Second Priority):**\r\n    *   **Conditions:** If the FINISHED conditions are not met, the system evaluates conditions for the `WAIT` state. An `OR` gate indicates that if *any* of the following are true, the WAIT conditions are met:\r\n        *   `LV_LAM_LSCL` is false (`NOT LV_LAM_LSCL` is true).\r\n        *   `LV_FAC_AFU_LAMB_OIL` is false (`NOT LV_FAC_AFU_LAMB_OIL` is true).\r\n        *   `LV_TQ_N_FAC_AFU_ER_VLD` is false (`NOT LV_TQ_N_FAC_AFU_ER_VLD` is true).\r\n        *   `LV_FAC_AFU_LAMB_LDC` is false (`NOT LV_FAC_AFU_LAMB_LDC` is true).\r\n        *   `LV_ST_END` is false (`NOT LV_ST_END` is true).\r\n        *   `IDX_EX_CBK_LAMB` is not equal to 0 (after passing through a block, likely a selector or comparison, then negated).\r\n    *   **Action:** If any of these conditions are true, the system transitions to the `WAIT` state (output `STATE_ALFU_CTL` = 1). The `LV_FAC_AFU_RATIO_VLD`, `[MFF_SUM_REFU]`, and `[TCO]` values are passed through switch inputs specific to the WAIT state (e.g., `LV_FAC_AFU_RATIO_VLD` takes a value from block '1').\r\n\r\n3.  **Evaluate VALIDATION State Transition (Third Priority):**\r\n    *   **Conditions:** If neither FINISHED nor WAIT conditions are met, the system evaluates conditions for the `VALIDATION` state. An `AND` gate indicates that *all* of the following must be true:\r\n        *   `LV_TQ_N_FAC_AFU_ER_VLD` is true.\r\n        *   `LV_FAC_AFU_RATIO_LAMB_VLD` is true.\r\n        *   `LV_FAC_AFU_RATIO_VLD` is false (`NOT LV_FAC_AFU_RATIO_VLD` is true).\r\n    *   **Action:** If all three conditions are true, the system transitions to the `VALIDATION` state (output `STATE_ALFU_CTL` = 5). The `LV_FAC_AFU_RATIO_VLD`, `[MFF_SUM_REFU]`, and `[TCO]` values are passed through switch inputs specific to the VALIDATION state (e.g., `LV_FAC_AFU_RATIO_VLD` from block '2').\r\n\r\n4.  **Default to VLD_LEARN State (Lowest Priority):**\r\n    *   **Conditions:** If none of the higher-priority FINISHED, WAIT, or VALIDATION conditions are met.\r\n    *   **Action:** The system remains in the `VLD_LEARN` state (output `STATE_ALFU_CTL` = 4).", "mimetype": "text/plain", "start_char_idx": 452703, "end_char_idx": 456224, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "32e18c17-7e6e-4ac8-893c-6b5da2a420ab": {"__data__": {"id_": "32e18c17-7e6e-4ac8-893c-6b5da2a420ab", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4d81c75c-698b-41bb-ac20-3c5e8a822d71", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "2899295d6ea763fa939675d190312c3c0aedb4e214c4323b25ce59581f9c4dce", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7e7549bb-7109-4f7a-9ea5-33d35fed2005", "node_type": "1", "metadata": {}, "hash": "e524f043d679af4a6f5398bda1977b85f2861722ee1c9b745abafdb9008481cb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "4.  **Default to VLD_LEARN State (Lowest Priority):**\r\n    *   **Conditions:** If none of the higher-priority FINISHED, WAIT, or VALIDATION conditions are met.\r\n    *   **Action:** The system remains in the `VLD_LEARN` state (output `STATE_ALFU_CTL` = 4). The `LV_FAC_AFU_RATIO_VLD`, `[MFF_SUM_REFU]`, and `[TCO]` values are passed through the default switch inputs, typically their current values from the `VLD_LEARN` state itself.\r\n\r\n\r\n--- Page 135 ---\r\n\r\nThe image displays a Simulink diagram, which is a graphical programming environment for modeling, simulating, and analyzing dynamic systems.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram, as suggested by the title \"4.14.3.1 Mixing of fuel inside tank sufficient\" and \"ALFU: Alternative fuel ratio determination (Appl. Inc.)\", is to determine a \"sufficiency\" or \"permission\" status related to the alternative fuel ratio and its mixing within the vehicle's tank. It calculates two output signals that likely represent boolean states (sufficient/insufficient, permitted/not permitted) based on various fuel system parameters, external requests, and error conditions. One output provides a direct assessment, while the other incorporates a more complex logical combination with an override mechanism.\r\n\r\n## Inputs\r\n1.  **`VS_GRD_INT_AFU_in`**: An input signal representing a graded or integrated alternative fuel unit value.\r\n2.  **`VS_GRD`**: A constant value (V. 6.4) used in the calculation, possibly a reference or offset for the graded value.\r\n3.  **`C_VS_GRD_INT_AFU`**: Another constant value (V. 6.4) used in the calculation, likely a compensation or base value for the integrated AFU.\r\n4.  **`LV_FAC_AFU_RATIO_EXT_REQ`**: A boolean or numerical signal indicating an external request for an alternative fuel ratio.\r\n5.  **`LC_FAC_AFU_LAMB_EXT_REQ_VS_ENA`**: A boolean signal enabling or disabling external lambda (air-fuel ratio) requests.\r\n6.  **`ACTION_FARM_GetPermission_T3`**: A permission flag, possibly indicating whether a specific action (related to fuel management) is permitted under condition T3.\r\n7.  **`NC_FID_ERR_VS_AFU_AI`**: An error flag, indicating a potential issue with fuel identification (FID) related to the alternative fuel unit. This acts as `PRM_FID` within the 'ActionImport' block.\r\n8.  **`LV_VS_GRD_INT_AFU_in`**: An input signal that also serves as an override condition for one of the outputs. It likely represents a low-level status or a previous state of the alternative fuel unit.\r\n\r\n## Outputs\r\n1.  **`VS_GRD_INT_AFU_out`**: A boolean or binary output signal indicating the \"sufficiency\" or status derived from the weighted sum of processed fuel ratio inputs.\r\n2.  **`LV_VS_GRD_INT_AFU_out`**: A boolean or binary output signal representing a more complex logical status for the alternative fuel unit, incorporating various conditions and an override mechanism.\r\n\r\n## Logic Flow\r\nThe diagram calculates two main outputs: `VS_GRD_INT_AFU_out` and `LV_VS_GRD_INT_AFU_out`.\r\n\r\n### Calculation of `VS_GRD_INT_AFU_out` (Top Path):\r\n1.  **Process `VS_GRD_INT_AFU_in`**: The input `VS_GRD_INT_AFU_in` is reduced by the constant `VS_GRD` (V. 6.4). The result is then scaled by a gain `V. 6.5`.\r\n2.  **Process `LV_FAC_AFU_RATIO_EXT_REQ`**: The input `LV_FAC_AFU_RATIO_EXT_REQ` is added to the constant `C_VS_GRD_INT_AFU` (V. 6.4). The result is then scaled by a gain `V. 6.7`.\r\n3.  **Combine and Compare**: The two scaled results from steps 1 and 2 are summed together. This sum is then compared against a threshold `V. 6.0` using a \"greater than or equal to\" (`>=`) relational operator.\r\n4.  **Output `VS_GRD_INT_AFU_out`**: The boolean result of the comparison from step 3 (converted to a numerical 0 or 1 by the '1' gain block) directly forms the `VS_GRD_INT_AFU_out` signal.", "mimetype": "text/plain", "start_char_idx": 455969, "end_char_idx": 459751, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7e7549bb-7109-4f7a-9ea5-33d35fed2005": {"__data__": {"id_": "7e7549bb-7109-4f7a-9ea5-33d35fed2005", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "32e18c17-7e6e-4ac8-893c-6b5da2a420ab", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "160931d5ab57feca65af640e241a1450b6682271b7b6a9885dc9a1f0625fd18a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ff1fd874-dc18-463e-bd3d-f4635d7a8a0d", "node_type": "1", "metadata": {}, "hash": "26c2c6dd74c999c9ce0241201a95819cb97b806afca60710790908dae52e4086", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This sum is then compared against a threshold `V. 6.0` using a \"greater than or equal to\" (`>=`) relational operator.\r\n4.  **Output `VS_GRD_INT_AFU_out`**: The boolean result of the comparison from step 3 (converted to a numerical 0 or 1 by the '1' gain block) directly forms the `VS_GRD_INT_AFU_out` signal.\r\n\r\n### Calculation of `LV_VS_GRD_INT_AFU_out` (Bottom Path with Override):\r\nThis output is determined by a combination of logical conditions, potentially overridden by its own input.\r\n\r\n1.  **Condition 1 (External Request Logic)**:\r\n    *   A logical AND operation is performed on `LV_FAC_AFU_RATIO_EXT_REQ` and `LC_FAC_AFU_LAMB_EXT_REQ_VS_ENA`. This produces a boolean result (let's call it `AND_Result_1`).\r\n\r\n2.  **Condition 2 (Permission/Error Logic)**:\r\n    *   The `ACTION_FARM_GetPermission_T3` and `NC_FID_ERR_VS_AFU_AI` (acting as `PRM_FID`) inputs are fed into an 'ActionImport' block. This block processes these inputs to produce `PRM_LV_PRMS`.\r\n    *   The `PRM_LV_PRMS` signal is then logically negated (inverted) by a NOT gate. This produces a boolean result (let's call it `NOT_PRM_LV_PRMS`).\r\n\r\n3.  **Combine Logical Conditions (OR chain)**:\r\n    *   The `AND_Result_1` (from step 1) is ORed with `NOT_PRM_LV_PRMS` (from step 2).\r\n    *   The result of this OR operation is then ORed with the boolean output from the `>=` comparison (the same signal that determines `VS_GRD_INT_AFU_out` before the final gain).\r\n    *   Finally, the result of this OR operation is ORed with `LV_VS_GRD_INT_AFU_in`. This combined logical result (let's call it `Combined_OR_Result`) passes through a gain '1' block.\r\n\r\n4.  **Override Logic (Multiport Switch)**:\r\n    *   A Multiport Switch block controls the final output `LV_VS_GRD_INT_AFU_out`. The control input for this switch is `LV_VS_GRD_INT_AFU_in`.\r\n    *   **If `LV_VS_GRD_INT_AFU_in` is not equal to zero (`Check ~= 0` is true)**: The switch directly outputs the value of `LV_VS_GRD_INT_AFU_in`. This acts as an override where a non-zero input forces the output to its own value.\r\n    *   **Else (if `LV_VS_GRD_INT_AFU_in` is equal to zero)**: The switch outputs the `Combined_OR_Result` calculated in step 3. This means the complex logical conditions determine the output only when the `LV_VS_GRD_INT_AFU_in` is explicitly zero.\r\n\r\n\r\n--- Page 139 ---\r\n\r\nThis image displays a block diagram, which is a common representation for automotive control logic, often generated from or used within environments like Simulink or TargetLink. It's clearly a functional diagram, not a text page or table.\r\n\r\n---\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to implement the \"Default start strategy\" for the \"ALFU\" (likely Automatic Fuel/Air Unit or Adaptive Lambda Fuel Unit) system. It calculates and manages various parameters related to fuel/air mixture, engine state, and timing during the engine's startup phase. The calculation occurs periodically every 100 milliseconds, as indicated by \"4.15.1 Calculation at 100MS\", and is active when the ignition key (`LV_IGK`) is on.\r\n\r\n## Inputs\r\nThe diagram receives a wide range of inputs, which can be categorized as follows:\r\n\r\n1.  **System Request/Status Flags (Top Left):** These are global requests or status flags that trigger or influence specific operational modes of the system.\r\n    *   `ALFU_REQCODFTSTO_RST`: Reset request for default start strategy.\r\n    *   `ALFU_REQCODFTSTO_100MS`: 100ms periodic task request.\r\n    *   `ALFU_REQCODFTSTO_NVMINI`, `_NVMRES`, `_NVMSTO`: Non-Volatile Memory (NVM) initialization, restore, and store requests.\r\n    *   `ALFU_REQCODFTSTO_ES2ERU`, `_ERUZES`: Requests related to specific transitions or states (e.g., Engine Stop to Engine Running Unit, or similar).", "mimetype": "text/plain", "start_char_idx": 459443, "end_char_idx": 463176, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ff1fd874-dc18-463e-bd3d-f4635d7a8a0d": {"__data__": {"id_": "ff1fd874-dc18-463e-bd3d-f4635d7a8a0d", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7e7549bb-7109-4f7a-9ea5-33d35fed2005", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "cb8b7336b0876898af3821eccaecebdb88dfb1518f3de2eb6197e265d2d89eca", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1c90a4e8-d4f5-475a-85af-8e87bf5236bd", "node_type": "1", "metadata": {}, "hash": "b2c8440e0732c97c3fc7b8ba035c36fb428ad8f9743d52237684d9d56dbafe47", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `ALFU_REQCODFTSTO_NVMINI`, `_NVMRES`, `_NVMSTO`: Non-Volatile Memory (NVM) initialization, restore, and store requests.\r\n    *   `ALFU_REQCODFTSTO_ES2ERU`, `_ERUZES`: Requests related to specific transitions or states (e.g., Engine Stop to Engine Running Unit, or similar).\r\n    *   `ALFU_REQCODFTSTO_EXITST`: Exit status request.\r\n    *   `ALFU_REQCODFTSTO_SEG`: Segmentation request.\r\n    *   `ALFU_REQCODFTSTO_1S`: 1-second periodic task request.\r\n\r\n2.  **Internal/Feedback States (to OPM blocks):** These are inputs to the \"OPM\" (Operating Parameter Management) blocks, likely representing internal states or previous outputs of these sub-functions.\r\n    *   `opm_100ms`, `dft_st`, `clc_eruzes`, `opm_exitst`, `opm_seg`, `opm_1s`: These signals act as 'input' to the respective OPM blocks and receive 'feedback' from them, suggesting state-machine like behavior or internal variable updates.\r\n\r\n3.  **Sensor Readings & System Variables (Mid-Left):** These are direct measurements or calculated values crucial for the start strategy.\r\n    *   `CTR_FUEL_OIL`: Counter for fuel oil.\r\n    *   `FAC_AFU_RATIO_DET`: Detected fuel/air ratio.\r\n    *   `FAC_AFU_RATIO_FTL_MAX`, `FAC_AFU_RATIO_FTL_MIN`: Maximum and minimum limits for the fuel/air ratio during fuel trim learning.\r\n    *   `FAC_AFU_RATIO_LAMB_VLD`: Validity of the Lambda (air-fuel equivalence ratio) signal.\r\n    *   `LV_PUC`: Likely related to pump-up current or fuel pump status.\r\n    *   `LV_ST`: Start status (e.g., cranking).\r\n    *   `MAP`: Manifold Absolute Pressure.\r\n    *   `N`: Engine Speed (RPM).\r\n    *   `TCO`: Coolant Temperature.\r\n    *   `TOIL`: Oil Temperature.\r\n    *   `T_AST`: Ambient Air Temperature.\r\n    *   `LV_IGK`: Ignition key status (used for activation/deactivation).\r\n    *   `LV_ES`: Engine Stop status.\r\n    *   `STATE_ALRU_CTL`: Current control state of the ALRU (Automatic Lambda Ratio Unit).\r\n    *   `LV_FAC_AFU_RATIO_LAMB_ACT`: Actual Lambda ratio.\r\n    *   `LV_FAC_AFU_RATIO_ERU_ACT`: Actual value from an Exhaust Gas Recirculation Unit (ERU) or similar.\r\n    *   `LV_FTL_EQL_END`: Fuel Trim Learn Equalization End status.\r\n    *   `LV_LV_FAC_AFU_RATIO_ERU_VLD`: Validity of the ERU ratio.\r\n    *   `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST`: Reset for the active default start fuel/air ratio.\r\n    *   `LV_STST_STOP_CYC`: Start-Stop system cycle status.\r\n\r\n## Outputs\r\nThe diagram produces several key outputs that define the ALFU's default start strategy:\r\n\r\n*   `CTR_CYC_DFT_ST`: Counter for the default start cycle.\r\n*   `CTR_DFT_ST`: A specific counter related to the default start process.\r\n*   `CTR_ST_ES_AFU`: Counter related to the start of an Engine Stop (ES) or AFU event.\r\n*   `FAC_AFU_RATIO_DFT_ST`: The calculated target fuel/air ratio for the default start strategy.\r\n*   `LV_FAC_AFU_RATIO_DFT_ST_REQ`: A request flag indicating the need for the default start fuel/air ratio.\r\n*   `LV_ST_ES_AFU`: A status flag indicating an Engine Stop (ES) or AFU event during start.\r\n*   `LV_ST_VLD_AFU`: Validity status of the AFU start process.\r\n\r\n## Logic Flow\r\nThe logical flow proceeds as follows:\r\n\r\n1.  **System Event and Timing Processing (OPM Blocks):**\r\n    *   Various `ALFU_REQCODFTSTO_...` signals (RST, 100MS, NVM, ES2ERU, etc.) representing external requests or timing events are fed into distinct \"OPM_X\" blocks (e.g., `OPM_100MS`, `OPM_ES2ERU`).", "mimetype": "text/plain", "start_char_idx": 462899, "end_char_idx": 466258, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1c90a4e8-d4f5-475a-85af-8e87bf5236bd": {"__data__": {"id_": "1c90a4e8-d4f5-475a-85af-8e87bf5236bd", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ff1fd874-dc18-463e-bd3d-f4635d7a8a0d", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "674f711c10bf84d2241da00fad2fe3de7b5eb573e176270b4c2c4dd3e6fac74a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "df745702-1116-46a7-bc90-6680a392d215", "node_type": "1", "metadata": {}, "hash": "4d7d56d8acffd42e1c9933401bfa659b8f4925e5920a509c79013149d98f26d2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Logic Flow\r\nThe logical flow proceeds as follows:\r\n\r\n1.  **System Event and Timing Processing (OPM Blocks):**\r\n    *   Various `ALFU_REQCODFTSTO_...` signals (RST, 100MS, NVM, ES2ERU, etc.) representing external requests or timing events are fed into distinct \"OPM_X\" blocks (e.g., `OPM_100MS`, `OPM_ES2ERU`).\r\n    *   These OPM blocks also receive local \"task control\" signals (e.g., `tc_RST`, `tc_100MS`) and manage internal states, taking an 'input' signal (which is often its own previous 'feedback' signal or an initial state) and producing a 'feedback' signal (its updated state).\r\n    *   The OPM blocks likely act as state machines or local processing units that respond to these requests and events, generating internal flags or processed states that are relevant for the main calculation.\r\n\r\n2.  **Central Calculation (Main Logic Block V.6.3):**\r\n    *   All the OPM blocks' internal states/outputs (e.g., `opm_100ms`, `dft_st`, `clc_eruzes`, `opm_exitst`, `opm_seg`, `opm_1s`) are fed into a large central processing block (labeled \"V. 6.3\").\r\n    *   Concurrently, a comprehensive set of real-time sensor readings and system status variables (e.g., `MAP`, `N`, `TCO`, `LV_IGK`, `FAC_AFU_RATIO_DET`, `STATE_ALRU_CTL`, etc.) are also fed directly into this central block.\r\n    *   This central block represents the core \"Default start strategy\" algorithm. It integrates all these diverse inputs, applying complex logic, lookup tables, and state-based rules to determine the appropriate output values required for a successful engine start according to the ALFU system's requirements. The internal signals (e.g., `CTR_CYC_DFT_ST. O V S`, `FAC_AFU_RATIO_DFT_ST. O V`) represent the calculated intermediate or final values from this core logic.\r\n\r\n3.  **Output Generation:**\r\n    *   The relevant calculated values from the central \"V. 6.3\" block are then routed to a final output stage.\r\n    *   This output stage maps the internal calculated values to the external output signals of the diagram (e.g., `CTR_CYC_DFT_ST`, `FAC_AFU_RATIO_DFT_ST`, `LV_ST_VLD_AFU`). These outputs are then used by other modules or controllers within the engine management system to control the engine's behavior during startup.\r\n\r\n\r\n--- Page 140 ---\r\n\r\n## Function\r\nThis Simulink diagram, titled \"ALFU. Default start strategy,\" implements the logic for controlling or managing the Air-Fuel Ratio Unit (ALFU) specifically during the engine's start-up phase. Its primary function is to process various engine, sensor, and control inputs to determine and output the appropriate default start strategy parameters, states, and diagnostic information, executing periodically at 100-millisecond intervals. It likely provides initial control parameters or overrides normal operating strategies to ensure a robust engine start.\r\n\r\n## Inputs\r\nThe system receives various inputs, broadly categorized as control signals, sensor readings/system states, and feedback:\r\n\r\n1.  **Function Call Control Signals (direct to `fc(t)` block):**\r\n    *   `fc_RST`: Reset signal for the function call.\r\n    *   `fc_NVMINI`: Non-volatile memory initialization signal.\r\n    *   `fc_NVMRES`: Non-volatile memory reset signal.\r\n    *   `fc_NVMSTO`: Non-volatile memory store signal.\r\n    *   `fc_100MS`: Periodic trigger signal, initiating execution every 100ms.\r\n    *   `<LV_IGK>`: Ignition key status, used for activation (`== 1`) and deactivation (`== 0`).\r\n\r\n2.  **Engine & Sensor Inputs (via `input` bus):**\r\n    *   `MAF`: Mass Air Flow.\r\n    *   `LV_FAC_AFU_RATIO_LAMB_ACT`: Actual lambda (air-fuel ratio) correction factor.\r\n    *   `STATE_ALFU_CTL`: Current state of the ALFU control system.\r\n    *   `LV_FAC_AFU_RATIO_ERU_ACT`: Exhaust Gas Recirculation Unit (ERU) related AFU ratio correction factor.\r\n    *   `TOIL`: Engine oil temperature.\r\n    *   `LV_PUC`: Pumping-up compensation value.\r\n    *   `T_AST`: Ambient or Air Start Temperature.\r\n    *   `N`: Engine speed.", "mimetype": "text/plain", "start_char_idx": 465946, "end_char_idx": 469891, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "df745702-1116-46a7-bc90-6680a392d215": {"__data__": {"id_": "df745702-1116-46a7-bc90-6680a392d215", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1c90a4e8-d4f5-475a-85af-8e87bf5236bd", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "47f9aaef9d188d57ba6a621e6719240973a5b91a188aaa854f49cda8e3635a19", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "761f9362-33c3-4354-9663-090c02b2de22", "node_type": "1", "metadata": {}, "hash": "a5d65db744d19c169ba0fd35a6a3782d3bdaf84d7732400011354a09e573a3b2", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `STATE_ALFU_CTL`: Current state of the ALFU control system.\r\n    *   `LV_FAC_AFU_RATIO_ERU_ACT`: Exhaust Gas Recirculation Unit (ERU) related AFU ratio correction factor.\r\n    *   `TOIL`: Engine oil temperature.\r\n    *   `LV_PUC`: Pumping-up compensation value.\r\n    *   `T_AST`: Ambient or Air Start Temperature.\r\n    *   `N`: Engine speed.\r\n    *   `LV_FTL_EOL_END`: Fuel Trim Learn End-of-Life status.\r\n    *   `LV_FAC_AFU_RATIO_ERU_VLD`: Validity flag for ERU-related AFU ratio.\r\n    *   `FAC_AFU_RATIO_LAMB_VLD`: Validity flag for lambda-related AFU ratio.\r\n    *   `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST`: Reset signal for default start AFU ratio activity.\r\n    *   `CTR_ST_ES_AFU`: Engine Start AFU counter value.\r\n    *   `MAF_DFT_ST`: Mass Air Flow Default Start status.\r\n    *   `CTR_CYC_DFT_ST_in`: Diagnostic counter for default start (input value).\r\n    *   `LV_FAC_AFU_RATIO_DFT_ST_ACT_in`: Default start AFU ratio activity (input value).\r\n    *   `N_DFT_ST_in`: Engine speed default start status (input value).\r\n    *   `T_AST_CTR_CYC_DFT_ST_RST`: Reset signal for Ambient Temp/Air Start Temp diagnostic counter.\r\n    *   `T_AST_DFT_ST_REQ_RST`: Reset signal for Ambient Temp/Air Start Temp default start request.\r\n\r\n3.  **Feedback Input:**\r\n    *   `fc_INI`: Initialization status of the function call block, potentially fed back from a previous cycle.\r\n\r\n## Outputs\r\nThe system consolidates its outputs into a bus named `opm_100ms`, representing the 100ms operational parameters for the ALFU default start strategy, and a direct function call output:\r\n\r\n1.  **Function Call Output (direct from `fc(t)` block):**\r\n    *   `fc_OPM_100MS`: General output from the 100ms function call, likely an execution status or event.\r\n\r\n2.  **Default Start Strategy Parameters & States (via `opm_100ms` bus):**\r\n    *   `MAF_DFT_ST`: Mass Air Flow Default Start status (output).\r\n    *   `LV_FAC_AFU_RATIO_DFT_ST_REQ`: Default Start AFU Ratio Request.\r\n    *   `N_DFT_ST`: Engine Speed Default Start status.\r\n    *   `CTR_CYC_DFT_ST`: Diagnostic Counter for Default Start (output value).\r\n    *   `LV_FAC_AFU_RATIO_DFT_ST_ACT`: Default Start AFU Ratio Activity (output value).\r\n    *   `CTR_ST_ES_AFU`: Engine Start AFU Counter (output value).\r\n    *   `T_AST_CTR_CYC_DFT_ST_RST`: Reset status for Ambient Temp/Air Start Temp diagnostic counter.\r\n    *   `T_AST_DFT_ST_REQ_RST`: Reset status for Ambient Temp/Air Start Temp Default Start Request.\r\n\r\n## Logic Flow\r\n\r\n1.  **Triggering and Lifecycle Management:**\r\n    *   The core logic resides within the `fc(t)` block, identified as `APP_CDN V.7.2`. This block is primarily triggered by the `fc_100MS` signal, meaning its internal computations are performed every 100 milliseconds.\r\n    *   During system initialization, the `Init` phase within `fc(t)` is activated by `RST`, `NVMINI`, `NVMRES`, `NVMSTO` signals, and the `fc_INI` feedback. This handles setting up initial states and reading non-volatile memory.\r\n    *   The active operation (`Activation`) of the internal strategy is governed by the condition `LV_IGK == 1` (Ignition Key ON). When `LV_IGK == 0` (Ignition Key OFF), the module deactivates, potentially entering a low-power state or halting calculations.\r\n\r\n2.  **Input Acquisition and Pre-processing:**\r\n    *   Raw and processed engine data flows into the `fc(t)` block via the `input` bus. This includes real-time sensor measurements (MAF, N, T_AST, TOIL), current control states (STATE_ALFU_CTL, LV_PUC), and diagnostic/system flags (LV_FTL_EOL_END, validity flags).\r\n    *   Additionally, pre-existing or external \"default start\" related statuses and counter values are fed in (`MAF_DFT_ST`, `N_DFT_ST_in`, `CTR_CYC_DFT_ST_in`, etc.", "mimetype": "text/plain", "start_char_idx": 469546, "end_char_idx": 473251, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "761f9362-33c3-4354-9663-090c02b2de22": {"__data__": {"id_": "761f9362-33c3-4354-9663-090c02b2de22", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "df745702-1116-46a7-bc90-6680a392d215", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "f9d10f512cec61ee4b7a78d7ddec621e88e2f3918347eaa488193f09404a9b55", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c8e0f2da-1586-456d-8c62-14ae338341ce", "node_type": "1", "metadata": {}, "hash": "f3edf18bea9df8533c6b6fbf18d27f7675a88a3d1ebc8e7b055f976acc417132", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This includes real-time sensor measurements (MAF, N, T_AST, TOIL), current control states (STATE_ALFU_CTL, LV_PUC), and diagnostic/system flags (LV_FTL_EOL_END, validity flags).\r\n    *   Additionally, pre-existing or external \"default start\" related statuses and counter values are fed in (`MAF_DFT_ST`, `N_DFT_ST_in`, `CTR_CYC_DFT_ST_in`, etc.), suggesting that this module may refine or react to these states rather than being the sole generator.\r\n    *   Feedback (`fc_INI`) might be used to maintain internal state or acknowledge previous operational phases.\r\n\r\n3.  **Core Default Start Strategy Logic:**\r\n    *   Inside `fc(t)`, the various inputs are processed according to the \"ALFU. Default start strategy.\" Although the detailed internal logic is abstracted, the names of the inputs and outputs suggest a sophisticated control algorithm.\r\n    *   It likely involves:\r\n        *   **Condition Evaluation:** Assessing whether default start conditions are met based on engine speed (`N`), temperatures (`TOIL`, `T_AST`), and current ALFU state (`STATE_ALFU_CTL`).\r\n        *   **Air-Fuel Ratio Adjustment:** Calculating or modifying lambda and ERU-related AFU ratio correction factors (`LV_FAC_AFU_RATIO_...`) to suit the cold start or specific transient conditions. Validity flags (`_VLD`) play a role here.\r\n        *   **Status Management:** Generating and updating various default start status flags (`MAF_DFT_ST`, `N_DFT_ST`, `LV_FAC_AFU_RATIO_DFT_ST_ACT`, `LV_FAC_AFU_RATIO_DFT_ST_REQ`). These might indicate whether specific sub-strategies are active or requested.\r\n        *   **Diagnostic & Event Counting:** Managing counters like `CTR_ST_ES_AFU` (Engine Start AFU counter) and `CTR_CYC_DFT_ST` (Diagnostic Counter for Default Start), which are crucial for monitoring engine start performance and identifying faults. Reset signals (`_RST`) provide mechanisms to clear these counts or flags.\r\n\r\n4.  **Output Generation and Bus Creation:**\r\n    *   After processing, the calculated values and updated statuses are output from the `fc(t)` block.\r\n    *   These individual signals are then consolidated by a `BusMerge` block (V. 5.35) into a single logical bus named `opm_100ms`. This bus bundles all the relevant outputs, making them available to other control modules within the automotive system that require default start strategy information.\r\n\r\n\r\n--- Page 141 ---\r\n\r\n## Function\r\nThis Simulink diagram, titled \"4.15.1.1 Reset\" within the context of \"ALFU. Default start strategy\", primarily functions to **initialize or reset a collection of diagnostic fault status variables and related control parameters to their default (zero) states**. It prepares these variables for a new operating cycle, typically during system startup or a deliberate reset event, ensuring a clean and consistent initial condition for the Air Fuel Unit (ALFU) or a related automotive system.\r\n\r\n## Inputs\r\nThe diagram shows several constant inputs, all set to '0', which represent the target reset values for various system variables. Each input is also associated with a data type/scaling \"V.6.4\" (likely a fixed-point representation with 6 integer bits and 4 fractional bits).\r\n\r\n1.  **MAF_DFT_ST**: Mass Air Flow Diagnostic Fault Status\r\n2.  **N_DFT_ST**: Engine Speed Diagnostic Fault Status\r\n3.  **LV_ST_ES_AFU**: Load Value / Status - Engine Start - Air Fuel Unit (status related to engine start in AFU context)\r\n4.  **CTR_CYC_ST**: Counter Cycle Status\r\n5.  **FAC_DFT_ST**: Factor Diagnostic Fault Status\r\n6.  **FAC_AFU_RATIO_DFT_ST**: Air Fuel Unit Ratio Diagnostic Fault Status\r\n7.  **FAC_AFU_RATIO_DFT_ST_MAX**: Maximum Air Fuel Unit Ratio Diagnostic Fault Status\r\n8.  **FAC_AFU_RATIO_DFT_ST_MIN**: Minimum Air Fuel Unit Ratio Diagnostic Fault Status\r\n9.  **LV_FAC_AFU_RATIO_DFT_ST_ACT**: Load Value / Factor - Air Fuel Unit Ratio Diagnostic Fault Status - Actual (actual status or value related to AFU ratio diagnostic fault)\r\n10. **LV_CTR_DFT_ST_INC**: Load Value / Counter Diagnostic Fault Status - Increment (increment value for a diagnostic fault counter)\r\n11. **T_AST_CTR_CYC_DFT_ST_RST**: Timer / Automatic Start Stop - Counter Cycle Diagnostic Fault Status - Reset (control or timer for resetting a diagnostic fault counter in an AST context)\r\n12.", "mimetype": "text/plain", "start_char_idx": 472907, "end_char_idx": 477166, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c8e0f2da-1586-456d-8c62-14ae338341ce": {"__data__": {"id_": "c8e0f2da-1586-456d-8c62-14ae338341ce", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "761f9362-33c3-4354-9663-090c02b2de22", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "2c29a1b295d2602a9d57cb5046b82f3cd602fdcfacaefa02059bad1e2f5396d2", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "216bb328-11c1-4214-ae4f-445eece63662", "node_type": "1", "metadata": {}, "hash": "82120923ad91b600f9933434487b60f1d9523afc191d1b153a0950f4b949e99f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**LV_CTR_DFT_ST_INC**: Load Value / Counter Diagnostic Fault Status - Increment (increment value for a diagnostic fault counter)\r\n11. **T_AST_CTR_CYC_DFT_ST_RST**: Timer / Automatic Start Stop - Counter Cycle Diagnostic Fault Status - Reset (control or timer for resetting a diagnostic fault counter in an AST context)\r\n12. **T_AST_DFT_ST_REQ_RST**: Timer / Automatic Start Stop - Diagnostic Fault Status - Request Reset (control or timer for requesting a general diagnostic fault status reset, possibly in an AST context)\r\n\r\n## Outputs\r\nThe diagram shows a single, bundled output signal labeled 'rst' (reset) that encapsulates all the initialized values. This bundled signal is then fed into another block, also labeled 'rst' with a '1' inside. The ultimate \"outputs\" are the updated states of the actual system variables that are being reset, which would be managed by the downstream 'rst' block.\r\n\r\n## Logic Flow\r\n1.  **Define Reset Values**: For each specified diagnostic fault status or control parameter, a hardcoded value of '0' is defined as its reset state. This '0' value represents a \"no fault\" or initial default state.\r\n2.  **Data Type/Scaling**: Each '0' value is specified with a \"V.6.4\" format, ensuring that the initialization values adhere to the expected data type and scaling requirements of the receiving system.\r\n3.  **Aggregation (Bus Creation)**: All these individual '0' values are then grouped together (likely via a Simulink Bus Creator or similar aggregation block, represented by the \"f()\" block and the converging lines) into a single, multi-dimensional signal or \"bus.\"\r\n4.  **Reset Signal Output**: This aggregated signal is labeled 'rst', indicating that it now contains all the necessary values to perform a system reset.\r\n5.  **Subsystem Call / Reset Application**: The 'rst' signal is then passed as an input to a subsequent subsystem or function block, which is also labeled 'rst' and has a '1' inside. This block is responsible for taking these initialized '0' values and applying them to the corresponding variables within the actual automotive control system's memory or internal states, thereby executing the reset operation for these parameters. The '1' could signify a specific instance of a reusable reset routine.\r\n\r\n\r\n--- Page 142 ---\r\n\r\nThis is a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to determine two crucial default start values for an automotive engine system: **Mass Air Flow (MAF)** and **Engine Speed (N)**. This process, titled \"Default-Start-Request-Detection\" and \"Determination of default start MAF\", likely provides reference or initial values for engine control during the startup phase, adapting them based on current sensor readings and predefined calibration parameters.\r\n\r\nThe MAF determination involves a more complex logic, dynamically selecting the minimum from several derived values and current readings, then applying a unit delay. The Engine Speed determination is a direct arithmetic calculation.\r\n\r\n## Inputs\r\n1.  **MAF (Port 1):** Current Mass Air Flow sensor reading.\r\n2.  **C_CRLC_MAF_DFT_ST_DEC:** A calibration parameter or constant used for calculating a *decreasing* path for the MAF default start value.\r\n3.  **MAF_DFT_ST_in:** An input value representing a previous or initial default MAF for the start sequence.\r\n4.  **C_CRLC_MAF_DFT_ST_INC:** A calibration parameter or constant used for calculating an *increasing* path for the MAF default start value.\r\n5.  **V. 6.7:** A constant value used as both a multiplier (gain) and an additive offset in several calculations for both MAF and N.\r\n6.  **V. 6.0:** A constant value used as one of the inputs for the minimum selection in the MAF default calculation, effectively setting a lower limit or reference.\r\n7.  **Check = 0:** A control signal for the Unit Delay block in the MAF calculation, likely serving as a reset or initialization condition.\r\n8.  **N (Port 3):** Current Engine Speed sensor reading.\r\n9.  **N_DFT_ST_in (Port 4):** An input value representing a previous or initial default engine speed for the start sequence.\r\n10. **C_CRLC_N_DFT_ST:** A calibration parameter or constant used in the calculation of the Engine Speed default start value.\r\n\r\n## Outputs\r\n1.  **MAF_DFT_ST_out (Port 1):** The calculated default start Mass Air Flow value, used as a reference for engine control during startup.\r\n2.", "mimetype": "text/plain", "start_char_idx": 476843, "end_char_idx": 481233, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "216bb328-11c1-4214-ae4f-445eece63662": {"__data__": {"id_": "216bb328-11c1-4214-ae4f-445eece63662", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c8e0f2da-1586-456d-8c62-14ae338341ce", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "d6fcb7b3f4076cbc773cd2baad2f1012baa5ba23cb3e0d3507a36cc3d8c512eb", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "2e1ae9df-a5ad-4db9-a72d-74df5f7dde05", "node_type": "1", "metadata": {}, "hash": "bb10ff4ace9e4fa10db7caf91bedb115e9956e0f299a6ffce4a31471f396d675", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**N_DFT_ST_in (Port 4):** An input value representing a previous or initial default engine speed for the start sequence.\r\n10. **C_CRLC_N_DFT_ST:** A calibration parameter or constant used in the calculation of the Engine Speed default start value.\r\n\r\n## Outputs\r\n1.  **MAF_DFT_ST_out (Port 1):** The calculated default start Mass Air Flow value, used as a reference for engine control during startup.\r\n2.  **N_DFT_ST_out (Port 2):** The calculated default start Engine Speed value, used as a reference for engine control during startup.\r\n\r\n## Logic Flow\r\n\r\nThe diagram can be logically divided into two main branches: one for calculating `MAF_DFT_ST_out` and another for `N_DFT_ST_out`.\r\n\r\n### A. Calculation of MAF_DFT_ST_out\r\n\r\nThis branch determines the default start Mass Air Flow value through a sequence of arithmetic operations, a minimum selection, and a time delay:\r\n\r\n1.  **Decrement Path Calculation:**\r\n    *   The current `MAF` input is decreased by the constant `C_CRLC_MAF_DFT_ST_DEC`. (`MAF - C_CRLC_MAF_DFT_ST_DEC`)\r\n    *   This result is then multiplied by the constant `V. 6.7`.\r\n    *   Finally, the constant `V. 6.7` is added to this product. Let this resulting value be `val_dec`.\r\n\r\n2.  **Increment Path Calculation:**\r\n    *   The input default MAF `MAF_DFT_ST_in` is increased by the constant `C_CRLC_MAF_DFT_ST_INC`. (`MAF_DFT_ST_in + C_CRLC_MAF_DFT_ST_INC`)\r\n    *   This result is then multiplied by the constant `V. 6.7`.\r\n    *   Finally, the constant `V. 6.7` is added to this product. Let this resulting value be `val_inc`.\r\n\r\n3.  **Minimum Selection:**\r\n    *   A block (indicated by the `<` symbol, acting as a \"Min\" selector in this context due to multiple inputs) takes five inputs:\r\n        *   `val_dec` (from Step 1)\r\n        *   `val_inc` (from Step 2)\r\n        *   `MAF_DFT_ST_in` (the direct input default MAF)\r\n        *   `MAF` (the current MAF reading)\r\n        *   `V. 6.0` (a constant lower limit or reference)\r\n    *   This block outputs the minimum value among these five inputs. Let this be `min_MAF_selected`.\r\n\r\n4.  **Unit Delay:**\r\n    *   `min_MAF_selected` is fed into a Unit Delay block (`1/z`).\r\n    *   The output `MAF_DFT_ST_out` is the value of `min_MAF_selected` from the previous discrete time step.\r\n    *   The \"Check = 0\" input likely functions as a reset signal; if active (e.g., if Check equals 0), the delay's output might be reset to an initial value.\r\n\r\n### B. Calculation of N_DFT_ST_out\r\n\r\nThis branch determines the default start Engine Speed value through a direct arithmetic calculation:\r\n\r\n1.  **Summation:**\r\n    *   The current engine speed `N` has `N_DFT_ST_in` and `C_CRLC_N_DFT_ST` subtracted from it. (`N - N_DFT_ST_in - C_CRLC_N_DFT_ST`) Let this intermediate sum be `N_sum_result`.\r\n\r\n2.  **Multiplication:**\r\n    *   `N_sum_result` is multiplied by the constant `V. 6.7`.\r\n\r\n3.  **Offset:**\r\n    *   Finally, the constant `V. 6.7` is added to the product from the previous step. This final value is directly assigned to `N_DFT_ST_out`.\r\n\r\n\r\n--- Page 143 ---\r\n\r\nThis Simulink diagram, titled \"4.15.1.2.2 Logical switch for default start request\" and part of the \"ALFU, Default start strategy,\" describes the logical conditions under which a default engine start strategy should be requested.\r\n\r\n## Function\r\nThe primary function of this diagram is to evaluate a complex set of engine operating conditions, sensor values, and system states to determine whether a \"default start request\" (`LV_FAC_AFU_RATIO_DFT_ST_REQ_out`) should be activated. This output is likely a boolean flag (true/false or 1/0) that triggers or enables a specific engine start calibration or strategy in the engine control unit (ECU).", "mimetype": "text/plain", "start_char_idx": 480829, "end_char_idx": 484520, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2e1ae9df-a5ad-4db9-a72d-74df5f7dde05": {"__data__": {"id_": "2e1ae9df-a5ad-4db9-a72d-74df5f7dde05", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "216bb328-11c1-4214-ae4f-445eece63662", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "9310771555dad5de3d4c136564ce9087aa0d4c0a3fed7d518ab4c315e2dfe8a5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5f84d8ed-9769-4176-8ee8-3c672f363d7b", "node_type": "1", "metadata": {}, "hash": "fa8e51ab0f3b65c4af3ac24b702703f666a0d3620d8429f872c192ffb5e97ec5", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Function\r\nThe primary function of this diagram is to evaluate a complex set of engine operating conditions, sensor values, and system states to determine whether a \"default start request\" (`LV_FAC_AFU_RATIO_DFT_ST_REQ_out`) should be activated. This output is likely a boolean flag (true/false or 1/0) that triggers or enables a specific engine start calibration or strategy in the engine control unit (ECU).\r\n\r\n## Inputs\r\nThe diagram receives various inputs, including:\r\n\r\n*   **`LV_FAC_AFU_RATIO_ERU_ACT`**: Boolean flag indicating activity of a specific air-fuel ratio control.\r\n*   **`LV_FAC_AFU_RATIO_LAMB_ACT`**: Boolean flag indicating activity of another air-fuel ratio control (Lambda control).\r\n*   **`LV_PUC`**: Boolean flag, likely related to power-up complete or a similar system status.\r\n*   **`CTR_FUEL_OIL`**: Counter or value related to fuel oil.\r\n*   **`C_CTR_FUEL_OIL_MIN_DFT_ST_REQ`**: Calibration parameter for minimum fuel oil counter for default start request.\r\n*   **`C_TOIL_MAX_DFT_ST_REQ`**: Calibration parameter for maximum oil temperature for default start request.\r\n*   **`C_TOIL_MIN_DFT_ST_REQ`**: Calibration parameter for minimum oil temperature for default start request.\r\n*   **`TOIL`**: Engine oil temperature.\r\n*   **`CHG`**: Calibration parameter, likely a specific state value.\r\n*   **`STATE_ALFU_CTL`**: Current state of the ALFU (Air-Fuel Unit) control.\r\n*   **`LEARN`**: Calibration parameter, likely another specific state value.\r\n*   **`[MAF_DFT_ST]`**: Mass Air Flow (MAF) for default start.\r\n*   **`[N_DFT_ST]`**: Engine speed (RPM) for default start.\r\n*   **`LV_FTL_EOL_END`**: Boolean flag indicating End-Of-Life for a specific component or function.\r\n*   **`CTR_ST_ES_AFU`**: Counter or value related to engine start events for ALFU.\r\n*   **`C_CTR_ST_ES_MIN_DFT_ST_REQ`**: Calibration parameter for minimum engine start counter for default start request.\r\n*   **`LV_FAC_AFU_RATIO_ERU_VLD`**: Boolean flag for validity of ERU-related air-fuel ratio.\r\n*   **`FAC_AFU_RATIO_LAMB_VLD`**: Boolean flag for validity of Lambda-related air-fuel ratio.\r\n*   **`LV_FAC_AFU_RATIO_DFT_ST_REQ_in`**: Previous or incoming value of the default start request.\r\n*   **`1` (signal)**: A signal, likely a boolean flag, whose specific meaning requires more context but participates in OR logic. (Interpreted as a signal, not a constant, to allow meaningful logic).\r\n*   **`0` (signal)**: A signal, likely a boolean flag, whose specific meaning requires more context but participates in OR logic. (Interpreted as a signal, not a constant, to allow meaningful logic).\r\n\r\n## Outputs\r\n*   **`LV_FAC_AFU_RATIO_DFT_ST_REQ_out`**: Boolean flag indicating whether the default start request is active (true/1) or inactive (false/0).\r\n\r\n## Logic Flow\r\n\r\nThe logic flow can be broken down into three main sections: calculating a core enable condition (`[clc_1]`), evaluating the primary activation path for the output, and evaluating a secondary path (whose direct impact on the primary output is ambiguous from the diagram).\r\n\r\n### Step 1: Calculate `[clc_1]` (Core Enable Condition)\r\n\r\n1.  **Air-Fuel Ratio Activity Check:**\r\n    *   `LV_FAC_AFU_RATIO_ERU_ACT` OR `LV_FAC_AFU_RATIO_LAMB_ACT` must be TRUE.\r\n2.  **Power-Up Complete Check:**\r\n    *   `LV_PUC` must be FALSE (indicated by a NOT gate).\r\n3.  **Fuel Oil Counter Check:**\r\n    *   `CTR_FUEL_OIL` must be GREATER THAN OR EQUAL TO `C_CTR_FUEL_OIL_MIN_DFT_ST_REQ`.\r\n4.  **Oil Temperature Check:**\r\n    *   `TOIL` must be GREATER THAN OR EQUAL TO `C_TOIL_MIN_DFT_ST_REQ` AND LESS THAN OR EQUAL TO `C_TOIL_MAX_DFT_ST_REQ`. This is done using a MIN/MAX block to establish the allowed range.\r\n5.  **ALFU Control State Check:**\r\n    *   `STATE_ALFU_CTL` must be EQUAL TO `CHG` OR EQUAL TO `LEARN`.\r\n6.", "mimetype": "text/plain", "start_char_idx": 484109, "end_char_idx": 487885, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5f84d8ed-9769-4176-8ee8-3c672f363d7b": {"__data__": {"id_": "5f84d8ed-9769-4176-8ee8-3c672f363d7b", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "2e1ae9df-a5ad-4db9-a72d-74df5f7dde05", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "70e202988f51ab8ce0bb95294546e60b1af6df8405abda22ffbf6fdd9ca85c68", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "019351fd-d5ae-4cac-9835-ab4614a8079b", "node_type": "1", "metadata": {}, "hash": "adc3b94640d7afa32032ce3f321bec548988415c88c43ce7006a51ade34c8239", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This is done using a MIN/MAX block to establish the allowed range.\r\n5.  **ALFU Control State Check:**\r\n    *   `STATE_ALFU_CTL` must be EQUAL TO `CHG` OR EQUAL TO `LEARN`.\r\n6.  **Combine Core Conditions:**\r\n    *   The results of all five checks (1-5) are combined using an AND gate to produce the intermediate boolean signal `[clc_1]`. For `[clc_1]` to be TRUE, all conditions must be met.\r\n\r\n### Step 2: Evaluate Primary Activation Path for `LV_FAC_AFU_RATIO_DFT_ST_REQ_out`\r\n\r\nThis path determines if the `default start request` should be set to TRUE.\r\n\r\n1.  **Mass Air Flow (MAF) Condition:**\r\n    *   A 2D lookup table (`IP_MAF_DFT_ST_MIN`) is used, indexed by `[N_DFT_ST]` (engine speed) and `[CTR_FUEL_OIL]`, to determine a minimum allowable MAF value (`IP_val_1`).\r\n    *   The current `[MAF_DFT_ST]` must be LESS THAN `IP_val_1`.\r\n2.  **Combine Upper Path Conditions:**\r\n    *   `[clc_1]` (from Step 1) AND (`[MAF_DFT_ST]` < `IP_val_1`) AND `LV_FTL_EOL_END` (End-Of-Life flag) are combined using an AND gate. Let's call this `Upper_AND_Result`.\r\n3.  **Final Output Logic for `LV_FAC_AFU_RATIO_DFT_ST_REQ_out`:**\r\n    *   `Upper_AND_Result` is ORed with a signal from the block labeled `1`. (Assuming `1` is a boolean signal, not a constant value of TRUE, to allow for meaningful logic).\r\n    *   The result of this OR gate is then passed through a \"Check ~= 0\" block. In this context, \"Check ~= 0\" likely acts as a boolean-to-integer conversion, outputting `1` if its input is TRUE and `0` if FALSE.\r\n    *   The output of this \"Check ~= 0\" block directly sets `LV_FAC_AFU_RATIO_DFT_ST_REQ_out`.\r\n\r\n    Therefore, `LV_FAC_AFU_RATIO_DFT_ST_REQ_out` becomes TRUE (1) if (`[clc_1]` is TRUE AND `[MAF_DFT_ST]` < `IP_val_1` AND `LV_FTL_EOL_END` is TRUE) OR (the signal from block `1` is TRUE).\r\n\r\n### Step 3: Evaluate Secondary Path (Ambiguous Impact on Main Output)\r\n\r\nThis path calculates another set of conditions but its direct contribution to `LV_FAC_AFU_RATIO_DFT_ST_REQ_out` is not evident from the visible connections.\r\n\r\n1.  **Mass Air Flow (MAF) Condition (Second Instance):**\r\n    *   The same 2D lookup table (`IP_MAF_DFT_ST_MIN`) is used, indexed by `[N_DFT_ST]` and `[CTR_FUEL_OIL]`, to determine a minimum allowable MAF value (`IP_val_2`).\r\n    *   The current `[MAF_DFT_ST]` must be GREATER THAN OR EQUAL TO `IP_val_2`.\r\n2.  **Engine Start Counter Check:**\r\n    *   `CTR_ST_ES_AFU` must be GREATER THAN OR EQUAL TO `C_CTR_ST_ES_MIN_DFT_ST_REQ`.\r\n3.  **Combine Conditions for Internal Logic:**\r\n    *   `[clc_1]` (from Step 1) AND (`[MAF_DFT_ST]` >= `IP_val_2`) AND (`CTR_ST_ES_AFU` >= `C_CTR_ST_ES_MIN_DFT_ST_REQ`) are combined using an AND gate. Let's call this `Lower_AND_Result`.\r\n4.  **Air-Fuel Ratio Validity Check:**\r\n    *   `LV_FAC_AFU_RATIO_ERU_VLD` OR (`FAC_AFU_RATIO_LAMB_VLD` > 0) are combined using an OR gate. Let's call this `Validity_OR_Result`.\r\n5.  **Combine Lower Path Results:**\r\n    *   `Lower_AND_Result` is ORed with `Validity_OR_Result`.\r\n    *   The result of this OR gate is then ORed with a signal from the block labeled `0`. (Assuming `0` is a boolean signal, not a constant value of FALSE).\r\n    *   This final OR result feeds into another \"Check ~= 0\" block.", "mimetype": "text/plain", "start_char_idx": 487710, "end_char_idx": 490918, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "019351fd-d5ae-4cac-9835-ab4614a8079b": {"__data__": {"id_": "019351fd-d5ae-4cac-9835-ab4614a8079b", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5f84d8ed-9769-4176-8ee8-3c672f363d7b", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "2f01813b494024c888903f4ed660706cc166e778d8bdae334e2c26ede2d95b2e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6cfe9169-011f-459f-a1dd-e86246635be0", "node_type": "1", "metadata": {}, "hash": "bdda8f3fac2aae66b80d39b95dfceec1e1bc4d0f475c0819594a89b00158fe3a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Let's call this `Validity_OR_Result`.\r\n5.  **Combine Lower Path Results:**\r\n    *   `Lower_AND_Result` is ORed with `Validity_OR_Result`.\r\n    *   The result of this OR gate is then ORed with a signal from the block labeled `0`. (Assuming `0` is a boolean signal, not a constant value of FALSE).\r\n    *   This final OR result feeds into another \"Check ~= 0\" block.\r\n    *   The output of this \"Check ~= 0\" block serves as the control input for a switch. If this control is TRUE, the switch outputs `LV_FAC_AFU_RATIO_DFT_ST_REQ_in`; otherwise, it outputs `0`.\r\n\r\n**Ambiguity Note:** The output of this secondary path (the switch output) is *not* directly connected to `LV_FAC_AFU_RATIO_DFT_ST_REQ_out` in the provided diagram. It's possible this path computes an internal state, a different request, or the diagram is a partial view, and its output is used elsewhere. If the blocks `1` and `0` were constants (True/False), the logical interpretation of the OR gates and Switches would be severely impacted, making the diagram's purpose unclear or implying a non-standard Simulink representation. Based on common automotive control logic, treating them as context-dependent signals is the most robust interpretation.\r\n\r\n\r\n--- Page 144 ---\r\n\r\nThis image contains two Simulink diagrams that together describe an automotive control function. Figure 4.15.6 details a reset logic for various counters, and Figure 4.15.7 shows a higher-level integration of this logic within a \"Default Start Strategy\" module.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink system is to manage and calculate the state of an engine's \"Default Start Strategy\". This involves processing various input conditions, particularly an \"Active Start\" signal and timeout conditions, to determine if specific engine start cycle counters and Air-Fuel Unit (AFU) ratio default start flags should be reset or allowed to increment/maintain their values. The system maintains these states through feedback loops and provides a consolidated output representing the overall default start status.\r\n\r\n## Inputs\r\n\r\nBased on the combined diagrams and explicit labels:\r\n\r\n*   **`fc_ES2ERU`**: An activation signal that enables the execution of the core \"Default Start Strategy\" logic. (Boolean/Trigger)\r\n*   **`<TCO>`**: A timer or timeout signal, which serves as a common trigger for specific reset conditions (`T_AST_CTR_CYC_DFT_ST_RST` and `T_AST_DFT_ST_REQ_RST`). (Boolean/Trigger)\r\n*   **`T_AST`**: An \"Active Start\" signal. Its state (especially `T_AST == 0`) is critical for triggering internal reset conditions for various counters and flags. (Boolean/Numeric)\r\n*   **`CTR_ST_ES_AFU_in`**: The current value of an internal counter related to Engine Start (ES) and Air-Fuel Unit (AFU) conditions. (Numeric)\r\n\r\n*Note: The feedback inputs `LV_FAC_AFU_RATIO_DFT_ST_REQ`, `CTR_DFT_ST`, and `LV_FAC_AFU_RATIO_DFT_ST_ACT` are internal states carried over from the previous time step rather than external system inputs.*\r\n\r\n## Outputs\r\n\r\nThe system's primary output is a multiplexed bus named `dft_st`, which consolidates several key signals related to the default start strategy:\r\n\r\n*   **`dft_st` (Bus)**: Contains the following signals:\r\n    *   **`LV_ST_VLD_AFU`**: A status signal indicating the validity of the Air-Fuel Unit state. (Boolean/Numeric)\r\n    *   **`LV_FAC_AFU_RATIO_DFT_ST_ACT_out`**: The processed (and potentially reset) value indicating the activation of the AFU ratio default start. (Numeric)\r\n    *   **`CTR_DFT_ST_out`**: The processed (and potentially reset) value of the default start cycle counter. (Numeric)\r\n    *   **`T_AST_CTR_CYC_DFT_ST_RST`**: The reset signal generated for the cycle counter, potentially used elsewhere in the system. (Boolean/Trigger)\r\n    *   **`T_AST_DFT_ST_REQ_RST`**: The reset signal generated for the default start request, potentially used elsewhere. (Boolean/Trigger)\r\n\r\n## Logic Flow\r\n\r\nThe system operates based on a continuous recurrence (`ES2ERU`) and is activated \"always\" when the `fc_ES2ERU` signal is active. Initialization sets all outputs to zero at system reset (RST).\r\n\r\n1.", "mimetype": "text/plain", "start_char_idx": 490554, "end_char_idx": 494660, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6cfe9169-011f-459f-a1dd-e86246635be0": {"__data__": {"id_": "6cfe9169-011f-459f-a1dd-e86246635be0", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "019351fd-d5ae-4cac-9835-ab4614a8079b", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "0343a6bc5a5b1fd72725adfc972a2d77b9a55d21d2e0e8d6b70466311f3c969e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "398cf3da-aabf-4ef8-ae0d-f5761db9a331", "node_type": "1", "metadata": {}, "hash": "0dd6a0f1cbb7f72ddac662f72e37abd6194c1e4b6e224c588357f694f519ba0a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "(Boolean/Trigger)\r\n    *   **`T_AST_DFT_ST_REQ_RST`**: The reset signal generated for the default start request, potentially used elsewhere. (Boolean/Trigger)\r\n\r\n## Logic Flow\r\n\r\nThe system operates based on a continuous recurrence (`ES2ERU`) and is activated \"always\" when the `fc_ES2ERU` signal is active. Initialization sets all outputs to zero at system reset (RST).\r\n\r\n1.  **System Enablement (Figure 4.15.7):** The `fc_ES2ERU` signal gates the primary subsystem, `OPM X.2.2`. This yellow block acts as an execution enabler, ensuring the internal logic runs under specified conditions.\r\n\r\n2.  **Input Feedback and External Signals (Figure 4.15.7):**\r\n    *   The `OPM X.2.2` subsystem receives current state values from the previous time step via feedback loops: `LV_FAC_AFU_RATIO_DFT_ST_REQ`, `CTR_DFT_ST`, and `LV_FAC_AFU_RATIO_DFT_ST_ACT`.\r\n    *   External input `<TCO>` is processed to generate specific reset signals: `T_AST_CTR_CYC_DFT_ST_RST` and `T_AST_DFT_ST_REQ_RST`. These signals are fed into the internal logic of `OPM X.2.2`.\r\n\r\n3.  **Internal Reset Logic (Detailed in Figure 4.15.6, representing part of `OPM X.2.2`):**\r\n    *   **`CTR_CYC_DFT_ST` (Default Start Cycle Counter):**\r\n        *   The input signal `T_AST` (Active Start) is checked. If `T_AST` is 0, this condition acts as a reset trigger.\r\n        *   This trigger, combined with the `T_AST_CTR_CYC_DFT_ST_RST` signal (from `<TCO>`), controls a switch-like mechanism (represented by the '0' constant and the input signal feeding into the 'Check ~= 0' block).\r\n        *   If any reset condition is active (e.g., `T_AST == 0` or `T_AST_CTR_CYC_DFT_ST_RST` is true), the output `CTR_CYC_DFT_ST_out` is forced to 0. Otherwise, the current feedback value `CTR_CYC_DFT_ST_in` is passed through.\r\n    *   **`LV_FAC_AFU_RATIO_DFT_ST_REQ` (AFU Ratio Default Start Request):**\r\n        *   Similar logic applies. The `T_AST_DFT_ST_REQ_RST` signal (from `<TCO>`) and potentially the `T_AST == 0` condition control another switch. If a reset is active, `LV_FAC_AFU_RATIO_DFT_ST_REQ_out` is set to 0; otherwise, `LV_FAC_AFU_RATIO_DFT_ST_REQ_in` is passed.\r\n    *   **`LV_FAC_AFU_RATIO_DFT_ST_ACT` (AFU Ratio Default Start Activation):**\r\n        *   The `LV_FAC_AFU_RATIO_DFT_ST_ACT_RST` signal (derived from `T_AST` or internal logic) controls a switch. If active, `LV_FAC_AFU_RATIO_DFT_ST_ACT_out` is 0; otherwise, `LV_FAC_AFU_RATIO_DFT_ST_ACT_in` is passed.\r\n    *   **`CTR_ST_ES_AFU` (Engine Start AFU Counter):**\r\n        *   This counter's input `CTR_ST_ES_AFU_in` is processed through similar reset logic, producing `CTR_ST_ES_AFU_out`. The `T_AST` signal plays a role in its reset condition.\r\n\r\n4.  **Internal Calculations (within `OPM X.2.2`):** Beyond the explicit reset logic, the `OPM X.2.2` subsystem likely performs other calculations based on its inputs to determine `LV_ST_VLD_AFU` and potentially further process the other output signals. These calculations are not detailed in the provided diagrams but are represented by the subsystem block.\r\n\r\n5.  **Output Aggregation (Figure 4.15.7):** The final calculated states and reset signals (`LV_ST_VLD_AFU`, `LV_FAC_AFU_RATIO_DFT_ST_ACT_out`, `CTR_DFT_ST_out`, `T_AST_CTR_CYC_DFT_ST_RST`, `T_AST_DFT_ST_REQ_RST`) are then multiplexed into the single output bus `dft_st`, providing a comprehensive status of the default start strategy.", "mimetype": "text/plain", "start_char_idx": 494284, "end_char_idx": 497655, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "398cf3da-aabf-4ef8-ae0d-f5761db9a331": {"__data__": {"id_": "398cf3da-aabf-4ef8-ae0d-f5761db9a331", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6cfe9169-011f-459f-a1dd-e86246635be0", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "b33bd939ffc4478f8865569fa8f4752c14f98fa073e6aee9878357d374edc74c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7c330b9c-f043-4039-9497-461962cc975c", "node_type": "1", "metadata": {}, "hash": "b269023c190efc8fad72a00838c5b0e0a27caf59314e9e7b24d50cc3f1e87414", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "5.  **Output Aggregation (Figure 4.15.7):** The final calculated states and reset signals (`LV_ST_VLD_AFU`, `LV_FAC_AFU_RATIO_DFT_ST_ACT_out`, `CTR_DFT_ST_out`, `T_AST_CTR_CYC_DFT_ST_RST`, `T_AST_DFT_ST_REQ_RST`) are then multiplexed into the single output bus `dft_st`, providing a comprehensive status of the default start strategy.\r\n\r\n\r\n--- Page 145 ---\r\n\r\nThis is a Simulink-style block diagram, characteristic of models used in automotive embedded software development (e.g., using MathWorks Simulink/Stateflow or dSPACE TargetLink).\r\n\r\n## Function\r\n\r\nThe primary function of this diagram, as indicated by its title \"4.15.2.1 Calculation at transition from 'Engine stop' to 'Engine running'\", is to manage and calculate various Diagnostic Fault Tolerance (DFT) related states and parameters specifically during the engine's start-up phase. It involves tracking, incrementing, and resetting diagnostic counters and flags, often relying on a system timer, to ensure correct diagnostic behavior as the engine transitions from an inactive to an active state. The overall context is \"ALFU. Default start strategy,\" suggesting it's part of the engine's default start-up sequence logic.\r\n\r\n## Inputs\r\n\r\n1.  **CTR_DFT_ST_in**: Control Diagnostic Fault Tolerance State input. Likely the current state of a DFT counter.\r\n2.  **LV_FAC_AFU_RATIO_DFT_ST_REQ**: Level Factor Air-Fuel Unit Ratio Diagnostic Fault Tolerance State Request. A request signal for a specific DFT state.\r\n3.  **LC_FAC_AFU_RATIO_DFT_ST_ENA**: Logic Control Factor Air-Fuel Unit Ratio Diagnostic Fault Tolerance State Enable. An enable signal that gates the DFT state request.\r\n4.  **LV_FAC_AFU_RATIO_DFT_ST_ACT_in**: Level Factor Air-Fuel Unit Ratio Diagnostic Fault Tolerance State Actual input. The current actual state of the AFU Ratio DFT.\r\n5.  **TCO**: Time Counter Output. A system time or counter value, serving as an independent variable for lookup tables.\r\n6.  **IP_T_AST_CTR_CYC_DFT_ST_RST**: Parameter for Timer Active State Transition Counter Cycle DFT State Reset lookup table.\r\n7.  **IP_T_AST_DFT_ST_REQ_RST**: Parameter for Timer Active State Transition DFT State Request Reset lookup table.\r\n8.  **LV_ES (Implicit)**: Engine State. This is an implicit input, as its transition from 1 to 0 (Engine Running to Engine Stop) is stated as the condition for \"Calculation done\" and likely a reset trigger.\r\n\r\n## Outputs\r\n\r\n1.  **LV_ST_VLD_AFU**: Level State Valid Air-Fuel Unit. An output indicating the validity status of the AFU based on timing.\r\n2.  **T_AST_CTR_CYC_DFT_ST_RST**: Timer Active State Transition Counter Cycle Diagnostic Fault Tolerance State Reset. A time-dependent reset value for the diagnostic counter.\r\n3.  **T_AST_DFT_ST_REQ_RST**: Timer Active State Transition Diagnostic Fault Tolerance State Request Reset. A time-dependent reset value for the diagnostic request state.\r\n4.  **LV_FAC_AFU_RATIO_DFT_ST_ACT_out**: Level Factor Air-Fuel Unit Ratio Diagnostic Fault Tolerance State Actual output. The updated actual state of the AFU Ratio DFT.\r\n5.  **CTR_DFT_ST_out**: Control Diagnostic Fault Tolerance State output. The updated DFT counter state.\r\n\r\n## Logic Flow\r\n\r\nThe diagram describes a control logic that processes diagnostic fault tolerance (DFT) states during the engine start transition.\r\n\r\n1.  **Reset/Initialization Logic (Top-Left):**\r\n    *   A \"Calculation done when LV_ES = 1 --> 0\" block indicates a triggering condition. This condition (Engine State transitions from Running to Stop) causes a '0' value to be propagated through a switch or multiplexer to various parts of the logic, effectively serving as a reset for accumulators or states. This '0' value also originates from an 'f()' block, implying a function that determines the reset state.\r\n\r\n2.  **Diagnostic Counter Logic (`CTR_DFT_ST`) (Left-Center):**\r\n    *   The `CTR_DFT_ST_in` signal (current DFT counter value) is added to a constant '1'. This suggests that under normal operating conditions (not reset), this counter increments.\r\n    *   The output of this addition, along with the '0' from the reset logic, is fed into a multiplexer.", "mimetype": "text/plain", "start_char_idx": 497321, "end_char_idx": 501437, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7c330b9c-f043-4039-9497-461962cc975c": {"__data__": {"id_": "7c330b9c-f043-4039-9497-461962cc975c", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "398cf3da-aabf-4ef8-ae0d-f5761db9a331", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "a947abc9968d6b8b43e199d9a420d33e16a932ef2f5d17b845b9577a28f4c1a4", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "52e65803-b899-4395-b6df-d35f55e21475", "node_type": "1", "metadata": {}, "hash": "cf3be75e5fa79ff8d17ff45fc4db9afba4ef4fc5c954a0a83cd65a13f539f31d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "2.  **Diagnostic Counter Logic (`CTR_DFT_ST`) (Left-Center):**\r\n    *   The `CTR_DFT_ST_in` signal (current DFT counter value) is added to a constant '1'. This suggests that under normal operating conditions (not reset), this counter increments.\r\n    *   The output of this addition, along with the '0' from the reset logic, is fed into a multiplexer. This multiplexer selects either the incremented value or '0' based on the reset condition.\r\n    *   The output of this multiplexer is then passed through a subsequent selection block (implied by the converging lines and the \"Check >= 0\" block) to become `CTR_DFT_ST_out`. This means `CTR_DFT_ST_out` is either the incremented `CTR_DFT_ST_in` or `0` if a reset is active.\r\n\r\n3.  **AFU Ratio DFT State Logic (`LV_FAC_AFU_RATIO_DFT_ST`) (Lower-Left):**\r\n    *   `LV_FAC_AFU_RATIO_DFT_ST_REQ` (request) and `LC_FAC_AFU_RATIO_DFT_ST_ENA` (enable) signals are combined using an `AND` gate. This means a DFT state request is only valid if it is also enabled.\r\n    *   The output of the `AND` gate, `LV_FAC_AFU_RATIO_DFT_ST_ACT_in` (current actual state), and the '0' from the reset logic are fed into a multiplexer. This multiplexer selects one of these inputs based on internal conditions (likely including the reset).\r\n    *   The output of this multiplexer is then passed through a subsequent selection block (implied by \"Check >= 0\") to become `LV_FAC_AFU_RATIO_DFT_ST_ACT_out`. Thus, `LV_FAC_AFU_RATIO_DFT_ST_ACT_out` is determined by the `AND` condition, the actual input, or `0` if a reset occurs.\r\n\r\n4.  **Time-Dependent Reset Value and Validation Lookup (Top-Right):**\r\n    *   The `TCO` (Time Counter Output) signal serves as the independent variable (`x_val`) for two 1D lookup tables.\r\n    *   **Lookup Table 1:** Uses `IP_T_AST_CTR_CYC_DFT_ST_RST` as its dependent variable data (`IP_val`). It outputs `T_AST_CTR_CYC_DFT_ST_RST`, which is a time-dependent reset value for the diagnostic counter. It also directly outputs `LV_ST_VLD_AFU`, implying a time-based validation status for the AFU.\r\n    *   **Lookup Table 2:** Uses `IP_T_AST_DFT_ST_REQ_RST` as its dependent variable data (`IP_val`). It outputs `T_AST_DFT_ST_REQ_RST`, a time-dependent reset value for the diagnostic request state.\r\n\r\n5.  **Output Determination (`Check >= 0` block) (Center-Right):**\r\n    *   The outputs from the `CTR_DFT_ST` accumulation multiplexer and the `LV_FAC_AFU_RATIO_DFT_ST` logic multiplexer converge into a central block labeled \"Check >= 0\". This block likely performs a conditional check or a clamping operation based on its inputs. For example, it might ensure that counter values don't go negative or apply a floor to state values.\r\n    *   The outputs from the \"Check >= 0\" block are then routed to form the final system outputs `LV_FAC_AFU_RATIO_DFT_ST_ACT_out` and `CTR_DFT_ST_out`. The small '1' blocks before the output signals imply direct assignment or a simple pass-through after the \"Check >= 0\" processing.\r\n\r\nIn summary, this logic continuously updates a diagnostic counter and an AFU ratio DFT state based on requests and enables, but crucially, it resets these values to zero upon a specific engine state transition (Engine Running to Stop, which implies preparing for a new start cycle or cleanup after a stop). Concurrently, time-based lookup tables provide dynamic reset values and validation states, likely to allow for a graceful ramp-up or delay in diagnostic activation during the engine start process.\r\n\r\n\r\n--- Page 146 ---\r\n\r\n## Function\r\nThis Simulink diagram, titled \"ALFU. Default start strategy,\" primarily functions to calculate an engine run-up to engine stop (ERU2ES) related control value (`clc_eru2es`). It does this by conditionally executing a function (`fc()`) based on a state management logic and a specific engine start trigger. The system appears to be part of an automotive control unit, likely managing an engine's start-up or operational mode sequence.\r\n\r\n## Inputs\r\n1.", "mimetype": "text/plain", "start_char_idx": 501086, "end_char_idx": 505048, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "52e65803-b899-4395-b6df-d35f55e21475": {"__data__": {"id_": "52e65803-b899-4395-b6df-d35f55e21475", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7c330b9c-f043-4039-9497-461962cc975c", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "1aea5cd3ac067c9cee84325073a8670ecf04ae99ed87b4985f9c1810bc445461", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "aee0ada3-74b2-4f5e-b84f-a7b43e253879", "node_type": "1", "metadata": {}, "hash": "654ea47a1b5419f5bd91458082e95828f08b81456a551426f8d3625640b6cb55", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Default start strategy,\" primarily functions to calculate an engine run-up to engine stop (ERU2ES) related control value (`clc_eru2es`). It does this by conditionally executing a function (`fc()`) based on a state management logic and a specific engine start trigger. The system appears to be part of an automotive control unit, likely managing an engine's start-up or operational mode sequence.\r\n\r\n## Inputs\r\n1.  **`fc_ERU2ES`**: A control signal or flag that influences the state logic within the `Recurren_ERU2ES` Stateflow chart, potentially indicating a request or status related to the ERU2ES process.\r\n2.  **`input`**: The primary data input for the `fc()` function, on which the core calculation depends.\r\n3.  **`feedback`**: A feedback signal also provided to the `fc()` function, likely used to refine calculations or ensure stability in a control loop.\r\n4.  **`LV_ES`**: This signal, though not explicitly an \"Inport\" block, is implicitly an input that controls the execution of the entire calculation (as indicated by \"Calculation done when LV_ES = 0 --> 1\"). `LV_ES` likely stands for \"Low Voltage Engine Start\" or \"Low Voltage Electrical System\" status.\r\n5.  **`tc_OPM_ERU2ES`**: A time constant or condition (from the `OPM` - Operational Performance Management system) that continuously drives the 'Activation' state within the `Recurren_ERU2ES` Stateflow chart.\r\n\r\n## Outputs\r\n1.  **`clc_eru2es`**: The calculated engine run-up to engine stop value. This is the main output of the entire subsystem. \"clc\" often implies \"calculated control\" or similar.\r\n\r\n## Logic Flow\r\n\r\n1.  **State Management (Recurren_ERU2ES Stateflow Chart):**\r\n    *   The system begins by evaluating the `Recurren_ERU2ES` Stateflow chart.\r\n    *   This chart has two primary logical states: \"Activation\" and \"Deactivation\".\r\n    *   The \"Activation\" state is continuously governed by `tc_OPM_ERU2ES` (`Activation: always tc_OPM_ERU2ES`), suggesting that the system is active as long as this condition holds true.\r\n    *   The \"Deactivation\" state is defined as `Deactivation: never`. This is peculiar; it implies that this particular Stateflow chart, once active based on `tc_OPM_ERU2ES`, does not internally transition to a deactivated state, or its deactivation is managed by a higher-level system or a system reset. The `fc_ERU2ES` input likely influences the overall operational context or internal variables of this Stateflow chart.\r\n    *   The output of this Stateflow chart acts as an enable/disable signal (indicated by the dashed line) for the subsequent `fc()` function, meaning `fc()` will only perform calculations when the Stateflow chart deems the system to be in an \"active\" or \"enabled\" context for ERU2ES calculations.\r\n\r\n2.  **Conditional Calculation Trigger:**\r\n    *   The core computation within `fc()` is explicitly triggered by a condition: \"Calculation done when LV_ES = 0 --> 1\". This means the calculation is performed *only* on the rising edge of the `LV_ES` signal (i.e., when `LV_ES` transitions from a low state, typically 0, to a high state, typically 1). This is a common event-based trigger for actions required at the start of an engine operation or system initialization.\r\n\r\n3.  **Function Execution (fc()):**\r\n    *   When both conditions are met \u2013 the `Recurren_ERU2ES` Stateflow chart indicates an active/enabled state AND `LV_ES` transitions from 0 to 1 \u2013 the `fc()` function is executed.\r\n    *   The `fc()` function takes two inputs: `input` and `feedback`.\r\n    *   It performs its internal calculations based on these provided values. The notation `fc()` suggests it could be an embedded C-function or an internal Simulink function block.\r\n\r\n4.  **Output Generation:**\r\n    *   The result of the `fc()` function's calculation is then assigned to the output signal `clc_eru2es`.\r\n    *   This `clc_eru2es` value is then made available as the output of this entire subsystem.\r\n\r\n\r\n--- Page 148 ---\r\n\r\nThis image contains a Simulink-like diagram, specifically Figure 4.15.11, titled \"4.15.3.1.2 Default start activation check\".", "mimetype": "text/plain", "start_char_idx": 504636, "end_char_idx": 508693, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "aee0ada3-74b2-4f5e-b84f-a7b43e253879": {"__data__": {"id_": "aee0ada3-74b2-4f5e-b84f-a7b43e253879", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "52e65803-b899-4395-b6df-d35f55e21475", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "a05827b4faaf4becff41cbf60a7a483adc788b971fcc3348eeaefa5983137874", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ef095926-76dd-4266-b3e5-16aab9191768", "node_type": "1", "metadata": {}, "hash": "0ca293a13aee9eae6ba75ee8548922ee7192e01e1a7483b27e219ebbea9aed77", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "**Output Generation:**\r\n    *   The result of the `fc()` function's calculation is then assigned to the output signal `clc_eru2es`.\r\n    *   This `clc_eru2es` value is then made available as the output of this entire subsystem.\r\n\r\n\r\n--- Page 148 ---\r\n\r\nThis image contains a Simulink-like diagram, specifically Figure 4.15.11, titled \"4.15.3.1.2 Default start activation check\".\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to implement a \"Default Start Activation Check\" within an automotive system. It conditionally determines the status and related parameters for a \"Default Fault Tolerant (DFT) Start\" strategy. Based on an activation signal, it either performs calculations to update a cycle counter and DFT ratios, or it passes through/defaults existing values.\r\n\r\n## Inputs\r\n1.  **`LV_FAC_AFU_RATIO_DFT_ST_ACT`**: A boolean or enumerated signal that controls the `If-Else` block. It dictates whether the activation logic (THEN branch) or the default/pass-through logic (ELSE branch) is executed.\r\n2.  **`LV_CTR_DFT_ST_INC`**: A signal indicating whether the Default Start Cycle Counter should be incremented.\r\n3.  **`CTR_CYC_DFT_ST_in`**: The current or initial value of the Default Start Cycle Counter.\r\n4.  **`TCO`**: A timeout or time constant, likely used within the `fc()` function for timing-related logic.\r\n5.  **`FAC_AFU_RATIO_DFT_ST_MAX`**: The maximum permissible ratio for the AFU Default Start.\r\n6.  **`FAC_AFU_RATIO_DFT_ST_MIN`**: The minimum permissible ratio for the AFU Default Start.\r\n7.  **`FAC_AFU_RATIO_DET`**: The currently detected or measured ratio for the AFU Default Start.\r\n8.  **`FAC_DFT_ST_in`**: An input representing the Default Start status, used in the ELSE branch when the activation is not present.\r\n9.  **`FAC_AFU_RATIO_DFT_ST_in`**: An input representing the AFU Ratio Default Start, used in the ELSE branch when the activation is not present.\r\n\r\n## Outputs\r\n1.  **`CTR_CYC_DFT_ST_out`**: The calculated output value for the Default Start Cycle Counter. (This signal appears as an output of two separate Merge blocks, suggesting it might be routed to multiple destinations, but logically represents the same counter value).\r\n2.  **`FAC_DFT_ST_out`**: The output value representing the final Default Start status.\r\n3.  **`FAC_AFU_RATIO_DFT_ST_out`**: The output value representing the final AFU Ratio Default Start.\r\n\r\n## Logic Flow\r\nThe diagram's logic is primarily structured around an `If-Else` conditional block that selects between two main operational paths:\r\n\r\n1.  **Conditional Evaluation**: The `If` block evaluates the `LV_FAC_AFU_RATIO_DFT_ST_ACT` signal. If its value meets the condition for the \"THEN\" branch (e.g., true or >= V. 6.0), the \"THEN\" execution path is taken. Otherwise, the \"ELSE\" branch is executed.\r\n\r\n2.  **THEN Branch (Activation Active)**:\r\n    *   Six input signals (`LV_CTR_DFT_ST_INC`, `CTR_CYC_DFT_ST_in`, `TCO`, `FAC_AFU_RATIO_DFT_ST_MAX`, `FAC_AFU_RATIO_DFT_ST_MIN`, `FAC_AFU_RATIO_DET`) are fed into a function block labeled `fc()`. This block likely performs core calculations for the cycle counter and the AFU ratios based on the provided parameters.\r\n    *   The `CTR_CYC_DFT_ST_out` produced by `fc()` is directed to a `Merge` block (Merge 1), which forms one of the final system outputs.\r\n    *   The `FAC_DFT_ST` and `FAC_AFU_RATIO_DFT_ST` outputs from `fc()` are passed to a subsystem named `DFT_ST_ACT X.3.1.2.1`. This subsystem further processes these values, potentially applying specific activation logic or transformations.\r\n    *   The outputs of `DFT_ST_ACT` are then directed to their respective `Merge` blocks (Merge 3 and Merge 4) to form the final `FAC_DFT_ST_out` and `FAC_AFU_RATIO_DFT_ST_out` signals.\r\n\r\n3.  **ELSE Branch (Activation Inactive)**:\r\n    *   The `CTR_CYC_DFT_ST_out` is set to a constant value of `0` (version V.", "mimetype": "text/plain", "start_char_idx": 508315, "end_char_idx": 512163, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ef095926-76dd-4266-b3e5-16aab9191768": {"__data__": {"id_": "ef095926-76dd-4266-b3e5-16aab9191768", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "aee0ada3-74b2-4f5e-b84f-a7b43e253879", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "7fbcee2548d74f9ce6c9c416576759deb9db0a33715e9a50e432433255585bdd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "92b97b4c-0ee7-4564-8f8f-ba6fa3b293a7", "node_type": "1", "metadata": {}, "hash": "930078967aa633aa713dcbbbd2d6f86df62d93ac5cfc97c8d8836218743d74b8", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The outputs of `DFT_ST_ACT` are then directed to their respective `Merge` blocks (Merge 3 and Merge 4) to form the final `FAC_DFT_ST_out` and `FAC_AFU_RATIO_DFT_ST_out` signals.\r\n\r\n3.  **ELSE Branch (Activation Inactive)**:\r\n    *   The `CTR_CYC_DFT_ST_out` is set to a constant value of `0` (version V. 6.4) and directed to a `Merge` block (Merge 2). This indicates that when the default start activation is not active, the counter is reset or held at zero.\r\n    *   The input values `FAC_DFT_ST_in` and `FAC_AFU_RATIO_DFT_ST_in` are passed through a block (indicated by a vertical line, acting as a passthrough or selector) and then directed to their respective `Merge` blocks (Merge 3 and Merge 4). This implies that if the activation is not present, the system defaults to or maintains previous input values for these parameters.\r\n\r\n4.  **Output Merging**: The `Merge` blocks (`Merge 1`, `Merge 2`, `Merge 3`, `Merge 4`) serve to combine the signals from the active `If` or `Else` branch. This ensures that a single, consistent output value is produced for each of the final system outputs based on the current state of `LV_FAC_AFU_RATIO_DFT_ST_ACT`.\r\n\r\n\r\n--- Page 149 ---\r\n\r\nThe provided image contains two distinct Simulink diagrams, which appear to be related sub-modules or functions within a larger automotive system, likely concerning diagnostic event or counter management. I will analyze each diagram separately.\r\n\r\n## Function\r\n\r\nThis image presents two distinct but likely related functionalities within an automotive system:\r\n\r\n1.  **For loop (4.15.3.1.2.1.1):** This module calculates a boolean flag (`LV_CLC_INC`) by iterating through a predefined set of diagnostic IDs and factors. For each iteration, it performs specific comparisons involving a global timer (`TCO`) and a current cyclic counter (`CTR_CYC_DFT_ST`). The flag becomes true if any of the iterations satisfy a complex combined logical condition, suggesting a mechanism to detect the occurrence of specific events or conditions across a range of diagnostic configurations.\r\n\r\n2.  **Reset counter (4.15.3.1.2.1.2):** This module manages the output of a cyclic diagnostic counter (`CTR_CYC_DFT_ST_out`). It dynamically determines whether to reset the counter to `0` or assign it an ID-dependent value based on a logical comparison. A Stateflow Chart is integrated to handle more complex, state-based logic for counter management and potentially signal conditions for external loop termination.\r\n\r\n## Inputs\r\n\r\n### For loop (4.15.3.1.2.1.1)\r\n\r\n*   `C_FAC_CTR_CYC_DFT_ST_RST`: An array of numeric values, likely representing factors or thresholds for cyclic counter management (e.g., reset, increment conditions).\r\n*   `CTR_CYC_DFT_ST`: A scalar value representing the current cyclic diagnostic counter or state.\r\n*   `TCO`: A scalar value representing the current timer or operating cycle counter.\r\n*   `ID_CTR_CYC_DFT_ST_RST`: An array of diagnostic identification numbers (IDs) corresponding to specific diagnostic elements.\r\n\r\n### Reset counter (4.15.3.1.2.1.2)\r\n\r\n*   `[CTR_CYC_DFT_ST_in]`: The input value for the cyclic diagnostic counter.\r\n*   `[id_clc]`: A specific diagnostic identifier or classification.\r\n*   `C_FAC_CTR_CYC_DFT_ST_RST`: A configuration factor used in calculations and as an input to the Stateflow Chart.\r\n*   `TCO`: A timer counter value, used as an input for ID selection.\r\n\r\n## Outputs\r\n\r\n### For loop (4.15.3.1.2.1.1)\r\n\r\n*   `LV_CLC_INC`: A boolean signal (true/false) indicating if an increment condition or specific event has been detected across any of the iterations.\r\n\r\n### Reset counter (4.15.3.1.2.1.2)\r\n\r\n*   `CTR_CYC_DFT_ST_out`: The calculated output value of the cyclic diagnostic counter, which can be `0` (reset) or an ID-derived value.\r\n*   `ctr_out`: An output from the internal Stateflow Chart, representing a state variable or a calculated value.\r\n\r\n## Logic Flow\r\n\r\n### For loop (4.15.3.1.2.1.1)\r\n\r\n1.", "mimetype": "text/plain", "start_char_idx": 511856, "end_char_idx": 515788, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "92b97b4c-0ee7-4564-8f8f-ba6fa3b293a7": {"__data__": {"id_": "92b97b4c-0ee7-4564-8f8f-ba6fa3b293a7", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ef095926-76dd-4266-b3e5-16aab9191768", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "497ab15b58f27dd9308c48a346f8d3854c39c54fa493771dbd4604010ab131d5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0bd66fe9-e741-4f98-bca1-016775c64aca", "node_type": "1", "metadata": {}, "hash": "ea7e1a50fff44f397678c5872cc66e83eef0e095243a884720c86656403af444", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `ctr_out`: An output from the internal Stateflow Chart, representing a state variable or a calculated value.\r\n\r\n## Logic Flow\r\n\r\n### For loop (4.15.3.1.2.1.1)\r\n\r\n1.  **Iteration Setup:** A `For Iterator` block initiates a loop for an index `k`, running from `0` to `N-1`, where `N` corresponds to the size of the input arrays `C_FAC_CTR_CYC_DFT_ST_RST` and `ID_CTR_CYC_DFT_ST_RST`.\r\n2.  **Element Selection:** In each iteration `k`:\r\n    *   An element `ID_k` is selected from the `ID_CTR_CYC_DFT_ST_RST` array.\r\n    *   An element `C_FAC_k` is selected from the `C_FAC_CTR_CYC_DFT_ST_RST` array.\r\n3.  **Condition Evaluation (Three Paths):** Three independent boolean conditions are evaluated:\r\n    *   **Condition 1 (Top Path):** `(ID_k * TCO) >= CTR_CYC_DFT_ST`\r\n    *   **Condition 2 (Middle Path):** `(C_FAC_k * CTR_CYC_DFT_ST) < TCO`\r\n    *   **Condition 3 (Bottom Path):** `((TCO * ID_k) + (2 * k)) >= CTR_CYC_DFT_ST`\r\n4.  **Logical Combination:** The results of the three conditions are combined as follows: `(Condition 1 AND Condition 3) OR Condition 2`. This yields a boolean result for the current iteration.\r\n5.  **Output Aggregation:** The boolean result from step 4 for each iteration is fed into a subsequent block (labeled `size:[C_FAC_CTR_CYC_DFT_ST_RST]`, which typically indicates an aggregation block like `Any` or `All`). Given the preceding `OR` block, this likely performs an overall `OR` reduction across all iterations. Thus, `LV_CLC_INC` becomes true if the combined condition is true for *at least one* iteration.\r\n\r\n### Reset counter (4.15.3.1.2.1.2)\r\n\r\n1.  **ID Value Derivation:** A `Selector` block (labeled `ID_CTR_CYC_DFT_ST_RST`) uses `TCO` and `[id_clc]` (and possibly an internal index `x_val` not explicitly shown as an input to this block) to determine `ID_val`. This `ID_val` represents one potential value for the output counter.\r\n2.  **Reset Condition Calculation:**\r\n    *   The input counter `[CTR_CYC_DFT_ST_in]` is multiplied by the factor `C_FAC_CTR_CYC_DFT_ST_RST`.\r\n    *   The ID `[id_clc]` is multiplied by the constant `2`.\r\n    *   These two product results are summed together.\r\n    *   A boolean reset condition is then evaluated: `(Sum of products >= 0)`. This condition `Check ~= 0` implies that if the sum is non-negative, the condition is met.\r\n3.  **Counter Output Selection:** A `Switch` block uses the boolean reset condition:\r\n    *   If the reset condition is `true` (i.e., `Sum of products >= 0`), `CTR_CYC_DFT_ST_out` is set to the constant `0`.\r\n    *   If the reset condition is `false`, `CTR_CYC_DFT_ST_out` is set to the `ID_val` derived in step 1.\r\n4.  **Stateflow Chart Processing:** A `Stateflow Chart` (labeled `Chart`) receives `C_FAC_CTR_CYC_DFT_ST_RST` (as `const`), the constant `2`, `[CTR_CYC_DFT_ST_in]` (as `ctr_in`), and `[id_clc]` (as `tmp_id`). This chart implements internal state-dependent logic for further counter management or diagnostic state transitions, producing an output `ctr_out`. The text \"Stop For-Loop when the conditioned gets satisfied\" associated with the chart suggests it also determines a condition to terminate an external loop, indicating its role in a broader control flow logic.\r\n\r\n\r\n--- Page 150 ---\r\n\r\nThis image displays a Stateflow chart, which is a component of the Simulink environment used for modeling reactive and embedded systems, often in automotive applications. It's a graphical representation of a state machine and its logic.\r\n\r\n## Function\r\n\r\nThis Stateflow chart primarily implements an iterative process (a loop) that increments a counter variable `i` until it reaches a predefined limit `const`.", "mimetype": "text/plain", "start_char_idx": 515620, "end_char_idx": 519245, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "0bd66fe9-e741-4f98-bca1-016775c64aca": {"__data__": {"id_": "0bd66fe9-e741-4f98-bca1-016775c64aca", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "92b97b4c-0ee7-4564-8f8f-ba6fa3b293a7", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "e99f9693212a263ec9956203439c9ae7a3c1a77600d41d67ab1c21d83ee32e2c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6063a095-4d7c-461f-9b6c-0159011f9e0d", "node_type": "1", "metadata": {}, "hash": "db8ed3d174608ee9e2469be56921436589138e586b5e53ec91ed446540270519", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "--- Page 150 ---\r\n\r\nThis image displays a Stateflow chart, which is a component of the Simulink environment used for modeling reactive and embedded systems, often in automotive applications. It's a graphical representation of a state machine and its logic.\r\n\r\n## Function\r\n\r\nThis Stateflow chart primarily implements an iterative process (a loop) that increments a counter variable `i` until it reaches a predefined limit `const`. After the loop terminates, it performs specific calculations involving `i`, `tmp_id`, and `ctr_in` to assign a value to an output variable `ctr_out` and evaluate an internal condition. Given the title \"ALFU. Default start strategy\", it likely represents a sequence or initialization routine for an automotive function, possibly related to managing counters, identifiers, or timing during startup.\r\n\r\n## Inputs\r\n\r\n*   **`const`**: A numerical value that defines the upper bound for the counter `i` in the loop condition `[i < const]`.\r\n*   **`tmp_id`**: A numerical identifier or temporary value used in the final calculation for `ctr_out` and the evaluation of the internal condition.\r\n*   **`ctr_in`**: A numerical input, possibly representing a current counter value or a threshold, used in the final internal condition `ctr_in < i*tmp_id + tmp_id/2`.\r\n\r\n## Outputs\r\n\r\n*   **`ctr_out`**: A numerical output variable that receives the calculated value `i * tmp_id` after the loop has completed.\r\n\r\n## Logic Flow\r\n\r\n1.  **Initial Entry:** The chart begins execution at the default initial entry point (the dark blue dot).\r\n2.  **Initialization (Implicit):** The system transitions to an implicit initial state. At this point, the counter `i` is assumed to have an initial value (e.g., 0 or 1), which is not explicitly set within the visible part of the chart but would be defined in the chart's data dictionary or a preceding state. The label `[1]` on the transition line usually indicates transition order.\r\n3.  **Loop Condition Check:** The system evaluates the condition `[i < const]`.\r\n4.  **Loop Execution (Path 1):**\r\n    *   If the condition `[i < const]` is true, the system transitions into an implicit state (labeled '1' for the transition out of it to '2').\r\n    *   While in this state (or upon each iteration), the action `{i = i+1;}` is executed, incrementing the counter `i`.\r\n    *   The diagram shows a self-loop back to the condition check `[i < const]`, effectively creating a `while` loop that continues to increment `i` as long as `i` remains less than `const`.\r\n5.  **Loop Termination / Bypass (Path 2):**\r\n    *   If the condition `[i < const]` is false (meaning `i` is now greater than or equal to `const`), or if it was initially false, the system exits the loop. The path labeled '2' from the initial condition check bypasses the loop entirely if `i` is already `const` or higher at the start. Both paths converge to the final action state.\r\n6.  **Final Actions:** Upon reaching the implicit final action state (the lower unlabeled open circle), the following operations are performed:\r\n    *   An expression `ctr_in < i*tmp_id + tmp_id/2` is evaluated. This is a comparison. In Stateflow, such an action (without an assignment) typically indicates that an internal flag might be set, an event might be generated, or it's a condition for an implicit subsequent action.\r\n    *   The output variable `ctr_out` is assigned the value of `i` multiplied by `tmp_id`. The value of `i` used here is its final value after the loop has completed.\r\n7.  **Chart Completion:** After executing these final actions, the chart's current execution cycle concludes.\r\n\r\n\r\n--- Page 152 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram, presented in two sub-sections (Figure 4.15.17 and Figure 4.15.18), details a core part of an \"ALFU Default start strategy\" within an automotive control system. Its primary function is to manage and calculate critical default or initial values and determine an operating point (OPM) for an engine during its start-up phase. This includes:\r\n1.  Continuously determining an operating point based on dynamic engine parameters (Mass Air Flow and Engine Speed).\r\n2.  Monitoring an \"Exit State\" to condition the operating point calculation.\r\n3.", "mimetype": "text/plain", "start_char_idx": 518815, "end_char_idx": 523020, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "6063a095-4d7c-461f-9b6c-0159011f9e0d": {"__data__": {"id_": "6063a095-4d7c-461f-9b6c-0159011f9e0d", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0bd66fe9-e741-4f98-bca1-016775c64aca", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "93218b9cbc3c59a998bb190c49d5487853dec596622e1a553422e9e630bf6940", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b76a6805-b413-4559-9b21-a8d0226e0208", "node_type": "1", "metadata": {}, "hash": "5de7cc247c8a2eb3f408afed6de5bbfe1e0f2299aad51ff55f696e0243d1a521", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Its primary function is to manage and calculate critical default or initial values and determine an operating point (OPM) for an engine during its start-up phase. This includes:\r\n1.  Continuously determining an operating point based on dynamic engine parameters (Mass Air Flow and Engine Speed).\r\n2.  Monitoring an \"Exit State\" to condition the operating point calculation.\r\n3.  Calculating specific \"reset values\" or default parameters, triggered by the completion of a \"Low Voltage Start\" (LV_ST) sequence.\r\n\r\n## Inputs\r\n\r\nThe system takes the following key inputs:\r\n\r\n*   **`fc_EXITST`**: A boolean flag or signal indicating a specific \"exit state\" condition.\r\n*   **`input` (bus signal)**: A composite signal containing:\r\n    *   **`<MAF>`**: Mass Air Flow (from sensor).\r\n    *   **`<N>`**: Engine Speed (from sensor).\r\n*   **`LV_ST_VLD_AFU`**: A validation flag, likely indicating the validity of the Air Fuel Unit (AFU) data during the Low Voltage Start (LV_ST) phase.\r\n*   **`MAF`**: Raw Mass Air Flow input (separate from the bus in Fig 4.15.17, likely representing the same physical quantity but used in a different context).\r\n*   **`N`**: Raw Engine Speed input (separate from the bus in Fig 4.15.17).\r\n\r\n## Outputs\r\n\r\nThe system produces the following key outputs:\r\n\r\n*   **`opm_esitst`**: A calculated operating point or state signal, derived from continuous MAF/N processing and influenced by the \"exit state\".\r\n*   **`opm`**: A calculated operating point or default value, specifically derived at the conclusion of the Low Voltage Start (LV_ST) phase.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow is described across the two provided diagram figures:\r\n\r\n### Figure 4.15.17: ALFU. Default start strategy (Continuous Operating Point Determination)\r\n\r\n1.  **Input Reception:** The system receives dynamic engine parameters: Mass Air Flow (`<MAF>`) and Engine Speed (`<N>`) as part of an `input` bus. It also receives a `fc_EXITST` signal, which is processed by the \"Recurrence: EXITST\" block.\r\n2.  **Exit State Monitoring:** The `Recurrence: EXITST` block monitors `fc_EXITST`. Its configuration (\"Activation: always\", \"Deactivation: never\") indicates it is a persistently active component, continuously evaluating or propagating an \"exit state\" signal, `fc_OPM_EXITST`.\r\n3.  **Application-Specific Conditioning:** The `<MAF>` and `<N>` signals from the `input` bus are fed into the `APP_CDN V. 7.2` block. This block likely performs application-specific conditioning, scaling, or preprocessing of these raw engine parameters.\r\n4.  **Operating Point Calculation:** The output from `APP_CDN` and the `fc_OPM_EXITST` signal from the recurrence block are fed into the `OPM X.4.1` block (Operating Point Model). This block calculates a dynamic `opm` (operating point) based on the conditioned MAF/N and the exit state information.\r\n5.  **Output:** The calculated `opm` is then output from this subsystem as `opm_esitst`.\r\n\r\n### Figure 4.15.18: 4.15.4.1 Reset values (Triggered Reset Value Calculation)\r\n\r\n1.  **Input Reception:** The system receives raw `MAF` and `N` signals, along with a validation flag `LV_ST_VLD_AFU`.\r\n2.  **Default Start Value Assignment:** The raw `MAF` and `N` signals pass through unit gain blocks (labeled '1'). The outputs are named `MAF_DFT_ST` (MAF Default Start) and `N_DFT_ST` (Engine Speed Default Start), indicating these are the default values to be used during the start sequence.\r\n3.  **Triggered Calculation:** The `LV_ST_VLD_AFU`, `MAF_DFT_ST`, and `N_DFT_ST` signals are all fed into a function block `f()`. This block has a specific trigger condition: \"Calculation done when LV_ST_END = 0 --> 1\". This means the calculation inside this block is performed only once, precisely at the rising edge of the `LV_ST_END` signal (i.e., when `LV_ST_END` transitions from 0 to 1), signifying the completion of the Low Voltage Start phase.\r\n4.", "mimetype": "text/plain", "start_char_idx": 522643, "end_char_idx": 526516, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b76a6805-b413-4559-9b21-a8d0226e0208": {"__data__": {"id_": "b76a6805-b413-4559-9b21-a8d0226e0208", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6063a095-4d7c-461f-9b6c-0159011f9e0d", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "77ccfdf0786638a5f146d5c3463907c1dced46846278dab0263675a5c9bb9b60", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4b97a13b-97dd-440d-873c-3a196ed5b662", "node_type": "1", "metadata": {}, "hash": "a21b0b4c8ad53a2e5db702ee155ec4fb15772bab7d38658de6c4ba4e881dea1d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This block has a specific trigger condition: \"Calculation done when LV_ST_END = 0 --> 1\". This means the calculation inside this block is performed only once, precisely at the rising edge of the `LV_ST_END` signal (i.e., when `LV_ST_END` transitions from 0 to 1), signifying the completion of the Low Voltage Start phase.\r\n4.  **Output:** The result of this one-time calculation is an `opm` value, which represents a reset or default operating point determined at the very end of the LV_ST sequence. This `opm` is then output from this subsystem.\r\n\r\n\r\n--- Page 153 ---\r\n\r\nThis image contains two distinct Simulink diagrams.\r\n\r\n## Function\r\n\r\nThe primary function of these Simulink diagrams, as indicated by \"ALFU. Default start strategy,\" is to manage the activation and deactivation of an \"Operating Point Management\" (OPM) segment and to calculate dynamic fault-tolerant limits for an Air-Fuel Unit (AFU) ratio.\r\n\r\nThe top diagram (Figure 4.15.19) focuses on the overall segment control logic, enabling/disabling calculations based on segment state and aggregating OPM-related outputs.\r\nThe bottom diagram (Figure 4.15.20) calculates the minimum and maximum default state values for the AFU ratio, likely acting as fault-tolerant bounds that are fed back into the OPM subsystem.\r\n\r\n## Inputs\r\n\r\n**Global Inputs (used by both diagrams or across the system):**\r\n*   **TCO:** (Temperature/Coolant Temperature/Operating Condition) A critical operating parameter.\r\n\r\n**Inputs for Figure 4.15.19 (Main Control Logic):**\r\n*   **fc_SEG:** A function call or event signal for the segment recurrence.\r\n*   **<LV_ST>:** A state variable representing the current segment state.\r\n*   **fc_OPM_SEG:** A function call or event signal for the OPM segment recurrence.\r\n*   **<N>:** (Likely Engine Speed) Another operating parameter.\r\n*   **<FAC_AFU_RATIO_DET>:** Detected Air-Fuel Unit (AFU) ratio.\r\n*   **<CTR_CYC_ST>:** Control cycle status.\r\n*   **<LV_FAC_AFU_RATIO_DFT_ST_REQ>:** Requested default state for the AFU ratio.\r\n*   **<CTR_CYC_DFT_ST>:** Control cycle default status.\r\n*   **<FAC_AFU_RATIO_DFT_ST_MIN>:** (Feedback from Figure 4.15.20) Minimum default state AFU ratio.\r\n*   **<FAC_AFU_RATIO_DFT_ST_MAX>:** (Feedback from Figure 4.15.20) Maximum default state AFU ratio.\r\n\r\n**Inputs for Figure 4.15.20 (Fault Tolerant Limit Calculation):**\r\n*   **FAC_AFU_RATIO_FTL_MIN:** Base value for the minimum fault-tolerant limit of the AFU ratio.\r\n*   **FAC_AFU_RATIO_FTL_MAX:** Base value for the maximum fault-tolerant limit of the AFU ratio.\r\n\r\n## Outputs\r\n\r\n**Outputs for Figure 4.15.19 (Main Control Logic):**\r\n*   **opm_seg:** A bus containing the aggregated outputs from the OPM subsystem:\r\n    *   **CTR_CYC_ST_out:** Output control cycle status.\r\n    *   **CTR_CYC_DFT_ST:** Output control cycle default status.\r\n    *   **FAC_DFT_ST:** Output fault default status.\r\n    *   **FAC_AFU_RATIO_DFT_ST:** Output Air-Fuel Unit ratio default state.\r\n\r\n**Outputs for Figure 4.15.20 (Fault Tolerant Limit Calculation):**\r\n*   **FAC_AFU_RATIO_DFT_ST_MIN:** Calculated minimum default state AFU ratio (used as feedback in Figure 4.15.19).\r\n*   **FAC_AFU_RATIO_DFT_ST_MAX:** Calculated maximum default state AFU ratio (used as feedback in Figure 4.15.19).\r\n\r\n## Logic Flow\r\n\r\n**Figure 4.15.19: Main Control Logic**\r\n\r\n1.  **Segment Recurrence (State Management):** The `Recurrence: SEG` block monitors `fc_SEG` (function call), `<LV_ST>` (current state), and `fc_OPM_SEG`. Based on `LV_ST == 1` for activation and `LV_ST == 0` for deactivation, it determines and outputs an `activation` signal. This block manages the state of the \"segment\".\r\n2.  **Activation Condition Check:** The `CLC_ACT X.5.1` subsystem receives the `activation` signal, along with other inputs like `TCO` and `<N>` (likely from an `input` bus).", "mimetype": "text/plain", "start_char_idx": 526191, "end_char_idx": 529997, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "4b97a13b-97dd-440d-873c-3a196ed5b662": {"__data__": {"id_": "4b97a13b-97dd-440d-873c-3a196ed5b662", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b76a6805-b413-4559-9b21-a8d0226e0208", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "a9a9ff3226ca261d64f89bf13eae1e6e554d90694417931041d464453e0615ea", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ec5f8d90-3924-4018-b860-b5b7e1c3b97c", "node_type": "1", "metadata": {}, "hash": "ddc47c9dce5e4d37d9e0fe5ee6260f4e43411eb11bc7b460f9838daf3e8d4ddf", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Based on `LV_ST == 1` for activation and `LV_ST == 0` for deactivation, it determines and outputs an `activation` signal. This block manages the state of the \"segment\".\r\n2.  **Activation Condition Check:** The `CLC_ACT X.5.1` subsystem receives the `activation` signal, along with other inputs like `TCO` and `<N>` (likely from an `input` bus). It processes these to generate `clc_act`, which probably acts as an enable signal for the downstream OPM calculations.\r\n3.  **Operating Point Management (OPM) Subsystem:** The `OPM X.5.2` subsystem is the core processing unit. It receives a wide array of inputs:\r\n    *   Detected AFU ratio (`FAC_AFU_RATIO_DET`).\r\n    *   Control cycle statuses (`CTR_CYC_ST_in`, `CTR_CYC_DFT_ST_in`).\r\n    *   Requested AFU ratio default state (`LV_FAC_AFU_RATIO_DFT_ST_REQ`).\r\n    *   Operating parameters (`TCO`, `<N>`).\r\n    *   The `clc_act` enable signal.\r\n    *   The calculated fault-tolerant limits (`FAC_AFU_RATIO_DFT_ST_MIN`, `FAC_AFU_RATIO_DFT_ST_MAX`) from Figure 4.15.20.\r\n    It processes these inputs to determine the `CTR_CYC_ST_out`, `CTR_CYC_DFT_ST`, `FAC_DFT_ST`, and `FAC_AFU_RATIO_DFT_ST`.\r\n4.  **Bus Aggregation:** All the processed output signals from the `OPM` subsystem are merged into a single bus named `opm_seg` using the `BusMerge` block, which represents the consolidated output of this segment's control logic.\r\n\r\n**Figure 4.15.20: Calculation at activation (Fault Tolerant Limits)**\r\n\r\n1.  **Offset Lookup:** The input `TCO` (temperature/operating condition) is used as an index (`x_val`) for two lookup tables:\r\n    *   `IP_FAC_AFU_RATIO_MIN_OFS`: Provides a temperature-dependent offset for the minimum AFU ratio limit.\r\n    *   `IP_FAC_AFU_RATIO_MAX_OFS`: Provides a temperature-dependent offset for the maximum AFU ratio limit.\r\n    The output of these tables is `IP_val` (interpolated value).\r\n2.  **Limit Adjustment:**\r\n    *   The base minimum fault-tolerant limit (`FAC_AFU_RATIO_FTL_MIN`) is summed with the offset from `IP_FAC_AFU_RATIO_MIN_OFS`.\r\n    *   The base maximum fault-tolerant limit (`FAC_AFU_RATIO_FTL_MAX`) is summed with the offset from `IP_FAC_AFU_RATIO_MAX_OFS`.\r\n3.  **Final Limit Bounding:**\r\n    *   The adjusted minimum limit is passed through a `min` block (V. 6.3). This block likely takes an implicit second input (e.g., a constant upper bound) to ensure the calculated minimum does not exceed a certain absolute maximum. The output is `FAC_AFU_RATIO_DFT_ST_MIN`.\r\n    *   The adjusted maximum limit is passed through a `max` block (V. 6.3). This block likely takes an implicit second input (e.g., a constant lower bound) to ensure the calculated maximum does not fall below a certain absolute minimum. The output is `FAC_AFU_RATIO_DFT_ST_MAX`.\r\n4.  **Feedback:** These calculated `FAC_AFU_RATIO_DFT_ST_MIN` and `FAC_AFU_RATIO_DFT_ST_MAX` values are then fed back as inputs to the `OPM X.5.2` subsystem in Figure 4.15.19, providing dynamic operational bounds for the AFU ratio.\r\n\r\n\r\n--- Page 154 ---\r\n\r\nThis image is a Simulink-like block diagram, likely representing a control algorithm for an automotive system.\r\n\r\n## Function\r\n\r\nThe primary function of this diagram is to implement a conditional logic for managing and determining the \"AFU Ratio Drift Status\" (indicated by `FAC_AFU_RATIO_DFT_ST`) and an associated \"Cycle Drift Status Counter\" (`CTR_CYC_DFT_ST_out`). It selects between two different calculation paths (\"THEN\" or \"ELSE\") based on an enable/request condition, providing outputs for the drift status, a general fault status, and an updated cycle counter. This aligns with the \"ALFU. Default start strategy\" context.\r\n\r\n## Inputs\r\n\r\n1.  **`LC_FAC_AFU_RATIO_DFT_ST_ENA`**: Boolean signal enabling the AFU Ratio Drift Status logic.\r\n2.", "mimetype": "text/plain", "start_char_idx": 529653, "end_char_idx": 533399, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "ec5f8d90-3924-4018-b860-b5b7e1c3b97c": {"__data__": {"id_": "ec5f8d90-3924-4018-b860-b5b7e1c3b97c", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4b97a13b-97dd-440d-873c-3a196ed5b662", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "d373d3aab18b12a63445817d4b417a3c28500ee63da41062f7a7345b0479bd7b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c692b827-b05d-4980-8530-9750fbef325b", "node_type": "1", "metadata": {}, "hash": "e709db2002b9be6a88e2dd3201f8d948538068d26d95b6bebd981b3421deb85d", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "It selects between two different calculation paths (\"THEN\" or \"ELSE\") based on an enable/request condition, providing outputs for the drift status, a general fault status, and an updated cycle counter. This aligns with the \"ALFU. Default start strategy\" context.\r\n\r\n## Inputs\r\n\r\n1.  **`LC_FAC_AFU_RATIO_DFT_ST_ENA`**: Boolean signal enabling the AFU Ratio Drift Status logic.\r\n2.  **`LV_FAC_AFU_RATIO_DFT_ST_REQ`**: Boolean signal requesting the AFU Ratio Drift Status.\r\n3.  **`N`**: An input signal, likely representing engine speed or a similar operational parameter, specifically used in the \"THEN\" branch.\r\n4.  **`TCO`**: A time counter or timer value, used as an input in both conditional branches (directly to `CLC_THEN`, and to an `fc()` block that feeds `CLC_ELSE`).\r\n5.  **`CTR_CYC_DFT_ST_in`**: The input value for the Cycle Drift Status Counter.\r\n6.  **`FAC_AFU_RATIO_DFT_ST_MIN`**: A minimum threshold for the AFU Ratio Drift Status, used in the \"THEN\" branch.\r\n7.  **`FAC_AFU_RATIO_DFT_ST_MAX`**: A maximum threshold for the AFU Ratio Drift Status, used in the \"THEN\" branch.\r\n8.  **`FAC_AFU_RATIO_DET`**: The detected or measured AFU Ratio value. This is a primary input to both `CLC_THEN` and `CLC_ELSE` blocks.\r\n\r\n*(Constants/Parameters like `V.6.4`, `V.6.0`, `V.6.7` are used in the logic but are not dynamic inputs.)*\r\n\r\n## Outputs\r\n\r\n1.  **`CTR_CYC_DFT_ST_out`**: The updated output value for the Cycle Drift Status Counter.\r\n2.  **`FAC_DFT_ST`**: The resulting Drift Fault Status (likely a boolean or an enumerated state).\r\n3.  **`FAC_AFU_RATIO_DFT_ST`**: The final AFU Ratio Drift Status.\r\n\r\n## Logic Flow\r\n\r\nThe diagram implements an If-Else control flow:\r\n\r\n1.  **Condition Evaluation:**\r\n    *   An `AND` gate combines the `LC_FAC_AFU_RATIO_DFT_ST_ENA` and `LV_FAC_AFU_RATIO_DFT_ST_REQ` signals.\r\n    *   The output of the `AND` gate (`cond_if`) is then compared against a constant `V.6.0` (likely representing a boolean \"true\" state) to determine which branch of the If-Else structure is executed.\r\n\r\n2.  **'THEN' Branch (CLC_THEN, X.5.2.1):**\r\n    *   If the condition (from step 1) is true, this branch is activated.\r\n    *   An internal functional block `fc()` is executed. It receives the following inputs: `N`, `TCO`, `CTR_CYC_DFT_ST_in`, `FAC_AFU_RATIO_DFT_ST_MIN`, `FAC_AFU_RATIO_DFT_ST_MAX`, and the main `FAC_AFU_RATIO_DET`.\r\n    *   This `fc()` block performs specific calculations (the details of which are abstracted) and produces three outputs: `CTR_CYC_DFT_ST`, `FAC_DFT_ST`, and `FAC_AFU_RATIO_DFT_ST`. These outputs are then fed into 'Merge' blocks.\r\n\r\n3.  **'ELSE' Branch (CLC_ELSE, X.5.2.2):**\r\n    *   If the condition (from step 1) is false, this branch is activated.\r\n    *   **Counter Logic:** The `CTR_CYC_ST_in` signal is incremented by a constant value of `1` (from `V.6.7`). This incremented value is then an input to the `CLC_ELSE` block, internally representing `CTR_CYC_DFT_ST`.\r\n    *   **Fallback/Default Calculation:** A separate internal functional block `fc()` takes `TCO` as its input. It computes and outputs two signals, labeled `FAC_AFU_RATIO_DET` and `FAC_DFT_ST`. These are likely default or fallback values for the drift ratio and fault status.\r\n    *   The `CLC_ELSE` block receives several inputs:\r\n        *   The main system input `FAC_AFU_RATIO_DET`.\r\n        *   The `FAC_DFT_ST` output from the `fc(TCO)` block.\r\n        *   The `FAC_AFU_RATIO_DET` output from the `fc(TCO)` block.", "mimetype": "text/plain", "start_char_idx": 533020, "end_char_idx": 536474, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c692b827-b05d-4980-8530-9750fbef325b": {"__data__": {"id_": "c692b827-b05d-4980-8530-9750fbef325b", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ec5f8d90-3924-4018-b860-b5b7e1c3b97c", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "38e39b55003c297eb5f8ae13710dadcbb2a218f137a89a7863f4252cb78f39ae", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5a7331f3-c514-4740-bbb0-4fb93676aeb4", "node_type": "1", "metadata": {}, "hash": "60852cb0dd3613ff430f5cfd14686308a9316580ff9f936c24ffd75203cc8651", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "These are likely default or fallback values for the drift ratio and fault status.\r\n    *   The `CLC_ELSE` block receives several inputs:\r\n        *   The main system input `FAC_AFU_RATIO_DET`.\r\n        *   The `FAC_DFT_ST` output from the `fc(TCO)` block.\r\n        *   The `FAC_AFU_RATIO_DET` output from the `fc(TCO)` block.\r\n        *   The incremented counter value (`CTR_CYC_ST_in + 1`).\r\n    *   This `CLC_ELSE` block then processes these inputs to produce its own three outputs: `CTR_CYC_DFT_ST`, `FAC_DFT_ST`, and `FAC_AFU_RATIO_DFT_ST`. (It typically uses the incremented counter for its `CTR_CYC_DFT_ST` output and the calculated fallback values from `fc(TCO)` for its `FAC_DFT_ST` and `FAC_AFU_RATIO_DFT_ST` outputs, potentially ignoring or using the main `FAC_AFU_RATIO_DET` for internal logic not shown.)\r\n\r\n4.  **Output Merging:**\r\n    *   Three 'Merge' blocks are used to select the appropriate output signals. For each output (`CTR_CYC_DFT_ST_out`, `FAC_DFT_ST`, `FAC_AFU_RATIO_DFT_ST`), the 'Merge' block passes through the value calculated by the active (THEN or ELSE) branch.\r\n    *   These merged signals form the final outputs of the entire diagram.\r\n\r\n\r\n--- Page 155 ---\r\n\r\nThis Simulink diagram implements a default start strategy for an automotive system, specifically focusing on the calculation of `FAC_AFU_RATIO` (likely Fuel-Air Ratio or a related parameter) during the system's startup phase. It manages a default start cycle counter and determines a default start flag, which in turn influences the computed air-fuel ratio. The overall goal is to establish a safe and controlled air-fuel ratio when the system begins operation under default conditions.\r\n\r\n## Function\r\n\r\nThe primary function of this diagram is to calculate and output a default start Air-Fuel Ratio (`FAC_AFU_RATIO_DFT_ST`), manage a default start cycle counter (`CTR_CYC_DFT_ST_out`), and determine a default start flag (`FAC_DFT_ST`). This process is part of a larger \"Default start strategy\" (ALFU) in an automotive system, ensuring that the engine or relevant component operates with appropriate fuel-air mixtures during its initial phases until normal control logic takes over.\r\n\r\n## Inputs\r\n\r\nThe key inputs to this system are:\r\n\r\n1.  **`CTR_CYC_DFT_ST_in`**: The current value of the default start cycle counter.\r\n2.  **`[TCO]`**: A system timer or operating condition input, likely representing a time-based or cycle-based state, used for lookup table indexing.\r\n3.  **`C_N_MIN_CTR_DFT_ST_INC`**: A configurable constant representing a minimum increment or a threshold for the default start cycle counter.\r\n4.  **`C_FAC_CTR_CYC_DFT_ST_RST`**: A configurable constant used in determining when to reset the default start cycle counter.\r\n5.  **`FAC_AFU_RATIO_DFT_ST_MIN`**: A configurable constant defining the minimum allowed default start air-fuel ratio.\r\n6.  **`FAC_AFU_RATIO_DFT_ST_MAX`**: A configurable constant defining the maximum allowed default start air-fuel ratio.\r\n7.  **`FAC_AFU_RATIO_DET`**: A boolean or discrete value, potentially indicating a detection event or a specific operating mode related to the air-fuel ratio.\r\n8.  **`N`**: A constant (e.g., `1`) used for incrementing the counter.\r\n\r\n## Outputs\r\n\r\nThe main outputs generated by this system are:\r\n\r\n1.  **`CTR_CYC_DFT_ST_out`**: The updated or calculated default start cycle counter value.\r\n2.  **`FAC_DFT_ST`**: A flag or discrete state indicating the current status of the default start sequence.\r\n3.  **`FAC_AFU_RATIO_DFT_ST`**: The calculated Air-Fuel Ratio to be used during the default start phase.\r\n\r\nAdditionally, the diagram shows pass-through outputs for some input configuration parameters (`[TCO]`, `CTR_CYC_DFT_ST_in`, `FAC_AFU_RATIO_DFT_ST_MIN`, `FAC_AFU_RATIO_DFT_ST_MAX`), which might be for monitoring or logging purposes, and an output `f0` whose origin is not explicitly shown but is likely another flag or frequency signal.\r\n\r\n## Logic Flow\r\n\r\nThe diagram's logic can be broken down into three main parallel processing paths:\r\n\r\n### 1.", "mimetype": "text/plain", "start_char_idx": 536149, "end_char_idx": 540182, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5a7331f3-c514-4740-bbb0-4fb93676aeb4": {"__data__": {"id_": "5a7331f3-c514-4740-bbb0-4fb93676aeb4", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c692b827-b05d-4980-8530-9750fbef325b", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "807b4cf43ace657a31029de81ddd47e93bc53a5d1737d89fcd728eff2dbfcee6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b5ce1621-2cb5-485a-a158-5d9bddc4f224", "node_type": "1", "metadata": {}, "hash": "b90e0eb45404212a80847365e2b22b6ec9b54f6911e9dc7be6348d8256b2e036", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Logic Flow\r\n\r\nThe diagram's logic can be broken down into three main parallel processing paths:\r\n\r\n### 1. Default Start Cycle Counter Calculation (`CTR_CYC_DFT_ST_out`)\r\n\r\nThis path determines the value of `CTR_CYC_DFT_ST_out` based on the input counter, a minimum increment threshold, and a reset condition.\r\n\r\n*   **Increment and Clamp:** `CTR_CYC_DFT_ST_in` is incremented by `N` (likely 1). This sum is then passed through a switch block that effectively clamps the value by `C_N_MIN_CTR_DFT_ST_INC`. If `CTR_CYC_DFT_ST_in + N` is less than `C_N_MIN_CTR_DFT_ST_INC`, then `CTR_CYC_DFT_ST_in + N` is selected. Otherwise, `C_N_MIN_CTR_DFT_ST_INC` is selected. This ensures the counter increments but does not exceed `C_N_MIN_CTR_DFT_ST_INC`.\r\n*   **Reset Condition:** A 2D lookup table (`ID_CTR_CYC_DFT_ST_RST`) uses `[TCO]` to determine a value (`ID_val`). This `ID_val` is multiplied by `C_FAC_CTR_CYC_DFT_ST_RST`.\r\n*   **Reset Logic:** The product from the previous step is compared against 0. If the product is non-zero (indicating a reset condition is met), then the counter is reset to `0`. Otherwise, the clamped incremented value from the previous step is passed through.\r\n*   **Output:** The final result of this logic is `CTR_CYC_DFT_ST_out`.\r\n\r\n### 2. Default Start Flag Calculation (`FAC_DFT_ST`)\r\n\r\nThis path calculates the `FAC_DFT_ST` flag directly from a lookup table.\r\n\r\n*   **Lookup Table:** A 2D lookup table (`ID_FAC_DFT_ST`) uses `[TCO]` as its input.\r\n*   **Output:** The output of this lookup table (`ID_val`) is directly assigned to `FAC_DFT_ST`. This means the default start flag's value is determined purely by the system timer/condition `[TCO]`.\r\n\r\n### 3. Default Start Air-Fuel Ratio Calculation (`FAC_AFU_RATIO_DFT_ST`)\r\n\r\nThis is the most complex path, calculating the final air-fuel ratio by summing four weighted contributions. Each contribution involves `FAC_DFT_ST` and a specific scaling factor.\r\n\r\nEach of the four parallel branches follows a similar sub-logic:\r\n*   **Initial Sum:** `FAC_DFT_ST` is added to a specific constant (`1`, `2`, `1`, `0` for the four branches, respectively).\r\n*   **Stateful Processing / Rate Limiting (V.6.5 block):** The result of the initial sum passes through a stateful block (labeled V.6.5, often representing a unit delay, discrete integrator, or a rate limiter, specifically for a \"fall rate\" or \"decay\" behavior). This block likely processes the value over time, allowing it to change gradually.\r\n*   **Clamping (0 to 1):** The output of the V.6.5 block is then clamped between `0` and `1` using a `min(..., 1)` block followed by a `max(..., 0)` block. Let's call this `WeightX` for each branch.\r\n\r\nThe `WeightX` from each branch is then multiplied by a specific factor:\r\n\r\n*   **Branch 1 (Max Ratio Contribution):** `Weight1` (derived from `FAC_DFT_ST + 1`) is multiplied by `FAC_AFU_RATIO_DFT_ST_MAX`.\r\n*   **Branch 2 (Min Ratio Contribution - First instance):** `Weight2` (derived from `FAC_DFT_ST + 2`) is multiplied by `FAC_AFU_RATIO_DFT_ST_MIN`.\r\n*   **Branch 3 (Min Ratio Contribution - Second instance):** `Weight3` (derived from `FAC_DFT_ST + 1`) is multiplied by `FAC_AFU_RATIO_DFT_ST_MIN`.\r\n*   **Branch 4 (Detection Ratio Contribution):** `Weight4` (derived from `FAC_DFT_ST + 0`, i.e., `FAC_DFT_ST`) is multiplied by `FAC_AFU_RATIO_DET`.\r\n\r\n*   **Final Summation:** The outputs of these four multiplication blocks are summed together to produce the final `FAC_AFU_RATIO_DFT_ST`.", "mimetype": "text/plain", "start_char_idx": 540074, "end_char_idx": 543543, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "b5ce1621-2cb5-485a-a158-5d9bddc4f224": {"__data__": {"id_": "b5ce1621-2cb5-485a-a158-5d9bddc4f224", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5a7331f3-c514-4740-bbb0-4fb93676aeb4", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "b82f516837093c684f20a0f79c29d7dc2dba0aed976c55406c10768f111bb603", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "911c2512-9ead-4839-a335-535e2e33f396", "node_type": "1", "metadata": {}, "hash": "9f889dc6188e7b619e7dc6c418437741d921ab2398e294dbf0f75a394f40a2e6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **Branch 4 (Detection Ratio Contribution):** `Weight4` (derived from `FAC_DFT_ST + 0`, i.e., `FAC_DFT_ST`) is multiplied by `FAC_AFU_RATIO_DET`.\r\n\r\n*   **Final Summation:** The outputs of these four multiplication blocks are summed together to produce the final `FAC_AFU_RATIO_DFT_ST`. This indicates that the default start air-fuel ratio is a blend or weighted combination of maximum, minimum, and detection-based ratios, with their influence modulated by the `FAC_DFT_ST` flag and the gradual changes introduced by the V.6.5 stateful blocks.\r\n\r\n\r\n--- Page 156 ---\r\n\r\nThe provided image contains two distinct Simulink diagrams, which are analyzed below.\r\n\r\n## Function\r\nThe document presents two distinct Simulink diagrams, each serving a specific function within an automotive system context, likely related to fault management and system status.\r\n\r\n1.  **Figure 415.23: FAC_AFU_RATIO when not in default start**\r\n    This diagram's primary function is to calculate or aggregate a combined \"Fault AFU Ratio Default Status\" (`FAC_AFU_RATIO_DFT_ST`). It determines this status by logically combining specific fault detection flags related to the AFU (Air Fuel Unit) ratio, a cyclic counter default status, and a general fault default status. This indicates whether the AFU ratio is operating under a default condition due to various contributing factors.\r\n\r\n2.  **Figure 415.24: Manual reset of CTR_DFT_ST**\r\n    This diagram implements a controlled manual reset mechanism for a counter/status variable named `CTR_DFT_ST` (Counter Default Status). The reset operation is precisely governed by an \"Engine Start\" local variable (`LV_ES`) and executes periodically every 1 second. Its purpose is to allow `CTR_DFT_ST` to be explicitly set to a default (likely zero) state under specific, active operating conditions, providing a controlled manual override or initialization.\r\n\r\n## Inputs\r\n**For Figure 415.23 (FAC_AFU_RATIO calculation):**\r\n*   `FAC_AFU_RATIO_DET` (Input port 1, green): A boolean or status signal indicating whether an AFU ratio detection issue is currently active.\r\n*   `CTR_CYC_DFT_ST` (Signal originating from outside, labeled as an output port 1 in the diagram): Represents the status of a cyclic counter default.\r\n*   `FAC_DFT_ST` (Signal originating from outside, labeled as an output port 2 in the diagram): Represents a general fault default status.\r\n\r\n**For Figure 415.24 (Manual reset of CTR_DFT_ST):**\r\n*   `fc_1S` (Input port 1, green): A function call trigger, signaling a 1-second periodic event.\r\n*   `<LV_ES>` (Input port 2, green, labeled `input`): A boolean signal, likely indicating \"Local Variable Engine Start\" status (e.g., `1` for active, `0` for inactive).\r\n*   `<CTR_DFT_ST>` (Input port 3, green, labeled `feedback`): The current or previous value of the `CTR_DFT_ST` variable, fed back into the OPM logic for stateful behavior or comparison.\r\n*   `CTR_DFT_ST_in` (Input to OPM X.6.1 subsystem): An internal input to the Operating Mode Manager (OPM) block, which would typically be the desired value for the reset (e.g., a constant `0`).\r\n\r\n## Outputs\r\n**For Figure 415.23 (FAC_AFU_RATIO calculation):**\r\n*   `FAC_AFU_RATIO_DFT_ST` (Output port 3, blue): The resulting boolean or status signal representing the aggregated AFU Ratio Default Status.\r\n*   `CTR_CYC_DFT_ST` (Output port 1) and `FAC_DFT_ST` (Output port 2) are also depicted as outputs, indicating these signals are either passed through or read from global sources and made available to other parts of the model or for logging.\r\n\r\n**For Figure 415.24 (Manual reset of CTR_DFT_ST):**\r\n*   `opm_1s` (Output port 1, blue): The final output of the OPM logic, representing the `CTR_DFT_ST` value after the manual reset process has been applied. This signal is also written to a global data store or signal named `opm_1s`.\r\n\r\n## Logic Flow\r\n\r\n**Figure 415.23: FAC_AFU_RATIO when not in default start**\r\n1.", "mimetype": "text/plain", "start_char_idx": 543254, "end_char_idx": 547161, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "911c2512-9ead-4839-a335-535e2e33f396": {"__data__": {"id_": "911c2512-9ead-4839-a335-535e2e33f396", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b5ce1621-2cb5-485a-a158-5d9bddc4f224", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "cdc364542a47fed9608c4f75addc1d2b80c43fab762127fdbcea81eaef7b17c4", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5926e7dc-233f-470d-987b-21ff1ebc2736", "node_type": "1", "metadata": {}, "hash": "bdda4b209c1a6f1b7382f7fa37527f065848a60effb3c5f086d3287aa54842e3", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This signal is also written to a global data store or signal named `opm_1s`.\r\n\r\n## Logic Flow\r\n\r\n**Figure 415.23: FAC_AFU_RATIO when not in default start**\r\n1.  **Input Collection:** The diagram gathers three primary status signals: `FAC_AFU_RATIO_DET`, `CTR_CYC_DFT_ST`, and `FAC_DFT_ST`. `FAC_AFU_RATIO_DET` is a direct input, while `CTR_CYC_DFT_ST` and `FAC_DFT_ST` are depicted as output ports, implying they are global signals being read.\r\n2.  **Logical Aggregation:** These three input signals converge into a block labeled `f()`. Given the context of \"default status\", this block likely performs a logical OR operation. This means if any of `FAC_AFU_RATIO_DET`, `CTR_CYC_DFT_ST`, or `FAC_DFT_ST` are true (indicating a fault or default condition), the output will be true.\r\n3.  **Output:** The result of this logical aggregation is then output as `FAC_AFU_RATIO_DFT_ST`.\r\n4.  **Constants:** The `0` and `V. 6.4` blocks are constants that might represent default values or version information, but their direct participation in the visible logical flow is not explicitly shown.\r\n\r\n**Figure 415.24: Manual reset of CTR_DFT_ST**\r\n1.  **Activation/Deactivation Gating (Top orange block - `fc_OPM_1S`):**\r\n    *   This block functions as a control gate for the reset process. It receives a 1-second periodic function call (`fc_1S`) and the `LV_ES` signal.\r\n    *   **Recurrence:** The internal logic within this block (and consequently the `OPM` block it triggers) is designed to operate every 1 second.\r\n    *   **Activation Condition:** The block's output (triggering the OPM) becomes active *only if* `LV_ES == 1`. This condition aligns with the \"Application Conditions\" stating `Activation: LV_ES == 1`.\r\n    *   **Deactivation Condition:** The block's output (and the OPM) is deactivated *if* `LV_ES == 0`, also consistent with \"Application Conditions\".\r\n    *   This ensures the manual reset mechanism is only enabled when the engine is in an \"engine start\" or active state.\r\n2.  **Operating Mode Manager (OPM) Logic (Bottom orange block - `OPM X.6.1`):**\r\n    *   This subsystem is a core component for state management. It is triggered by the output of the `fc_OPM_1S` block, meaning it executes every second, provided `LV_ES` is 1.\r\n    *   It takes `CTR_DFT_ST_in` (the target value for the reset, typically 0 as per \"Initialization: all outputs to zero at RST\") and the feedback `CTR_DFT_ST` (the current state) as inputs.\r\n    *   Within the OPM, `CTR_DFT_ST` is managed. The textual description \"Manual reset of CTR_DFT_ST\" combined with the application conditions (activation based on `LV_ES==1` and outputs to zero at RST) strongly implies that when activated, the OPM sets `CTR_DFT_ST` to zero, effectively performing the manual reset. The feedback input allows the OPM to maintain the state or handle transitions.\r\n    *   The OPM produces an output `CTR_DFT_ST_out`.\r\n3.  **Output and Data Store:** The `CTR_DFT_ST_out` from the OPM block is then routed to the output port `opm_1s` and also written to a global data store or signal named `opm_1s`, making the current reset status available to other parts of the automotive control system.\r\n\r\n\r\n--- Page 157 ---\r\n\r\nThis image is a Simulink diagram representing a counter reset logic.\r\n\r\n## Function\r\nThe primary function of this Simulink subsystem is to manage and control the state of a counter or a diagnostic status flag, represented by `CTR_DFT_ST_out`. It incorporates logic for resetting this counter to `0` based on an explicit reset signal (`LC_CTR_DFT_ST_RST`) or implicitly when the primary input (`CTR_DFT_ST_in`) is `0`. The actual state update or counting logic is encapsulated within a custom function block `f()`. This system appears to be part of a larger automotive diagnostic or fault management system where specific conditions trigger a counter reset.", "mimetype": "text/plain", "start_char_idx": 547002, "end_char_idx": 550842, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5926e7dc-233f-470d-987b-21ff1ebc2736": {"__data__": {"id_": "5926e7dc-233f-470d-987b-21ff1ebc2736", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "911c2512-9ead-4839-a335-535e2e33f396", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "f9e0914afde0caa9ee570f5e42ad22c2604f090423d76de5f8aa08dbca587313", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "2f24e039-0333-4231-954a-835c09057868", "node_type": "1", "metadata": {}, "hash": "022c762b9d89cc9aaa49ea3d917a45a38d108eb2bba50e7377fef8d3615be6e4", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "It incorporates logic for resetting this counter to `0` based on an explicit reset signal (`LC_CTR_DFT_ST_RST`) or implicitly when the primary input (`CTR_DFT_ST_in`) is `0`. The actual state update or counting logic is encapsulated within a custom function block `f()`. This system appears to be part of a larger automotive diagnostic or fault management system where specific conditions trigger a counter reset.\r\n\r\n## Inputs\r\n*   **`CTR_DFT_ST_in` (Input Port 1, green '1' block):** This is the primary input value or signal that influences the counter's state. It could represent a diagnostic event, a measured value, or a status flag.\r\n*   **`LC_CTR_DFT_ST_RST`:** This is a control signal that acts as an explicit reset command for the counter. When this signal is active (e.g., `TRUE` or `1`), it forces the counter towards a reset state.\r\n\r\n## Outputs\r\n*   **`CTR_DFT_ST_out` (Output Port 1, blue '1' block):** This is the output state of the counter or diagnostic flag after processing the inputs and reset conditions. Its value represents the current status managed by this subsystem.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into these sequential steps:\r\n\r\n1.  **Reset Condition Evaluation for `LC_CTR_DFT_ST_RST`:**\r\n    A first processing block (the unlabeled block with inputs `LC_CTR_DFT_ST_RST`, `CTR_DFT_ST_in`, and the constant `0`) determines an intermediate value. This block acts as a conditional reset.\r\n    *   If `LC_CTR_DFT_ST_RST` is active (e.g., `TRUE`), the block outputs `0`, effectively enforcing a reset value.\r\n    *   If `LC_CTR_DFT_ST_RST` is inactive (e.g., `FALSE`), the block passes through the value of `CTR_DFT_ST_in`.\r\n    Let's call the output of this block `Reset_Controlled_Value`.\r\n\r\n2.  **`CTR_DFT_ST_in` Non-Zero Check:**\r\n    The `CTR_DFT_ST_in` signal is also fed into a \"Check ~= 0\" (Relational Operator) block. This block evaluates if `CTR_DFT_ST_in` is not equal to `0`.\r\n    *   If `CTR_DFT_ST_in` is not equal to `0`, the block outputs `TRUE` (typically `1`).\r\n    *   If `CTR_DFT_ST_in` is equal to `0`, the block outputs `FALSE` (typically `0`).\r\n    This boolean output, let's call it `Is_CTR_DFT_ST_in_NonZero`, serves as the control signal for the subsequent main Switch block.\r\n\r\n3.  **Main Output Value Selection (Switch Block):**\r\n    A Simulink Switch block takes three inputs:\r\n    *   **Input 1 (Top):** `Reset_Controlled_Value` (from Step 1).\r\n    *   **Control Input (Middle):** `Is_CTR_DFT_ST_in_NonZero` (from Step 2).\r\n    *   **Input 3 (Bottom):** A constant `0`.\r\n    The Switch operates as follows:\r\n    *   If `Is_CTR_DFT_ST_in_NonZero` is `TRUE` (meaning `CTR_DFT_ST_in` is not `0`), the Switch outputs `Reset_Controlled_Value`. In this case, the `LC_CTR_DFT_ST_RST` signal dictates whether `CTR_DFT_ST_in` or `0` is passed forward.\r\n    *   If `Is_CTR_DFT_ST_in_NonZero` is `FALSE` (meaning `CTR_DFT_ST_in` is `0`), the Switch outputs the constant `0`. This means if `CTR_DFT_ST_in` itself is `0`, the value propagated is always `0`, regardless of `LC_CTR_DFT_ST_RST`.\r\n    Let's call the output of this Switch block `Value_for_Function`.\r\n    In essence, `Value_for_Function` will be `0` if `CTR_DFT_ST_in` is `0` OR if `LC_CTR_DFT_ST_RST` is active (and `CTR_DFT_ST_in` is non-zero). Otherwise, `Value_for_Function` is `CTR_DFT_ST_in`.\r\n\r\n4.  **Counter Logic Processing (`f()` Block):**\r\n    The `Value_for_Function` (from Step 3) and `Is_CTR_DFT_ST_in_NonZero` (from Step 2) are fed as inputs into the `f()` block.", "mimetype": "text/plain", "start_char_idx": 550429, "end_char_idx": 553936, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2f24e039-0333-4231-954a-835c09057868": {"__data__": {"id_": "2f24e039-0333-4231-954a-835c09057868", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5926e7dc-233f-470d-987b-21ff1ebc2736", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "d5336cf0a74131818fc9c7c304c85cc4efca57b7f2d0d4ba666744293b6c1c8a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "48501cc2-98d0-49dd-8b04-9b090a2581fb", "node_type": "1", "metadata": {}, "hash": "65d9316224a4232bd345db741c1f61790e6923a41356ead0f92d98db928f740f", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Otherwise, `Value_for_Function` is `CTR_DFT_ST_in`.\r\n\r\n4.  **Counter Logic Processing (`f()` Block):**\r\n    The `Value_for_Function` (from Step 3) and `Is_CTR_DFT_ST_in_NonZero` (from Step 2) are fed as inputs into the `f()` block. This `f()` block represents the core logic for the counter. It likely implements stateful behavior (e.g., incrementing, holding, or directly setting a value) based on the input value and the flag indicating if the original `CTR_DFT_ST_in` was non-zero. The precise behavior of the counter (e.g., saturation, wrapping, specific counting rules) would be defined within this `f()` block.\r\n\r\n5.  **Output Generation:**\r\n    The final processed value from the `f()` block is output as `CTR_DFT_ST_out`, representing the current state of the counter or diagnostic flag.\r\n\r\n\r\n--- Page 162 ---\r\n\r\nThis is indeed a Simulink-like diagram, likely representing a control algorithm from an automotive ECU.\r\n\r\n## Function\r\n\r\nThe primary function of this Simulink diagram is **Engine roughness-based fuel quality adaptation (ALFU)**. It calculates and adapts a fuel quality factor (`FAC_FQ`) and a roughness-based adaptation increment (`FAC_I_FQ_ER_AD`) by processing various engine operating parameters, sensor measurements, and internal control states. The system operates at multiple discrete time steps (segments, 100ms, 10ms) to ensure robust and responsive adaptation.\r\n\r\n## Inputs\r\n\r\nThe diagram receives a comprehensive set of inputs, categorized as follows:\r\n\r\n**1. Internal Control & Scheduling Signals (from `ALFU_REGQNERFQ0` group):**\r\n*   `ALFU_REGQNERFQ0_RST`: Reset signal.\r\n*   `ALFU_REGQNERFQ0_ES2ERU`: Emergency Stop / Error Unit signal.\r\n*   `ALFU_REGQNERFQ0_SEG`: Segment recurrence trigger.\r\n*   `ALFU_REGQNERFQ0_100MS`: 100ms recurrence trigger.\r\n*   `ALFU_REGQNERFQ0_10MS`: 10ms recurrence trigger.\r\n\r\n**2. Adaptation Status & Enablement Flags:**\r\n*   `LV_ST_END`: Learning/Status end flag.\r\n*   `LV_FQ_ST_AD`: Fuel quality adaptation status.\r\n*   `LC_FAC_FQ_ER_ENA`: Enable signal for roughness-based fuel quality adaptation.\r\n*   `FAC_P_FQ_ER_AD`: Roughness adaptation factor from a pre-defined or parallel path.\r\n*   `LV_FAC_FQ_END`: Fuel quality adaptation completion status.\r\n\r\n**3. Engine Operating Conditions & Sensor Measurements:**\r\n*   `NC_CYL_NR`: Number of engine cylinders.\r\n*   `ER_STD_AFU`: Engine roughness standard deviation after fuel update (likely measured).\r\n*   `LV_ER_STND_ER_AFU_ACT`: Activation status of roughness standard deviation after fuel update.\r\n*   `LV_DRVI_STND_AFU_FDDUT`: Driver standard deviation after fuel update feedback.\r\n*   `STATE_ENG`: Current engine operating state.\r\n*   `N`: Engine speed.\r\n*   `N_32`: Engine speed (possibly filtered or a specific representation).\r\n*   `MAF_STK_FQ_PRED`: Mass air flow for stock fuel quality prediction.\r\n*   `TCO`: Coolant temperature.\r\n*   `TCO_ST`: Coolant temperature status.\r\n*   `EFF_IGA_AV`: Effective ignition angle average.\r\n*   `LAMB_SP_MV`: Lambda setpoint measured value.\r\n*   `AST`: Ambient temperature or atmospheric pressure.\r\n*   `LV_LAM_LSCL`: Lambda sensor scale learning status.\r\n*   `LAMB_LS_UP`: Lambda sensor update status.\r\n*   `IDX_CMB_MOD_CUR`: Current combustion mode index.\r\n*   `NC_NR_CMB_MOD`: Number of combustion modes.\r\n*   `NR_CMB_ER_STND_MPL`: Roughness standard deviation multiplier based on combustion mode.\r\n*   `FUP_MFF_LOW_PRS_MIN`: Minimum fuel pressure for low pressure mass fuel flow.\r\n*   `FAC_MFF_MPL_INJ_HOM_MIN`: Minimum factor for mass fuel flow multiplier for injection homogeneity.\r\n*   `LC_FAC_MFF_LOW_PRS_ENA`: Enable signal for low-pressure mass fuel flow multiplier.\r\n*   `FUP`: Fuel pressure.\r\n*   `FAC_MFF_MPL_INJ_HOM`: Mass fuel flow multiplier for injection homogeneity.\r\n*   `NC_NR_IV_PLS`: Number of intake valve pulses.", "mimetype": "text/plain", "start_char_idx": 553705, "end_char_idx": 557506, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "48501cc2-98d0-49dd-8b04-9b090a2581fb": {"__data__": {"id_": "48501cc2-98d0-49dd-8b04-9b090a2581fb", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "2f24e039-0333-4231-954a-835c09057868", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "b8348a7ccd026720c35571d64628664cbc567543b599dd65ada2ce76d0511910", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "2daf48e1-1995-4537-8a0d-9f42a9220608", "node_type": "1", "metadata": {}, "hash": "68c53641a1f9ec4473a46b5836b55fd0fe2f6dce5145cbf116cff191839371ec", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `FAC_MFF_MPL_INJ_HOM_MIN`: Minimum factor for mass fuel flow multiplier for injection homogeneity.\r\n*   `LC_FAC_MFF_LOW_PRS_ENA`: Enable signal for low-pressure mass fuel flow multiplier.\r\n*   `FUP`: Fuel pressure.\r\n*   `FAC_MFF_MPL_INJ_HOM`: Mass fuel flow multiplier for injection homogeneity.\r\n*   `NC_NR_IV_PLS`: Number of intake valve pulses.\r\n*   `NC_CBK_EX_NR`: Number of exhaust back-knocks or similar exhaust event.\r\n\r\n## Outputs\r\n\r\nThe primary outputs of the system, represented by the blue blocks, are:\r\n\r\n*   `FAC_FQ`: The calculated fuel quality adaptation factor. This is a crucial output used to adjust fuel injection.\r\n*   `FAC_I_FQ_ER_AD`: An integrated or incremental roughness-based fuel quality adaptation value, likely representing the change or delta applied due to roughness analysis.\r\n\r\nThe internal \"V.6.9\" block also outputs a variety of diagnostic and intermediate variables, including: `CTR_FQ_ER_VLD`, `CTR_SEG_DLY_I`, `CTR_SEG_DLY_V`, `ER_STD_MAX`, `ER_STD_MAX_FIL`, `ER_STD_MAX_STND_ER`, `FAC_FQ_ER_AD`, `FAC_FQ_ST_AD`, `FAC_FQ_ST_AD_VLD`, `FAC_P_FQ_ER_AD`, `FAC_P_FQ_ER_AD_V`, and `LV_FAC_FQ_END`. Some of these might be identical to the main outputs or represent internal states.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow of the diagram can be described in these steps:\r\n\r\n1.  **Scheduling and Initialization (APP_CDN V.7.2):**\r\n    *   The `APP_CDN V.7.2` block acts as a central scheduler, defining the execution recurrences (SEG, 100ms, 10ms) and initial conditions (`fc_RST`, `fc_SEG`, `fc_100MS`, `fc_10MS`) for the subsequent processing blocks.\r\n    *   **Activation Condition:** The entire adaptation logic is activated only when a complex boolean condition is met: `LV_ST_END` is true AND `LV_FQ_ST_AD` is true AND `LC_FAC_FQ_ER_ENA` is true AND `FAC_P_FQ_ER_AD` is true AND `LV_FAC_FQ_END` is false. This ensures the adaptation runs only under specific, validated operational circumstances.\r\n    *   **Deactivation Condition:** The logic deactivates if `LV_FAC_FQ_END` becomes true, indicating the adaptation process should stop or is complete.\r\n\r\n2.  **Input Signal Acquisition:**\r\n    *   All the detailed input signals listed previously (engine parameters, states, enablement flags) are collected and fed into a common \"input\" bus, which branches to the various processing subsystems.\r\n\r\n3.  **Initialization Subsystem (INI X.1):**\r\n    *   This block receives the `fc_INI` trigger, the full input bundle, and feedback signals. Its purpose is to initialize internal states, variables, or filters at the start of the adaptation process or specific operating phases.\r\n\r\n4.  **Rate-Dependent Processing Subsystems (OPM_SEG X.2, OPM_100MS X.3, OPM_10MS X.4):**\r\n    *   These are the core computational blocks, likely representing different \"Operation Modes\" or calculation routines. They execute at distinct recurrence rates as dictated by the `APP_CDN` scheduler:\r\n        *   `OPM_SEG X.2`: Triggered by `fc_SEG`, processes inputs and internal feedback (`opm_1`) to generate a new `opm_1` bundle (intermediate states/results).\r\n        *   `OPM_100MS X.3`: Triggered by `fc_100MS`, processes inputs and internal feedback (`opm_2`) to generate a new `opm_2` bundle.\r\n        *   `OPM_10MS X.4`: Triggered by `fc_10MS`, processes inputs and internal feedback (`opm_3`) to generate a new `opm_3` bundle.\r\n    *   The use of feedback loops (`opm_1`, `opm_2`, `opm_3` being fed back into their respective `<feedback>` ports) indicates that these blocks maintain internal states, perform filtering, integration, or other time-dependent calculations.\r\n\r\n5.", "mimetype": "text/plain", "start_char_idx": 557155, "end_char_idx": 560747, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "2daf48e1-1995-4537-8a0d-9f42a9220608": {"__data__": {"id_": "2daf48e1-1995-4537-8a0d-9f42a9220608", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "48501cc2-98d0-49dd-8b04-9b090a2581fb", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "8e1316a373e61f960b5c28561338257a448b64362ae12ef0caad0908ba99c546", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c38d2007-dd13-4b3e-b1fd-c46dd08cb4d1", "node_type": "1", "metadata": {}, "hash": "a47864ad4211919519ac289c0d8abefce0c9427d24ecbb9e09f18f387d2b27fb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   The use of feedback loops (`opm_1`, `opm_2`, `opm_3` being fed back into their respective `<feedback>` ports) indicates that these blocks maintain internal states, perform filtering, integration, or other time-dependent calculations.\r\n\r\n5.  **Final Output Calculation (V.6.9):**\r\n    *   The results from the rate-dependent processing blocks (`opm_1`, `opm_2`, `opm_3`) are then combined with direct input signals (from the main input bus) and fed into the \"V.6.9\" block.\r\n    *   This block performs the final computations, likely applying complex algorithms based on the various engine conditions and roughness measurements, to determine the fuel quality adaptation factor and related roughness adaptation increment.\r\n    *   It outputs a wide range of internal variables and diagnostic flags, some of which become the main system outputs.\r\n\r\n6.  **System Outputs:**\r\n    *   The final calculated `FAC_FQ` and `FAC_I_FQ_ER_AD` values are extracted from the output bus of the \"V.6.9\" block and presented as the primary external outputs of the entire fuel quality adaptation system. These outputs would then be used by other parts of the ECU to modify fuel injection strategies.\r\n\r\n\r\n--- Page 164 ---\r\n\r\nThe provided image displays two Simulink diagrams (Figure 4.16.3 and Figure 4.16.4) which detail initialization procedures within an automotive control system. The surrounding text confirms their role in \"Engine roughness based fuel quality adaptation\" and specifically \"Initialization at activation of the segment synchronous task\".\r\n\r\n## Function\r\n\r\nThe primary function of these Simulink diagrams is to **initialize various parameters and validity flags** related to the fuel quality adaptation system based on engine roughness. This initialization occurs when a specific control task (referred to as the \"segment synchronous task\") is activated, likely during engine start or a mode transition. It sets baseline values, calculates initial adaptation factors, and determines their initial validity based on inputs such as start conditions and coolant temperature.\r\n\r\n## Inputs\r\n\r\nThe key inputs to this combined initialization logic are:\r\n\r\n*   **`<FAC_FQ_ST_AD>`**: Factor for Fuel Quality Start Adaptation. (Input for calculating the roughness adaptation factor).\r\n*   **`<TCO_ST>`**: Coolant Temperature at Start. (Used for lookup tables to determine adaptation validity).\r\n*   **`<LV_FQ_ST_AD_OK_1>`**: Level Fuel Quality Start Adaptation OK, a boolean or flag indicating the status of start adaptation. (Controls conditional logic for factor calculation and validity).\r\n*   **`<FAC_FQ_TMP>`**: Factor Fuel Quality Temporary. (An input to an auxiliary function `f()` during initial setup).\r\n*   **Constants**: Literal values `0` and `1` are used as direct assignments or inputs to other blocks.\r\n*   **Implicit functions/gains**: The `f()` and `fc` blocks represent functions or gains, whose specific inputs/values might be internal or derived from other parts of the system not shown.\r\n\r\n(Note: Signals like `<ER_STD_MAX>` or `<CTR_SEG_DLY_P>` are read in Figure 4.16.3, but immediately overwritten by constants. Thus, their initial values from storage are effectively ignored by *this specific initialization logic*, making them not true inputs for the logic flow, but rather state variables being reset.)\r\n\r\n## Outputs\r\n\r\nThe key outputs, which are the parameters being initialized or set by this logic, are:\r\n\r\n*   **`<FAC_FQ>`**: Final calculated Fuel Quality Factor. (Initialized to 1).\r\n*   **`<LV_FAC_FQ_END>`**: Level Factor Fuel Quality End. (Initialized to 1).\r\n*   **`<FAC_FQ_ER_AD>`**: Factor Fuel Quality Engine Roughness Adaptation. (Calculated based on `<FAC_FQ_ST_AD>`, `<LV_FQ_ST_AD_OK_1>`, and feedback).\r\n*   **`<FAC_I_FQ_ER_AD>`**: Factor Integral Fuel Quality Engine Roughness Adaptation. (Calculated, mirrors `<FAC_FQ_ER_AD>` in this initialization phase).\r\n*   **`<FAC_FQ_ST_AD_VLD>`**: Factor Fuel Quality Start Adaptation Valid. (Calculated based on `<TCO_ST>` and `<LV_FQ_ST_AD_OK_1>`).\r\n*   **`<FAC_FQ_ER_AD_VLD>`**: Factor Fuel Quality Engine Roughness Adaptation Valid. (Initialized to 0).\r\n*   **`<ER_STD_MAX_STND>`**: Engine Roughness Standard Deviation Maximum Standard. (Initialized to 0).", "mimetype": "text/plain", "start_char_idx": 560504, "end_char_idx": 564742, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "c38d2007-dd13-4b3e-b1fd-c46dd08cb4d1": {"__data__": {"id_": "c38d2007-dd13-4b3e-b1fd-c46dd08cb4d1", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "2daf48e1-1995-4537-8a0d-9f42a9220608", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "f86b139d4bd8c9c3478c8962d0a02d81dbf405bb71e3599c277ea9bd32ecc9c7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8b6b2765-c0e3-46a5-bc52-5b4c4d603837", "node_type": "1", "metadata": {}, "hash": "2715dbddbd3301cb0d02e05366dd07e74b059f18a17fe70385a56bd54c881304", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "(Calculated based on `<TCO_ST>` and `<LV_FQ_ST_AD_OK_1>`).\r\n*   **`<FAC_FQ_ER_AD_VLD>`**: Factor Fuel Quality Engine Roughness Adaptation Valid. (Initialized to 0).\r\n*   **`<ER_STD_MAX_STND>`**: Engine Roughness Standard Deviation Maximum Standard. (Initialized to 0).\r\n\r\n## Logic Flow\r\n\r\nThe initialization process can be broken down into the following steps, combining the logic from both Figure 4.16.3 and Figure 4.16.4:\r\n\r\n1.  **Direct Parameter Assignments (Figure 4.16.3):**\r\n    *   The system directly sets several output parameters to fixed constant values:\r\n        *   `<FAC_FQ>` is set to `1`.\r\n        *   `<LV_FAC_FQ_END>` is set to `1`.\r\n        *   `<FAC_FQ_ER_AD>` is initially set to `1`. (This value will be subsequently updated by the logic in Figure 4.16.4).\r\n        *   `<FAC_FQ_ST_AD_VLD>` is initially set to `0`. (This value will also be subsequently updated by the logic in Figure 4.16.4).\r\n        *   `<FAC_FQ_ER_AD_VLD>` is set to `0`.\r\n        *   `<ER_STD_MAX_STND>` is set to `0`.\r\n    *   An auxiliary function `f()` is called, taking `<FAC_FQ_TMP>` as an input. Its output's destination is not explicitly shown but is part of the initial state setup.\r\n\r\n2.  **Calculate Fuel Quality Engine Roughness Adaptation Factor (Figure 4.16.4 - Top Path):**\r\n    *   The input `<FAC_FQ_ST_AD>` is read and `1` is added to it.\r\n    *   This result feeds into a complex feedback loop (blocks `V.7.7`, `V.7.8`, and `f()`/`fc`). This structure is typical for calculating an integral or accumulating state value.\r\n        *   A multiplier block `V.7.8` takes the output of `V.7.7` and multiplies it by `f()` (labeled `fc`, likely a gain).\r\n        *   A switch block `V.6.8` selects between the output of `V.7.7` and the output of the multiplier `V.7.8`, controlled by the boolean input `<LV_FQ_ST_AD_OK_1>`.\r\n        *   The output of the switch `V.6.8` is fed back into the sum `V.7.7` and also assigned to both `<FAC_FQ_ER_AD>` and `<FAC_I_FQ_ER_AD>`. This means both adaptation factors receive the calculated value from this feedback loop.\r\n\r\n3.  **Calculate Fuel Quality Start Adaptation Validity (Figure 4.16.4 - Bottom Path):**\r\n    *   The input `<TCO_ST>` (Coolant Temperature at Start) is used as an input (`x_val`) to a 1D lookup table named `IP_FAC_FQ_ST_AD_VLD`. This lookup table determines an initial validity value (`IP_val`) based on the coolant temperature.\r\n    *   This `IP_val` from the lookup table, along with the boolean flag `<LV_FQ_ST_AD_OK_1>` and a constant `0`, are fed into a relay/latch block `V.6.10` with a condition \"Check ~= 0\".\r\n    *   Based on this condition, the relay/latch block sets the final value of `<FAC_FQ_ST_AD_VLD>`. This typically means if the lookup table output or `<LV_FQ_ST_AD_OK_1>` indicates a valid state (e.g., non-zero), the output validity flag is set accordingly (e.g., to 1).\r\n\r\n\r\n--- Page 165 ---\r\n\r\nThis image contains two distinct Simulink diagrams:\r\n1.  **Figure 4.16.5**: Titled \"ALFU. Engine roughness based fuel quality adaptation\". This is the primary functional block.\r\n2.  **Figure 4.16.6**: Titled \"4.16.1.4 Initialisation at ES2ERU\". This is an initialization sub-system.\r\n\r\nI will analyze both parts as they relate to a common system context.\r\n\r\n---\r\n\r\n## Function\r\n\r\nThe primary function of the main diagram (Figure 4.16.5) is to calculate and adapt a \"Fuel Quality\" factor (`FAC_FQ`) based on various engine roughness-related status and error adaptation values.", "mimetype": "text/plain", "start_char_idx": 564474, "end_char_idx": 567932, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "8b6b2765-c0e3-46a5-bc52-5b4c4d603837": {"__data__": {"id_": "8b6b2765-c0e3-46a5-bc52-5b4c4d603837", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c38d2007-dd13-4b3e-b1fd-c46dd08cb4d1", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "c12c88cee48cd80fe4086ac4868504f8a2ce071f92e82827c977c1ab96e9d295", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7fa3c5d3-3f67-4330-b238-f6b065bb6160", "node_type": "1", "metadata": {}, "hash": "57bd340c43519697c8df722ebb8db7f4a39573e4ce9e4042939b0268ef03d663", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This is an initialization sub-system.\r\n\r\nI will analyze both parts as they relate to a common system context.\r\n\r\n---\r\n\r\n## Function\r\n\r\nThe primary function of the main diagram (Figure 4.16.5) is to calculate and adapt a \"Fuel Quality\" factor (`FAC_FQ`) based on various engine roughness-related status and error adaptation values. It involves applying validity checks, conditional logic, and 2D table lookups to derive a dynamic fuel quality value.\r\n\r\nThe secondary diagram (Figure 4.16.6) provides an initialization routine for two filter parameters (`<ER_STD_MAX_FIL>` and `<ER_STD_MAX_STND_FIL>`). It uses a status input to perform 1D table lookups to set initial values for these filters.\r\n\r\n## Inputs\r\n\r\n**For Figure 4.16.5 (Fuel Quality Adaptation):**\r\n*   `<FAC_FQ_ST_AD>`: Fuel Quality Status Adaptation (appears multiple times, suggesting different aspects or stages)\r\n*   `<FAC_FQ_ST_AD_VLD>`: Fuel Quality Status Adaptation Valid flag\r\n*   `<FAC_FQ_ER_AD_VLD>`: Fuel Quality Error Adaptation Valid flag\r\n*   `<FAC_FQ_ER_AD>`: Fuel Quality Error Adaptation (appears multiple times)\r\n*   `LC_FAC_FQ_ENA`: Enable signal for the Fuel Quality adaptation calculation\r\n\r\n**For Figure 4.16.6 (Initialization):**\r\n*   `<TCO_ST>`: A status or input value (likely \"Temperature Control Output Status\" or similar context-specific status)\r\n\r\n## Outputs\r\n\r\n**For Figure 4.16.5 (Fuel Quality Adaptation):**\r\n*   `FAC_FQ`: The final calculated/adapted Fuel Quality factor\r\n\r\n**For Figure 4.16.6 (Initialization):**\r\n*   `<ER_STD_MAX_FIL>`: Initialized Maximum Error Standard Deviation Filter value\r\n*   `<ER_STD_MAX_STND_FIL>`: Initialized Maximum Standard (or Standing) Error Standard Deviation Filter value\r\n\r\n## Logic Flow\r\n\r\nThe logical flow is described for each diagram separately:\r\n\r\n### Logic Flow for Figure 4.16.5 (Fuel Quality Adaptation)\r\n\r\n1.  **Calculation of `LC_FAC_FQ_MV` (Local Fuel Quality Multiplier Value):**\r\n    *   **Branch 1 (Status Adaptation):** The input `<FAC_FQ_ST_AD>` is multiplied by its validity flag `<FAC_FQ_ST_AD_VLD>` (`V.7.8`). Then, `1` is added to this product (`V.7.7`).\r\n    *   **Conditional Selection:** The result of the `V.7.7` adder from Branch 1 is compared to `0` (`V.6.6`).\r\n        *   If the result is `> 0`, the output of the `V.7.7` adder from Branch 1 is passed through the `if` branch of the If-Else block (`V.6.4`).\r\n        *   If the result is `0` or less, a constant `1` (`V.6.11`) is passed through the `else` branch of the If-Else block.\r\n    *   **Branch 2 (Error Adaptation):** The input `<FAC_FQ_ER_AD>` is multiplied by its validity flag `<FAC_FQ_ER_AD_VLD>` (`V.7.8`). Then, `1` is added to this product (`V.7.7`).\r\n    *   **Multiplication:** The conditionally selected value from Branch 1 (consolidated by the `Merge` block `V.7.7`) is multiplied by the result of Branch 2 (`V.7.7`). This final product is `LC_FAC_FQ_MV`.\r\n\r\n2.  **Calculation of `IP_val` (Interpolated Value):**\r\n    *   Two sets of inputs (`<FAC_FQ_ST_AD>` and `<FAC_FQ_ER_AD>`) are processed. Each set undergoes a summation with `1` (`V.7.7`), followed by a multiplication (`V.7.8`). These intermediate results are labeled `x_val` and `y_val`.\r\n    *   `x_val` and `y_val` serve as the input coordinates for a 2D lookup table named `IP_FAC_FQ_END` (`V.7.11`). This table performs interpolation to produce an `IP_val`.\r\n\r\n3.", "mimetype": "text/plain", "start_char_idx": 567602, "end_char_idx": 570958, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7fa3c5d3-3f67-4330-b238-f6b065bb6160": {"__data__": {"id_": "7fa3c5d3-3f67-4330-b238-f6b065bb6160", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8b6b2765-c0e3-46a5-bc52-5b4c4d603837", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "a1de258b61df7513ada0fc73b7800b1d72731aa2291b2c3f750e1bcb2e487508", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "aed896e0-5c09-4b82-af2b-1a9daa6d48f1", "node_type": "1", "metadata": {}, "hash": "834b7c9dda2199e4860dd839294cfd8673ac368f39cc7bc246ea1b957f974db0", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "These intermediate results are labeled `x_val` and `y_val`.\r\n    *   `x_val` and `y_val` serve as the input coordinates for a 2D lookup table named `IP_FAC_FQ_END` (`V.7.11`). This table performs interpolation to produce an `IP_val`.\r\n\r\n3.  **Final `FAC_FQ` Calculation:**\r\n    *   `LC_FAC_FQ_MV` (from step 1) and `IP_val` (from step 2) are multiplied together (`V.6.11`).\r\n    *   This product is then fed into a Switch block (indicated by \"Check ~= 0\", `V.6.10`).\r\n        *   If `LC_FAC_FQ_ENA` is active (non-zero), the multiplied product (`LC_FAC_FQ_MV * IP_val`) is passed through.\r\n        *   If `LC_FAC_FQ_ENA` is inactive (zero), a constant `1` (`V.6.11`) is passed through.\r\n    *   The output of the Switch block is then scaled by a gain factor (`V.6.8`) to produce the final `FAC_FQ`.\r\n\r\n### Logic Flow for Figure 4.16.6 (Initialization)\r\n\r\n1.  The input `<TCO_ST>` is fed as `x_val` into two separate 1D lookup tables.\r\n2.  **First Filter Initialization:** `<TCO_ST>` (`x_val`) is used as an index for the lookup table `IP_ER_STD_MAX_FIL_INI` (`V.7.11`). The output `IP_val` from this table lookup directly sets the value of `<ER_STD_MAX_FIL>`.\r\n3.  **Second Filter Initialization:** Concurrently, `<TCO_ST>` (`x_val`) is also used as an index for the lookup table `IP_ER_STD_MAX_STND_FIL_INI` (`V.7.11`). The output `IP_val` from this table lookup directly sets the value of `<ER_STD_MAX_STND_FIL>`.\r\n    This indicates that both filter parameters are initialized based on the `TCO_ST` value using predefined characteristic curves.\r\n\r\n\r\n--- Page 166 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram, titled \"4.16.2 Segment sysncrounous task\" under \"ALFU. Engine roughness based fuel quality adaptation,\" describes a synchronous task within an automotive engine control unit. Its primary function is to calculate and manage adaptation factors and control signals related to fuel quality based on real-time engine roughness measurements and various engine operating conditions.\r\n\r\nSpecifically, it aims to:\r\n1.  Determine the maximum engine roughness across all cylinders (`ER_STD_MAX`).\r\n2.  Filter and standardize these roughness values (`ER_STD_MAX_FIL`, `ER_STD_MAX_STND`).\r\n3.  Implement proportional (P) and integral (I) control logic (`CLC_P`, `CLC_I`) to derive fuel quality adaptation factors (`FAC_P_FQ_ER_AD`, `FAC_I_FQ_ER_AD`).\r\n4.  Generate segment delay counters (`CTR_SEG_DLY_P`, `CTR_SEG_DLY_I`) and a fuel quality roughness validation counter (`CTR_FQ_ER_VLD`).\r\n5.  Conditionally update these factors and counters based on internal logic.\r\n6.  Combine proportional and integral factors into a final fuel quality adaptation factor (`FAC_FQ_ER_AD`) and provide a validation signal (`FAC_FQ_ER_AD_VLD`).\r\nThese outputs are typically used to adjust fuel injection strategies to maintain optimal engine operation despite variations in fuel quality or engine wear.\r\n\r\n## Inputs\r\n\r\nThe diagram receives a comprehensive set of inputs, including raw engine roughness data, engine operating parameters, sensor readings, and feedback values from previous processing cycles.\r\n\r\n**Primary External Inputs:**\r\n*   **`ER_STD_AFU`**: Engine Roughness Standard Deviation - All Cylinders (Unfiltered).\r\n*   **`LV_ER_STND_ER_AFU_ACT`**: Level of Engine Roughness Standard - All Cylinders - Actual.\r\n*   **`LV_DRV1_STND_AFU_FDOUT`**: Level of Driver 1 Standard - All Cylinders - Fuel Demand Out.\r\n*   **`TCO`**: Coolant Temperature.\r\n*   **`STATE_ENG`**: Current Engine Operating State.\r\n*   **`N_32`, `N`**: Engine Speed (possibly different resolutions or uses).\r\n*   **`MAF_STK_FG_PRED`**: Mass Air Flow per Stroke for Fuel Group - Predicted.\r\n*   **`EFF_IGA_AV`**: Average Effective Ignition Angle.", "mimetype": "text/plain", "start_char_idx": 570719, "end_char_idx": 574427, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "aed896e0-5c09-4b82-af2b-1a9daa6d48f1": {"__data__": {"id_": "aed896e0-5c09-4b82-af2b-1a9daa6d48f1", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7fa3c5d3-3f67-4330-b238-f6b065bb6160", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "05577b23d2a6bf42693c15d23fa9ee14922b8505da9486991a14e421ce458301", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7ecce3ff-f380-4c80-ac16-64a8c00ce3d6", "node_type": "1", "metadata": {}, "hash": "9484385c211e06cc0d04bd70a40717419d81857b7f3c178928057f91736609bb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **`TCO`**: Coolant Temperature.\r\n*   **`STATE_ENG`**: Current Engine Operating State.\r\n*   **`N_32`, `N`**: Engine Speed (possibly different resolutions or uses).\r\n*   **`MAF_STK_FG_PRED`**: Mass Air Flow per Stroke for Fuel Group - Predicted.\r\n*   **`EFF_IGA_AV`**: Average Effective Ignition Angle.\r\n*   **`LAMB_SP_MV`**: Lambda Sensor Power - Measured Value.\r\n*   **`TCO_ST`**: Coolant Temperature Status.\r\n*   **`T_AST`**: Ambient Temperature.\r\n*   **`LAMB_LS_UP`**: Upstream Lambda Sensor Reading.\r\n*   **`LV_LAM_LSCL`**: Level of Lambda Sensor Closed Loop control.\r\n*   **`IDX_CMB_MOD_CUR`**: Index of Current Combustion Mode.\r\n*   **`NC_NR_CMB_ER_STD_STND_MPL`**: (Complex signal, likely related to Combustion Roughness Standard Standardized Multiplier).\r\n*   **`FUP`**: Fuel Pressure.\r\n*   **`FAC_MFF_MPL_INJ_HOM`**: Factor for Multi-Fuel Flow, Multiple Injection, Homogeneous Mode.\r\n\r\n**Feedback Inputs (Internal States from previous cycles):**\r\n*   **`ER_STD_MAX_FIL`**: Filtered Maximum Engine Roughness Standard Deviation.\r\n*   **`ER_STD_MAX_STND_FIL`**: Filtered and Standardized Maximum Engine Roughness Standard Deviation.\r\n*   **`FAC_P_FQ_ER_AD`**: Proportional Fuel Quality Engine Roughness Adaptation Factor.\r\n*   **`CTR_SEG_DLY_P`**: Segment Delay Counter for Proportional control.\r\n*   **`FAC_I_FQ_ER_AD`**: Integral Fuel Quality Engine Roughness Adaptation Factor.\r\n*   **`CTR_FQ_ER_VLD`**: Fuel Quality Engine Roughness Validation Counter.\r\n\r\n## Outputs\r\n\r\nThe system primarily outputs adaptation factors and control signals, many of which are fed back into the system for the next execution cycle.\r\n\r\n*   **`FAC_P_FQ_ER_AD`**: Proportional Fuel Quality Engine Roughness Adaptation Factor.\r\n*   **`CTR_SEG_DLY_P`**: Segment Delay Counter for Proportional control.\r\n*   **`FAC_I_FQ_ER_AD`**: Integral Fuel Quality Engine Roughness Adaptation Factor.\r\n*   **`CTR_FQ_ER_VLD`**: Fuel Quality Engine Roughness Validation Counter.\r\n*   (Internal/Intermediate outputs: `FAC_FQ_ER_AD`, `FAC_FQ_ER_AD_VLD` are calculated but not routed to the top-level output port, implying they are used downstream within the same module or a subsequent one).\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into several stages of roughness processing, control logic, conditional updates, and final factor generation:\r\n\r\n1.  **Maximum Roughness Calculation (ER_STD_MAX X.2.1):**\r\n    *   The `ER_STD_AFU` (unfiltered roughness across all cylinders) is fed into the `ER_STD_MAX` block.\r\n    *   As per the supporting text, this block calculates `ER_STD_MAX`, which represents the maximum roughness detected among all cylinders.\r\n\r\n2.  **Filtered Maximum Roughness (ER_STD_MAX_FIL X.2.2):**\r\n    *   `ER_STD_MAX` (from X.2.1) along with other standard levels (`LV_ER_STND_ER_AFU_ACT`, `LV_DRV1_STND_AFU_FDOUT`) and feedback signals (`ER_STD_MAX_FIL`, `ER_STD_MAX_STND_FIL`) are processed here.\r\n    *   This block applies filtering to the maximum roughness signal, producing `ER_STD_MAX_FIL`. The use of feedback suggests an IIR filter or state-dependent filtering.\r\n\r\n3.  **Standardized Maximum Roughness (ER_STD_MAX_STND X.2.4):**\r\n    *   A large number of engine parameters (`STATE_ENG`, `N`, `MAF_STK_FG_PRED`, `EFF_IGA_AV`, `LAMB_SP_MV`, temperatures, fuel characteristics, etc.) are fed into this block.\r\n    *   This block calculates `ER_STD_MAX_STND`, which is a standardized version of the maximum engine roughness, taking into account various engine operating conditions to provide a comparable reference. Feedback of `ER_STD_MAX_STND_FIL` is used here.\r\n\r\n4.", "mimetype": "text/plain", "start_char_idx": 574123, "end_char_idx": 577701, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "7ecce3ff-f380-4c80-ac16-64a8c00ce3d6": {"__data__": {"id_": "7ecce3ff-f380-4c80-ac16-64a8c00ce3d6", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "aed896e0-5c09-4b82-af2b-1a9daa6d48f1", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "38a64529785b16ce6fab0fb72849c497d2b80002be147cb950e25d11ff1e29a5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a08276d1-8b3e-49cf-b5d8-17be666982f3", "node_type": "1", "metadata": {}, "hash": "727489127493f159f0acc29401ee48b58aa9d237cd984bf29942ffeec328c545", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "are fed into this block.\r\n    *   This block calculates `ER_STD_MAX_STND`, which is a standardized version of the maximum engine roughness, taking into account various engine operating conditions to provide a comparable reference. Feedback of `ER_STD_MAX_STND_FIL` is used here.\r\n\r\n4.  **Proportional Control Logic (CLC_P X.2.3):**\r\n    *   Inputs include `ER_STD_MAX` (raw max roughness), `ER_STD_MAX_FIL` (filtered max roughness), relevant standard levels, `TCO`, and feedback of the proportional adaptation factor (`FAC_P_FQ_ER_AD`), segment delay counter (`CTR_SEG_DLY_P`), and integral factor (`FAC_I_FQ_ER_AD`).\r\n    *   This block computes the `FAC_P_FQ_ER_AD` and `CTR_SEG_DLY_P` components, along with an enable signal `clc_p` which controls subsequent conditional processing.\r\n\r\n5.  **Integral Control Logic (CLC_I X.2.5):**\r\n    *   Inputs include `ER_STD_MAX_FIL`, `ER_STD_MAX_STND_FIL` (filtered standardized roughness), relevant standard levels, `TCO`, and feedback of `FAC_I_FQ_ER_AD`, `FAC_P_FQ_ER_AD`, `CTR_FQ_ER_VLD`, and an internal `CTR_SEG_DLY_I`.\r\n    *   This block computes `FAC_I_FQ_ER_AD` and `CTR_FQ_ER_VLD`, along with an enable signal `clc_i`.\r\n\r\n6.  **Conditional Processing (V.6.8 Blocks):**\r\n    *   Multiple `V.6.8` blocks are strategically placed. These blocks typically represent enabled subsystems or function calls that execute only when their enable signal is active.\r\n    *   The top two `V.6.8` blocks are enabled by `clc_p` (from X.2.3) and process `FAC_P_FQ_ER_AD` and `CTR_SEG_DLY_P`.\r\n    *   Other `V.6.8` blocks are enabled by `clc_i` (from X.2.5) and process `FAC_I_FQ_ER_AD`, and other combined signals including `FAC_P_FQ_ER_AD` and `CTR_FQ_ER_VLD`.\r\n    *   This conditional execution ensures that adaptation factors and counters are updated only when appropriate conditions are met, preventing unstable or incorrect adjustments.\r\n\r\n7.  **Final Adaptation Factor Combination (FAC_FQ_ER_AD X.2.6):**\r\n    *   The (potentially conditionally updated) `FAC_I_FQ_ER_AD` and `FAC_P_FQ_ER_AD` are fed into this block.\r\n    *   This block combines the proportional and integral components to yield the comprehensive `FAC_FQ_ER_AD`, the final fuel quality adaptation factor based on engine roughness.\r\n\r\n8.  **Final Validation (FAC_FQ_ER_AD_VLD X.2.7):**\r\n    *   The `CTR_FQ_ER_VLD` (from X.2.5, potentially after conditional processing) and `TCO_ST` are inputs.\r\n    *   This block calculates `FAC_FQ_ER_AD_VLD`, a validation signal indicating the reliability or applicability of the calculated adaptation factor.\r\n\r\nThe outputs (`FAC_P_FQ_ER_AD`, `CTR_SEG_DLY_P`, `FAC_I_FQ_ER_AD`, `CTR_FQ_ER_VLD`) are then passed out of this synchronous task, which would typically be fed back into the system for the next cycle or utilized by other modules responsible for applying these adaptations to fuel injection or other engine parameters.\r\n\r\n\r\n--- Page 167 ---\r\n\r\nThis image contains a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of the main Simulink diagram (Figure 4.16.9, \"Filtering of ER_STD_MAX\") is to filter the raw maximum engine roughness standard (`ER_STD_MAX`) to produce a smoothed, adapted value (`ER_STD_MAX_FIL`). This filtering process is conditionally enabled and features a conditional reset or re-initialization mechanism, likely tied to the operational state of an engine roughness-based fuel quality adaptation system and fault conditions. The `ER_STD_MAX` signal itself is derived from `ER_STD_AFU` via a 'max' operation (Figure 4.16.8).\r\n\r\n## Inputs\r\n1.  **`<LV_ER_STND_ER_AFU_ACT>`**: A boolean signal indicating if the engine roughness-based fuel quality adaptation is active.\r\n2.  **`<LV_DRV1_STND_AFU_FDOUT>`**: A boolean signal indicating a drive-related fault output from the adaptation system.\r\n3.", "mimetype": "text/plain", "start_char_idx": 577417, "end_char_idx": 581192, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a08276d1-8b3e-49cf-b5d8-17be666982f3": {"__data__": {"id_": "a08276d1-8b3e-49cf-b5d8-17be666982f3", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7ecce3ff-f380-4c80-ac16-64a8c00ce3d6", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "911883c292f5703fe24146cb5b6e19815ce3f884f007d168e1242db246c644b1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f9904118-6e03-4092-af9a-0f7b00bde989", "node_type": "1", "metadata": {}, "hash": "d2edafa8b019ebb4e23d446fae1ff1029b35fc9311491dc294cc11266058a354", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Inputs\r\n1.  **`<LV_ER_STND_ER_AFU_ACT>`**: A boolean signal indicating if the engine roughness-based fuel quality adaptation is active.\r\n2.  **`<LV_DRV1_STND_AFU_FDOUT>`**: A boolean signal indicating a drive-related fault output from the adaptation system.\r\n3.  **`C_CRLC_ER_STD_MAX`**: A constant or parameter representing the gain or coefficient for the filter's proportional error term.\r\n4.  **`<ER_STD_MAX>`**: The unfiltered maximum engine roughness standard value (input to the filter's error calculation).\r\n5.  **`<ER_STD_MAX_FIL>`**: The previously calculated filtered maximum engine roughness standard value (used for feedback in the filter's error calculation).\r\n6.  **`<ER_STD_MAX_STND_FIL>`**: A standard or reference filtered engine roughness value, used as a potential reset/override value.\r\n7.  **`C_FAC_ER_STD_MAX_STND_FIL_FDOUT`**: A constant or factor, likely a fault-related default value, used as an alternative potential reset/override value.\r\n\r\n## Outputs\r\n1.  **`<ER_STD_MAX_FIL>`**: The filtered maximum engine roughness standard, intended for further use (e.g., I-part calculation as per the text description).\r\n\r\n## Logic Flow\r\n\r\nThe logical flow can be broken down into several stages, centered around the core filtering operation and its conditional control:\r\n\r\n1.  **Filter Enable Condition (`filter_enable`):**\r\n    *   The boolean signal `<LV_DRV1_STND_AFU_FDOUT>` is inverted by a `NOT` gate.\r\n    *   The inverted signal and `<LV_ER_STND_ER_AFU_ACT>` are fed into an `AND` gate.\r\n    *   The output of this `AND` gate, let's call it `filter_enable`, becomes TRUE only when the adaptation is active (`LV_ER_STND_ER_AFU_ACT` is TRUE) AND there is no drive-related fault (`LV_DRV1_STND_AFU_FDOUT` is FALSE). This `filter_enable` signal controls the overall operation of the filter.\r\n\r\n2.  **Filter Error Calculation:**\r\n    *   A subtractor calculates the difference between the current unfiltered maximum standard `<ER_STD_MAX>` and the previous filtered value `<ER_STD_MAX_FIL>`. This forms the error term: `Error = ER_STD_MAX - ER_STD_MAX_FIL`.\r\n\r\n3.  **Proportional Gain Application:**\r\n    *   The `Error` term is multiplied by the parameter `C_CRLC_ER_STD_MAX` (represented by the 'm' block). This produces an incremental value `y = C_CRLC_ER_STD_MAX * Error`. This `y` represents the adjustment needed for the filtered value in the current time step.\r\n\r\n4.  **Reset/Override Value Selection (`reset_value`):**\r\n    *   An 'X' block (likely a multiplexer or switch) selects between two input values: `<ER_STD_MAX_STND_FIL>` and `C_FAC_ER_STD_MAX_STND_FIL_FDOUT`.\r\n    *   The selection is controlled by the `filter_enable` signal (output of the `AND` gate).\r\n    *   If `filter_enable` is TRUE, the 'X' block outputs `ER_STD_MAX_STND_FIL`.\r\n    *   If `filter_enable` is FALSE, the 'X' block outputs `C_FAC_ER_STD_MAX_STND_FIL_FDOUT`.\r\n    *   This selected output is referred to as `reset_value`.\r\n\r\n5.  **Conditional Filter State Update (`Check ~= 0` block):**\r\n    *   This block represents a discrete-time filter or integrator with conditional update and reset capabilities, typically a Unit Delay with Enable and Reset ports.\r\n    *   The `filter_enable` signal acts as the **Enable** port:\r\n        *   If `filter_enable` is TRUE, the filter is active and processes updates.\r\n        *   If `filter_enable` is FALSE, the filter holds its last value.\r\n    *   The `filter_enable` signal also acts as the **Reset** trigger (indicated by `Check ~= 0` near the reset input):\r\n        *   If `filter_enable` is TRUE, the filter is **reset** to the `reset_value` provided by the 'X' block. Since `filter_enable` is TRUE, the `reset_value` will be `ER_STD_MAX_STND_FIL`. This means when the filter becomes enabled, it is first initialized/reset to the `ER_STD_MAX_STND_FIL` value.\r\n        *   If `filter_enable` is FALSE, the reset is inactive.", "mimetype": "text/plain", "start_char_idx": 580928, "end_char_idx": 584812, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "f9904118-6e03-4092-af9a-0f7b00bde989": {"__data__": {"id_": "f9904118-6e03-4092-af9a-0f7b00bde989", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a08276d1-8b3e-49cf-b5d8-17be666982f3", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "aebb4fa5371e9f2bcc82bb482a4acba37b848f71dcd6d2282fdcfeef0f9f350d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5eb98923-456a-455e-82ec-9b3a73693899", "node_type": "1", "metadata": {}, "hash": "6f17e91493a802e16d1ea7a3ad121cab29f2aebbaac5dc2696152143b6cf7507", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Since `filter_enable` is TRUE, the `reset_value` will be `ER_STD_MAX_STND_FIL`. This means when the filter becomes enabled, it is first initialized/reset to the `ER_STD_MAX_STND_FIL` value.\r\n        *   If `filter_enable` is FALSE, the reset is inactive.\r\n    *   The output `y` from the 'm' block (the incremental adjustment) is the data input to the filter's accumulation/integration.\r\n    *   The output of this block is the final filtered value, `<ER_STD_MAX_FIL>`.\r\n\r\n**In summary:** When the engine roughness adaptation is active and no drive-related fault is present, the `<ER_STD_MAX_FIL>` is reset to `<ER_STD_MAX_STND_FIL>` and then continuously updated in each time step by adding `C_CRLC_ER_STD_MAX` times the difference between `ER_STD_MAX` and its own previous value. If the adaptation is inactive or a fault occurs, the filter either holds its last value or is implicitly forced to a fault-related value (the specific hold/force behavior depends on precise implementation details of \"Check ~= 0\" when disabled, but the reset logic when enabled is clear).\r\n\r\n\r\n--- Page 169 ---\r\n\r\nThis image contains two distinct Simulink diagrams, both related to \"Engine roughness based fuel quality adaptation\" (ALFU). I will analyze each diagram separately as they represent different functional blocks within the broader system.\r\n\r\n---\r\n\r\n## Function (Overall System Context)\r\n\r\nThe provided Simulink diagrams describe parts of an engine roughness-based fuel quality adaptation system.\r\n**Figure 4.16.11** calculates and updates proportional (P-part) and integral (I-part) fuel quality error adaptation factors, using lookup tables and applying saturation limits. It also appears to initialize or reference a P-part segment delay counter.\r\n**Figure 4.16.12** implements the specific logic for decrementing this P-part delay counter, ensuring it does not fall below zero.\r\nTogether, these components contribute to a control strategy that dynamically adjusts fuel parameters to improve engine smoothness based on perceived fuel quality and manages associated timing or delay mechanisms.\r\n\r\n---\r\n\r\n## Figure 4.16.11 Analysis\r\n\r\n### ## Function\r\nThis diagram is responsible for continuously calculating and updating the proportional (P) and integral (I) fuel quality error adaptation factors (`<FAC_P_FQ_ER_AD>` and `<FAC_I_FQ_ER_AD>`). It determines incremental adjustments based on an input `TCQ` using 1D lookup tables and feeds these adjustments back into the existing factors. The P-part factor is also constrained by a maximum limit and a lower bound of zero. Additionally, it provides a reference or initial value for the P-part segment delay counter.\r\n\r\n### ## Inputs\r\n*   `<TCQ>`: The primary input, likely representing a torque, fuel quality, or engine condition signal used for lookup table indexing.\r\n*   `C_FAC_P_FQ_ER_AD_MAX` (V.6.11): A constant defining the upper limit for the proportional adaptation factor.\r\n*   `<FAC_P_FQ_ER_AD>` (feedback): The current value of the proportional fuel quality error adaptation factor.\r\n*   `<FAC_I_FQ_ER_AD>` (feedback): The current value of the integral fuel quality error adaptation factor.\r\n*   `C_NR_SEG_DLY_P` (V.6.11): A constant representing the initial or reference value for the P-part segment delay counter.\r\n\r\n### ## Outputs\r\n*   `<FAC_P_FQ_ER_AD>`: The updated proportional fuel quality error adaptation factor.\r\n*   `<FAC_I_FQ_ER_AD>`: The updated integral fuel quality error adaptation factor.\r\n*   `<CTR_SEG_DLY_P>`: The P-part segment delay counter, whose value is directly taken from `C_NR_SEG_DLY_P` in this diagram.\r\n\r\n### ## Logic Flow\r\n1.  **Proportional (P-part) Adaptation Factor Calculation:**\r\n    *   The input `<TCQ>` is fed into a 1D lookup table labeled `IP_FAC_P_FQ_ER_AD_INC_P` (V.7.11). This table outputs an incremental/decremental value (`x_val`) for the P-part based on the `<TCQ>` input.\r\n    *   This `x_val` is added to the previous value of `<FAC_P_FQ_ER_AD>` using an adder block (V.7.7).\r\n    *   The sum is then passed to a saturation block (V.6.20, shown as a `MINMAX` block).", "mimetype": "text/plain", "start_char_idx": 584558, "end_char_idx": 588629, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "5eb98923-456a-455e-82ec-9b3a73693899": {"__data__": {"id_": "5eb98923-456a-455e-82ec-9b3a73693899", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f9904118-6e03-4092-af9a-0f7b00bde989", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "31bc554a8977272c947d400ebb4c671840cdf32557bf5d8b8c791d6340555e4a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "787f297a-4334-45a7-a639-ada431750893", "node_type": "1", "metadata": {}, "hash": "a217302b0930c55250068b81e8e3c3ba373791cd2ff73f36c4efa6089b9ee90a", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "This table outputs an incremental/decremental value (`x_val`) for the P-part based on the `<TCQ>` input.\r\n    *   This `x_val` is added to the previous value of `<FAC_P_FQ_ER_AD>` using an adder block (V.7.7).\r\n    *   The sum is then passed to a saturation block (V.6.20, shown as a `MINMAX` block). This block limits the value, ensuring it stays between `0` (implicit lower bound, often an input to `MINMAX` blocks) and `C_FAC_P_FQ_ER_AD_MAX`.\r\n    *   The output of the saturation block becomes the new, updated `<FAC_P_FQ_ER_AD>`.\r\n2.  **Integral (I-part) Adaptation Factor Calculation:**\r\n    *   The input `<TCQ>` is also fed into another 1D lookup table labeled `IP_FAC_I_FQ_ER_AD_INC_P` (V.7.11). This table outputs an incremental/decremental value (`x_val`) for the I-part based on the `<TCQ>` input.\r\n    *   This `x_val` is added to the previous value of `<FAC_I_FQ_ER_AD>` using an adder block (V.7.7).\r\n    *   The output of this adder block becomes the new, updated `<FAC_I_FQ_ER_AD>`.\r\n3.  **P-part Segment Delay Counter Initialization/Reference:**\r\n    *   The constant `C_NR_SEG_DLY_P` is directly assigned to the output signal `<CTR_SEG_DLY_P>`. This likely provides an initial value or a fixed reference for the counter, which is then managed elsewhere.\r\n\r\n---\r\n\r\n## Figure 4.16.12 Analysis\r\n\r\n### ## Function\r\nThis diagram specifically implements the decrementation logic for the P-part delay counter (`<CTR_SEG_DLY_P>`). It decrements the counter by one unit at each execution step and ensures that the counter value never goes below zero.\r\n\r\n### ## Inputs\r\n*   `<CTR_SEG_DLY_P>`: The current value of the P-part segment delay counter.\r\n*   Constant `1` (V.6.11): The decrement value.\r\n*   Constant `0` (V.6.11): The lower limit for the counter.\r\n\r\n### ## Outputs\r\n*   `<CTR_SEG_DLY_P>`: The updated (decremented) P-part segment delay counter.\r\n*   `<FAC_P_FQ_ER_AD>`: A pass-through signal for the proportional adaptation factor; it is an output of this functional block but not modified within this specific diagram.\r\n*   `<FAC_I_FQ_ER_AD>`: A pass-through signal for the integral adaptation factor; it is an output of this functional block but not modified within this specific diagram.\r\n\r\n### ## Logic Flow\r\n1.  **Decrement Counter:**\r\n    *   The current value of `<CTR_SEG_DLY_P>` is taken as input.\r\n    *   A constant value `1` is subtracted from `<CTR_SEG_DLY_P>` using a subtractor block (V.7.7).\r\n2.  **Apply Lower Limit (Saturation to Zero):**\r\n    *   The result of the subtraction is then passed to a `max` block (V.6.11).\r\n    *   This `max` block compares the subtracted value with a constant `0`.\r\n    *   The output of the `max` block is the larger of the two inputs, effectively setting the counter to `0` if the subtraction results in a negative value, thus preventing it from going below zero.\r\n3.  **Update Counter:**\r\n    *   The output of the `max` block becomes the new, updated value of `<CTR_SEG_DLY_P>`.\r\n4.  **Adaptation Factor Pass-throughs:**\r\n    *   The signals `<FAC_P_FQ_ER_AD>` and `<FAC_I_FQ_ER_AD>` are shown as outputs of this diagram, indicating they are accessible or relevant within this functional context, but their values are not altered by the logic presented in this specific figure. They are likely passed through from upstream computations.\r\n\r\n\r\n--- Page 170 ---\r\n\r\nThis image is indeed a Simulink-style diagram, though it could be from another block diagram modeling tool often used in automotive embedded systems development.\r\n\r\n## Function\r\nThis diagram illustrates a subsystem responsible for processing and adapting factors related to fuel quality and engine roughness, specifically focusing on proportional (`P`) and integral (`I`) components of an adaptation algorithm. It also computes a \"Segment Delay Counter.\" This process likely contributes to the overall engine control strategy for fuel quality adaptation or engine roughness detection as suggested by the accompanying text.\r\n\r\n## Inputs\r\n1.", "mimetype": "text/plain", "start_char_idx": 588329, "end_char_idx": 592304, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "787f297a-4334-45a7-a639-ada431750893": {"__data__": {"id_": "787f297a-4334-45a7-a639-ada431750893", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5eb98923-456a-455e-82ec-9b3a73693899", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "51c2339f42a8a2fc0deb33d0a4a7339d9ba27c151ef772fc8e43c3b3dfe4702c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3e7e7df8-a737-4bc8-9327-fe62dc69b4c5", "node_type": "1", "metadata": {}, "hash": "80ae08b07a9226ea30bdfecb9ab128a3a04dbd51e8693946deed999ae6c95f66", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "## Function\r\nThis diagram illustrates a subsystem responsible for processing and adapting factors related to fuel quality and engine roughness, specifically focusing on proportional (`P`) and integral (`I`) components of an adaptation algorithm. It also computes a \"Segment Delay Counter.\" This process likely contributes to the overall engine control strategy for fuel quality adaptation or engine roughness detection as suggested by the accompanying text.\r\n\r\n## Inputs\r\n1.  **`<FAC_P_FQ_ER_AD>`**: Factor P (Proportional) for Fuel Quality Engine Roughness Adaptation. This is an input signal representing the current proportional adaptation factor.\r\n2.  **`<FAC_I_FQ_ER_AD>`**: Factor I (Integral) for Fuel Quality Engine Roughness Adaptation. This is an input signal representing the current integral adaptation factor.\r\n\r\n## Outputs\r\n1.  **`<CTR_SEG_DLY_P>`**: Counter Segment Delay P. This output represents a calculated counter or delay value for a specific segment, potentially used in timing or sequencing engine roughness measurements or adaptations.\r\n2.  **`<FAC_P_FQ_ER_AD>` (Output)**: The processed or adapted Factor P for Fuel Quality Engine Roughness Adaptation. This is the output signal after the input proportional factor has undergone a specific processing step.\r\n3.  **`<FAC_I_FQ_ER_AD>` (Output)**: The processed or adapted Factor I for Fuel Quality Engine Roughness Adaptation. This is the output signal after the input integral factor has undergone a specific processing step.\r\n\r\n## Logic Flow\r\n\r\n1.  **Segment Delay Counter Calculation (`CTR_SEG_DLY_P`)**:\r\n    *   A functional block labeled `f()` (representing a function or sub-algorithm) computes a value. The details of this calculation are abstracted within the `f()` block.\r\n    *   A constant value `0` is also provided.\r\n    *   Both the output of `f()` and the constant `0` are routed towards the output `CTR_SEG_DLY_P`. In such diagrams, this often implies that `CTR_SEG_DLY_P` is calculated by `f()` under normal operation, but can be reset to `0` or initialized to `0` under specific conditions (e.g., engine start, specific fault conditions), which are not explicitly shown by a selection switch here. It could also mean the `f()` function itself can output `0` under certain internal conditions. For interpretation, we assume `f()` is the primary source of the calculated delay counter.\r\n\r\n2.  **Fuel Quality Engine Roughness Adaptation Factor Processing (Proportional Term)**:\r\n    *   The input signal `<FAC_P_FQ_ER_AD>` (proportional adaptation factor) is fed into a processing block represented by a triangle symbol, labeled \"V.6.8\".\r\n    *   This \"V.6.8\" block performs a specific operation on the input factor. Given the context of adaptation, this could be a gain, a saturation limit, a filtering operation, or a specific adaptation algorithm step. The label \"V.6.8\" might denote a version number, a parameter ID, or refer to a specific logical block definition.\r\n    *   The result of this operation is then output as the (processed/adapted) `<FAC_P_FQ_ER_AD>` signal.\r\n\r\n3.  **Fuel Quality Engine Roughness Adaptation Factor Processing (Integral Term)**:\r\n    *   In parallel, the input signal `<FAC_I_FQ_ER_AD>` (integral adaptation factor) is fed into an identical processing block, also labeled \"V.6.8\".\r\n    *   This implies that the same type of operation (gain, filter, adaptation step, etc.) as applied to the proportional term is also applied to the integral term.\r\n    *   The result of this second \"V.6.8\" block's operation is then output as the (processed/adapted) `<FAC_I_FQ_ER_AD>` signal.\r\n\r\nIn summary, the diagram depicts a set of calculations where incoming adaptation factors are modified by a common processing step, and a delay counter is determined by an unspecified function, potentially with a reset or default to zero capability.\r\n\r\n\r\n--- Page 171 ---\r\n\r\n## Function\r\n\r\nThis Simulink diagram, titled \"ALFU. Engine roughness based fuel quality adaptation,\" primarily calculates a **filtered standard maximum engine roughness value (`<ER_STD_MAX_STND_FIL>`)**. This value serves as a reference or target for an engine roughness-based fuel quality adaptation strategy. The calculation involves various engine operating conditions, combustion parameters, and environmental factors, processed through multiple lookup tables, logical conditions, and finally a filtering stage.", "mimetype": "text/plain", "start_char_idx": 591830, "end_char_idx": 596222, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "3e7e7df8-a737-4bc8-9327-fe62dc69b4c5": {"__data__": {"id_": "3e7e7df8-a737-4bc8-9327-fe62dc69b4c5", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "787f297a-4334-45a7-a639-ada431750893", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "7991365af26b91aa2c206b5aedee853c8db3c1a4ec3cec2ec434ca3b4f913c43", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a0c5e714-dd57-46fc-9456-fe9049380f9b", "node_type": "1", "metadata": {}, "hash": "2665522e9e3de61e99289fc57377d7b8137649b9ee49c8e9c371402ad8d637eb", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Engine roughness based fuel quality adaptation,\" primarily calculates a **filtered standard maximum engine roughness value (`<ER_STD_MAX_STND_FIL>`)**. This value serves as a reference or target for an engine roughness-based fuel quality adaptation strategy. The calculation involves various engine operating conditions, combustion parameters, and environmental factors, processed through multiple lookup tables, logical conditions, and finally a filtering stage. The overall context suggests it contributes to the 'I-part' (integral part) calculation of a control or adaptation algorithm that adjusts fuel quality based on the difference between actual and standard engine roughness.\r\n\r\n## Inputs\r\n\r\nThe diagram utilizes numerous input signals and parameters, categorized as follows:\r\n\r\n*   **Engine State & Speed:**\r\n    *   `<STATE_ENG>`: Current engine operating state.\r\n    *   `<N_32>`: Engine speed (often in RPM, scaled).\r\n    *   `<N>`: Engine speed (potentially a different scaling or resolution than `<N_32>`).\r\n*   **Air/Fuel/Combustion Parameters:**\r\n    *   `<MAF_STK_FQ_PRED>`: Predicted Mass Air Flow or Fuel Quantity (related to engine load).\r\n    *   `<ID_IDX_CMB_MOD_CUR>`: Current combustion mode index.\r\n    *   `<NC_NR_CMB_ER_STD_STND_MPLH>`: Multiplier/parameter related to combustion mode roughness standard.\r\n    *   `<EFF_IGA_AV>`: Effective ignition angle, averaged.\r\n    *   `<LAMB_LS_UP>`: Upstream lambda sensor value.\r\n    *   `<LV_LAM_LSCL>`: Lambda sensor closed-loop activation status.\r\n    *   `<LC_LAMB_SWI_ER_CLC>`: Lambda switch control for roughness calculation.\r\n    *   `<LAMB_SP_MV>`: Lambda setpoint manipulated variable.\r\n*   **Temperature & Pressure:**\r\n    *   `<TCO>`: Coolant temperature (possibly raw).\r\n    *   `<TCO_ST>`: Coolant temperature (possibly stabilized or filtered).\r\n    *   `<FUP>`: Fuel pressure.\r\n*   **Fuel System Parameters:**\r\n    *   `<C_FUP_MFF_LOW_PRS_MIN>`: Minimum fuel pressure threshold for fuel mass flow.\r\n    *   `<FAC_MFF_MPL_INJ_HOM>`: Factor for fuel mass flow (multi-point injection homogeneous).\r\n    *   `<C_FAC_MFF_MPL_INJ_HOM_MIN>`: Minimum threshold for fuel mass flow factor.\r\n*   **Control & Filter Parameters/States:**\r\n    *   `<C_CRLC_ER_STD_MAX_STND>`: Control parameter for the final roughness standard.\r\n    *   `<ER_STD_MAX_STND_FIL>`: Previous or current value of the filtered standard maximum engine roughness (used as an input for the filter's state/feedback).\r\n\r\n## Outputs\r\n\r\nThe diagram has two primary outputs:\r\n\r\n*   `<ER_STD_MAX_STND>`: An intermediate, unfiltered standard maximum engine roughness value, calculated before the final filtering stage.\r\n*   `<ER_STD_MAX_STND_FIL>`: The final, **filtered standard maximum engine roughness value**, which is the main output of this subsystem.\r\n\r\n## Logic Flow\r\n\r\nThe logical flow calculates the standard roughness value by combining multiple contributing factors derived from different engine operating conditions. This process can be broken down into several parallel branches that converge, followed by a final filtering stage:\r\n\r\n1.  **Base Roughness Determination (Top Branch):**\r\n    *   Based on `<STATE_ENG>` (compared to a constant `2`), a conditional switch (`cond_if`) selects between two 2D lookup tables.\r\n    *   Both lookup tables (`IP_ER_STD_PL_STND` and `IP_ER_STD_IS_STND`) take `<N_32>` (engine speed) and `<MAF_STK_FQ_PRED>` (MAF/FQ) as inputs to output a base `P_val` for engine roughness.\r\n    *   The selected `P_val` then proceeds to a series of cascaded multiplication blocks.\r\n\r\n2.  **Combustion Mode & Ignition Factor (Upper Middle Branch):**\r\n    *   A lookup table (`IP_ID_IDX_CMB_MOD_CUR`) uses `<N>` (engine speed) and `<ID_IDX_CMB_MOD_CUR>` (combustion mode index) to generate an `ID_val`.\r\n    *   This `ID_val` is checked against a constant `1`. The result, along with `<NC_NR_CMB_ER_STD_STND_MPLH>`, feeds into a `Check = 0` switch.", "mimetype": "text/plain", "start_char_idx": 595759, "end_char_idx": 599677, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "a0c5e714-dd57-46fc-9456-fe9049380f9b": {"__data__": {"id_": "a0c5e714-dd57-46fc-9456-fe9049380f9b", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3e7e7df8-a737-4bc8-9327-fe62dc69b4c5", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "bf7b4671e79afc72582ec03fef690f0381aa1be0065034c4d40d6ed55a2f6e38", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "389b7b31-bef1-457a-8ee8-a4209c8188da", "node_type": "1", "metadata": {}, "hash": "53bf077ab2089e31df4c909ba9268f4866fd036f8400ff6cdd2239cc44d39334", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   This `ID_val` is checked against a constant `1`. The result, along with `<NC_NR_CMB_ER_STD_STND_MPLH>`, feeds into a `Check = 0` switch.\r\n    *   The output of this switch is multiplied by the result of another lookup table (`IP_FAC_CMB_ER_STD_STND_MPLH`) which uses `<N_32>` and `<MAF_STK_FQ_PRED>`.\r\n    *   This calculated factor also feeds into the cascaded multiplication blocks.\r\n\r\n3.  **Ignition Angle and Lambda Correction Factors (Lower Middle Branches):**\r\n    *   **Ignition Angle:** A lookup table (`IP_FAC_COR_IGA_ER_STD_STND`) uses `<EFF_IGA_AV>` (ignition angle) and `<TCO>` (coolant temperature) to provide a correction `P_val`. This `P_val` is then multiplied by signals from the cascaded multiplication path.\r\n    *   **Lambda:** A series of `AND` gates combine `<LV_LAM_LSCL>`, `<LC_LAMB_SWI_ER_CLC>`, and `<LAMB_SP_MV>` to form a logical condition. This condition, along with the maximum value of `<LAMB_LS_UP>`, feeds into a `Check = 0` switch. The output of this switch, along with `<TCO_ST>` (coolant temperature), feeds into another lookup table (`IP_FAC_COR_LAMB_ER_STD_STND`). The `P_val` output from this table also feeds into the cascaded multiplication path.\r\n\r\n4.  **Fuel System & Pressure Logic (Bottom Branch):**\r\n    *   A lookup table (`IP_FAC_LOW_PRS_ER_STD_STND`) uses `<TCO_ST>` (coolant temperature) and an `ID_val` (potentially related to combustion or pressure) to generate an `ID_val` output.\r\n    *   This `ID_val` passes through a series of `AND` gates. These gates also evaluate two conditions:\r\n        *   Is `<FUP>` (fuel pressure) greater than or equal to `<C_FUP_MFF_LOW_PRS_MIN>`?\r\n        *   Is `<FAC_MFF_MPL_INJ_HOM>` (fuel mass flow factor), after passing through a `Check = 0` switch (acting as a conditional pass-through for 0 values), less than `<C_FAC_MFF_MPL_INJ_HOM_MIN>`?\r\n    *   The combined logical result from the `AND` gates, along with a constant `1`, feeds into a `Check = 0` switch.\r\n    *   The output of this switch is then multiplied by the parameter `<C_CRLC_ER_STD_MAX_STND>`. This scaled signal acts as the 'm' input to the final filter.\r\n\r\n5.  **Intermediate Roughness & Final Filtering:**\r\n    *   All contributing paths from steps 1-3 converge into a sequence of cascaded multiplication blocks (V.7.8), which multiply the various base values and correction factors together to produce the intermediate raw standard roughness value: `<ER_STD_MAX_STND>`.\r\n    *   This `<ER_STD_MAX_STND>` signal (labeled 'u') is fed into a filter block (V.7.7).\r\n    *   The output from the 'Fuel System & Pressure Logic' branch (scaled by `<C_CRLC_ER_STD_MAX_STND>`) is fed as the 'm' input to the filter, likely controlling its rate or enabling/disabling its operation based on fuel system conditions.\r\n    *   The previously filtered value, `<ER_STD_MAX_STND_FIL>` (labeled 'x_in'), is fed back into the filter, indicating a first-order lag or similar recursive filtering.\r\n    *   The filter produces the final smoothed output: `<ER_STD_MAX_STND_FIL>`.\r\n\r\nThe entire process ensures that the calculated standard engine roughness adapts dynamically to a wide range of engine operating conditions, combustion characteristics, and fuel system states, providing a robust reference for fuel quality adaptation. The final filter ensures stability and prevents abrupt changes in the standard.\r\n\r\n\r\n--- Page 172 ---\r\n\r\nThe image displays three interconnected Simulink diagrams that collectively describe an engine roughness-based fuel quality adaptation system.\r\n\r\n## Function\r\nThe primary function of this system is to dynamically calculate and output a fuel quality adaptation factor (`<FAC_FQ_ER_AD>`) based on engine roughness, engine operating conditions (like temperature), and internal state counters. It also determines the validity of this calculated adaptation factor (`<FAC_FQ_ER_AD_VLD>`). The system incorporates proportional (P-part) and integral (I-part) components, uses filtered sensor inputs, and applies logical conditions to control the adaptation updates.", "mimetype": "text/plain", "start_char_idx": 599537, "end_char_idx": 603573, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "389b7b31-bef1-457a-8ee8-a4209c8188da": {"__data__": {"id_": "389b7b31-bef1-457a-8ee8-a4209c8188da", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a0c5e714-dd57-46fc-9456-fe9049380f9b", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "7577c677109b642a33886539e948cf91fbab317cb8503019d3262225db4e00d2", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "09d07e01-fecc-4eba-80bc-271f0a547cfe", "node_type": "1", "metadata": {}, "hash": "2c4aca8c15719a09c449a3ce956bb60d07529bc7000a21cbfb82680b913ecb77", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "It also determines the validity of this calculated adaptation factor (`<FAC_FQ_ER_AD_VLD>`). The system incorporates proportional (P-part) and integral (I-part) components, uses filtered sensor inputs, and applies logical conditions to control the adaptation updates.\r\n\r\n## Inputs\r\n*   `<ER_STD_MAX_FIL>`: Filtered maximum engine roughness standard deviation.\r\n*   `<ER_STD_MAX_STND_FIL>`: Filtered standardized maximum engine roughness standard deviation.\r\n*   `<TCO>`: Engine coolant temperature (used for I-part calculation).\r\n*   `<LV_ER_STND_ER_AFU_ACT>`: Logical signal indicating if engine roughness adaptation is currently active.\r\n*   `<LV_DRV1_STND_AFU_FDOUT>`: Logical signal indicating a specific drive condition or fault that might inhibit adaptation.\r\n*   `<FAC_P_FQ_ER_AD>`: The Proportional (P) part of the fuel quality adaptation factor.\r\n*   `<CTR_SEG_DLY_I>`: An internal counter for integral segment delay (acts as a feedback input in Figure 4.16.15).\r\n*   `<CTR_FQ_ER_VLD>`: An internal counter for fuel quality adaptation validity (acts as a feedback input in Figure 4.16.15 and an input in Figure 4.16.17).\r\n*   `<TCO_ST>`: Engine coolant temperature state (used for validity determination, possibly a sampled or conditioned version of `<TCO>`).\r\n\r\n## Outputs\r\n*   `<FAC_I_FQ_ER_AD>`: The Integral (I) part of the fuel quality adaptation factor.\r\n*   `<CTR_SEG_DLY_I>`: The updated internal counter for integral segment delay.\r\n*   `<CTR_FQ_ER_VLD>`: The updated internal counter for fuel quality adaptation validity.\r\n*   `<FAC_FQ_ER_AD>`: The final engine roughness-based fuel quality adaptation value.\r\n*   `<FAC_FQ_ER_AD_VLD>`: The determined validity of the engine roughness-based fuel quality adaptation value.\r\n\r\n## Logic Flow\r\n\r\nThe system operates in three interconnected stages, represented by Figures 4.16.15, 4.16.16, and 4.16.17.\r\n\r\n**Stage 1: I-Part Calculation and Counter Management (Figure 4.16.15)**\r\nThis stage is responsible for calculating the integral part of the adaptation factor and updating internal counters based on engine conditions.\r\n1.  **Roughness and Temperature Input Processing:** The difference between `<ER_STD_MAX_FIL>` and `<ER_STD_MAX_STND_FIL>` is calculated (`x_val`). This `x_val` and the engine coolant temperature `<TCO>` (`y_val`) are fed into a 2D lookup table (`IP_FAC_FQ_ER_AD_INC`). This table outputs a value (`P_val`) that likely represents a requested change or sensitivity for the I-part, based on the current engine roughness state and temperature.\r\n2.  **Adaptation Activation Logic:** A logical condition is evaluated: `<LV_ER_STND_ER_AFU_ACT>` is combined with the inverted (`NOT`) signal of `<LV_DRV1_STND_AFU_FDOUT>` using an `AND` gate. This creates an `adaptation_active_condition` signal, which is true only if roughness adaptation is active AND there are no inhibiting drive conditions or faults.\r\n3.  **I-Part (`<FAC_I_FQ_ER_AD>`) Update:**\r\n    *   The `P_val` from the lookup table is added to the input `<FAC_P_FQ_ER_AD>` (P-part).\r\n    *   This sum is then added to the current value of `<FAC_I_FQ_ER_AD>` (feedback loop).\r\n    *   The resulting value is passed through a conditional block (`Check ~= 0` controlled by `adaptation_active_condition`). If `adaptation_active_condition` is true, the updated sum is passed; otherwise, the previous value of `<FAC_I_FQ_ER_AD>` is maintained or reset, effectively enabling/disabling the integration.\r\n    *   Finally, this value is passed through a limiter (MX/MN block) which caps it between `C_FAC_I_FQ_ER_AD_MAX` and 0. The output of the limiter is the new `<FAC_I_FQ_ER_AD>`.\r\n4.  **Segment Delay Counter (`CTR_SEG_DLY_I`) Update:** The current `<CTR_SEG_DLY_I>` is conditionally updated. It appears to be incremented by 0 or a fixed value (possibly 1) if the `adaptation_active_condition` is true (via the `Check ~= 0` block and summing junction). The result is the new `<CTR_SEG_DLY_I>`.\r\n5.", "mimetype": "text/plain", "start_char_idx": 603306, "end_char_idx": 607238, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "09d07e01-fecc-4eba-80bc-271f0a547cfe": {"__data__": {"id_": "09d07e01-fecc-4eba-80bc-271f0a547cfe", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "389b7b31-bef1-457a-8ee8-a4209c8188da", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "90554adf2593d2fe535e7421e98287bfe8e4c29f7341224ea5719fc04b5185a1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e8e75ed9-4964-4e97-848c-fa181f0f31d3", "node_type": "1", "metadata": {}, "hash": "3f40b68986dd9586670fd05d85916bf76d7676aca3a3fbb842bfb05861bfa623", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "4.  **Segment Delay Counter (`CTR_SEG_DLY_I`) Update:** The current `<CTR_SEG_DLY_I>` is conditionally updated. It appears to be incremented by 0 or a fixed value (possibly 1) if the `adaptation_active_condition` is true (via the `Check ~= 0` block and summing junction). The result is the new `<CTR_SEG_DLY_I>`.\r\n5.  **Validity Counter (`CTR_FQ_ER_VLD`) Update:** The current `<CTR_FQ_ER_VLD>` is also conditionally updated. If `adaptation_active_condition` is true, it is incremented by 1 (via the `Check ~= 0` block and summing junction). Otherwise, it is held or reset. The result is the new `<CTR_FQ_ER_VLD>`.\r\n\r\n**Stage 2: Final Adaptation Value Calculation (Figure 4.16.16)**\r\nThis stage combines the P-part, I-part, and a fixed offset to produce the final adaptation value.\r\n1.  The input P-part (`<FAC_P_FQ_ER_AD>`) and the newly calculated I-part (`<FAC_I_FQ_ER_AD>`) are summed together.\r\n2.  A constant value of `1` (from block V.6.11) is then added to this sum.\r\n3.  The final result of this calculation is the `<FAC_FQ_ER_AD>`.\r\n\r\n**Stage 3: Adaptation Validity Determination (Figure 4.16.17)**\r\nThis stage determines if the calculated adaptation value is considered valid based on engine temperature and the adaptation counter.\r\n1.  The engine coolant temperature state (`<TCO_ST>`) and the updated adaptation validity counter (`<CTR_FQ_ER_VLD>`) are fed as inputs (`x_val` and `y_val`) to a 2D lookup table (`IP_FAC_FQ_ER_AD_VLD`).\r\n2.  This lookup table outputs a value (`P_val`) that represents the `<FAC_FQ_ER_AD_VLD>`, indicating the validity status of the fuel quality adaptation. The validity is mapped based on the provided temperature and counter values.\r\n\r\n\r\n--- Page 173 ---\r\n\r\nThe provided image contains Simulink-style block diagrams.\r\n\r\n## Function\r\nThe diagrams depict parts of an automotive engine control system focused on \"Engine roughness based fuel quality adaptation\" (ALFU).\r\n*   **Figure 4.16.18 & 4.16.19** describe a \"100ms synchronous task\" responsible for the decrementation of a \"P-part\" of the fuel quality error adaptation (`FAC_P_FQ_ER_AD`). This mechanism likely provides a temporary, decaying adjustment to fuel quality based on a detected error.\r\n*   **Figure 4.16.20** illustrates a \"10ms synchronous task\" that determines the overall fuel quality adaptation values (`FAC_FQ` and `FAC_FQ_ST_AD`). This block integrates various engine parameters and adaptation states to continuously adjust fuel quality.\r\n\r\n## Inputs\r\n**For the P-part decrementation (Figures 4.16.18 and 4.16.19):**\r\n*   `FAC_P_FQ_ER_AD`: The current value of the P-part (proportional part) of the fuel quality error adaptation. This is an internal state that is updated.\r\n*   `C_FAC_P_FQ_ER_AD_DEC`: A constant parameter representing the decrement step size for `FAC_P_FQ_ER_AD` per 100ms cycle.\r\n*   `0`: A constant used for clamping the minimum value of `FAC_P_FQ_ER_AD`.\r\n\r\n**For the overall fuel quality adaptation (Figure 4.16.20):**\r\n*   `FAC_FQ_ST_AD`: Fuel quality short-term adaptation value.\r\n*   `TCO_ST`: Standardized engine coolant temperature.\r\n*   `T_AST`: Standardized air charge temperature.\r\n*   `LV_FQ_ST_AD`: Limit or validity value for fuel quality short-term adaptation.\r\n*   `LV_LAM_LSCL`: Limit or validity value for Lambda (air-fuel ratio) closed-loop control.\r\n*   `FAC_FQ_ER_AD`: The P-part value for fuel quality error adaptation (result from the 100ms task).\r\n*   `FAC_FQ_ER_AD_VLD`: Validity flag for `FAC_FQ_ER_AD`.\r\n*   `FAC_FQ_ST_AD_VLD`: Validity flag for `FAC_FQ_ST_AD`.\r\n*   `FAC_FQ_TMP`: A temporary or intermediate fuel quality value.", "mimetype": "text/plain", "start_char_idx": 606922, "end_char_idx": 610512, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "e8e75ed9-4964-4e97-848c-fa181f0f31d3": {"__data__": {"id_": "e8e75ed9-4964-4e97-848c-fa181f0f31d3", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "09d07e01-fecc-4eba-80bc-271f0a547cfe", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "73849757e13f47dceb4d4683e12043d26ad19a669da29f493d3c6d2272dac620", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "03f294ba-6f42-4ffb-8b0d-ddd1a6db253c", "node_type": "1", "metadata": {}, "hash": "5fe37213e3dd4e42e10e757da3b33747813bba8d7b283e588d214994bef7bc6e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `FAC_FQ_ER_AD`: The P-part value for fuel quality error adaptation (result from the 100ms task).\r\n*   `FAC_FQ_ER_AD_VLD`: Validity flag for `FAC_FQ_ER_AD`.\r\n*   `FAC_FQ_ST_AD_VLD`: Validity flag for `FAC_FQ_ST_AD`.\r\n*   `FAC_FQ_TMP`: A temporary or intermediate fuel quality value.\r\n\r\n## Outputs\r\n**From the P-part decrementation (Figures 4.16.18 and 4.16.19):**\r\n*   `opm_2`: The updated and clamped `FAC_P_FQ_ER_AD` value.\r\n*   `FAC_P_FQ_ER_AD`: The decremented P-part value, clamped to be non-negative.\r\n\r\n**From the overall fuel quality adaptation (Figure 4.16.20):**\r\n*   `opm_3`: A bundle of updated adaptation and state variables.\r\n*   `FAC_FQ_ST_AD`: The updated fuel quality short-term adaptation value.\r\n*   `TCO_ST`: (Potentially updated or passed through) standardized engine coolant temperature.\r\n*   `T_AST`: (Potentially updated or passed through) standardized air charge temperature.\r\n*   `LV_FQ_ST_AD`: (Potentially updated or passed through) limit or validity value for fuel quality short-term adaptation.\r\n*   `LV_LAM_LSCL`: (Potentially updated or passed through) limit or validity value for Lambda closed-loop control.\r\n*   `LV_FAC_FQ_END`: A new limit or validity flag for the overall fuel quality adaptation.\r\n*   `FAC_FQ_ER_AD`: (Potentially updated or passed through) P-part value for fuel quality error adaptation.\r\n*   `FAC_FQ_ER_AD_VLD`: (Potentially updated or passed through) validity flag for `FAC_FQ_ER_AD`.\r\n*   `FAC_FQ_ST_AD_VLD`: (Potentially updated or passed through) validity flag for `FAC_FQ_ST_AD`.\r\n*   `FAC_FQ_TMP`: (Potentially updated or passed through) temporary or intermediate fuel quality value.\r\n\r\n## Logic Flow\r\n\r\nThe system operates using two main synchronous tasks:\r\n\r\n**1. 100ms Synchronous Task: P-part Decrementation (Figures 4.16.18 and 4.16.19)**\r\n*   **Activation:** This task, encapsulated by the `FAC_P_DEC` block, is active only when `FAC_P_FQ_ER_AD` (the P-part value) is greater than 0. This implies it's triggered after a \"P-jump\" (an initial positive adjustment) has been applied.\r\n*   **Input Acquisition:** The current value of `FAC_P_FQ_ER_AD` is taken as an input.\r\n*   **Decrementation:** The constant parameter `C_FAC_P_FQ_ER_AD_DEC` is subtracted from the current `FAC_P_FQ_ER_AD` value. This steadily reduces the P-part.\r\n*   **Lower Bound Clamping:** The result of the subtraction is then passed through a `max` block, which ensures the value does not drop below 0. This prevents the P-part from becoming negative.\r\n*   **Update:** The resulting value (decremented and clamped) becomes the new `FAC_P_FQ_ER_AD`, updating the state for subsequent cycles and for use by other functions. This updated value is also explicitly routed to `opm_2`.\r\n\r\n**2. 10ms Synchronous Task: Overall Fuel Quality Adaptation (Figure 4.16.20)**\r\n*   **Input Collection:** The `FAC_FQ` block, representing this task, receives a wide array of input signals. These include various adaptation values (`FAC_FQ_ST_AD`, `FAC_FQ_ER_AD`), engine state variables (`TCO_ST`, `T_AST`), and validity flags (`LV_FQ_ST_AD`, `LV_LAM_LSCL`, `FAC_FQ_ER_AD_VLD`, `FAC_FQ_ST_AD_VLD`). Many of these inputs are also outputs, indicating they are part of the internal state being processed and updated within the block.\r\n*   **Core Adaptation Logic:** Inside the `FAC_FQ` block (whose internal implementation is not shown), the system performs calculations to \"determine the overall fuel quality adaptation values FAC_FQ and FAC_FQ_ST_AD\". This likely involves complex algorithms, potentially including filtering, lookup tables, error integration, and limit checks, to derive the optimal fuel quality adaptation based on the provided inputs and the engine roughness feedback.", "mimetype": "text/plain", "start_char_idx": 610227, "end_char_idx": 613936, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "03f294ba-6f42-4ffb-8b0d-ddd1a6db253c": {"__data__": {"id_": "03f294ba-6f42-4ffb-8b0d-ddd1a6db253c", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e8e75ed9-4964-4e97-848c-fa181f0f31d3", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "1efb495e817bde8df7ca0a8c6c739c0b0f3755f0da255d13114f98984552f6ef", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "cd92c896-c386-4269-9f88-b8137c1274f7", "node_type": "1", "metadata": {}, "hash": "2d7d4f35985d8f1b1a806c6090c2f3534eddab17a697103ad31acf58aa93a76b", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   **Core Adaptation Logic:** Inside the `FAC_FQ` block (whose internal implementation is not shown), the system performs calculations to \"determine the overall fuel quality adaptation values FAC_FQ and FAC_FQ_ST_AD\". This likely involves complex algorithms, potentially including filtering, lookup tables, error integration, and limit checks, to derive the optimal fuel quality adaptation based on the provided inputs and the engine roughness feedback. The `FAC_FQ_ER_AD` from the 100ms task acts as one of the critical inputs here, providing a decaying error-based adjustment.\r\n*   **Output Generation:** The `FAC_FQ` block outputs the updated set of adaptation values and flags. This includes updating `FAC_FQ_ST_AD`, and generating `LV_FAC_FQ_END`, along with potentially passing through or further processing other inputs. These outputs are bundled into `opm_3`, representing the comprehensive adapted state of the fuel quality system.\r\n\r\nIn summary, the system uses a dual-rate approach where a slower task (100ms) manages a transient \"P-jump\" adjustment, and a faster, core task (10ms) integrates this and other real-time data to continuously compute and apply necessary fuel quality adaptations for engine roughness compensation.\r\n\r\n\r\n--- Page 174 ---\r\n\r\nThis image is a Simulink diagram.\r\n\r\n## Function\r\nThe primary function of this Simulink diagram is to calculate and manage the \"Fuel Quality Adaptation\" (FQA) value, denoted as `FAC_FQ`, within an automotive engine control system. It incorporates logic to:\r\n1.  Determine the temporary FQA value (`fac_fq_tmp`) based on various adaptation states (nominal, engine roughness).\r\n2.  Implement a decrement/increment mechanism for the `fac_fq_tmp` based on system conditions and thresholds.\r\n3.  Control the overall enablement and deactivation of the FQA process using a master enable signal (`LC_FAC_FQ_ENA`) and other deactivation conditions (e.g., related to lambda control or validation sums).\r\n4.  Determine when the FQA process has reached its end or a stable state (`<LV_FAC_FQ_END>`) based on time and internal validity criteria.\r\nThis system ensures that the `FAC_FQ` accurately reflects the engine's operational needs related to fuel quality, allowing for closed-loop control adjustments.\r\n\r\n## Inputs\r\nHere is a list of key inputs identified in the diagram:\r\n*   `<FQA_ST_AD_N>`: Fuel Quality Adaptation Status, nominal (Boolean/State).\r\n*   `<LV_FQ_ST_AD>`: Logic Value Fuel Quality Status Adaptation (Boolean).\r\n*   `<FQA_FQ_ER_AD>`: Fuel Quality Adaptation Engine Roughness Active/Determined (Boolean).\r\n*   `<FAC_FQ_TMP>`: Input for the current temporary Fuel Quality Adaptation value (Numeric).\r\n*   `C_FAC_FQ_DEC_TRA`: Constant for FQA decrement threshold during adaptation (Numeric).\r\n*   `<LV_LAM_LSCL>`: Logic Value Lambda Closed Loop Control (Boolean).\r\n*   `LC_FAC_FQ_ENA`: Logic Control Fuel Quality Adaptation Enable (Boolean).\r\n*   `LC_ENA_DEAC_FQ_ER_LSCL`: Logic Control Enable Deactivation FQ_ER based on Lambda Closed Loop (Boolean).\r\n*   `<FQA_ST_AD_VLD>`: Fuel Quality Adaptation Status Adaptation Valid (Boolean).\r\n*   `C_FAC_FQ_VLD_SUM_THD_DEAC`: Constant for FQA validation sum threshold for deactivation (Numeric).\r\n*   `<T_AST>`: Input related to \"Time AST\", possibly a timer or elapsed time (Numeric).\r\n*   `<TCO_ST>`: Input related to \"Time CO Status\", used to index a lookup table (Boolean/State).\r\n*   `C_FAC_FQ_DEC_DEAC`: Constant for FQA decrement value during deactivation (Numeric).\r\n*   `LC_FAC_FQ_T_AST_SWI`: Logic Control FQA Time AST Switch (Boolean).\r\n\r\n## Outputs\r\nHere is a list of key outputs identified in the diagram:\r\n*   `FAC_FQ`: The final calculated Fuel Quality Adaptation value (Numeric).\r\n*   `<LV_FAC_FQ_END>`: Logic Value Fuel Quality End, indicating the completion or stability of the FQA process (Boolean).\r\n\r\n## Logic Flow\r\n\r\nThe diagram can be broken down into several interconnected logical sections:\r\n\r\n1.  **FQA Temporary Value Determination and Latching (`fac_fq_tmp`):**\r\n    *   The `V.6.9` block processes `<FQA_ST_AD_N>` and `<LV_FQ_ST_AD>`.", "mimetype": "text/plain", "start_char_idx": 613482, "end_char_idx": 617556, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "cd92c896-c386-4269-9f88-b8137c1274f7": {"__data__": {"id_": "cd92c896-c386-4269-9f88-b8137c1274f7", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "03f294ba-6f42-4ffb-8b0d-ddd1a6db253c", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "57d20a2f115c49a35721d1ce65ab4873e914930c86a79b0cd65a16e4c1e11214", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "067cdd26-5fd3-42b1-af14-e67825a975af", "node_type": "1", "metadata": {}, "hash": "96dc28c8115c16da8d99281baf3218b4188a2313dbc9f6eb3948d5b9769659e6", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "*   `<LV_FAC_FQ_END>`: Logic Value Fuel Quality End, indicating the completion or stability of the FQA process (Boolean).\r\n\r\n## Logic Flow\r\n\r\nThe diagram can be broken down into several interconnected logical sections:\r\n\r\n1.  **FQA Temporary Value Determination and Latching (`fac_fq_tmp`):**\r\n    *   The `V.6.9` block processes `<FQA_ST_AD_N>` and `<LV_FQ_ST_AD>`. This block likely evaluates a \"stable\" or \"nominal\" FQA adaptation state, potentially involving a latching mechanism (indicated by `x_in`, `y`, `x_out` labels).\r\n    *   The output of `V.6.9` is ORed with `<FQA_FQ_ER_AD>`. This means if either the nominal adaptation is active OR the engine roughness adaptation is active, a condition for updating `fac_fq_tmp` is met.\r\n    *   This combined condition drives a `V.6.8` block (likely a Data Store Write block, indicated by `[fac_fq_tmp]`), which stores an intermediate temporary FQA value. This implies `fac_fq_tmp` is updated or initialized when one of the adaptation methods is active.\r\n\r\n2.  **FQA Value Adjustment (Decrement/Increment Logic for `fac_fq_tmp`):**\r\n    *   The current `fac_fq_tmp` value (read from a data store `V.6.8`) is compared with `C_FAC_FQ_DEC_TRA` using a `V.6.6` block (a relational operator, e.g., greater than).\r\n    *   Separately, `fac_fq_tmp` is fed into a subtraction block `V.7.7` which subtracts `C_FAC_FQ_DEC_DEAC`. This implements a decrement for `fac_fq_tmp`.\r\n    *   The result of this subtraction is then passed to a `max` block with a constant `1`. This ensures `fac_fq_tmp` does not fall below a minimum value of `1`.\r\n    *   This adjusted `fac_fq_tmp` value then passes through a series of `V.6.11` blocks (likely unit delays or memory elements, maintaining the value over time) and `V.6.10` blocks (acting as conditional switches, passing the value based on an enable condition, typically if the condition is `~=0`).\r\n\r\n3.  **FQA Enablement and Deactivation Conditions:**\r\n    *   `LC_FAC_FQ_ENA` is a central control signal. It directly controls multiple `V.6.10` switches. If `LC_FAC_FQ_ENA` is `0`, these switches likely block the flow of `fac_fq_tmp`, effectively deactivating the FQA or setting its value to a default (e.g., `0`, as per the text).\r\n    *   The `NOT <LV_LAM_LSCL>` signal is ANDed with `LC_FAC_FQ_ENA`. This creates a condition where if the lambda closed-loop is NOT active AND FQA is enabled, certain logic paths are activated, possibly leading to modification of `fac_fq_tmp` or triggering deactivation.\r\n    *   `LC_ENA_DEAC_FQ_ER_LSCL` is another enabling/disabling signal specifically for the deactivation of the `FQA_ER` method, interacting with `LC_FAC_FQ_ENA` and `<FQA_FQ_ER_AD>`.\r\n    *   `<FQA_FQ_ER_AD>` and `<FQA_ST_AD_VLD>` are combined with `C_FAC_FQ_VLD_SUM_THD_DEAC` using a `V.6.6` block to form conditions for FQA validity and deactivation. This block checks if a sum or status related to FQA validation has crossed a threshold, indicating `FQA_ER` should end.\r\n\r\n4.  **Final FQA Value Output (`FAC_FQ`):**\r\n    *   The conditionally adjusted `fac_fq_tmp` value (after passing through the decrement, max, and various `V.6.11`/`V.6.10` blocks) is ultimately fed into a `V.6.8` block, which stores or outputs the final `FAC_FQ` value.\r\n\r\n5.  **FQA End Condition (`<LV_FAC_FQ_END>`):**\r\n    *   One path involves a timer: `<T_AST>` is compared to a value obtained from a lookup table `IP_FAC_FQ_T_AST` (block `V.7.11`), which is indexed by `<TCO_ST>`.", "mimetype": "text/plain", "start_char_idx": 617190, "end_char_idx": 620641, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "067cdd26-5fd3-42b1-af14-e67825a975af": {"__data__": {"id_": "067cdd26-5fd3-42b1-af14-e67825a975af", "embedding": null, "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4bb43653-1d02-4891-b3a6-83f8122bd152", "node_type": "4", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "4af78aa122bd80c3f4abafb75f6d898efc083aca91336062efbb9a4d1fbfa739", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "cd92c896-c386-4269-9f88-b8137c1274f7", "node_type": "1", "metadata": {"chapter": "4_ALFU-Alternative_fuel", "document_type": "Diagram Description", "source_filename": "4_ALFU-Alternative_fuel.txt"}, "hash": "a50596d7ceeaa401ee40e3c3261a2938e70f2d7d23ba292ec261d908439ba7aa", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "5.  **FQA End Condition (`<LV_FAC_FQ_END>`):**\r\n    *   One path involves a timer: `<T_AST>` is compared to a value obtained from a lookup table `IP_FAC_FQ_T_AST` (block `V.7.11`), which is indexed by `<TCO_ST>`. This comparison (using `V.6.6`) suggests a time-based criterion for FQA completion.\r\n    *   Another path involves an `AND` gate combining `LC_FAC_FQ_T_AST_SWI` with a signal derived from the FQA validation logic (which includes `<FQA_FQ_ER_AD>`, `<FQA_ST_AD_VLD>`, and `C_FAC_FQ_VLD_SUM_THD_DEAC`). This represents a condition for ending FQA based on its internal validity state and a control switch.\r\n    *   These two paths are combined via an `OR` gate, meaning that if either the time-based condition OR the validity/switch-based condition is met, the `<LV_FAC_FQ_END>` signal becomes active, indicating the FQA process has concluded or is stable.", "mimetype": "text/plain", "start_char_idx": 620429, "end_char_idx": 621294, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}}}